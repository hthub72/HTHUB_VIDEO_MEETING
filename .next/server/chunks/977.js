exports.id=977,exports.ids=[977],exports.modules={53640:e=>{e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875"}},89178:(e,t,r)=>{"use strict";r.d(t,{vn:()=>rS,a7:()=>rp,qI:()=>rf,El:()=>tq,Gp:()=>ri,_L:()=>K,Kb:()=>rs,X1:()=>D,KM:()=>r_,Bg:()=>ra,A:()=>rr,Li:()=>rn,Cv:()=>rm,gM:()=>rw,yB:()=>rb,N1:()=>rg,C2:()=>ry,sO:()=>rv,cL:()=>t8,$d:()=>rP,qu:()=>rN,AM:()=>rI,Mo:()=>t4,gX:()=>rO,CH:()=>rd,tj:()=>rh,l8:()=>t9,Iw:()=>t7,_E:()=>t0,CJ:()=>rC,Gi:()=>rk,kD:()=>N,G1:()=>M,sZ:()=>I,V9:()=>L,ZC:()=>j,aC:()=>ru,ll:()=>rU,E2:()=>rq,jS:()=>rK,o8:()=>tC,eW:()=>tT,qi:()=>tP,kP:()=>rB,xo:()=>rD,zq:()=>rL,QS:()=>rM,aF:()=>rj,r0:()=>tZ,NA:()=>rE,ns:()=>rx});var i,n,a,s,o,l,c,u,d,h,p,f={};r.r(f),r.d(f,{SWRConfig:()=>ti,default:()=>tn,mutate:()=>eZ,preload:()=>e5,unstable_serialize:()=>te,useSWRConfig:()=>e6}),r(36324);var m=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e,g="pk_live_";function y(e){if(!v(e=e||""))return null;let t=e.startsWith(g)?"production":"development",r=m(e.split("_")[2]);return r.endsWith("$")?{instanceType:t,frontendApi:r=r.slice(0,-1)}:null}function v(e){let t=(e=e||"").startsWith(g)||e.startsWith("pk_test_"),r=m(e.split("_")[2]||"").endsWith("$");return t&&r}var b=Object.defineProperty,w=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,x=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of S(t))_.call(e,n)||n===r||b(e,n,{get:()=>t[n],enumerable:!(i=w(t,n))||i.enumerable});return e},k=r(3729),E=r.n(k),C=()=>!1,R=()=>!1,A=()=>{try{return!0}catch(e){}return!1},T=new Set,P=(e,t,r)=>{let i=R()||A(),n=null!=r?r:e;T.has(n)||i||(T.add(n),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},O=(e,t,r,i)=>{let n=e[t];Object.defineProperty(e,t,{get:()=>(P(t,r,i),n),set(e){n=e}})};function I(e){return N(e)||j(e)||"clerkRuntimeError"in e}function N(e){return"clerkError"in e}function j(e){return"code"in e&&[4001,32602,32603].includes(e.code)&&"message"in e}var B=class e extends Error{constructor(t){super(t),this.code=t,Object.setPrototypeOf(this,e.prototype),P("MagicLinkError","Use `EmailLinkError` instead.")}},U=class e extends Error{constructor(t){super(t),this.code=t,Object.setPrototypeOf(this,e.prototype)}};function L(e){return P("isMagicLinkError","Use `isEmailLinkError` instead."),e instanceof B}function M(e){return e instanceof U}var D=new Proxy({Expired:"expired",Failed:"failed"},{get:(e,t,r)=>(P("MagicLinkErrorCode","Use `EmailLinkErrorCode` instead."),Reflect.get(e,t,r))}),K={Expired:"expired",Failed:"failed"},q=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."});let $="Clerk: Child of WithClerk must be a function.",F=e=>`Clerk: You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,z="Clerk: Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",V=e=>`Clerk: <${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored.`,H=e=>`Clerk: Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,W=e=>`Clerk: Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,G=function({packageName:e,customMessages:t}){let r=e,i={...q,...t};function n(e,t){if(!t)return`${r}: ${e}`;let i=e;for(let r of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[r[1]]||"").toString();i=i.replace(`{{${r[1]}}}`,e)}return`${r}: ${i}`}return{setPackageName({packageName:e}){return"string"==typeof e&&(r=e),this},setMessages({customMessages:e}){return Object.assign(i,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(n(i.InvalidPublishableKeyErrorMessage,e))},throwInvalidFrontendApiError(e){throw Error(n(i.InvalidFrontendApiErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(n(i.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(n(i.MissingPublishableKeyErrorMessage))}}}({packageName:"@clerk/react"}),J=new Map;var Y=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},X=(e,t,r)=>(Y(e,t,"read from private field"),r?r.call(e):t.get(e)),Q=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Z=(e,t,r,i)=>(Y(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),ee=(e,t,r)=>(Y(e,t,"access private method"),r);function et(){return"undefined"!=typeof window}function er(e,t,r){return"function"==typeof e?e(t):void 0!==e?e:void 0!==r?r:void 0}async function ei(e="",t){let{async:r,defer:i,beforeLoad:n,crossOrigin:a}=t||{};return new Promise((t,s)=>{e||s("loadScript cannot be called without a src"),document&&document.body||s("loadScript cannot be called when document does not exist");let o=document.createElement("script");a&&o.setAttribute("crossorigin",a),o.async=r||!1,o.defer=i||!1,o.addEventListener("load",()=>{o.remove(),t(o)}),o.addEventListener("error",()=>{o.remove(),s()}),o.src=e,null==n||n(o),document.body.appendChild(o)})}function en(e){return e.startsWith("/")}RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");let{isDevOrStagingUrl:ea}=function(){let e=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],t=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;let i="string"==typeof r?r:r.hostname,n=t.get(i);return void 0===n&&(n=e.some(e=>i.endsWith(e)),t.set(i,n)),n}}}(),es=e=>{if(e)return e;let t=eo("4.32.2");return t?"snapshot"===t?"4.73.3":t:el("4.32.2")},eo=e=>{var t;return null==(t=e.match(/-(.*)\./))?void 0:t[1]},el=e=>e.split(".")[0],ec=e=>{let{frontendApi:t,publishableKey:r}=e;return r||t||G.throwMissingPublishableKeyError(),ei(eu(e),{async:!0,crossOrigin:"anonymous",beforeLoad:ed(e)}).catch(()=>{throw Error("Clerk: Failed to load Clerk")})},eu=e=>{var t,r;let{clerkJSUrl:i,clerkJSVariant:n,clerkJSVersion:a,proxyUrl:s,domain:o,publishableKey:l,frontendApi:c}=e;if(i)return i;let u="";u=s&&function(e){return!e||/^http(s)?:\/\//.test(e||"")||en(e)}(s)?(function(e){return e?en(e)?new URL(e,window.location.origin).toString():e:""})(s).replace(/http(s)?:\/\//,""):o&&!ea((null==(t=y(l))?void 0:t.frontendApi)||c||"")?function(e){let t;if(!e)return"";if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}let r=e.replace(t,"");return`clerk.${r}`}(o):(null==(r=y(l))?void 0:r.frontendApi)||c||"";let d=n?`${n.replace(/\.+$/,"")}.`:"",h=es(a);return`https://${u}/npm/@clerk/clerk-js@${h}/dist/clerk.${d}browser.js`},ed=e=>t=>{let{publishableKey:r,frontendApi:i,proxyUrl:n,domain:a}=e;r?t.setAttribute("data-clerk-publishable-key",r):i&&t.setAttribute("data-clerk-frontend-api",i),n&&t.setAttribute("data-clerk-proxy-url",n),a&&t.setAttribute("data-clerk-domain",a)},eh=class e{constructor(e){Q(this,h),this.clerkjs=null,this.preopenOneTap=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.loadedListeners=[],Q(this,s,!1),Q(this,o,void 0),Q(this,l,void 0),Q(this,c,void 0),Q(this,u,void 0),this.isReady=()=>{var e;return!!(null==(e=this.clerkjs)?void 0:e.isReady())},this.buildSignInUrl=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildSignInUrl(e))||""};if(this.clerkjs&&X(this,s))return t();this.premountMethodCalls.set("buildSignInUrl",t)},this.buildSignUpUrl=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildSignUpUrl(e))||""};if(this.clerkjs&&X(this,s))return t();this.premountMethodCalls.set("buildSignUpUrl",t)},this.buildUserProfileUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildUserProfileUrl())||""};if(this.clerkjs&&X(this,s))return e();this.premountMethodCalls.set("buildUserProfileUrl",e)},this.buildCreateOrganizationUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildCreateOrganizationUrl())||""};if(this.clerkjs&&X(this,s))return e();this.premountMethodCalls.set("buildCreateOrganizationUrl",e)},this.buildOrganizationProfileUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildOrganizationProfileUrl())||""};if(this.clerkjs&&X(this,s))return e();this.premountMethodCalls.set("buildOrganizationProfileUrl",e)},this.buildHomeUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildHomeUrl())||""};if(this.clerkjs&&X(this,s))return e();this.premountMethodCalls.set("buildHomeUrl",e)},this.buildUrlWithAuth=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildUrlWithAuth(e))||""};if(this.clerkjs&&X(this,s))return t();this.premountMethodCalls.set("buildUrlWithAuth",t)},this.handleUnauthenticated=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.handleUnauthenticated()};this.clerkjs&&X(this,s)?e():this.premountMethodCalls.set("handleUnauthenticated",e)},this.addOnLoaded=e=>{this.loadedListeners.push(e),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(e=>e()),this.loadedListeners=[]},this.hydrateClerkJS=e=>{if(!e)throw Error("Failed to hydrate latest Clerk JS");return this.clerkjs=e,this.premountMethodCalls.forEach(e=>e()),null!==this.preopenSignIn&&e.openSignIn(this.preopenSignIn),null!==this.preopenSignUp&&e.openSignUp(this.preopenSignUp),null!==this.preopenUserProfile&&e.openUserProfile(this.preopenUserProfile),null!==this.preopenOneTap&&e.openGoogleOneTap(this.preopenOneTap),null!==this.preopenOrganizationProfile&&e.openOrganizationProfile(this.preopenOrganizationProfile),null!==this.preopenCreateOrganization&&e.openCreateOrganization(this.preopenCreateOrganization),this.premountSignInNodes.forEach((t,r)=>{e.mountSignIn(r,t)}),this.premountSignUpNodes.forEach((t,r)=>{e.mountSignUp(r,t)}),this.premountUserProfileNodes.forEach((t,r)=>{e.mountUserProfile(r,t)}),this.premountUserButtonNodes.forEach((t,r)=>{e.mountUserButton(r,t)}),this.premountOrganizationListNodes.forEach((t,r)=>{e.mountOrganizationList(r,t)}),Z(this,s,!0),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=e=>{this.clerkjs&&"__unstable__updateProps"in this.clerkjs&&this.clerkjs.__unstable__updateProps(e)},this.setActive=({session:e,organization:t,beforeEmit:r})=>this.clerkjs?this.clerkjs.setActive({session:e,organization:t,beforeEmit:r}):Promise.reject(),this.setSession=(e,t)=>(P("setSession","Use `Clerk.setActive` instead"),this.setActive({session:e,beforeEmit:t})),this.openSignIn=e=>{this.clerkjs&&X(this,s)?this.clerkjs.openSignIn(e):this.preopenSignIn=e},this.closeSignIn=()=>{this.clerkjs&&X(this,s)?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.openGoogleOneTap=e=>{this.clerkjs&&X(this,s)?this.clerkjs.openGoogleOneTap(e):this.preopenOneTap=e},this.closeGoogleOneTap=()=>{this.clerkjs&&X(this,s)?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=e=>{this.clerkjs&&X(this,s)?this.clerkjs.openUserProfile(e):this.preopenUserProfile=e},this.closeUserProfile=()=>{this.clerkjs&&X(this,s)?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=e=>{this.clerkjs&&X(this,s)?this.clerkjs.openOrganizationProfile(e):this.preopenOrganizationProfile=e},this.closeOrganizationProfile=()=>{this.clerkjs&&X(this,s)?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=e=>{this.clerkjs&&X(this,s)?this.clerkjs.openCreateOrganization(e):this.preopenCreateOrganization=e},this.closeCreateOrganization=()=>{this.clerkjs&&X(this,s)?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openSignUp=e=>{this.clerkjs&&X(this,s)?this.clerkjs.openSignUp(e):this.preopenSignUp=e},this.closeSignUp=()=>{this.clerkjs&&X(this,s)?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(e,t)=>{this.clerkjs&&X(this,s)?this.clerkjs.mountSignIn(e,t):this.premountSignInNodes.set(e,t)},this.unmountSignIn=e=>{this.clerkjs&&X(this,s)?this.clerkjs.unmountSignIn(e):this.premountSignInNodes.delete(e)},this.mountSignUp=(e,t)=>{this.clerkjs&&X(this,s)?this.clerkjs.mountSignUp(e,t):this.premountSignUpNodes.set(e,t)},this.unmountSignUp=e=>{this.clerkjs&&X(this,s)?this.clerkjs.unmountSignUp(e):this.premountSignUpNodes.delete(e)},this.mountUserProfile=(e,t)=>{this.clerkjs&&X(this,s)?this.clerkjs.mountUserProfile(e,t):this.premountUserProfileNodes.set(e,t)},this.unmountUserProfile=e=>{this.clerkjs&&X(this,s)?this.clerkjs.unmountUserProfile(e):this.premountUserProfileNodes.delete(e)},this.mountOrganizationProfile=(e,t)=>{this.clerkjs&&X(this,s)?this.clerkjs.mountOrganizationProfile(e,t):this.premountOrganizationProfileNodes.set(e,t)},this.unmountOrganizationProfile=e=>{this.clerkjs&&X(this,s)?this.clerkjs.unmountOrganizationProfile(e):this.premountOrganizationProfileNodes.delete(e)},this.mountCreateOrganization=(e,t)=>{this.clerkjs&&X(this,s)?this.clerkjs.mountCreateOrganization(e,t):this.premountCreateOrganizationNodes.set(e,t)},this.unmountCreateOrganization=e=>{this.clerkjs&&X(this,s)?this.clerkjs.unmountCreateOrganization(e):this.premountCreateOrganizationNodes.delete(e)},this.mountOrganizationSwitcher=(e,t)=>{this.clerkjs&&X(this,s)?this.clerkjs.mountOrganizationSwitcher(e,t):this.premountOrganizationSwitcherNodes.set(e,t)},this.unmountOrganizationSwitcher=e=>{this.clerkjs&&X(this,s)?this.clerkjs.unmountOrganizationSwitcher(e):this.premountOrganizationSwitcherNodes.delete(e)},this.mountOrganizationList=(e,t)=>{this.clerkjs&&X(this,s)?this.clerkjs.mountOrganizationList(e,t):this.premountOrganizationListNodes.set(e,t)},this.unmountOrganizationList=e=>{this.clerkjs&&X(this,s)?this.clerkjs.unmountOrganizationList(e):this.premountOrganizationListNodes.delete(e)},this.mountUserButton=(e,t)=>{this.clerkjs&&X(this,s)?this.clerkjs.mountUserButton(e,t):this.premountUserButtonNodes.set(e,t)},this.unmountUserButton=e=>{this.clerkjs&&X(this,s)?this.clerkjs.unmountUserButton(e):this.premountUserButtonNodes.delete(e)},this.addListener=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.addListener(e)};return this.clerkjs?t():(this.premountMethodCalls.set("addListener",t),()=>this.premountMethodCalls.delete("addListener"))},this.navigate=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.navigate(e)};this.clerkjs&&X(this,s)?t():this.premountMethodCalls.set("navigate",t)},this.redirectWithAuth=(...e)=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectWithAuth(...e)};this.clerkjs&&X(this,s)?t():this.premountMethodCalls.set("redirectWithAuth",t)},this.redirectToSignIn=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectToSignIn(e)};this.clerkjs&&X(this,s)?t():this.premountMethodCalls.set("redirectToSignIn",t)},this.redirectToSignUp=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectToSignUp(e)};this.clerkjs&&X(this,s)?t():this.premountMethodCalls.set("redirectToSignUp",t)},this.redirectToUserProfile=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToUserProfile()};this.clerkjs&&X(this,s)?e():this.premountMethodCalls.set("redirectToUserProfile",e)},this.redirectToHome=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToHome()};this.clerkjs&&X(this,s)?e():this.premountMethodCalls.set("redirectToHome",e)},this.redirectToOrganizationProfile=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToOrganizationProfile()};this.clerkjs&&X(this,s)?e():this.premountMethodCalls.set("redirectToOrganizationProfile",e)},this.redirectToCreateOrganization=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToCreateOrganization()};this.clerkjs&&X(this,s)?e():this.premountMethodCalls.set("redirectToCreateOrganization",e)},this.handleRedirectCallback=e=>{var t;let r=()=>{var t;return null==(t=this.clerkjs)?void 0:t.handleRedirectCallback(e)};this.clerkjs&&X(this,s)?null==(t=r())||t.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",r)},this.handleMagicLinkVerification=async e=>{P("handleMagicLinkVerification","Use `handleEmailLinkVerification` instead.");let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.handleMagicLinkVerification(e)};if(this.clerkjs&&X(this,s))return t();this.premountMethodCalls.set("handleMagicLinkVerification",t)},this.handleGoogleOneTapCallback=(e,t)=>{var r;let i=()=>{var r;return null==(r=this.clerkjs)?void 0:r.handleGoogleOneTapCallback(e,t)};this.clerkjs&&X(this,s)?null==(r=i())||r.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",i)},this.handleEmailLinkVerification=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.handleEmailLinkVerification(e)};if(this.clerkjs&&X(this,s))return t();this.premountMethodCalls.set("handleEmailLinkVerification",t)},this.authenticateWithMetamask=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.authenticateWithMetamask(e)};if(this.clerkjs&&X(this,s))return t();this.premountMethodCalls.set("authenticateWithMetamask",t)},this.authenticateWithGoogleOneTap=async e=>(await ee(this,h,p).call(this)).authenticateWithGoogleOneTap(e),this.createOrganization=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.createOrganization(e)};if(this.clerkjs&&X(this,s))return t();this.premountMethodCalls.set("createOrganization",t)},this.getOrganizationMemberships=async()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.getOrganizationMemberships()};if(this.clerkjs&&X(this,s))return e();this.premountMethodCalls.set("getOrganizationMemberships",e)},this.getOrganization=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.getOrganization(e)};if(this.clerkjs&&X(this,s))return t();this.premountMethodCalls.set("getOrganization",t)},this.signOut=async(e,t)=>{let r=()=>{var r;return null==(r=this.clerkjs)?void 0:r.signOut(e,t)};if(this.clerkjs&&X(this,s))return r();this.premountMethodCalls.set("signOut",r)};let{Clerk:t=null,frontendApi:r,publishableKey:i}=e||{};Z(this,c,r),Z(this,u,i),Z(this,l,null==e?void 0:e.proxyUrl),Z(this,o,null==e?void 0:e.domain),this.options=e,this.Clerk=t,this.mode=et()?"browser":"server",this.loadClerkJS()}get publishableKey(){return X(this,u)}get loaded(){return X(this,s)}static getOrCreateInstance(t){return et()&&X(this,d)&&(!t.Clerk||X(this,d).Clerk===t.Clerk)||Z(this,d,new e(t)),X(this,d)}static clearInstance(){Z(this,d,null)}get domain(){if("undefined"!=typeof window&&window.location)return er(X(this,o),new URL(window.location.href),"");if("function"==typeof X(this,o))throw Error(z);return X(this,o)||""}get proxyUrl(){if("undefined"!=typeof window&&window.location)return er(X(this,l),new URL(window.location.href),"");if("function"==typeof X(this,l))throw Error(z);return X(this,l)||""}get sdkMetadata(){var e;return(null==(e=this.clerkjs)?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return null==(e=this.clerkjs)?void 0:e.instanceType}get frontendApi(){var e;return(null==(e=this.clerkjs)?void 0:e.frontendApi)||X(this,c)||""}get isStandardBrowser(){var e;return(null==(e=this.clerkjs)?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){if("undefined"!=typeof window&&window.location)return er(this.options.isSatellite,new URL(window.location.href),!1);if("function"==typeof this.options.isSatellite)throw Error(z);return!1}async loadClerkJS(){var e,t,r,i;if(!("browser"!==this.mode||X(this,s))){"undefined"!=typeof window&&(window.__clerk_frontend_api=this.frontendApi,window.__clerk_publishable_key=this.publishableKey,window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let e;(i=this.Clerk,"function"==typeof i)?(e=new this.Clerk(this.publishableKey||this.frontendApi||"",{proxyUrl:this.proxyUrl,domain:this.domain}),await e.load(this.options)):(e=this.Clerk).isReady()||await e.load(this.options),global.Clerk=e}else{if(global.Clerk||await ec({...this.options,frontendApi:this.frontendApi,publishableKey:this.publishableKey,proxyUrl:this.proxyUrl,domain:this.domain}),!global.Clerk)throw Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await global.Clerk.load(this.options)}if(global.Clerk.sdkMetadata=null!=(e=this.options.sdkMetadata)?e:{name:"@clerk/clerk-react",version:"4.32.2"},(null==(t=global.Clerk)?void 0:t.loaded)||(null==(r=global.Clerk)?void 0:r.isReady()))return this.hydrateClerkJS(global.Clerk);return}catch(e){console.error(e.stack||e.message||e);return}}}get version(){var e;return null==(e=this.clerkjs)?void 0:e.version}get client(){return this.clerkjs?this.clerkjs.client:void 0}get session(){return this.clerkjs?this.clerkjs.session:void 0}get user(){return this.clerkjs?this.clerkjs.user:void 0}get organization(){return this.clerkjs?this.clerkjs.organization:void 0}get __unstable__environment(){return this.clerkjs?this.clerkjs.__unstable__environment:void 0}__unstable__setEnvironment(...e){this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs&&this.clerkjs.__unstable__setEnvironment(e)}};s=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakSet,p=function(){return new Promise(e=>{X(this,s)&&e(this.clerkjs),this.addOnLoaded(()=>e(this.clerkjs))})},Q(eh,d,void 0);let ep=(e,t,r)=>!e&&r?ef(r):em(t),ef=e=>{let t=e.userId,r=e.user,i=e.sessionId,n=e.session,a=e.organization,s=e.orgId,o=e.orgRole;return{userId:t,user:r,sessionId:i,session:n,organization:a,orgId:s,orgRole:o,orgPermissions:e.orgPermissions,orgSlug:e.orgSlug,actor:e.actor,lastOrganizationInvitation:null,lastOrganizationMember:null}},em=e=>{var t;let r=e.user?e.user.id:e.user,i=e.user,n=e.session?e.session.id:e.session,a=e.session,s=null==a?void 0:a.actor,o=e.organization,l=e.organization?e.organization.id:e.organization,c=null==o?void 0:o.slug,u=o?null==(t=null==i?void 0:i.organizationMemberships)?void 0:t.find(e=>e.organization.id===l):o,d=u?u.permissions:u;return{userId:r,user:i,sessionId:n,session:a,organization:o,orgId:l,orgRole:u?u.role:u,orgSlug:c,orgPermissions:d,actor:s,lastOrganizationInvitation:e.lastOrganizationInvitation,lastOrganizationMember:e.lastOrganizationMember}};var eg=r(8145);let ey=()=>{},ev=ey(),eb=Object,ew=e=>e===ev,eS=e=>"function"==typeof e,e_=(e,t)=>({...e,...t}),ex=e=>eS(e.then),ek=new WeakMap,eE=0,eC=e=>{let t,r;let i=typeof e,n=e&&e.constructor,a=n==Date;if(eb(e)!==e||a||n==RegExp)t=a?e.toJSON():"symbol"==i?e.toString():"string"==i?JSON.stringify(e):""+e;else{if(t=ek.get(e))return t;if(t=++eE+"~",ek.set(e,t),n==Array){for(r=0,t="@";r<e.length;r++)t+=eC(e[r])+",";ek.set(e,t)}if(n==eb){t="#";let i=eb.keys(e).sort();for(;!ew(r=i.pop());)ew(e[r])||(t+=r+":"+eC(e[r])+",");ek.set(e,t)}}return t},eR=new WeakMap,eA={},eT={},eP="undefined",eO=typeof window!=eP,eI=typeof document!=eP,eN=()=>eO&&typeof window.requestAnimationFrame!=eP,ej=(e,t)=>{let r=eR.get(e);return[()=>!ew(t)&&e.get(t)||eA,i=>{if(!ew(t)){let n=e.get(t);t in eT||(eT[t]=n),r[5](t,e_(n,i),n||eA)}},r[6],()=>!ew(t)&&t in eT?eT[t]:!ew(t)&&e.get(t)||eA]},eB=!0,[eU,eL]=eO&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ey,ey],eM={initFocus:e=>(eI&&document.addEventListener("visibilitychange",e),eU("focus",e),()=>{eI&&document.removeEventListener("visibilitychange",e),eL("focus",e)}),initReconnect:e=>{let t=()=>{eB=!0,e()},r=()=>{eB=!1};return eU("online",t),eU("offline",r),()=>{eL("online",t),eL("offline",r)}}},eD=!k.useId,eK=!eO||"Deno"in window,eq=e=>eN()?window.requestAnimationFrame(e):setTimeout(e,1),e$=eK?k.useEffect:k.useLayoutEffect,eF="undefined"!=typeof navigator&&navigator.connection,ez=!eK&&eF&&(["slow-2g","2g"].includes(eF.effectiveType)||eF.saveData),eV=e=>{if(eS(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?eC(e):"",t]},eH=0,eW=()=>++eH;var eG={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function eJ(...e){let[t,r,i,n]=e,a=e_({populateCache:!0,throwOnError:!0},"boolean"==typeof n?{revalidate:n}:n||{}),s=a.populateCache,o=a.rollbackOnError,l=a.optimisticData,c=!1!==a.revalidate,u=e=>"function"==typeof o?o(e):!1!==o,d=a.throwOnError;if(eS(r)){let e=[];for(let i of t.keys())!/^\$(inf|sub)\$/.test(i)&&r(t.get(i)._k)&&e.push(i);return Promise.all(e.map(h))}return h(r);async function h(r){let n;let[a]=eV(r);if(!a)return;let[o,h]=ej(t,a),[p,f,m,g]=eR.get(t),y=p[a],v=()=>c&&(delete m[a],delete g[a],y&&y[0])?y[0](2).then(()=>o().data):o().data;if(e.length<3)return v();let b=i,w=eW();f[a]=[w,0];let S=!ew(l),_=o(),x=_.data,k=_._c,E=ew(k)?x:k;if(S&&h({data:l=eS(l)?l(E,x):l,_c:E}),eS(b))try{b=b(E)}catch(e){n=e}if(b&&ex(b)){if(b=await b.catch(e=>{n=e}),w!==f[a][0]){if(n)throw n;return b}n&&S&&u(n)&&(s=!0,h({data:b=E,_c:ev}))}s&&!n&&(eS(s)&&(b=s(b,E)),h({data:b,error:ev,_c:ev})),f[a][1]=eW();let C=await v();if(h({_c:ev}),n){if(d)throw n;return}return s?C:b}}let eY=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},eX=(e,t)=>{if(!eR.has(e)){let r=e_(eM,t),i={},n=eJ.bind(ev,e),a=ey,s={},o=(e,t)=>{let r=s[e]||[];return s[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},l=(t,r,i)=>{e.set(t,r);let n=s[t];if(n)for(let e of n)e(r,i)},c=()=>{if(!eR.has(e)&&(eR.set(e,[i,{},{},{},n,l,o]),!eK)){let t=r.initFocus(setTimeout.bind(ev,eY.bind(ev,i,0))),n=r.initReconnect(setTimeout.bind(ev,eY.bind(ev,i,1)));a=()=>{t&&t(),n&&n(),eR.delete(e)}}};return c(),[e,n,c,a]}return[e,eR.get(e)[4]]},[eQ,eZ]=eX(new Map),e0=e_({onLoadingSlow:ey,onSuccess:ey,onError:ey,onErrorRetry:(e,t,r,i,n)=>{let a=r.errorRetryCount,s=n.retryCount,o=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;(ew(a)||!(s>a))&&setTimeout(i,o,n)},onDiscarded:ey,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ez?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:ez?5e3:3e3,compare:(e,t)=>eC(e)==eC(t),isPaused:()=>!1,cache:eQ,mutate:eZ,fallback:{}},{isOnline:()=>eB,isVisible:()=>{let e=eI&&document.visibilityState;return ew(e)||"hidden"!==e}}),e1=(e,t)=>{let r=e_(e,t);if(t){let{use:i,fallback:n}=e,{use:a,fallback:s}=t;i&&a&&(r.use=i.concat(a)),n&&s&&(r.fallback=e_(n,s))}return r},e2=(0,k.createContext)({}),e3=eO&&window.__SWR_DEVTOOLS_USE__,e8=e3?window.__SWR_DEVTOOLS_USE__:[],e4=e=>eS(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],e6=()=>e_(e0,(0,k.useContext)(e2)),e5=(e,t)=>{let[r,i]=eV(e),[,,,n]=eR.get(eQ);if(n[r])return n[r];let a=t(i);return n[r]=a,a},e7=e8.concat(e=>(t,r,i)=>{let n=r&&((...e)=>{let[i]=eV(t),[,,,n]=eR.get(eQ),a=n[i];return ew(a)?r(...e):(delete n[i],a)});return e(t,n,i)}),e9=(e,t,r)=>{let i=t[e]||(t[e]=[]);return i.push(r),()=>{let e=i.indexOf(r);e>=0&&(i[e]=i[i.length-1],i.pop())}};e3&&(window.__SWR_DEVTOOLS_REACT__=k);let te=e=>eV(e)[0],tt=k.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),tr={dedupe:!0},ti=eb.defineProperty(e=>{let{value:t}=e,r=(0,k.useContext)(e2),i=eS(t),n=(0,k.useMemo)(()=>i?t(r):t,[i,r,t]),a=(0,k.useMemo)(()=>i?n:e1(r,n),[i,r,n]),s=n&&n.provider,o=(0,k.useRef)(ev);s&&!o.current&&(o.current=eX(s(a.cache||eQ),n));let l=o.current;return l&&(a.cache=l[0],a.mutate=l[1]),e$(()=>{if(l)return l[2]&&l[2](),l[3]},[]),(0,k.createElement)(e2.Provider,e_(e,{value:a}))},"defaultValue",{value:e0}),tn=(i=(e,t,r)=>{let{cache:i,compare:n,suspense:a,fallbackData:s,revalidateOnMount:o,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=r,[p,f,m,g]=eR.get(i),[y,v]=eV(e),b=(0,k.useRef)(!1),w=(0,k.useRef)(!1),S=(0,k.useRef)(y),_=(0,k.useRef)(t),x=(0,k.useRef)(r),E=()=>x.current,C=()=>E().isVisible()&&E().isOnline(),[R,A,T,P]=ej(i,y),O=(0,k.useRef)({}).current,I=ew(s)?r.fallback[y]:s,N=(e,t)=>{for(let r in O)if("data"===r){if(!n(e[r],t[r])&&(!ew(e[r])||!n($,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},j=(0,k.useMemo)(()=>{let e=!!y&&!!t&&(ew(o)?!E().isPaused()&&!a&&(!!ew(l)||l):o),r=t=>{let r=e_(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},i=R(),n=P(),s=r(i),c=i===n?s:r(n),u=s;return[()=>{let e=r(R());return N(e,u)?(u.data=e.data,u.isLoading=e.isLoading,u.isValidating=e.isValidating,u.error=e.error,u):(u=e,e)},()=>c]},[i,y]),B=(0,eg.useSyncExternalStore)((0,k.useCallback)(e=>T(y,(t,r)=>{N(r,t)||e()}),[i,y]),j[0],j[1]),U=!b.current,L=p[y]&&p[y].length>0,M=B.data,D=ew(M)?I:M,K=B.error,q=(0,k.useRef)(D),$=h?ew(M)?q.current:M:D,F=(!L||!!ew(K))&&(U&&!ew(o)?o:!E().isPaused()&&(a?!ew(D)&&l:ew(D)||l)),z=!!(y&&t&&U&&F),V=ew(B.isValidating)?z:B.isValidating,H=ew(B.isLoading)?z:B.isLoading,W=(0,k.useCallback)(async e=>{let t,i;let a=_.current;if(!y||!a||w.current||E().isPaused())return!1;let s=!0,o=e||{},l=!m[y]||!o.dedupe,c=()=>eD?!w.current&&y===S.current&&b.current:y===S.current,u={isValidating:!1,isLoading:!1},d=()=>{A(u)},h=()=>{let e=m[y];e&&e[1]===i&&delete m[y]},g={isValidating:!0};ew(R().data)&&(g.isLoading=!0);try{if(l&&(A(g),r.loadingTimeout&&ew(R().data)&&setTimeout(()=>{s&&c()&&E().onLoadingSlow(y,r)},r.loadingTimeout),m[y]=[a(v),eW()]),[t,i]=m[y],t=await t,l&&setTimeout(h,r.dedupingInterval),!m[y]||m[y][1]!==i)return l&&c()&&E().onDiscarded(y),!1;u.error=ev;let e=f[y];if(!ew(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return d(),l&&c()&&E().onDiscarded(y),!1;let o=R().data;u.data=n(o,t)?o:t,l&&c()&&E().onSuccess(t,y,r)}catch(r){h();let e=E(),{shouldRetryOnError:t}=e;!e.isPaused()&&(u.error=r,l&&c()&&(e.onError(r,y,e),(!0===t||eS(t)&&t(r))&&C()&&e.onErrorRetry(r,y,e,e=>{let t=p[y];t&&t[0]&&t[0](eG.ERROR_REVALIDATE_EVENT,e)},{retryCount:(o.retryCount||0)+1,dedupe:!0})))}return s=!1,d(),!0},[y,i]),G=(0,k.useCallback)((...e)=>eJ(i,S.current,...e),[]);if(e$(()=>{_.current=t,x.current=r,ew(M)||(q.current=M)}),e$(()=>{if(!y)return;let e=W.bind(ev,tr),t=0,r=e9(y,p,(r,i={})=>{if(r==eG.FOCUS_EVENT){let r=Date.now();E().revalidateOnFocus&&r>t&&C()&&(t=r+E().focusThrottleInterval,e())}else if(r==eG.RECONNECT_EVENT)E().revalidateOnReconnect&&C()&&e();else if(r==eG.MUTATE_EVENT)return W();else if(r==eG.ERROR_REVALIDATE_EVENT)return W(i)});return w.current=!1,S.current=y,b.current=!0,A({_k:v}),F&&(ew(D)||eK?e():eq(e)),()=>{w.current=!0,r()}},[y]),e$(()=>{let e;function t(){let t=eS(c)?c(R().data):c;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!R().error&&(u||E().isVisible())&&(d||E().isOnline())?W(tr).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[c,u,d,y]),(0,k.useDebugValue)($),a&&ew(D)&&y){if(!eD&&eK)throw Error("Fallback data is required when using suspense in SSR.");_.current=t,x.current=r,w.current=!1;let e=g[y];if(ew(e)||tt(G(e)),ew(K)){let e=W(tr);ew($)||(e.status="fulfilled",e.value=!0),tt(e)}else throw K}return{mutate:G,get data(){return O.data=!0,$},get error(){return O.error=!0,K},get isValidating(){return O.isValidating=!0,V},get isLoading(){return O.isLoading=!0,H}}},function(...e){let t=e6(),[r,n,a]=e4(e),s=e1(t,a),o=i,{use:l}=s,c=(l||[]).concat(e7);for(let e=c.length;e--;)o=c[e](o);return o(r,n||s.fetcher||null,s)}),ta=e=>eV(e?e(0,null):null)[0],ts=Promise.resolve(),to=(n=e=>(t,r,i)=>{let n;let a=(0,k.useRef)(!1),{cache:s,initialSize:o=1,revalidateAll:l=!1,persistSize:c=!1,revalidateFirstPage:u=!0,revalidateOnMount:d=!1,parallel:h=!1}=i;try{(n=ta(t))&&(n="$inf$"+n)}catch(e){}let[p,f,m]=ej(s,n),g=(0,k.useCallback)(()=>ew(p()._l)?o:p()._l,[s,n,o]);(0,eg.useSyncExternalStore)((0,k.useCallback)(e=>n?m(n,()=>{e()}):()=>{},[s,n]),g,g);let y=(0,k.useCallback)(()=>{let e=p()._l;return ew(e)?o:e},[n,o]),v=(0,k.useRef)(y());e$(()=>{if(!a.current){a.current=!0;return}n&&f({_l:c?v.current:y()})},[n,s]);let b=d&&!a.current,w=e(n,async e=>{let n=p()._i,a=[],o=y(),[c]=ej(s,e),d=c().data,m=[],g=null;for(let e=0;e<o;++e){let[o,c]=eV(t(e,h?null:g));if(!o)break;let[p,f]=ej(s,o),y=p().data,v=l||n||ew(y)||u&&!e&&!ew(d)||b||d&&!ew(d[e])&&!i.compare(d[e],y);if(r&&v){let t=async()=>{f({data:y=await r(c),_k:c}),a[e]=y};h?m.push(t):await t()}else a[e]=y;h||(g=y)}return h&&await Promise.all(m.map(e=>e())),f({_i:ev}),a},i),S=(0,k.useCallback)(function(e,t){let r="boolean"==typeof t?{revalidate:t}:t||{},i=!1!==r.revalidate;return n?(i&&(ew(e)?f({_i:!0}):f({_i:!1})),arguments.length?w.mutate(e,{...r,revalidate:i}):w.mutate()):ts},[n,s]),_=(0,k.useCallback)(e=>{let r;if(!n)return ts;let[,i]=ej(s,n);if(eS(e)?r=e(y()):"number"==typeof e&&(r=e),"number"!=typeof r)return ts;i({_l:r}),v.current=r;let a=[],[o]=ej(s,n),l=null;for(let e=0;e<r;++e){let[r]=eV(t(e,l)),[i]=ej(s,r),n=r?i().data:ev;if(ew(n))return S(o().data);a.push(n),l=n}return S(a)},[n,s,S,y]);return{size:y(),setSize:_,mutate:S,get data(){return w.data},get error(){return w.error},get isValidating(){return w.isValidating},get isLoading(){return w.isLoading}}},(...e)=>{let[t,r,i]=e4(e),a=(i.use||[]).concat(n);return tn(t,r,{...i,use:a})});function tl(e,t){if(!e)throw"string"==typeof t?Error(t):Error(`${t.displayName} not found`)}var tc=(e,t)=>{let{assertCtxFn:r=tl}=t||{},i=k.createContext(void 0);return i.displayName=e,[i,()=>{let t=k.useContext(i);return r(t,`${e} not found`),t.value},()=>{let e=k.useContext(i);return e?e.value:{}}]},tu={};((e,t)=>{for(var r in t)b(e,r,{get:t[r],enumerable:!0})})(tu,{SWRConfig:()=>ti,useSWR:()=>tn,useSWRInfinite:()=>to}),x(tu,f,"default"),a&&x(a,f,"default");var[td,th]=tc("ClerkInstanceContext"),[tp,tf]=tc("UserContext"),[tm,tg]=tc("ClientContext"),[ty,tv]=tc("SessionContext"),[tb,tw]=tc("OrganizationContext"),tS=({children:e,organization:t,lastOrganizationMember:r,lastOrganizationInvitation:i,swrConfig:n})=>k.createElement(ti,{value:n},k.createElement(tb.Provider,{value:{value:{organization:t,lastOrganizationMember:r,lastOrganizationInvitation:i}}},e));function t_(e,t){let r=new Set(Object.keys(t)),i={};for(let t of Object.keys(e))r.has(t)||(i[t]=e[t]);return i}var tx=(e,t)=>{var r,i,n;let a="boolean"==typeof e&&e,s=(0,k.useRef)(a?t.initialPage:null!=(r=null==e?void 0:e.initialPage)?r:t.initialPage),o=(0,k.useRef)(a?t.pageSize:null!=(i=null==e?void 0:e.pageSize)?i:t.pageSize),l={};for(let r of Object.keys(t))l[r]=a?t[r]:null!=(n=null==e?void 0:e[r])?n:t[r];return{...l,initialPage:s.current,pageSize:o.current}},tk=(e,t,r,i)=>{var n,a,s,o,l,c;let[u,d]=(0,k.useState)(null!=(n=e.initialPage)?n:1),h=(0,k.useRef)(null!=(a=e.initialPage)?a:1),p=(0,k.useRef)(null!=(s=e.pageSize)?s:10),f=null==(o=r.enabled)||o,m=null!=(l=r.infinite)&&l,g=null!=(c=r.keepPreviousData)&&c,y={...i,...e,initialPage:u,pageSize:p.current},{data:v,isValidating:b,isLoading:w,error:S,mutate:_}=tn(!m&&t&&f?y:null,e=>{let r=t_(e,i);return null==t?void 0:t(r)},{keepPreviousData:g}),{data:x,isLoading:E,isValidating:C,error:R,size:A,setSize:T,mutate:P}=to(t=>m&&f?{...e,...i,initialPage:h.current+t,pageSize:p.current}:null,e=>{let r=t_(e,i);return null==t?void 0:t(r)}),O=(0,k.useMemo)(()=>m?A:u,[m,A,u]),I=(0,k.useCallback)(e=>{if(m){T(e);return}return d(e)},[T]),N=(0,k.useMemo)(()=>{var e,t;return m?null!=(e=null==x?void 0:x.map(e=>null==e?void 0:e.data).flat())?e:[]:null!=(t=null==v?void 0:v.data)?t:[]},[m,v,x]),j=(0,k.useMemo)(()=>{var e,t;return m?(null==(e=null==x?void 0:x[(null==x?void 0:x.length)-1])?void 0:e.total_count)||0:null!=(t=null==v?void 0:v.total_count)?t:0},[m,v,x]),B=m?E:w,U=m?C:b,L=!!(m?R:S),M=(0,k.useCallback)(()=>{I(e=>Math.max(0,e+1))},[I]),D=(0,k.useCallback)(()=>{I(e=>Math.max(0,e-1))},[I]),K=(h.current-1)*p.current,q=Math.ceil((j-K)/p.current),$=j-K*p.current>O*p.current,F=(O-1)*p.current>K*p.current,z=m?e=>P(e,{revalidate:!1}):e=>_(e,{revalidate:!1});return{data:N,count:j,isLoading:B,isFetching:U,isError:L,page:O,pageCount:q,fetchPage:I,fetchNext:M,fetchPrevious:D,hasNextPage:$,hasPreviousPage:F,revalidate:m?()=>P():()=>_(),setData:z}},tE={data:void 0,count:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,revalidate:void 0,setData:void 0},tC=e=>{var t,r;let{invitationList:i,membershipList:n,domains:a,membershipRequests:s,memberships:o,invitations:l}=e||{},{organization:c,lastOrganizationMember:u,lastOrganizationInvitation:d}=tw(),h=tv(),p=tx(a,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1,enrollmentMode:void 0}),f=tx(s,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),m=tx(o,{initialPage:1,pageSize:10,role:void 0,keepPreviousData:!1,infinite:!1}),g=tx(l,{initialPage:1,pageSize:10,status:["pending"],keepPreviousData:!1,infinite:!1}),y=th(),v=!!(y.loaded&&h&&c),b=void 0===a?void 0:{initialPage:p.initialPage,pageSize:p.pageSize,enrollmentMode:p.enrollmentMode},w=void 0===s?void 0:{initialPage:f.initialPage,pageSize:f.pageSize,status:f.status},S=void 0===o?void 0:{initialPage:m.initialPage,pageSize:m.pageSize,role:m.role},_=void 0===l?void 0:{initialPage:g.initialPage,pageSize:g.pageSize,status:g.status},x=tk({...b},null==c?void 0:c.getDomains,{keepPreviousData:p.keepPreviousData,infinite:p.infinite,enabled:!!b},{type:"domains",organizationId:null==c?void 0:c.id}),k=tk({...w},null==c?void 0:c.getMembershipRequests,{keepPreviousData:f.keepPreviousData,infinite:f.infinite,enabled:!!w},{type:"membershipRequests",organizationId:null==c?void 0:c.id}),E=tk({...S,paginated:!0},null==c?void 0:c.getMemberships,{keepPreviousData:m.keepPreviousData,infinite:m.infinite,enabled:!!S},{type:"members",organizationId:null==c?void 0:c.id}),C=tk({..._},null==c?void 0:c.getInvitations,{keepPreviousData:g.keepPreviousData,infinite:g.infinite,enabled:!!_},{type:"invitations",organizationId:null==c?void 0:c.id}),R=y.loaded?()=>{var e;return null==(e=y.organization)?void 0:e.getPendingInvitations(i)}:()=>[],A=y.loaded?()=>{var e;return null==(e=y.organization)?void 0:e.getMemberships(n)}:()=>[];i&&P("invitationList in useOrganization","Use the `invitations` property and return value instead.");let{data:T,isValidating:O,mutate:I}=tn(v&&i?tR("invites",c,d,i):null,R);n&&P("membershipList in useOrganization","Use the `memberships` property and return value instead.");let{data:N,isValidating:j,mutate:B}=tn(v&&n?tR("memberships",c,u,n):null,A);return void 0===c?{isLoaded:!1,organization:void 0,invitationList:void 0,membershipList:void 0,membership:void 0,domains:tE,membershipRequests:tE,memberships:tE,invitations:tE}:null===c?{isLoaded:!0,organization:null,invitationList:null,membershipList:null,membership:null,domains:null,membershipRequests:null,memberships:null,invitations:null}:!y.loaded&&c?{isLoaded:!0,organization:c,invitationList:void 0,membershipList:void 0,membership:void 0,domains:tE,membershipRequests:tE,memberships:tE,invitations:tE}:{isLoaded:!j&&!O,organization:c,membershipList:N,membership:(t=h.user.organizationMemberships,r=c.id,t.find(e=>e.organization.id===r)),invitationList:T,unstable__mutate:()=>{B(),I()},domains:x,membershipRequests:k,memberships:E,invitations:C}};function tR(e,t,r,i){return[e,t.id,null==r?void 0:r.id,null==r?void 0:r.updatedAt,i.offset,i.limit].filter(Boolean).join("-")}var tA={data:void 0,count:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,revalidate:void 0,setData:void 0},tT=e=>{let{userMemberships:t,userInvitations:r,userSuggestions:i}=e||{},n=tx(t,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1}),a=tx(r,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),s=tx(i,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),o=th(),l=tf(),c=void 0===t?void 0:{initialPage:n.initialPage,pageSize:n.pageSize},u=void 0===r?void 0:{initialPage:a.initialPage,pageSize:a.pageSize,status:a.status},d=void 0===i?void 0:{initialPage:s.initialPage,pageSize:s.pageSize,status:s.status},h=!!(o.loaded&&l),p=tk({...c,paginated:!0},null==l?void 0:l.getOrganizationMemberships,{keepPreviousData:n.keepPreviousData,infinite:n.infinite,enabled:!!c},{type:"userMemberships",userId:null==l?void 0:l.id}),f=tk({...u},null==l?void 0:l.getOrganizationInvitations,{keepPreviousData:a.keepPreviousData,infinite:a.infinite,enabled:!!u},{type:"userInvitations",userId:null==l?void 0:l.id}),m=tk({...d},null==l?void 0:l.getOrganizationSuggestions,{keepPreviousData:s.keepPreviousData,infinite:s.infinite,enabled:!!d},{type:"userSuggestions",userId:null==l?void 0:l.id});if(!h)return{isLoaded:!1,organizationList:void 0,createOrganization:void 0,setActive:void 0,userMemberships:tA,userInvitations:tA,userSuggestions:tA};let g={isLoaded:h,organizationList:l.organizationMemberships.map(e=>({membership:e,organization:e.organization})),setActive:o.setActive,createOrganization:o.createOrganization,userMemberships:p,userInvitations:f,userSuggestions:m};return O(g,"organizationList","Use `userMemberships` instead."),g},tP=()=>{P("useOrganizations","Use useOrganizationList, useOrganization, or useClerk instead.");let e=th();return e.loaded?{isLoaded:!0,createOrganization:e.createOrganization,getOrganizationMemberships:e.getOrganizationMemberships,getOrganization:e.getOrganization}:{isLoaded:!1,createOrganization:void 0,getOrganizationMemberships:void 0,getOrganization:void 0}};"undefined"!=typeof window?k.useLayoutEffect:k.useEffect;let[tO,tI]=tc("AuthContext"),[tN,tj]=[td,th];function tB(e){let{isomorphicClerkOptions:t,initialState:r,children:i}=e,{isomorphicClerk:n,loaded:a}=tU(t);t.frontendApi&&P("frontendApi","Use `publishableKey` instead.");let[s,o]=E().useState({client:n.client,session:n.session,user:n.user,organization:n.organization,lastOrganizationInvitation:null,lastOrganizationMember:null});E().useEffect(()=>n.addListener(e=>o({...e})),[]);let l=ep(a,s,r),c=E().useMemo(()=>({value:n}),[a]),u=E().useMemo(()=>({value:s.client}),[s.client]),{sessionId:d,session:h,userId:p,user:f,orgId:m,actor:g,lastOrganizationInvitation:y,lastOrganizationMember:v,organization:b,orgRole:w,orgSlug:S,orgPermissions:_}=l,x=E().useMemo(()=>({value:{sessionId:d,userId:p,actor:g,orgId:m,orgRole:w,orgSlug:S,orgPermissions:_}}),[d,p,g,m,w,S]),k=E().useMemo(()=>({value:f}),[p,f]),C=E().useMemo(()=>({value:h}),[d,h]),R=E().useMemo(()=>({value:{organization:b,lastOrganizationInvitation:y,lastOrganizationMember:v}}),[m,b,y,v]);return E().createElement(tN.Provider,{value:c},E().createElement(tm.Provider,{value:u},E().createElement(ty.Provider,{value:C},E().createElement(tS,{...R.value},E().createElement(tO.Provider,{value:x},E().createElement(tp.Provider,{value:k},i))))))}let tU=e=>{let[t,r]=E().useState(!1),i=E().useMemo(()=>eh.getOrCreateInstance(e),[]);return E().useEffect(()=>{i.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),E().useEffect(()=>{i.__unstable__updateProps({options:e})},[e.localization]),E().useEffect(()=>{i.addOnLoaded(()=>r(!0))},[]),E().useEffect(()=>()=>{eh.clearInstance()},[]),{isomorphicClerk:i,loaded:t}},tL=Object.freeze({noGuarantees:Object.freeze({guaranteedLoaded:!1}),guaranteedLoaded:Object.freeze({guaranteedLoaded:!0})}),tM=E().createContext(void 0);tM.displayName="StructureContext";let tD=()=>{let e=E().useContext(tM);return function(e){if(!e)throw Error("Clerk: You must wrap your application in a <ClerkProvider> component.")}(e),e},tK=({children:e})=>tD().guaranteedLoaded?E().createElement(E().Fragment,null,e):E().createElement(tM.Provider,{value:tL.guaranteedLoaded},e);!function(e){G.setMessages(e).setPackageName(e)}({packageName:"@clerk/clerk-react"});let tq=function(e,t,r){let i=e.displayName||e.name||t||"Component",n=i=>((function(e,t,r=1){E().useEffect(()=>{let i=J.get(e)||0;if(i==r)throw Error(t);return J.set(e,i+1),()=>{J.set(e,(J.get(e)||1)-1)}},[])})(t,r),E().createElement(e,{...i}));return n.displayName=`withMaxAllowedInstancesGuard(${i})`,n}(function(e){let{initialState:t,children:r,...i}=e,{frontendApi:n="",publishableKey:a="",Clerk:s}=i;return!s&&(a||n?a&&!v(a)?G.throwInvalidPublishableKeyError({key:a}):a||!n||(n||"").startsWith("clerk.")||G.throwInvalidFrontendApiError({key:n}):G.throwMissingPublishableKeyError()),E().createElement(tM.Provider,{value:tL.noGuarantees},E().createElement(tB,{initialState:t,isomorphicClerkOptions:i},r))},"ClerkProvider","Clerk: You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.");tq.displayName="ClerkProvider";var t$=e=>{let t=r=>{if(!r)return r;if(Array.isArray(r))return r.map(e=>"object"==typeof e||Array.isArray(e)?t(e):e);let i={...r};for(let r of Object.keys(i)){let n=e(r.toString());n!==r&&(i[n]=i[r],delete i[r]),"object"==typeof i[n]&&(i[n]=t(i[n]))}return i};return t};t$(function(e){return e?e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`):""}),t$(function(e){return e?e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(/-|_/,"")):""}),Object.freeze({"image/png":"png","image/jpeg":"jpg","image/gif":"gif","image/webp":"webp","image/x-icon":"ico","image/vnd.microsoft.icon":"ico"});var tF=e=>{C()&&console.error(e)},tz=r(81202);let tV=e=>{let t=Array(e.length).fill(null),[r,i]=(0,k.useState)(t);return e.map((e,t)=>({id:e.id,mount:e=>i(r=>r.map((r,i)=>i===t?e:r)),unmount:()=>i(e=>e.map((e,r)=>r===t?null:e)),portal:()=>E().createElement(E().Fragment,null,r[t]?(0,tz.createPortal)(e.component,r[t]):null)}))},tH=(e,t)=>!!e&&E().isValidElement(e)&&(null==e?void 0:e.type)===t,tW=e=>tJ({children:e,reorderItemsLabels:["account","security"],LinkComponent:t5,PageComponent:t6,componentName:"UserProfile"}),tG=e=>tJ({children:e,reorderItemsLabels:["members","settings"],LinkComponent:rt,PageComponent:re,componentName:"OrganizationProfile"}),tJ=({children:e,LinkComponent:t,PageComponent:r,reorderItemsLabels:i,componentName:n})=>{let a=[];E().Children.forEach(e,e=>{if(!tH(e,r)&&!tH(e,t)){e&&tF(V(n));return}let{props:s}=e,{children:o,label:l,url:c,labelIcon:u}=s;if(tH(e,r)){if(tY(s,i))a.push({label:l});else if(tX(s))a.push({label:l,labelIcon:u,children:o,url:c});else{tF(H(n));return}}if(tH(e,t)){if(tQ(s))a.push({label:l,labelIcon:u,url:c});else{tF(W(n));return}}});let s=[],o=[],l=[];a.forEach((e,t)=>{if(tX(e)){s.push({component:e.children,id:t}),o.push({component:e.labelIcon,id:t});return}tQ(e)&&l.push({component:e.labelIcon,id:t})});let c=tV(s),u=tV(o),d=tV(l),h=[],p=[];return a.forEach((e,t)=>{if(tY(e,i)){h.push({label:e.label});return}if(tX(e)){let{portal:r,mount:i,unmount:n}=c.find(e=>e.id===t),{portal:a,mount:s,unmount:o}=u.find(e=>e.id===t);h.push({label:e.label,url:e.url,mount:i,unmount:n,mountIcon:s,unmountIcon:o}),p.push(r),p.push(a);return}if(tQ(e)){let{portal:r,mount:i,unmount:n}=d.find(e=>e.id===t);h.push({label:e.label,url:e.url,mountIcon:i,unmountIcon:n}),p.push(r);return}}),{customPages:h,customPagesPortals:p}},tY=(e,t)=>{let{children:r,label:i,url:n,labelIcon:a}=e;return!r&&!n&&!a&&t.some(e=>e===i)},tX=e=>{let{children:t,label:r,url:i,labelIcon:n}=e;return!!t&&!!i&&!!n&&!!r},tQ=e=>{let{children:t,label:r,url:i,labelIcon:n}=e;return!t&&!!i&&!!n&&!!r},tZ=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;let r=t=>{let r=tj();return r.loaded?E().createElement(tK,null,E().createElement(e,{...t,clerk:r})):null};return r.displayName=`withClerk(${t})`,r},t0=({children:e})=>{let t=tj();if("function"!=typeof e)throw Error($);return t.loaded?E().createElement(tK,null,e(t)):null},t1=e=>"mount"in e,t2=e=>"open"in e;class t3 extends E().PureComponent{constructor(){super(...arguments),this.portalRef=E().createRef()}componentDidUpdate(e){var t,r,i,n;t1(e)&&t1(this.props)&&(e.props.appearance!==this.props.props.appearance||(null==(r=null==(t=e.props)?void 0:t.customPages)?void 0:r.length)!==(null==(n=null==(i=this.props.props)?void 0:i.customPages)?void 0:n.length))&&this.props.updateProps({node:this.portalRef.current,props:this.props.props})}componentDidMount(){this.portalRef.current&&(t1(this.props)&&this.props.mount(this.portalRef.current,this.props.props),t2(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.portalRef.current&&(t1(this.props)&&this.props.unmount(this.portalRef.current),t2(this.props)&&this.props.close())}render(){var e,t;return E().createElement(E().Fragment,null,E().createElement("div",{ref:this.portalRef}),t1(this.props)&&(null==(t=null==(e=this.props)?void 0:e.customPagesPortals)?void 0:t.map((e,t)=>(0,k.createElement)(e,{key:t}))))}}let t8=tZ(({clerk:e,...t})=>E().createElement(t3,{mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:t}),"SignIn"),t4=tZ(({clerk:e,...t})=>E().createElement(t3,{mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:t}),"SignUp");function t6({children:e}){return tF("Clerk: <UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`."),E().createElement(E().Fragment,null,e)}function t5({children:e}){return tF("Clerk: <UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`."),E().createElement(E().Fragment,null,e)}let t7=Object.assign(tZ(({clerk:e,...t})=>{let{customPages:r,customPagesPortals:i}=tW(t.children);return E().createElement(t3,{mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...t,customPages:r},customPagesPortals:i})},"UserProfile"),{Page:t6,Link:t5}),t9=Object.assign(tZ(({clerk:e,...t})=>{let{customPages:r,customPagesPortals:i}=tW(t.children),n=Object.assign(t.userProfileProps||{},{customPages:r});return E().createElement(t3,{mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...t,userProfileProps:n},customPagesPortals:i})},"UserButton"),{UserProfilePage:t6,UserProfileLink:t5});function re({children:e}){return tF("Clerk: <OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`."),E().createElement(E().Fragment,null,e)}function rt({children:e}){return tF("Clerk: <OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`."),E().createElement(E().Fragment,null,e)}let rr=Object.assign(tZ(({clerk:e,...t})=>{let{customPages:r,customPagesPortals:i}=tG(t.children);return E().createElement(t3,{mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...t,customPages:r},customPagesPortals:i})},"OrganizationProfile"),{Page:re,Link:rt}),ri=tZ(({clerk:e,...t})=>E().createElement(t3,{mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:t}),"CreateOrganization"),rn=Object.assign(tZ(({clerk:e,...t})=>{let{customPages:r,customPagesPortals:i}=tG(t.children),n=Object.assign(t.organizationProfileProps||{},{customPages:r});return E().createElement(t3,{mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...t,organizationProfileProps:n},customPagesPortals:i})},"OrganizationSwitcher"),{OrganizationProfilePage:re,OrganizationProfileLink:rt}),ra=tZ(({clerk:e,...t})=>E().createElement(t3,{mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:t}),"OrganizationList"),rs=tZ(({clerk:e,...t})=>E().createElement(t3,{open:e.openGoogleOneTap,close:e.closeGoogleOneTap,props:t}),"GoogleOneTap"),ro=e=>new Promise(t=>{e.loaded&&t(),e.addOnLoaded(t)}),rl=e=>async t=>(await ro(e),e.session)?e.session.getToken(t):null,rc=e=>async(...t)=>(await ro(e),e.signOut(...t)),ru=()=>{let{sessionId:e,userId:t,actor:r,orgId:i,orgRole:n,orgSlug:a,orgPermissions:s}=tI(),o=tj(),l=(0,k.useCallback)(rl(o),[o]),c=(0,k.useCallback)(rc(o),[o]),u=(0,k.useCallback)(e=>{if(!(null==e?void 0:e.permission)&&!(null==e?void 0:e.role))throw Error('Clerk: Missing parameters. `has` from `useAuth` requires a permission or role key to be passed. Example usage: `has({permission: "org:posts:edit"`');return!!i&&!!t&&!!n&&!!s&&(e.permission?s.includes(e.permission):!!e.role&&n===e.role)},[i,n,t,s]);if(void 0===e&&void 0===t)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,userId:t,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:c,getToken:l};if(null===e&&null===t)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:t,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:c,getToken:l};if(e&&t&&i&&n)return{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:t,actor:r||null,orgId:i,orgRole:n,orgSlug:a||null,has:u,signOut:c,getToken:l};if(e&&t&&!i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:t,actor:r||null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:c,getToken:l};throw Error("Clerk: Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support")},rd=({children:e})=>{let{userId:t}=tI();return t?E().createElement(E().Fragment,null,e):null},rh=({children:e})=>{let{userId:t}=tI();return null===t?E().createElement(E().Fragment,null,e):null},rp=({children:e})=>tj().loaded?E().createElement(tK,null,e):null,rf=({children:e})=>tj().loaded?null:E().createElement(E().Fragment,null,e),rm=({children:e,fallback:t,...r})=>{let{isLoaded:i,has:n,userId:a}=ru();if(!i)return null;let s=E().createElement(E().Fragment,null,null!=t?t:null),o=E().createElement(E().Fragment,null,e);return a?"function"==typeof r.condition?r.condition(n)?o:s:r.role||r.permission?n(r)?o:s:o:s},rg=tZ(({clerk:e,...t})=>{let{client:r,session:i}=e,{__unstable__environment:n}=e,a=r.activeSessions&&r.activeSessions.length>0;return E().useEffect(()=>{if(null===i&&a&&n){let{afterSignOutOneUrl:t}=n.displayConfig;e.navigate(t)}else e.redirectToSignIn(t)},[]),null},"RedirectToSignIn"),ry=tZ(({clerk:e,...t})=>(E().useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp"),rv=tZ(({clerk:e})=>(E().useEffect(()=>{e.redirectToUserProfile()},[]),null),"RedirectToUserProfile"),rb=tZ(({clerk:e})=>(E().useEffect(()=>{e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile"),rw=tZ(({clerk:e})=>(E().useEffect(()=>{e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization"),rS=tZ(({clerk:e,...t})=>(E().useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback"),r_=({children:e})=>{let t=tv();return E().createElement(E().Fragment,{key:t?t.id:"no-users"},e)},rx=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;let r=t=>{let r=tf();return r?E().createElement(e,{...t,user:r}):null};return r.displayName=`withUser(${t})`,r},rk=({children:e})=>{let t=tf();if("function"!=typeof e)throw Error($);return t?E().createElement(E().Fragment,null,e(t)):null},rE=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;let r=t=>{let r=tv();return r?E().createElement(e,{...t,session:r}):null};return r.displayName=`withSession(${t})`,r},rC=({children:e})=>{let t=tv();if("function"!=typeof e)throw Error($);return t?E().createElement(E().Fragment,null,e(t)):null},rR=e=>t=>{try{return E().Children.only(e)}catch(e){throw Error(F(t))}},rA=(e,t)=>(e||(e=t),"string"==typeof e&&(e=E().createElement("button",null,e)),e),rT=e=>(...t)=>{if(e&&"function"==typeof e)return e(...t)},rP=tZ(({clerk:e,children:t,...r})=>{let{afterSignInUrl:i,afterSignUpUrl:n,redirectUrl:a,mode:s,...o}=r,l=rR(t=rA(t,"Sign in"))("SignInButton"),c=()=>{let t={afterSignInUrl:i,afterSignUpUrl:n,redirectUrl:a};return"modal"===s?e.openSignIn(t):e.redirectToSignIn(t)},u=async e=>(await rT(l.props.onClick)(e),c()),d={...o,onClick:u};return E().cloneElement(l,d)},"SignInButton"),rO=tZ(({clerk:e,children:t,...r})=>{let{afterSignInUrl:i,afterSignUpUrl:n,redirectUrl:a,mode:s,unsafeMetadata:o,...l}=r,c=rR(t=rA(t,"Sign up"))("SignUpButton"),u=()=>{let t={afterSignInUrl:i,afterSignUpUrl:n,redirectUrl:a,unsafeMetadata:o};return"modal"===s?e.openSignUp(t):e.redirectToSignUp(t)},d=async e=>(await rT(c.props.onClick)(e),u()),h={...l,onClick:d};return E().cloneElement(c,h)},"SignUpButton"),rI=tZ(({clerk:e,children:t,...r})=>{let{signOutCallback:i,signOutOptions:n,...a}=r,s=rR(t=rA(t,"Sign out"))("SignOutButton"),o=()=>e.signOut(i,n),l=async e=>(await rT(s.props.onClick)(e),o()),c={...a,onClick:l};return E().cloneElement(s,c)},"SignOutButton"),rN=tZ(({clerk:e,children:t,...r})=>{let{redirectUrl:i,...n}=r,a=rR(t=rA(t,"Sign in with Metamask"))("SignInWithMetamaskButton"),s=async()=>{(async function(){await e.authenticateWithMetamask({redirectUrl:i})})()},o=async e=>(await rT(a.props.onClick)(e),s()),l={...n,onClick:o};return E().cloneElement(a,l)},"SignInWithMetamask");function rj(){let e=tf();return void 0===e?{isLoaded:!1,isSignedIn:void 0,user:void 0}:null===e?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}let rB=()=>{let e=tv();return void 0===e?{isLoaded:!1,isSignedIn:void 0,session:void 0}:null===e?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:!0,session:e}},rU=()=>tj(),rL=()=>{let e=tj(),t=tg();return t?{isLoaded:!0,signIn:t.signIn,setSession:e.setSession,setActive:e.setActive}:{isLoaded:!1,signIn:void 0,setSession:void 0,setActive:void 0}},rM=()=>{let e=tj(),t=tg();return t?{isLoaded:!0,signUp:t.signUp,setSession:e.setSession,setActive:e.setActive}:{isLoaded:!1,signUp:void 0,setSession:void 0,setActive:void 0}},rD=()=>{let e=tj(),t=tg();return t?{isLoaded:!0,sessions:t.sessions,setSession:e.setSession,setActive:e.setActive}:{isLoaded:!1,sessions:void 0,setSession:void 0,setActive:void 0}};function rK(e){P("useMagicLink","Use `useEmailLink` instead.");let{startMagicLinkFlow:t,cancelMagicLinkFlow:r}=E().useMemo(()=>e.createMagicLinkFlow(),[e]);return E().useEffect(()=>r,[]),{startMagicLinkFlow:t,cancelMagicLinkFlow:r}}function rq(e){let{startEmailLinkFlow:t,cancelEmailLinkFlow:r}=E().useMemo(()=>e.createEmailLinkFlow(),[e]);return E().useEffect(()=>r,[]),{startEmailLinkFlow:t,cancelEmailLinkFlow:r}}},36324:()=>{"undefined"==typeof window||window.global||(window.global="undefined"==typeof global?window:global)},37182:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ClientClerkProvider:()=>d});var i=r(89178),n=r(8428),a=r(3729),s=r.n(a),o=r(80145);let l="undefined"!=typeof window?s().useLayoutEffect:s().useEffect,c=e=>({...e,frontendApi:e.frontendApi||process.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"",publishableKey:e.publishableKey||"pk_test_bW9kZXJuLXNpbGt3b3JtLTEuY2xlcmsuYWNjb3VudHMuZGV2JA",clerkJSUrl:e.clerkJSUrl||process.env.NEXT_PUBLIC_CLERK_JS,clerkJSVersion:e.clerkJSVersion||process.env.NEXT_PUBLIC_CLERK_JS_VERSION,proxyUrl:e.proxyUrl||process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",domain:e.domain||process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",isSatellite:e.isSatellite||"true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE,signInUrl:e.signInUrl||process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL||"",signUpUrl:e.signUpUrl||process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL||"",afterSignInUrl:e.afterSignInUrl||process.env.NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL||"",afterSignUpUrl:e.afterSignUpUrl||process.env.NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL||"",sdkMetadata:{name:"@clerk/nextjs",version:"4.31.2"}}),u=()=>{let{push:e}=(0,n.useRouter)(),[t,r]=(0,a.useTransition)(),i=(0,a.useRef)(),s=(0,a.useRef)([]);return i.current||(i.current=(t,i)=>new Promise(n=>{s.current.push(n),r(()=>{e(t,i)})})),(0,a.useEffect)(()=>{var e;t||((null==(e=null==s?void 0:s.current)?void 0:e.length)&&s.current.forEach(e=>e()),s.current=[])},[t]),i.current},d=e=>{let{__unstable_invokeMiddlewareOnAuthStateChange:t=!0}=e,r=(0,n.useRouter)(),a=u();l(()=>{window.__unstable__onBeforeSetActive=()=>{t&&(r.refresh(),r.push(window.location.href))},window.__unstable__onAfterSetActive=()=>{r.refresh()}},[]);let d=c({...e,navigate:a});return s().createElement(o.f,{options:d},s().createElement(i.El,{...d}))}},80145:(e,t,r)=>{"use strict";r.d(t,{f:()=>o,k:()=>s});var i=r(3729),n=r.n(i);let a=n().createContext(void 0);a.displayName="ClerkNextOptionsCtx";let s=()=>n().useContext(a).value,o=e=>{let{children:t,options:r}=e;return n().createElement(a.Provider,{value:{value:r}},t)}},65102:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthenticateWithRedirectCallback:()=>i.vn,ClerkLoaded:()=>i.a7,ClerkLoading:()=>i.qI,MultisessionAppSupport:()=>i.KM,Protect:()=>i.Cv,RedirectToCreateOrganization:()=>i.gM,RedirectToOrganizationProfile:()=>i.yB,RedirectToSignIn:()=>i.N1,RedirectToSignUp:()=>i.C2,RedirectToUserProfile:()=>i.sO,SignedIn:()=>i.CH,SignedOut:()=>i.tj});var i=r(89178)},22315:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EmailLinkErrorCode:()=>i._L,MagicLinkErrorCode:()=>i.X1,WithClerk:()=>i._E,WithSession:()=>i.CJ,WithUser:()=>i.Gi,isClerkAPIResponseError:()=>i.kD,isEmailLinkError:()=>i.G1,isKnownError:()=>i.sZ,isMagicLinkError:()=>i.V9,isMetamaskError:()=>i.ZC,useAuth:()=>i.aC,useClerk:()=>i.ll,useEmailLink:()=>i.E2,useMagicLink:()=>i.jS,useOrganization:()=>i.o8,useOrganizationList:()=>i.eW,useOrganizations:()=>i.qi,useSession:()=>i.kP,useSessionList:()=>i.xo,useSignIn:()=>i.zq,useSignUp:()=>i.QS,useUser:()=>i.aF,withClerk:()=>i.r0,withSession:()=>i.NA,withUser:()=>i.ns});var i=r(89178)},34910:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CreateOrganization:()=>i.Gp,GoogleOneTap:()=>i.Kb,OrganizationList:()=>i.Bg,OrganizationProfile:()=>i.A,OrganizationSwitcher:()=>i.Li,SignIn:()=>o,SignInButton:()=>i.$d,SignInWithMetamaskButton:()=>i.qu,SignOutButton:()=>i.AM,SignUp:()=>l,SignUpButton:()=>i.gX,UserButton:()=>i.l8,UserProfile:()=>i.Iw});var i=r(89178),n=r(3729),a=r.n(n),s=r(80145);let o=e=>{let{signInUrl:t}=(0,s.k)();return t?a().createElement(i.cL,{routing:"path",path:t,...e}):a().createElement(i.cL,{...e})},l=e=>{let{signUpUrl:t}=(0,s.k)();return t?a().createElement(i.Mo,{routing:"path",path:t,...e}):a().createElement(i.Mo,{...e})}},69169:(e,t,r)=>{"use strict";let i,n,a,s,o,l,c,u;r.d(t,{PHQ:()=>b1,Uq0:()=>B,Avh:()=>bJ,JO$:()=>bb,ZXw:()=>wb,gy1:()=>wx,N_D:()=>wu,c3T:()=>b8,hbc:()=>wh,GRk:()=>uc,FoN:()=>wt,stH:()=>cV,W7t:()=>u0,dvl:()=>dc,b12:()=>dr});var d,h,p,f,m,g,y,v,b,w,S,_,x,k,E,C,R,A,T,P,O,I,N,j,B,U,L,M,D,K={};r.r(K),r.d(K,{fixNegotiationNeeded:()=>ec,shimAddTrackRemoveTrack:()=>eo,shimAddTrackRemoveTrackWithNative:()=>es,shimGetDisplayMedia:()=>ee,shimGetSendersWithDtmf:()=>ei,shimGetStats:()=>en,shimGetUserMedia:()=>Z,shimMediaStream:()=>et,shimOnTrack:()=>er,shimPeerConnection:()=>el,shimSenderReceiverGetStats:()=>ea});var q={};r.r(q),r.d(q,{shimAddTransceiver:()=>ev,shimCreateAnswer:()=>eS,shimCreateOffer:()=>ew,shimGetDisplayMedia:()=>ed,shimGetParameters:()=>eb,shimGetUserMedia:()=>eu,shimOnTrack:()=>eh,shimPeerConnection:()=>ep,shimRTCDataChannel:()=>ey,shimReceiverGetStats:()=>em,shimRemoveStream:()=>eg,shimSenderGetStats:()=>ef});var $={};r.r($),r.d($,{shimAudioContext:()=>eP,shimCallbacksAPI:()=>ek,shimConstraints:()=>eC,shimCreateOfferLegacy:()=>eT,shimGetUserMedia:()=>eE,shimLocalStreamsAPI:()=>e_,shimRTCIceServerUrls:()=>eR,shimRemoteStreamsAPI:()=>ex,shimTrackEventTransceiver:()=>eA});var F={};r.r(F),r.d(F,{removeExtmapAllowMixed:()=>eM,shimAddIceCandidateNullOrEmpty:()=>eD,shimConnectionState:()=>eL,shimMaxMessageSize:()=>eB,shimParameterlessSetLocalDescription:()=>eK,shimRTCIceCandidate:()=>eN,shimRTCIceCandidateRelayProtocol:()=>ej,shimSendThrowTypeError:()=>eU});var z={};r.r(z),r.d(z,{hasBrowserEnv:()=>rd,hasStandardBrowserEnv:()=>rh,hasStandardBrowserWebWorkerEnv:()=>rp,origin:()=>rf});let V=!0,H=!0;function W(e,t,r){let i=e.match(t);return i&&i.length>=r&&parseInt(i[r],10)}function G(e,t,r){if(!e.RTCPeerConnection)return;let i=e.RTCPeerConnection.prototype,n=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return n.apply(this,arguments);let a=e=>{let t=r(e);t&&(i.handleEvent?i.handleEvent(t):i(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(i,a),n.apply(this,[e,a])};let a=i.removeEventListener;i.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(r))return a.apply(this,arguments);let i=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function J(){"object"!=typeof window||V||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function Y(e,t){H&&console.warn(e+" is deprecated, please use "+t+" instead.")}function X(e){return"[object Object]"===Object.prototype.toString.call(e)}function Q(e,t,r){let i=r?"outbound-rtp":"inbound-rtp",n=new Map;if(null===t)return n;let a=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)}),a.forEach(t=>{e.forEach(r=>{r.type===i&&r.trackId===t.id&&function e(t,r,i){!r||i.has(r.id)||(i.set(r.id,r),Object.keys(r).forEach(n=>{n.endsWith("Id")?e(t,t.get(r[n]),i):n.endsWith("Ids")&&r[n].forEach(r=>{e(t,t.get(r),i)})}))}(e,r,n)})}),n}function Z(e,t){let r=e&&e.navigator;if(!r.mediaDevices)return;let i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(r=>{if("require"===r||"advanced"===r||"mediaSource"===r)return;let i="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);let n=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];let e={};"number"==typeof i.ideal?(e[n("min",r)]=i.ideal,t.optional.push(e),(e={})[n("max",r)]=i.ideal):e[n("",r)]=i.ideal,t.optional.push(e)}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[n("",r)]=i.exact):["min","max"].forEach(e=>{void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[n(e,r)]=i[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},n=function(e,n){if(t.version>=61)return n(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){let a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});let s=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!s)){let t;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:("user"===a.exact||"user"===a.ideal)&&(t=["front"]),t)return r.mediaDevices.enumerateDevices().then(r=>{let s=(r=r.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!s&&r.length&&t.includes("back")&&(s=r[r.length-1]),s&&(e.video.deviceId=a.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=i(e.video),J("chrome: "+JSON.stringify(e)),n(e)})}e.video=i(e.video)}return J("chrome: "+JSON.stringify(e)),n(e)},a=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=(function(e,t,i){n(e,e=>{r.webkitGetUserMedia(e,t,e=>{i&&i(a(e))})})}).bind(r),r.mediaDevices.getUserMedia){let e=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(t){return n(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(a(e))))}}}function ee(e,t){if((!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices){if("function"!=typeof t){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(t=>{let i=r.video&&r.video.width,n=r.video&&r.video.height,a=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},i&&(r.video.mandatory.maxWidth=i),n&&(r.video.mandatory.maxHeight=n),e.navigator.mediaDevices.getUserMedia(r)})}}}function et(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function er(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)G(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",r=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.track.id):{track:r.track};let n=new Event("track");n.track=r.track,n.receiver=i,n.transceiver={receiver:i},n.streams=[t.stream],this.dispatchEvent(n)}),t.stream.getTracks().forEach(r=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.id):{track:r};let n=new Event("track");n.track=r,n.receiver=i,n.transceiver={receiver:i},n.streams=[t.stream],this.dispatchEvent(n)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function ei(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){let n=r.apply(this,arguments);return n||(n=t(this,e),this._senders.push(n)),n};let i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function en(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,r,i]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0==arguments.length||"function"!=typeof e))return t.apply(this,[]);let n=function(e){let t={};return e.result().forEach(e=>{let r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{r[t]=e.stat(t)}),t[r.id]=r}),t},a=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};return arguments.length>=2?t.apply(this,[function(e){r(a(n(e)))},e]):new Promise((e,r)=>{t.apply(this,[function(t){e(a(n(t)))},r])}).then(r,i)}}function ea(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>Q(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),G(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>Q(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,r;let i=arguments[0];return(this.getSenders().forEach(t=>{t.track===i&&(e?r=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===i&&(t?r=!0:t=e),e.track===i)),r||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function es(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let i=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(i)&&this._shimmedLocalStreams[r.id].push(i):this._shimmedLocalStreams[r.id]=[r,i],i};let r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();r.apply(this,arguments);let i=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(i)};let i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};let n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),n.apply(this,arguments)}}function eo(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return es(e);let r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}i.apply(this,[t])};let n=e.RTCPeerConnection.prototype.removeStream;function a(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let i=e._reverseStreams[t],n=e._streams[i.id];r=r.replace(RegExp(n.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},n.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let n=this._streams[r.id];if(n)n.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let i=new e.MediaStream([t]);this._streams[r.id]=i,this._reverseStreams[i.id]=r,this.addStream(i)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?r.apply(this,[t=>{let r=a(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then(e=>a(this,e))}})[t]});let s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let r;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,t=arguments[0],r=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let i=e._reverseStreams[t],n=e._streams[i.id];r=r.replace(RegExp(i.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r}))),s.apply(this,arguments)};let o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=o.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(r=>{this._streams[r].getTracks().find(t=>e.track===t)&&(t=this._streams[r])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function el(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}})[t]})}function ec(e,t){G(e,"negotiationneeded",e=>{let r=e.target;if(!(t.version<72)&&(!r.getConfiguration||"plan-b"!==r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e})}function eu(e,t){let r=e&&e.navigator,i=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,i){Y("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){let e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(e((r=JSON.parse(JSON.stringify(r))).audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},i&&i.prototype.getSettings){let t=i.prototype.getSettings;i.prototype.getSettings=function(){let r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(i&&i.prototype.applyConstraints){let t=i.prototype.applyConstraints;i.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(e(r=JSON.parse(JSON.stringify(r)),"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}function ed(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function eh(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ep(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}})[t]});let r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,n,a]=arguments;return i.apply(this,[e||null]).then(e=>{if(t.version<53&&!n)try{e.forEach(e=>{e.type=r[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,i)=>{e.set(i,Object.assign({},t,{type:r[t.type]||t.type}))})}return e}).then(n,a)}}function ef(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function em(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),G(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function eg(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){Y("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function ey(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ev(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let r=(e=[...e]).length>0;r&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let i=t.apply(this,arguments);if(r){let{sender:t}=i,r=t.getParameters();"encodings"in r&&(1!==r.encodings.length||0!==Object.keys(r.encodings[0]).length)||(r.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(r).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return i})}function eb(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function ew(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function eS(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function e_(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(r=>t.call(this,r,e)),e.getVideoTracks().forEach(r=>t.call(this,r,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...r){return r&&r.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let r=e.getTracks();this.getSenders().forEach(e=>{r.includes(e.track)&&this.removeTrack(e)})})}}function ex(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let r=new Event("addstream");r.stream=t,e.dispatchEvent(r)})}),t.apply(e,arguments)}}}function ek(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,r=t.createOffer,i=t.createAnswer,n=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){let i=arguments.length>=2?arguments[2]:arguments[0],n=r.apply(this,[i]);return t?(n.then(e,t),Promise.resolve()):n},t.createAnswer=function(e,t){let r=arguments.length>=2?arguments[2]:arguments[0],n=i.apply(this,[r]);return t?(n.then(e,t),Promise.resolve()):n};let o=function(e,t,r){let i=n.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i};t.setLocalDescription=o,o=function(e,t,r){let i=a.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i},t.setRemoteDescription=o,o=function(e,t,r){let i=s.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i},t.addIceCandidate=o}function eE(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>r(eC(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,r,i){t.mediaDevices.getUserMedia(e).then(r,i)}).bind(t))}function eC(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return X(t)?Object.keys(t).reduce(function(r,i){let n=X(t[i]),a=n?e(t[i]):t[i],s=n&&!Object.keys(a).length;return void 0===a||s?r:Object.assign(r,{[i]:a})},{}):t}(e.video)}):e}function eR(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){let t=[];for(let r=0;r<e.iceServers.length;r++){let i=e.iceServers[r];void 0===i.urls&&i.url?(Y("RTCIceServer.url","RTCIceServer.urls"),(i=JSON.parse(JSON.stringify(i))).urls=i.url,delete i.url,t.push(i)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function eA(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eT(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let r=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function eP(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var eO=r(1388),eI=r.n(eO);function eN(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let r=new t(e),i=eI().parseCandidate(e.candidate);for(let e in i)e in r||Object.defineProperty(r,e,{value:i[e]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,G(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function ej(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||G(e,"icecandidate",e=>{if(e.candidate){let t=eI().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function eB(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let r=function(e){if(!e||!e.sdp)return!1;let t=eI().splitSections(e.sdp);return t.shift(),t.some(e=>{let t=eI().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},i=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let r=parseInt(t[1],10);return r!=r?-1:r},n=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r},a=function(e,r){let i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);let n=eI().matchPrefix(e.sdp,"a=max-message-size:");return n.length>0?i=parseInt(n[0].substring(19),10):"firefox"===t.browser&&-1!==r&&(i=2147483637),i},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){let e;let t=i(arguments[0]),r=n(t),s=a(arguments[0],t);e=0===r&&0===s?Number.POSITIVE_INFINITY:0===r||0===s?Math.max(r,s):Math.min(r,s);let o={};Object.defineProperty(o,"maxMessageSize",{get:()=>e}),this._sctp=o}return s.apply(this,arguments)}}function eU(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let r=e.send;e.send=function(){let i=arguments[0],n=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&n>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}let r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=r.apply(this,arguments);return t(e,this),e},G(e,"datachannel",e=>(t(e.channel,e.target),e))}function eL(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function eM(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let r=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return r.apply(this,arguments)}}function eD(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function eK(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return r.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?r.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>r.apply(this,[e]))})}!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let r=function(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:r}=e;return r.mozGetUserMedia?(t.browser="firefox",t.version=W(r.userAgent,/Firefox\/(\d+)\./,1)):r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=W(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=W(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}(e),i={};switch(r.browser){case"chrome":if(!K||!el||!t.shimChrome){J("Chrome shim is not included in this adapter release.");break}if(null===r.version){J("Chrome shim can not determine version, not shimming.");break}J("adapter.js shimming chrome."),i.browserShim=K,eD(e,r),eK(e,r),Z(e,r),et(e,r),el(e,r),er(e,r),eo(e,r),ei(e,r),en(e,r),ea(e,r),ec(e,r),eN(e,r),ej(e,r),eL(e,r),eB(e,r),eU(e,r),eM(e,r);break;case"firefox":if(!q||!ep||!t.shimFirefox){J("Firefox shim is not included in this adapter release.");break}J("adapter.js shimming firefox."),i.browserShim=q,eD(e,r),eK(e,r),eu(e,r),ep(e,r),eh(e,r),eg(e,r),ef(e,r),em(e,r),ey(e,r),ev(e,r),eb(e,r),ew(e,r),eS(e,r),eN(e,r),eL(e,r),eB(e,r),eU(e,r);break;case"safari":if(!$||!t.shimSafari){J("Safari shim is not included in this adapter release.");break}J("adapter.js shimming safari."),i.browserShim=$,eD(e,r),eK(e,r),eR(e,r),eT(e,r),ek(e,r),e_(e,r),ex(e,r),eA(e,r),eE(e,r),eP(e,r),eN(e,r),ej(e,r),eB(e,r),eU(e,r),eM(e,r);break;default:J("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});let eq=Symbol.for("protobuf-ts/message-type");function e$(e){let t=!1,r=[];for(let i=0;i<e.length;i++){let n=e.charAt(i);"_"==n?t=!0:/\d/.test(n)?(r.push(n),t=!0):t?(r.push(n.toUpperCase()),t=!1):0==i?r.push(n.toLowerCase()):r.push(n)}return r.join("")}function eF(e){var t,r,i,n;return e.localName=null!==(t=e.localName)&&void 0!==t?t:e$(e.name),e.jsonName=null!==(r=e.jsonName)&&void 0!==r?r:e$(e.name),e.repeat=null!==(i=e.repeat)&&void 0!==i?i:v.NO,e.opt=null!==(n=e.opt)&&void 0!==n?n:!e.repeat&&!e.oneof&&"message"==e.kind,e}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(g||(g={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(y||(y={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(v||(v={}));class ez{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;let e=[],t=[],r=[];for(let i of this.fields)if(i.oneof)r.includes(i.oneof)||(r.push(i.oneof),e.push(i.oneof),t.push(i.oneof));else switch(t.push(i.localName),i.kind){case"scalar":case"enum":(!i.opt||i.repeat)&&e.push(i.localName);break;case"message":i.repeat&&e.push(i.localName);break;case"map":e.push(i.localName)}this.data={req:e,known:t,oneofs:Object.values(r)}}is(e,t,r=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let i=Object.keys(e),n=this.data;if(i.length<n.req.length||n.req.some(e=>!i.includes(e))||!r&&i.some(e=>!n.known.includes(e)))return!1;if(t<1)return!0;for(let i of n.oneofs){let n=e[i];if(!function(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":if(void 0===e[e.oneofKind])return!1;return 2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(n))return!1;if(void 0===n.oneofKind)continue;let a=this.fields.find(e=>e.localName===n.oneofKind);if(!a||!this.field(n[n.oneofKind],a,r,t))return!1}for(let i of this.fields)if(void 0===i.oneof&&!this.field(e[i.localName],i,r,t))return!1;return!0}field(e,t,r,i){let n=t.repeat;switch(t.kind){case"scalar":if(void 0===e)return t.opt;if(n)return this.scalars(e,t.T,i,t.L);return this.scalar(e,t.T,t.L);case"enum":if(void 0===e)return t.opt;if(n)return this.scalars(e,g.INT32,i);return this.scalar(e,g.INT32);case"message":if(void 0===e)break;if(n)return this.messages(e,t.T(),r,i);return this.message(e,t.T(),r,i);case"map":if("object"!=typeof e||null===e)return!1;if(i<2)break;if(!this.mapKeys(e,t.K,i))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,i,t.V.L);case"enum":return this.scalars(Object.values(e),g.INT32,i);case"message":return this.messages(Object.values(e),t.V.T(),r,i)}}return!0}message(e,t,r,i){return r?t.isAssignable(e,i):t.is(e,i)}messages(e,t,r,i){if(!Array.isArray(e))return!1;if(i<2)return!0;if(r){for(let r=0;r<e.length&&r<i;r++)if(!t.isAssignable(e[r],i-1))return!1}else for(let r=0;r<e.length&&r<i;r++)if(!t.is(e[r],i-1))return!1;return!0}scalar(e,t,r){let i=typeof e;switch(t){case g.UINT64:case g.FIXED64:case g.INT64:case g.SFIXED64:case g.SINT64:switch(r){case y.BIGINT:return"bigint"==i;case y.NUMBER:return"number"==i&&!isNaN(e);default:return"string"==i}case g.BOOL:return"boolean"==i;case g.STRING:return"string"==i;case g.BYTES:return e instanceof Uint8Array;case g.DOUBLE:case g.FLOAT:return"number"==i&&!isNaN(e);default:return"number"==i&&Number.isInteger(e)}}scalars(e,t,r,i){if(!Array.isArray(e))return!1;if(r<2)return!0;if(Array.isArray(e)){for(let n=0;n<e.length&&n<r;n++)if(!this.scalar(e[n],t,i))return!1}return!0}mapKeys(e,t,r){let i=Object.keys(e);switch(t){case g.INT32:case g.FIXED32:case g.SFIXED32:case g.SINT32:case g.UINT32:return this.scalars(i.slice(0,r).map(e=>parseInt(e)),t,r);case g.BOOL:return this.scalars(i.slice(0,r).map(e=>"true"==e||"false"!=e&&e),t,r);default:return this.scalars(i,t,r,y.STRING)}}}function eV(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function eH(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let eW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),eG=[];for(let e=0;e<eW.length;e++)eG[eW[e].charCodeAt(0)]=e;function eJ(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(127&i)<<r,(128&i)==0)return this.assertBounds(),[e,t]}let r=this.buf[this.pos++];if(e|=(15&r)<<28,t=(112&r)>>4,(128&r)==0)return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(127&i)<<r,(128&i)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function eY(e,t,r){for(let i=0;i<28;i+=7){let n=e>>>i,a=!(n>>>7==0&&0==t),s=(a?128|n:n)&255;if(r.push(s),!a)return}let i=e>>>28&15|(7&t)<<4,n=t>>3!=0;if(r.push((n?128|i:i)&255),n){for(let e=3;e<31;e+=7){let i=t>>>e,n=i>>>7!=0,a=(n?128|i:i)&255;if(r.push(a),!n)return}r.push(t>>>31&1)}}function eX(e){let t="-"==e[0];t&&(e=e.slice(1));let r=0,i=0;function n(t,n){let a=Number(e.slice(t,n));i*=1e6,(r=1e6*r+a)>=4294967296&&(i+=r/4294967296|0,r%=4294967296)}return n(-24,-18),n(-18,-12),n(-12,-6),n(-6),[t,r,i]}function eQ(e,t){if(t>>>0<=2097151)return""+(4294967296*t+(e>>>0));let r=(e>>>24|t<<8)>>>0&16777215,i=t>>16&65535,n=(16777215&e)+6777216*r+6710656*i,a=r+8147497*i,s=2*i;function o(e,t){let r=e?String(e):"";return t?"0000000".slice(r.length)+r:r}return n>=1e7&&(a+=Math.floor(n/1e7),n%=1e7),a>=1e7&&(s+=Math.floor(a/1e7),a%=1e7),o(s,0)+o(a,s)+o(n,1)}function eZ(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let r=0;r<9;r++)t.push(127&e|128),e>>=7;t.push(1)}}function e0(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}function e1(e){if(!e)throw Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}eG["-".charCodeAt(0)]=eW.indexOf("+"),eG["_".charCodeAt(0)]=eW.indexOf("/"),function(){let e=new DataView(new ArrayBuffer(8));i=void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();let e2=/^-?[0-9]+$/;class e3{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=4294967296*this.hi+(this.lo>>>0);if(!Number.isSafeInteger(e))throw Error("cannot convert to safe number");return e}}class e8 extends e3{static from(e){if(i)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=i.C(e);case"number":if(0===e)return this.ZERO;e=i.C(e);case"bigint":if(!e)return this.ZERO;if(e<i.UMIN)throw Error("signed value for ulong");if(e>i.UMAX)throw Error("ulong too large");return i.V.setBigUint64(0,e,!0),new e8(i.V.getInt32(0,!0),i.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!e2.test(e))throw Error("string is no integer");let[t,r,n]=eX(e);if(t)throw Error("signed value for ulong");return new e8(r,n);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");if(e<0)throw Error("signed value for ulong");return new e8(e,e/4294967296)}throw Error("unknown value "+typeof e)}toString(){return i?this.toBigInt().toString():eQ(this.lo,this.hi)}toBigInt(){return e1(i),i.V.setInt32(0,this.lo,!0),i.V.setInt32(4,this.hi,!0),i.V.getBigUint64(0,!0)}}e8.ZERO=new e8(0,0);class e4 extends e3{static from(e){if(i)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=i.C(e);case"number":if(0===e)return this.ZERO;e=i.C(e);case"bigint":if(!e)return this.ZERO;if(e<i.MIN)throw Error("signed long too small");if(e>i.MAX)throw Error("signed long too large");return i.V.setBigInt64(0,e,!0),new e4(i.V.getInt32(0,!0),i.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!e2.test(e))throw Error("string is no integer");let[t,r,n]=eX(e);if(t){if(n>2147483648||2147483648==n&&0!=r)throw Error("signed long too small")}else if(n>=2147483648)throw Error("signed long too large");let a=new e4(r,n);return t?a.negate():a;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");return e>0?new e4(e,e/4294967296):new e4(-e,-e/4294967296).negate()}throw Error("unknown value "+typeof e)}isNegative(){return(2147483648&this.hi)!=0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new e4(t,e)}toString(){if(i)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+eQ(e.lo,e.hi)}return eQ(this.lo,this.hi)}toBigInt(){return e1(i),i.V.setInt32(0,this.lo,!0),i.V.setInt32(4,this.hi,!0),i.V.getBigInt64(0,!0)}}function e6(e,t){if(!e)throw Error(t)}function e5(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int 32: "+e)}function e7(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint 32: "+e)}function e9(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}function te(e,t){switch(t){case y.BIGINT:return e.toBigInt();case y.NUMBER:return e.toNumber();default:return e.toString()}}e4.ZERO=new e4(0,0);class tt{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap)for(let t of(this.fMap={},null!==(e=this.info.fields)&&void 0!==e?e:[]))this.fMap[t.name]=t,this.fMap[t.jsonName]=t,this.fMap[t.localName]=t}assert(e,t,r){if(!e){let e=eV(r);throw("number"==e||"boolean"==e)&&(e=r.toString()),Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,r){this.prepare();let i=[];for(let[n,a]of Object.entries(e)){let e;let s=this.fMap[n];if(!s){if(!r.ignoreUnknownFields)throw Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${n}`);continue}let o=s.localName;if(s.oneof){if(null===a&&("enum"!==s.kind||"google.protobuf.NullValue"!==s.T()[0]))continue;if(i.includes(s.oneof))throw Error(`Multiple members of the oneof group "${s.oneof}" of ${this.info.typeName} are present in JSON.`);i.push(s.oneof),e=t[s.oneof]={oneofKind:o}}else e=t;if("map"==s.kind){if(null===a)continue;this.assert(eH(a),s.name,a);let t=e[o];for(let[e,i]of Object.entries(a)){let n;switch(this.assert(null!==i,s.name+" map value",null),s.V.kind){case"message":n=s.V.T().internalJsonRead(i,r);break;case"enum":if(!1===(n=this.enum(s.V.T(),i,s.name,r.ignoreUnknownFields)))continue;break;case"scalar":n=this.scalar(i,s.V.T,s.V.L,s.name)}this.assert(void 0!==n,s.name+" map value",i);let a=e;s.K==g.BOOL&&(a="true"==a||"false"!=a&&a),t[a=this.scalar(a,s.K,y.STRING,s.name).toString()]=n}}else if(s.repeat){if(null===a)continue;this.assert(Array.isArray(a),s.name,a);let t=e[o];for(let e of a){let i;switch(this.assert(null!==e,s.name,null),s.kind){case"message":i=s.T().internalJsonRead(e,r);break;case"enum":if(!1===(i=this.enum(s.T(),e,s.name,r.ignoreUnknownFields)))continue;break;case"scalar":i=this.scalar(e,s.T,s.L,s.name)}this.assert(void 0!==i,s.name,a),t.push(i)}}else switch(s.kind){case"message":if(null===a&&"google.protobuf.Value"!=s.T().typeName){this.assert(void 0===s.oneof,s.name+" (oneof member)",null);continue}e[o]=s.T().internalJsonRead(a,r,e[o]);break;case"enum":let l=this.enum(s.T(),a,s.name,r.ignoreUnknownFields);if(!1===l)continue;e[o]=l;break;case"scalar":e[o]=this.scalar(a,s.T,s.L,s.name)}}}enum(e,t,r,i){if("google.protobuf.NullValue"==e[0]&&e6(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${r}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return e6(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${r}, enum can only be integral number, got ${t}.`),t;case"string":let n=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(n=t.substring(e[2].length));let a=e[1][n];if(void 0===a&&i)return!1;return e6("number"==typeof a,`Unable to parse field ${this.info.typeName}#${r}, enum ${e[0]} has no value for "${t}".`),a}e6(!1,`Unable to parse field ${this.info.typeName}#${r}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,r,i){let n;try{switch(t){case g.DOUBLE:case g.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){n="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){n="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let i=Number(e);if(Number.isNaN(i)){n="not a number";break}if(!Number.isFinite(i)){n="too large or small";break}return t==g.FLOAT&&e9(i),i;case g.INT32:case g.FIXED32:case g.SFIXED32:case g.SINT32:case g.UINT32:let a;if(null===e)return 0;if("number"==typeof e?a=e:""===e?n="empty string":"string"==typeof e&&(e.trim().length!==e.length?n="extra whitespace":a=Number(e)),void 0===a)break;return t==g.UINT32?e7(a):e5(a),a;case g.INT64:case g.SFIXED64:case g.SINT64:if(null===e)return te(e4.ZERO,r);if("number"!=typeof e&&"string"!=typeof e)break;return te(e4.from(e),r);case g.FIXED64:case g.UINT64:if(null===e)return te(e8.ZERO,r);if("number"!=typeof e&&"string"!=typeof e)break;return te(e8.from(e),r);case g.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case g.STRING:if(null===e)return"";if("string"!=typeof e){n="extra whitespace";break}try{encodeURIComponent(e)}catch(e){break}return e;case g.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let r=new Uint8Array(t),i=0,n=0,a,s=0;for(let t=0;t<e.length;t++){if(void 0===(a=eG[e.charCodeAt(t)]))switch(e[t]){case"=":n=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(n){case 0:s=a,n=1;break;case 1:r[i++]=s<<2|(48&a)>>4,s=a,n=2;break;case 2:r[i++]=(15&s)<<4|(60&a)>>2,s=a,n=3;break;case 3:r[i++]=(3&s)<<6|a,n=0}}if(1==n)throw Error("invalid base64 string.");return r.subarray(0,i)}(e)}}catch(e){n=e.message}this.assert(!1,i+(n?" - "+n:""),e)}}class tr{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){let r={};for(let i of this.fields){if(!i.oneof){let n=this.field(i,e[i.localName],t);void 0!==n&&(r[t.useProtoFieldName?i.name:i.jsonName]=n);continue}let n=e[i.oneof];if(n.oneofKind!==i.localName)continue;let a="scalar"==i.kind||"enum"==i.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t,s=this.field(i,n[i.localName],a);e6(void 0!==s),r[t.useProtoFieldName?i.name:i.jsonName]=s}return r}field(e,t,r){let i;if("map"==e.kind){e6("object"==typeof t&&null!==t);let n={};switch(e.V.kind){case"scalar":for(let[r,i]of Object.entries(t)){let t=this.scalar(e.V.T,i,e.name,!1,!0);e6(void 0!==t),n[r.toString()]=t}break;case"message":let a=e.V.T();for(let[i,s]of Object.entries(t)){let t=this.message(a,s,e.name,r);e6(void 0!==t),n[i.toString()]=t}break;case"enum":let s=e.V.T();for(let[i,a]of Object.entries(t)){e6(void 0===a||"number"==typeof a);let t=this.enum(s,a,e.name,!1,!0,r.enumAsInteger);e6(void 0!==t),n[i.toString()]=t}}(r.emitDefaultValues||Object.keys(n).length>0)&&(i=n)}else if(e.repeat){e6(Array.isArray(t));let n=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++){let i=this.scalar(e.T,t[r],e.name,e.opt,!0);e6(void 0!==i),n.push(i)}break;case"enum":let a=e.T();for(let i=0;i<t.length;i++){e6(void 0===t[i]||"number"==typeof t[i]);let s=this.enum(a,t[i],e.name,e.opt,!0,r.enumAsInteger);e6(void 0!==s),n.push(s)}break;case"message":let s=e.T();for(let i=0;i<t.length;i++){let a=this.message(s,t[i],e.name,r);e6(void 0!==a),n.push(a)}}(r.emitDefaultValues||n.length>0||r.emitDefaultValues)&&(i=n)}else switch(e.kind){case"scalar":i=this.scalar(e.T,t,e.name,e.opt,r.emitDefaultValues);break;case"enum":i=this.enum(e.T(),t,e.name,e.opt,r.emitDefaultValues,r.enumAsInteger);break;case"message":i=this.message(e.T(),t,e.name,r)}return i}enum(e,t,r,i,n,a){if("google.protobuf.NullValue"==e[0])return n||i?null:void 0;if(void 0===t){e6(i);return}if(0!==t||n||i)return(e6("number"==typeof t),e6(Number.isInteger(t)),a||!e[1].hasOwnProperty(t))?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,r,i){return void 0===t?i.emitDefaultValues?null:void 0:e.internalJsonWrite(t,i)}scalar(e,t,r,i,n){if(void 0===t){e6(i);return}let a=n||i;switch(e){case g.INT32:case g.SFIXED32:case g.SINT32:if(0===t)return a?0:void 0;return e5(t),t;case g.FIXED32:case g.UINT32:if(0===t)return a?0:void 0;return e7(t),t;case g.FLOAT:e9(t);case g.DOUBLE:if(0===t)return a?0:void 0;if(e6("number"==typeof t),Number.isNaN(t))return"NaN";if(t===Number.POSITIVE_INFINITY)return"Infinity";if(t===Number.NEGATIVE_INFINITY)return"-Infinity";return t;case g.STRING:if(""===t)return a?"":void 0;return e6("string"==typeof t),t;case g.BOOL:if(!1===t)return!a&&void 0;return e6("boolean"==typeof t),t;case g.UINT64:case g.FIXED64:e6("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let s=e8.from(t);if(s.isZero()&&!a)return;return s.toString();case g.INT64:case g.SFIXED64:case g.SINT64:e6("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let o=e4.from(t);if(o.isZero()&&!a)return;return o.toString();case g.BYTES:if(e6(t instanceof Uint8Array),!t.byteLength)return a?"":void 0;return function(e){let t="",r=0,i,n=0;for(let a=0;a<e.length;a++)switch(i=e[a],r){case 0:t+=eW[i>>2],n=(3&i)<<4,r=1;break;case 1:t+=eW[n|i>>4],n=(15&i)<<2,r=2;break;case 2:t+=eW[n|i>>6]+eW[63&i],r=0}return r&&(t+=eW[n]+"=",1==r&&(t+="=")),t}(t)}}}function ti(e,t=y.STRING){switch(e){case g.BOOL:return!1;case g.UINT64:case g.FIXED64:return te(e8.ZERO,t);case g.INT64:case g.SFIXED64:case g.SINT64:return te(e4.ZERO,t);case g.DOUBLE:case g.FLOAT:return 0;case g.BYTES:return new Uint8Array(0);case g.STRING:return"";default:return 0}}(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(r,i,n,a,s)=>{(t(i)?i[e.symbol]:i[e.symbol]=[]).push({no:n,wireType:a,data:s})},e.onWrite=(t,r,i)=>{for(let{no:t,wireType:n,data:a}of e.list(r))i.tag(t,n).raw(a)},e.list=(r,i)=>{if(t(r)){let t=r[e.symbol];return i?t.filter(e=>e.no==i):t}return[]},e.last=(t,r)=>e.list(t,r).slice(-1)[0];let t=t=>t&&Array.isArray(t[e.symbol])})(b||(b={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(w||(w={}));class tn{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map(e=>[e.no,e]))}}read(e,t,r,i){this.prepare();let n=void 0===i?e.len:e.pos+i;for(;e.pos<n;){let[i,n]=e.tag(),a=this.fieldNoToField.get(i);if(!a){let a=r.readUnknownField;if("throw"==a)throw Error(`Unknown field ${i} (wire type ${n}) for ${this.info.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?b.onRead:a)(this.info.typeName,t,i,n,s);continue}let s=t,o=a.repeat,l=a.localName;switch(a.oneof&&(s=s[a.oneof]).oneofKind!==l&&(s=t[a.oneof]={oneofKind:l}),a.kind){case"scalar":case"enum":let c="enum"==a.kind?g.INT32:a.T,u="scalar"==a.kind?a.L:void 0;if(o){let t=s[l];if(n==w.LengthDelimited&&c!=g.STRING&&c!=g.BYTES){let r=e.uint32()+e.pos;for(;e.pos<r;)t.push(this.scalar(e,c,u))}else t.push(this.scalar(e,c,u))}else s[l]=this.scalar(e,c,u);break;case"message":if(o){let t=s[l],i=a.T().internalBinaryRead(e,e.uint32(),r);t.push(i)}else s[l]=a.T().internalBinaryRead(e,e.uint32(),r,s[l]);break;case"map":let[d,h]=this.mapEntry(a,e,r);s[l][d]=h}}}mapEntry(e,t,r){let i,n,a=t.uint32(),s=t.pos+a;for(;t.pos<s;){let[a,s]=t.tag();switch(a){case 1:i=e.K==g.BOOL?t.bool().toString():this.scalar(t,e.K,y.STRING);break;case 2:switch(e.V.kind){case"scalar":n=this.scalar(t,e.V.T,e.V.L);break;case"enum":n=t.int32();break;case"message":n=e.V.T().internalBinaryRead(t,t.uint32(),r)}break;default:throw Error(`Unknown field ${a} (wire type ${s}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===i){let t=ti(e.K);i=e.K==g.BOOL?t.toString():t}if(void 0===n)switch(e.V.kind){case"scalar":n=ti(e.V.T,e.V.L);break;case"enum":n=0;break;case"message":n=e.V.T().create()}return[i,n]}scalar(e,t,r){switch(t){case g.INT32:return e.int32();case g.STRING:return e.string();case g.BOOL:return e.bool();case g.DOUBLE:return e.double();case g.FLOAT:return e.float();case g.INT64:return te(e.int64(),r);case g.UINT64:return te(e.uint64(),r);case g.FIXED64:return te(e.fixed64(),r);case g.FIXED32:return e.fixed32();case g.BYTES:return e.bytes();case g.UINT32:return e.uint32();case g.SFIXED32:return e.sfixed32();case g.SFIXED64:return te(e.sfixed64(),r);case g.SINT32:return e.sint32();case g.SINT64:return te(e.sint64(),r)}}}class ta{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((e,t)=>e.no-t.no)}}write(e,t,r){for(let i of(this.prepare(),this.fields)){let n,a,s=i.repeat,o=i.localName;if(i.oneof){let t=e[i.oneof];if(t.oneofKind!==o)continue;n=t[o],a=!0}else n=e[o],a=!1;switch(i.kind){case"scalar":case"enum":let l="enum"==i.kind?g.INT32:i.T;if(s){if(e6(Array.isArray(n)),s==v.PACKED)this.packed(t,l,i.no,n);else for(let e of n)this.scalar(t,l,i.no,e,!0)}else void 0===n?e6(i.opt):this.scalar(t,l,i.no,n,a||i.opt);break;case"message":if(s)for(let e of(e6(Array.isArray(n)),n))this.message(t,r,i.T(),i.no,e);else this.message(t,r,i.T(),i.no,n);break;case"map":for(let[e,a]of(e6("object"==typeof n&&null!==n),Object.entries(n)))this.mapEntry(t,r,i,e,a)}}let i=r.writeUnknownFields;!1!==i&&(!0===i?b.onWrite:i)(this.info.typeName,e,t)}mapEntry(e,t,r,i,n){e.tag(r.no,w.LengthDelimited),e.fork();let a=i;switch(r.K){case g.INT32:case g.FIXED32:case g.UINT32:case g.SFIXED32:case g.SINT32:a=Number.parseInt(i);break;case g.BOOL:e6("true"==i||"false"==i),a="true"==i}switch(this.scalar(e,r.K,1,a,!0),r.V.kind){case"scalar":this.scalar(e,r.V.T,2,n,!0);break;case"enum":this.scalar(e,g.INT32,2,n,!0);break;case"message":this.message(e,t,r.V.T(),2,n)}e.join()}message(e,t,r,i,n){void 0!==n&&(r.internalBinaryWrite(n,e.tag(i,w.LengthDelimited).fork(),t),e.join())}scalar(e,t,r,i,n){let[a,s,o]=this.scalarInfo(t,i);(!o||n)&&(e.tag(r,a),e[s](i))}packed(e,t,r,i){if(!i.length)return;e6(t!==g.BYTES&&t!==g.STRING),e.tag(r,w.LengthDelimited),e.fork();let[,n]=this.scalarInfo(t);for(let t=0;t<i.length;t++)e[n](i[t]);e.join()}scalarInfo(e,t){let r,i=w.Varint,n=void 0===t,a=0===t;switch(e){case g.INT32:r="int32";break;case g.STRING:a=n||!t.length,i=w.LengthDelimited,r="string";break;case g.BOOL:a=!1===t,r="bool";break;case g.UINT32:r="uint32";break;case g.DOUBLE:i=w.Bit64,r="double";break;case g.FLOAT:i=w.Bit32,r="float";break;case g.INT64:a=n||e4.from(t).isZero(),r="int64";break;case g.UINT64:a=n||e8.from(t).isZero(),r="uint64";break;case g.FIXED64:a=n||e8.from(t).isZero(),i=w.Bit64,r="fixed64";break;case g.BYTES:a=n||!t.byteLength,i=w.LengthDelimited,r="bytes";break;case g.FIXED32:i=w.Bit32,r="fixed32";break;case g.SFIXED32:i=w.Bit32,r="sfixed32";break;case g.SFIXED64:a=n||e4.from(t).isZero(),i=w.Bit64,r="sfixed64";break;case g.SINT32:r="sint32";break;case g.SINT64:a=n||e4.from(t).isZero(),r="sint64"}return[i,r,n||a]}}function ts(e,t,r){let i,n;for(let a of e.fields){let e=a.localName;if(a.oneof){let s=r[a.oneof];if((null==s?void 0:s.oneofKind)==void 0)continue;if(i=s[e],(n=t[a.oneof]).oneofKind=s.oneofKind,void 0==i){delete n[e];continue}}else if(i=r[e],n=t,void 0==i)continue;switch(a.repeat&&(n[e].length=i.length),a.kind){case"scalar":case"enum":if(a.repeat)for(let t=0;t<i.length;t++)n[e][t]=i[t];else n[e]=i;break;case"message":let s=a.T();if(a.repeat)for(let t=0;t<i.length;t++)n[e][t]=s.create(i[t]);else void 0===n[e]?n[e]=s.create(i):s.mergePartial(n[e],i);break;case"map":switch(a.V.kind){case"scalar":case"enum":Object.assign(n[e],i);break;case"message":let o=a.V.T();for(let t of Object.keys(i))n[e][t]=o.create(i[t])}}}}let to={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},tl={ignoreUnknownFields:!1},tc=Object.values;function tu(e,t,r){if(t===r)return!0;if(e!==g.BYTES||t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=r[e])return!1;return!0}function td(e,t,r){if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!tu(e,t[i],r[i]))return!1;return!0}function th(e,t,r){if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!e.equals(t[i],r[i]))return!1;return!0}let tp={writeUnknownFields:!0,writerFactory:()=>new tf};class tf{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),r=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],r),r+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(e7(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return e5(e),eZ(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){e9(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){e7(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){e5(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return e5(e),eZ(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),i=e4.from(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),i=e8.from(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=e4.from(e);return eY(t.lo,t.hi,this.buf),this}sint64(e){let t=e4.from(e),r=t.hi>>31;return eY(t.lo<<1^r,(t.hi<<1|t.lo>>>31)^r,this.buf),this}uint64(e){let t=e8.from(e);return eY(t.lo,t.hi,this.buf),this}}let tm={readUnknownField:!0,readerFactory:e=>new tg(e)};class tg{constructor(e,t){this.varint64=eJ,this.uint32=e0,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,r=7&e;if(t<=0||r<0||r>5)throw Error("illegal tag: field no "+t+" wire type "+r);return[t,r]}skip(e){let t=this.pos;switch(e){case w.Varint:for(;128&this.buf[this.pos++];);break;case w.Bit64:this.pos+=4;case w.Bit32:this.pos+=4;break;case w.LengthDelimited:let r=this.uint32();this.pos+=r;break;case w.StartGroup:let i;for(;(i=this.tag()[1])!==w.EndGroup;)this.skip(i);break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new e4(...this.varint64())}uint64(){return new e8(...this.varint64())}sint64(){let[e,t]=this.varint64(),r=-(1&e);return new e4(e=(e>>>1|(1&t)<<31)^r,t=t>>>1^r)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new e8(this.sfixed32(),this.sfixed32())}sfixed64(){return new e4(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}let ty=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class tv{constructor(e,t,r){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(eF),this.options=null!=r?r:{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},ty),{[eq]:{value:this}})),this.refTypeCheck=new ez(this),this.refJsonReader=new tt(this),this.refJsonWriter=new tr(this),this.refBinReader=new tn(this),this.refBinWriter=new ta(this)}create(e){let t=function(e){let t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},eq,{value:e});for(let r of e.fields){let e=r.localName;if(!r.opt){if(r.oneof)t[r.oneof]={oneofKind:void 0};else if(r.repeat)t[e]=[];else switch(r.kind){case"scalar":t[e]=ti(r.T,r.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}}return t}(this);return void 0!==e&&ts(this,t,e),t}clone(e){let t=this.create();return ts(this,t,e),t}equals(e,t){return function(e,t,r){if(t===r)return!0;if(!t||!r)return!1;for(let i of e.fields){let e=i.localName,n=i.oneof?t[i.oneof][e]:t[e],a=i.oneof?r[i.oneof][e]:r[e];switch(i.kind){case"enum":case"scalar":let s="enum"==i.kind?g.INT32:i.T;if(!(i.repeat?td(s,n,a):tu(s,n,a)))return!1;break;case"map":if(!("message"==i.V.kind?th(i.V.T(),tc(n),tc(a)):td("enum"==i.V.kind?g.INT32:i.V.T,tc(n),tc(a))))return!1;break;case"message":let o=i.T();if(!(i.repeat?th(o,n,a):o.equals(n,a)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){ts(this,e,t)}fromBinary(e,t){let r=t?Object.assign(Object.assign({},tm),t):tm;return this.internalBinaryRead(r.readerFactory(e),e.byteLength,r)}fromJson(e,t){return this.internalJsonRead(e,t?Object.assign(Object.assign({},tl),t):tl)}fromJsonString(e,t){let r=JSON.parse(e);return this.fromJson(r,t)}toJson(e,t){return this.internalJsonWrite(e,t?Object.assign(Object.assign({},to),t):to)}toJsonString(e,t){var r;return JSON.stringify(this.toJson(e,t),null,null!==(r=null==t?void 0:t.prettySpaces)&&void 0!==r?r:0)}toBinary(e,t){let r=t?Object.assign(Object.assign({},tp),t):tp;return this.internalBinaryWrite(e,r.writerFactory(),r).finish()}internalJsonRead(e,t,r){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let i=null!=r?r:this.create();return this.refJsonReader.read(e,i,t),i}throw Error(`Unable to parse message ${this.typeName} from JSON ${eV(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,r){return this.refBinWriter.write(e,t,r),t}internalBinaryRead(e,t,r,i){let n=null!=i?i:this.create();return this.refBinReader.read(e,n,r,t),n}}class tb{constructor(e,t,r){this.typeName=e,this.methods=t.map(e=>(function(e,t){var r,i,n;return e.service=t,e.localName=null!==(r=e.localName)&&void 0!==r?r:e$(e.name),e.serverStreaming=!!e.serverStreaming,e.clientStreaming=!!e.clientStreaming,e.options=null!==(i=e.options)&&void 0!==i?i:{},e.idempotency=null!==(n=e.idempotency)&&void 0!==n?n:void 0,e})(e,this)),this.options=null!=r?r:{}}}function tw(e,t,r,i,n){var a,s,o,l;if("unary"==e){let e=(e,r,i)=>t.unary(e,r,i);for(let t of(null!==(a=i.interceptors)&&void 0!==a?a:[]).filter(e=>e.interceptUnary).reverse()){let r=e;e=(e,i,n)=>t.interceptUnary(r,e,i,n)}return e(r,n,i)}if("serverStreaming"==e){let e=(e,r,i)=>t.serverStreaming(e,r,i);for(let t of(null!==(s=i.interceptors)&&void 0!==s?s:[]).filter(e=>e.interceptServerStreaming).reverse()){let r=e;e=(e,i,n)=>t.interceptServerStreaming(r,e,i,n)}return e(r,n,i)}if("clientStreaming"==e){let e=(e,r)=>t.clientStreaming(e,r);for(let t of(null!==(o=i.interceptors)&&void 0!==o?o:[]).filter(e=>e.interceptClientStreaming).reverse()){let r=e;e=(e,i)=>t.interceptClientStreaming(r,e,i)}return e(r,i)}if("duplex"==e){let e=(e,r)=>t.duplex(e,r);for(let t of(null!==(l=i.interceptors)&&void 0!==l?l:[]).filter(e=>e.interceptDuplex).reverse()){let r=e;e=(e,i)=>t.interceptDuplex(r,e,i)}return e(r,i)}!function(e,t){throw Error(null!=t?t:"Unexpected object: "+e)}(e)}function tS(e,t){return function(){return e.apply(t,arguments)}}let{toString:t_}=Object.prototype,{getPrototypeOf:tx}=Object,tk=(d=Object.create(null),e=>{let t=t_.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())}),tE=e=>(e=e.toLowerCase(),t=>tk(t)===e),tC=e=>t=>typeof t===e,{isArray:tR}=Array,tA=tC("undefined"),tT=tE("ArrayBuffer"),tP=tC("string"),tO=tC("function"),tI=tC("number"),tN=e=>null!==e&&"object"==typeof e,tj=e=>{if("object"!==tk(e))return!1;let t=tx(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tB=tE("Date"),tU=tE("File"),tL=tE("Blob"),tM=tE("FileList"),tD=tE("URLSearchParams"),[tK,tq,t$,tF]=["ReadableStream","Request","Response","Headers"].map(tE);function tz(e,t,{allOwnKeys:r=!1}={}){let i,n;if(null!=e){if("object"!=typeof e&&(e=[e]),tR(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{let n;let a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;for(i=0;i<s;i++)n=a[i],t.call(null,e[n],n,e)}}}function tV(e,t){let r;t=t.toLowerCase();let i=Object.keys(e),n=i.length;for(;n-- >0;)if(t===(r=i[n]).toLowerCase())return r;return null}let tH="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,tW=e=>!tA(e)&&e!==tH,tG=(h="undefined"!=typeof Uint8Array&&tx(Uint8Array),e=>h&&e instanceof h),tJ=tE("HTMLFormElement"),tY=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),tX=tE("RegExp"),tQ=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),i={};tz(r,(r,n)=>{let a;!1!==(a=t(r,n,e))&&(i[n]=a||r)}),Object.defineProperties(e,i)},tZ="abcdefghijklmnopqrstuvwxyz",t0="0123456789",t1={DIGIT:t0,ALPHA:tZ,ALPHA_DIGIT:tZ+tZ.toUpperCase()+t0},t2=tE("AsyncFunction"),t3={isArray:tR,isArrayBuffer:tT,isBuffer:function(e){return null!==e&&!tA(e)&&null!==e.constructor&&!tA(e.constructor)&&tO(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||tO(e.append)&&("formdata"===(t=tk(e))||"object"===t&&tO(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tT(e.buffer)},isString:tP,isNumber:tI,isBoolean:e=>!0===e||!1===e,isObject:tN,isPlainObject:tj,isReadableStream:tK,isRequest:tq,isResponse:t$,isHeaders:tF,isUndefined:tA,isDate:tB,isFile:tU,isBlob:tL,isRegExp:tX,isFunction:tO,isStream:e=>tN(e)&&tO(e.pipe),isURLSearchParams:tD,isTypedArray:tG,isFileList:tM,forEach:tz,merge:function e(){let{caseless:t}=tW(this)&&this||{},r={},i=(i,n)=>{let a=t&&tV(r,n)||n;tj(r[a])&&tj(i)?r[a]=e(r[a],i):tj(i)?r[a]=e({},i):tR(i)?r[a]=i.slice():r[a]=i};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&tz(arguments[e],i);return r},extend:(e,t,r,{allOwnKeys:i}={})=>(tz(t,(t,i)=>{r&&tO(t)?e[i]=tS(t,r):e[i]=t},{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,i)=>{let n,a,s;let o={};if(t=t||{},null==e)return t;do{for(a=(n=Object.getOwnPropertyNames(e)).length;a-- >0;)s=n[a],(!i||i(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=!1!==r&&tx(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:tk,kindOfTest:tE,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let i=e.indexOf(t,r);return -1!==i&&i===r},toArray:e=>{if(!e)return null;if(tR(e))return e;let t=e.length;if(!tI(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r;let i=(e&&e[Symbol.iterator]).call(e);for(;(r=i.next())&&!r.done;){let i=r.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let r;let i=[];for(;null!==(r=e.exec(t));)i.push(r);return i},isHTMLForm:tJ,hasOwnProperty:tY,hasOwnProp:tY,reduceDescriptors:tQ,freezeMethods:e=>{tQ(e,(t,r)=>{if(tO(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;if(tO(e[r])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(e=>{e.forEach(e=>{r[e]=!0})})(tR(e)?e:String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:tV,global:tH,isContextDefined:tW,ALPHABET:t1,generateString:(e=16,t=t1.ALPHA_DIGIT)=>{let r="",{length:i}=t;for(;e--;)r+=t[Math.random()*i|0];return r},isSpecCompliantForm:function(e){return!!(e&&tO(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),r=(e,i)=>{if(tN(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;let n=tR(e)?[]:{};return tz(e,(e,t)=>{let a=r(e,i+1);tA(a)||(n[t]=a)}),t[i]=void 0,n}}return e};return r(e,0)},isAsyncFn:t2,isThenable:e=>e&&(tN(e)||tO(e))&&tO(e.then)&&tO(e.catch)};function t8(e,t,r,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n)}t3.inherits(t8,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:t3.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let t4=t8.prototype,t6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{t6[e]={value:e}}),Object.defineProperties(t8,t6),Object.defineProperty(t4,"isAxiosError",{value:!0}),t8.from=(e,t,r,i,n,a)=>{let s=Object.create(t4);return t3.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),t8.call(s,e.message,t,r,i,n),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};var t5=r(93675);function t7(e){return t3.isPlainObject(e)||t3.isArray(e)}function t9(e){return t3.endsWith(e,"[]")?e.slice(0,-2):e}function re(e,t,r){return e?e.concat(t).map(function(e,t){return e=t9(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}let rt=t3.toFlatObject(t3,{},null,function(e){return/^is[A-Z]/.test(e)}),rr=function(e,t,r){if(!t3.isObject(e))throw TypeError("target must be an object");t=t||new(t5||FormData);let i=(r=t3.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!t3.isUndefined(t[e])})).metaTokens,n=r.visitor||c,a=r.dots,s=r.indexes,o=(r.Blob||"undefined"!=typeof Blob&&Blob)&&t3.isSpecCompliantForm(t);if(!t3.isFunction(n))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(t3.isDate(e))return e.toISOString();if(!o&&t3.isBlob(e))throw new t8("Blob is not supported. Use a Buffer instead.");return t3.isArrayBuffer(e)||t3.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let o=e;if(e&&!n&&"object"==typeof e){if(t3.endsWith(r,"{}"))r=i?r:r.slice(0,-2),e=JSON.stringify(e);else{var c;if(t3.isArray(e)&&(c=e,t3.isArray(c)&&!c.some(t7))||(t3.isFileList(e)||t3.endsWith(r,"[]"))&&(o=t3.toArray(e)))return r=t9(r),o.forEach(function(e,i){t3.isUndefined(e)||null===e||t.append(!0===s?re([r],i,a):null===s?r:r+"[]",l(e))}),!1}}return!!t7(e)||(t.append(re(n,r,a),l(e)),!1)}let u=[],d=Object.assign(rt,{defaultVisitor:c,convertValue:l,isVisitable:t7});if(!t3.isObject(e))throw TypeError("data must be an object");return function e(r,i){if(!t3.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+i.join("."));u.push(r),t3.forEach(r,function(r,a){!0===(!(t3.isUndefined(r)||null===r)&&n.call(t,r,t3.isString(a)?a.trim():a,i,d))&&e(r,i?i.concat(a):[a])}),u.pop()}}(e),t};function ri(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function rn(e,t){this._pairs=[],e&&rr(e,this,t)}let ra=rn.prototype;function rs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ro(e,t,r){let i;if(!t)return e;let n=r&&r.encode||rs,a=r&&r.serialize;if(i=a?a(t,r):t3.isURLSearchParams(t)?t.toString():new rn(t,r).toString(n)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}ra.append=function(e,t){this._pairs.push([e,t])},ra.toString=function(e){let t=e?function(t){return e.call(this,t,ri)}:ri;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class rl{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){t3.forEach(this.handlers,function(t){null!==t&&e(t)})}}let rc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ru={isNode:!0,classes:{URLSearchParams:r(57310).URLSearchParams,FormData:t5,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]},rd="undefined"!=typeof window&&"undefined"!=typeof document,rh=(p="undefined"!=typeof navigator&&navigator.product,rd&&0>["ReactNative","NativeScript","NS"].indexOf(p)),rp="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,rf=rd&&window.location.href||"http://localhost",rm={...z,...ru},rg=function(e){if(t3.isFormData(e)&&t3.isFunction(e.entries)){let t={};return t3.forEachEntry(e,(e,r)=>{!function e(t,r,i,n){let a=t[n++];if("__proto__"===a)return!0;let s=Number.isFinite(+a),o=n>=t.length;return(a=!a&&t3.isArray(i)?i.length:a,o)?t3.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r:(i[a]&&t3.isObject(i[a])||(i[a]=[]),e(t,r,i[a],n)&&t3.isArray(i[a])&&(i[a]=function(e){let t,r;let i={},n=Object.keys(e),a=n.length;for(t=0;t<a;t++)i[r=n[t]]=e[r];return i}(i[a]))),!s}(t3.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null},ry={transitional:rc,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r;let i=t.getContentType()||"",n=i.indexOf("application/json")>-1,a=t3.isObject(e);if(a&&t3.isHTMLForm(e)&&(e=new FormData(e)),t3.isFormData(e))return n?JSON.stringify(rg(e)):e;if(t3.isArrayBuffer(e)||t3.isBuffer(e)||t3.isStream(e)||t3.isFile(e)||t3.isBlob(e)||t3.isReadableStream(e))return e;if(t3.isArrayBufferView(e))return e.buffer;if(t3.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1){var s,o;return(s=e,o=this.formSerializer,rr(s,new rm.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,i){return rm.isNode&&t3.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},o))).toString()}if((r=t3.isFileList(e))||i.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return rr(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(t3.isString(e))try{return(0,JSON.parse)(e),t3.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||ry.transitional,r=t&&t.forcedJSONParsing,i="json"===this.responseType;if(t3.isResponse(e)||t3.isReadableStream(e))return e;if(e&&t3.isString(e)&&(r&&!this.responseType||i)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!r&&i){if("SyntaxError"===e.name)throw t8.from(e,t8.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rm.classes.FormData,Blob:rm.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};t3.forEach(["delete","get","head","post","put","patch"],e=>{ry.headers[e]={}});let rv=t3.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rb=e=>{let t,r,i;let n={};return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!t||n[t]&&rv[t]||("set-cookie"===t?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},rw=Symbol("internals");function rS(e){return e&&String(e).trim().toLowerCase()}function r_(e){return!1===e||null==e?e:t3.isArray(e)?e.map(r_):String(e)}let rx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function rk(e,t,r,i,n){if(t3.isFunction(i))return i.call(this,t,r);if(n&&(t=r),t3.isString(t)){if(t3.isString(i))return -1!==t.indexOf(i);if(t3.isRegExp(i))return i.test(t)}}class rE{constructor(e){e&&this.set(e)}set(e,t,r){let i=this;function n(e,t,r){let n=rS(t);if(!n)throw Error("header name must be a non-empty string");let a=t3.findKey(i,n);a&&void 0!==i[a]&&!0!==r&&(void 0!==r||!1===i[a])||(i[a||t]=r_(e))}let a=(e,t)=>t3.forEach(e,(e,r)=>n(e,r,t));if(t3.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(t3.isString(e)&&(e=e.trim())&&!rx(e))a(rb(e),t);else if(t3.isHeaders(e))for(let[t,i]of e.entries())n(i,t,r);else null!=e&&n(t,e,r);return this}get(e,t){if(e=rS(e)){let r=t3.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t)return function(e){let t;let r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=i.exec(e);)r[t[1]]=t[2];return r}(e);if(t3.isFunction(t))return t.call(this,e,r);if(t3.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rS(e)){let r=t3.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||rk(this,this[r],r,t)))}return!1}delete(e,t){let r=this,i=!1;function n(e){if(e=rS(e)){let n=t3.findKey(r,e);n&&(!t||rk(r,r[n],n,t))&&(delete r[n],i=!0)}}return t3.isArray(e)?e.forEach(n):n(e),i}clear(e){let t=Object.keys(this),r=t.length,i=!1;for(;r--;){let n=t[r];(!e||rk(this,this[n],n,e,!0))&&(delete this[n],i=!0)}return i}normalize(e){let t=this,r={};return t3.forEach(this,(i,n)=>{let a=t3.findKey(r,n);if(a){t[a]=r_(i),delete t[n];return}let s=e?n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(n).trim();s!==n&&delete t[n],t[s]=r_(i),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return t3.forEach(this,(r,i)=>{null!=r&&!1!==r&&(t[i]=e&&t3.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=(this[rw]=this[rw]={accessors:{}}).accessors,r=this.prototype;function i(e){let i=rS(e);t[i]||(function(e,t){let r=t3.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+r,{value:function(e,r,n){return this[i].call(this,t,e,r,n)},configurable:!0})})}(r,e),t[i]=!0)}return t3.isArray(e)?e.forEach(i):i(e),this}}function rC(e,t){let r=this||ry,i=t||r,n=rE.from(i.headers),a=i.data;return t3.forEach(e,function(e){a=e.call(r,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function rR(e){return!!(e&&e.__CANCEL__)}function rA(e,t,r){t8.call(this,null==e?"canceled":e,t8.ERR_CANCELED,t,r),this.name="CanceledError"}function rT(e,t,r){let i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new t8("Request failed with status code "+r.status,[t8.ERR_BAD_REQUEST,t8.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function rP(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}rE.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),t3.reduceDescriptors(rE.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),t3.freezeMethods(rE),t3.inherits(rA,t8,{__CANCEL__:!0});var rO=r(86886),rI=r(13685),rN=r(95687),rj=r.n(rN),rB=r(73837),rU=r(42136),rL=r(59796);let rM="1.7.2";function rD(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}let rK=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var rq=r(12781);let r$=function(e,t){let r=0,i=1e3/t,n=null;return function(){let t=Date.now();if(this===!0||t-r>i)return n&&(clearTimeout(n),n=null),r=t,e.apply(null,arguments);n||(n=setTimeout(()=>(n=null,r=Date.now(),e.apply(null,arguments)),i-(t-r)))}},rF=function(e,t){let r;let i=Array(e=e||10),n=Array(e),a=0,s=0;return t=void 0!==t?t:1e3,function(o){let l=Date.now(),c=n[s];r||(r=l),i[a]=o,n[a]=l;let u=s,d=0;for(;u!==a;)d+=i[u++],u%=e;if((a=(a+1)%e)===s&&(s=(s+1)%e),l-r<t)return;let h=c&&l-c;return h?Math.round(1e3*d/h):void 0}},rz=Symbol("internals");class rV extends rq.Transform{constructor(e){super({readableHighWaterMark:(e=t3.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!t3.isUndefined(t[e]))).chunkSize});let t=this,r=this[rz]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},i=rF(r.ticksRate*e.samplesCount,r.timeWindow);this.on("newListener",e=>{"progress"!==e||r.isCaptured||(r.isCaptured=!0)});let n=0;r.updateProgress=r$(function(){let e=r.length,a=r.bytesSeen,s=a-n;if(!s||t.destroyed)return;let o=i(s);n=a,process.nextTick(()=>{t.emit("progress",{loaded:a,total:e,progress:e?a/e:void 0,bytes:s,rate:o||void 0,estimated:o&&e&&a<=e?(e-a)/o:void 0,lengthComputable:null!=e})})},r.ticksRate);let a=()=>{r.updateProgress.call(!0)};this.once("end",a),this.once("error",a)}_read(e){let t=this[rz];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,r){let i=this,n=this[rz],a=n.maxRate,s=this.readableHighWaterMark,o=n.timeWindow,l=a/(1e3/o),c=!1!==n.minChunkSize?Math.max(n.minChunkSize,.01*l):0,u=(e,t)=>{let r;let u=Buffer.byteLength(e),d=null,h=s,p=0;if(a){let e=Date.now();(!n.ts||(p=e-n.ts)>=o)&&(n.ts=e,r=l-n.bytes,n.bytes=r<0?-r:0,p=0),r=l-n.bytes}if(a){if(r<=0)return setTimeout(()=>{t(null,e)},o-p);r<h&&(h=r)}h&&u>h&&u-h>c&&(d=e.subarray(h),e=e.subarray(0,h)),function(e,t){let r=Buffer.byteLength(e);n.bytesSeen+=r,n.bytes+=r,n.isCaptured&&n.updateProgress(),i.push(e)?process.nextTick(t):n.onReadCallback=()=>{n.onReadCallback=null,process.nextTick(t)}}(e,d?()=>{process.nextTick(t,null,d)}:t)};u(e,function e(t,i){if(t)return r(t);i?u(i,e):r(null)})}setLength(e){return this[rz].length=+e,this}}var rH=r(82361);let{asyncIterator:rW}=Symbol,rG=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[rW]?yield*e[rW]():yield e},rJ=t3.ALPHABET.ALPHA_DIGIT+"-_",rY=new rB.TextEncoder,rX=rY.encode("\r\n");class rQ{constructor(e,t){let{escapeName:r}=this.constructor,i=t3.isString(t),n=`Content-Disposition: form-data; name="${r(e)}"${!i&&t.name?`; filename="${r(t.name)}"`:""}\r
`;i?t=rY.encode(String(t).replace(/\r?\n|\r\n?/g,"\r\n")):n+=`Content-Type: ${t.type||"application/octet-stream"}\r
`,this.headers=rY.encode(n+"\r\n"),this.contentLength=i?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async *encode(){yield this.headers;let{value:e}=this;t3.isTypedArray(e)?yield e:yield*rG(e),yield rX}static escapeName(e){return String(e).replace(/[\r\n"]/g,e=>({"\r":"%0D","\n":"%0A",'"':"%22"})[e])}}let rZ=(e,t,r)=>{let{tag:i="form-data-boundary",size:n=25,boundary:a=i+"-"+t3.generateString(n,rJ)}=r||{};if(!t3.isFormData(e))throw TypeError("FormData instance required");if(a.length<1||a.length>70)throw Error("boundary must be 10-70 characters long");let s=rY.encode("--"+a+"\r\n"),o=rY.encode("--"+a+"--\r\n\r\n"),l=o.byteLength,c=Array.from(e.entries()).map(([e,t])=>{let r=new rQ(e,t);return l+=r.size,r});l+=s.byteLength*c.length;let u={"Content-Type":`multipart/form-data; boundary=${a}`};return Number.isFinite(l=t3.toFiniteNumber(l))&&(u["Content-Length"]=l),t&&t(u),rq.Readable.from(async function*(){for(let e of c)yield s,yield*e.encode();yield o}())};class r0 extends rq.Transform{__transform(e,t,r){this.push(e),r()}_transform(e,t,r){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){let e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,r)}}let r1=(e,t)=>t3.isAsyncFn(e)?function(...r){let i=r.pop();e.apply(this,r).then(e=>{try{t?i(null,...t(e)):i(null,e)}catch(e){i(e)}},i)}:e,r2={flush:rL.constants.Z_SYNC_FLUSH,finishFlush:rL.constants.Z_SYNC_FLUSH},r3={flush:rL.constants.BROTLI_OPERATION_FLUSH,finishFlush:rL.constants.BROTLI_OPERATION_FLUSH},r8=t3.isFunction(rL.createBrotliDecompress),{http:r4,https:r6}=rU,r5=/https:?/,r7=rm.protocols.map(e=>e+":");function r9(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}let ie="undefined"!=typeof process&&"process"===t3.kindOf(process),it=e=>new Promise((t,r)=>{let i,n;let a=(e,t)=>{!n&&(n=!0,i&&i(e,t))},s=e=>{a(e,!0),r(e)};e(e=>{a(e),t(e)},s,e=>i=e).catch(s)}),ir=({address:e,family:t})=>{if(!t3.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(0>e.indexOf(".")?6:4)}},ii=(e,t)=>ir(t3.isObject(e)?e:{address:e,family:t}),ia=ie&&function(e){return it(async function(t,r,i){let n,a,s,o,l,c,u,{data:d,lookup:h,family:p}=e,{responseType:f,responseEncoding:m}=e,g=e.method.toUpperCase(),y=!1;if(h){let e=r1(h,e=>t3.isArray(e)?e:[e]);h=(t,r,i)=>{e(t,r,(e,t,n)=>{if(e)return i(e);let a=t3.isArray(t)?t.map(e=>ii(e)):[ii(t,n)];r.all?i(e,a):i(e,a[0].address,a[0].family)})}}let v=new rH.EventEmitter,b=()=>{e.cancelToken&&e.cancelToken.unsubscribe(w),e.signal&&e.signal.removeEventListener("abort",w),v.removeAllListeners()};function w(t){v.emit("abort",!t||t.type?new rA(null,e,l):t)}i((e,t)=>{o=!0,t&&(y=!0,b())}),v.once("abort",r),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(w),e.signal&&(e.signal.aborted?w():e.signal.addEventListener("abort",w)));let S=rP(e.baseURL,e.url),_=new URL(S,"http://localhost"),x=_.protocol||r7[0];if("data:"===x){let i;if("GET"!==g)return rT(t,r,{status:405,statusText:"method not allowed",headers:{},config:e});try{i=function(e,t,r){let i=r&&r.Blob||rm.classes.Blob,n=rD(e);if(void 0===t&&i&&(t=!0),"data"===n){e=n.length?e.slice(n.length+1):e;let r=rK.exec(e);if(!r)throw new t8("Invalid URL",t8.ERR_INVALID_URL);let a=r[1],s=r[2],o=r[3],l=Buffer.from(decodeURIComponent(o),s?"base64":"utf8");if(t){if(!i)throw new t8("Blob is not supported",t8.ERR_NOT_SUPPORT);return new i([l],{type:a})}return l}throw new t8("Unsupported protocol "+n,t8.ERR_NOT_SUPPORT)}(e.url,"blob"===f,{Blob:e.env&&e.env.Blob})}catch(t){throw t8.from(t,t8.ERR_BAD_REQUEST,e)}return"text"===f?(i=i.toString(m),m&&"utf8"!==m||(i=t3.stripBOM(i))):"stream"===f&&(i=rq.Readable.from(i)),rT(t,r,{data:i,status:200,statusText:"OK",headers:new rE,config:e})}if(-1===r7.indexOf(x))return r(new t8("Unsupported protocol "+x,t8.ERR_BAD_REQUEST,e));let k=rE.from(e.headers).normalize();k.set("User-Agent","axios/"+rM,!1);let E=e.onDownloadProgress,C=e.onUploadProgress,R=e.maxRate;if(t3.isSpecCompliantForm(d)){let e=k.getContentType(/boundary=([-_\w\d]{10,70})/i);d=rZ(d,e=>{k.set(e)},{tag:`axios-${rM}-boundary`,boundary:e&&e[1]||void 0})}else if(t3.isFormData(d)&&t3.isFunction(d.getHeaders)){if(k.set(d.getHeaders()),!k.hasContentLength())try{let e=await rB.promisify(d.getLength).call(d);Number.isFinite(e)&&e>=0&&k.setContentLength(e)}catch(e){}}else if(t3.isBlob(d))d.size&&k.setContentType(d.type||"application/octet-stream"),k.setContentLength(d.size||0),d=rq.Readable.from(rG(d));else if(d&&!t3.isStream(d)){if(Buffer.isBuffer(d));else if(t3.isArrayBuffer(d))d=Buffer.from(new Uint8Array(d));else{if(!t3.isString(d))return r(new t8("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t8.ERR_BAD_REQUEST,e));d=Buffer.from(d,"utf-8")}if(k.setContentLength(d.length,!1),e.maxBodyLength>-1&&d.length>e.maxBodyLength)return r(new t8("Request body larger than maxBodyLength limit",t8.ERR_BAD_REQUEST,e))}let A=t3.toFiniteNumber(k.getContentLength());t3.isArray(R)?(n=R[0],a=R[1]):n=a=R,d&&(C||n)&&(t3.isStream(d)||(d=rq.Readable.from(d,{objectMode:!1})),d=rq.pipeline([d,new rV({length:A,maxRate:t3.toFiniteNumber(n)})],t3.noop),C&&d.on("progress",e=>{C(Object.assign(e,{upload:!0}))})),e.auth&&(s=(e.auth.username||"")+":"+(e.auth.password||"")),!s&&_.username&&(s=_.username+":"+_.password),s&&k.delete("authorization");try{c=ro(_.pathname+_.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(i){let t=Error(i.message);return t.config=e,t.url=e.url,t.exists=!0,r(t)}k.set("Accept-Encoding","gzip, compress, deflate"+(r8?", br":""),!1);let T={path:c,method:g,headers:k.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:s,protocol:x,family:p,beforeRedirect:r9,beforeRedirects:{}};t3.isUndefined(h)||(T.lookup=h),e.socketPath?T.socketPath=e.socketPath:(T.hostname=_.hostname,T.port=_.port,function e(t,r,i){let n=r;if(!n&&!1!==n){let e=(0,rO.j)(i);e&&(n=new URL(e))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let e=Buffer.from(n.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+e}t.headers.host=t.hostname+(t.port?":"+t.port:"");let e=n.hostname||n.host;t.hostname=e,t.host=e,t.port=n.port,t.path=i,n.protocol&&(t.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}t.beforeRedirects.proxy=function(t){e(t,r,t.href)}}(T,e.proxy,x+"//"+_.hostname+(_.port?":"+_.port:"")+T.path));let P=r5.test(T.protocol);if(T.agent=P?e.httpsAgent:e.httpAgent,e.transport?u=e.transport:0===e.maxRedirects?u=P?rN:rI:(e.maxRedirects&&(T.maxRedirects=e.maxRedirects),e.beforeRedirect&&(T.beforeRedirects.config=e.beforeRedirect),u=P?r6:r4),e.maxBodyLength>-1?T.maxBodyLength=e.maxBodyLength:T.maxBodyLength=1/0,e.insecureHTTPParser&&(T.insecureHTTPParser=e.insecureHTTPParser),l=u.request(T,function(i){if(l.destroyed)return;let n=[i],s=+i.headers["content-length"];if(E){let e=new rV({length:t3.toFiniteNumber(s),maxRate:t3.toFiniteNumber(a)});E&&e.on("progress",e=>{E(Object.assign(e,{download:!0}))}),n.push(e)}let o=i,c=i.req||l;if(!1!==e.decompress&&i.headers["content-encoding"])switch(("HEAD"===g||204===i.statusCode)&&delete i.headers["content-encoding"],(i.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":n.push(rL.createUnzip(r2)),delete i.headers["content-encoding"];break;case"deflate":n.push(new r0),n.push(rL.createUnzip(r2)),delete i.headers["content-encoding"];break;case"br":r8&&(n.push(rL.createBrotliDecompress(r3)),delete i.headers["content-encoding"])}o=n.length>1?rq.pipeline(n,t3.noop):n[0];let u=rq.finished(o,()=>{u(),b()}),d={status:i.statusCode,statusText:i.statusMessage,headers:new rE(i.headers),config:e,request:c};if("stream"===f)d.data=o,rT(t,r,d);else{let i=[],n=0;o.on("data",function(t){i.push(t),n+=t.length,e.maxContentLength>-1&&n>e.maxContentLength&&(y=!0,o.destroy(),r(new t8("maxContentLength size of "+e.maxContentLength+" exceeded",t8.ERR_BAD_RESPONSE,e,c)))}),o.on("aborted",function(){if(y)return;let t=new t8("maxContentLength size of "+e.maxContentLength+" exceeded",t8.ERR_BAD_RESPONSE,e,c);o.destroy(t),r(t)}),o.on("error",function(t){l.destroyed||r(t8.from(t,null,e,c))}),o.on("end",function(){try{let e=1===i.length?i[0]:Buffer.concat(i);"arraybuffer"===f||(e=e.toString(m),m&&"utf8"!==m||(e=t3.stripBOM(e))),d.data=e}catch(t){return r(t8.from(t,null,e,d.request,d))}rT(t,r,d)})}v.once("abort",e=>{o.destroyed||(o.emit("error",e),o.destroy())})}),v.once("abort",e=>{r(e),l.destroy(e)}),l.on("error",function(t){r(t8.from(t,null,e,l))}),l.on("socket",function(e){e.setKeepAlive(!0,6e4)}),e.timeout){let t=parseInt(e.timeout,10);if(Number.isNaN(t)){r(new t8("error trying to parse `config.timeout` to int",t8.ERR_BAD_OPTION_VALUE,e,l));return}l.setTimeout(t,function(){if(o)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||rc;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new t8(t,i.clarifyTimeoutError?t8.ETIMEDOUT:t8.ECONNABORTED,e,l)),w()})}if(t3.isStream(d)){let t=!1,r=!1;d.on("end",()=>{t=!0}),d.once("error",e=>{r=!0,l.destroy(e)}),d.on("close",()=>{t||r||w(new rA("Request stream has been aborted",e,l))}),d.pipe(l)}else l.end(d)})},is=(e,t,r=3)=>{let i=0,n=rF(50,250);return r$(r=>{let a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-i,l=n(o);i=a;let c={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:r,lengthComputable:null!=s};c[t?"download":"upload"]=!0,e(c)},r)},io=rm.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){let i=e;return t&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){let r=t3.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},il=rm.hasStandardBrowserEnv?{write(e,t,r,i,n,a){let s=[e+"="+encodeURIComponent(t)];t3.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),t3.isString(i)&&s.push("path="+i),t3.isString(n)&&s.push("domain="+n),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},ic=e=>e instanceof rE?{...e}:e;function iu(e,t){t=t||{};let r={};function i(e,t,r){return t3.isPlainObject(e)&&t3.isPlainObject(t)?t3.merge.call({caseless:r},e,t):t3.isPlainObject(t)?t3.merge({},t):t3.isArray(t)?t.slice():t}function n(e,t,r){return t3.isUndefined(t)?t3.isUndefined(e)?void 0:i(void 0,e,r):i(e,t,r)}function a(e,t){if(!t3.isUndefined(t))return i(void 0,t)}function s(e,t){return t3.isUndefined(t)?t3.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(r,n,a){return a in t?i(r,n):a in e?i(void 0,r):void 0}let l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>n(ic(e),ic(t),!0)};return t3.forEach(Object.keys(Object.assign({},e,t)),function(i){let a=l[i]||n,s=a(e[i],t[i],i);t3.isUndefined(s)&&a!==o||(r[i]=s)}),r}let id=e=>{let t;let r=iu({},e),{data:i,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=r;if(r.headers=o=rE.from(o),r.url=ro(rP(r.baseURL,r.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),t3.isFormData(i)){if(rm.hasStandardBrowserEnv||rm.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(t=o.getContentType())){let[e,...r]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...r].join("; "))}}if(rm.hasStandardBrowserEnv&&(n&&t3.isFunction(n)&&(n=n(r)),n||!1!==n&&io(r.url))){let e=a&&s&&il.read(s);e&&o.set(a,e)}return r},ih="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){let i;let n=id(e),a=n.data,s=rE.from(n.headers).normalize(),{responseType:o}=n;function l(){n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let c=new XMLHttpRequest;function u(){if(!c)return;let i=rE.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());rT(function(e){t(e),l()},function(e){r(e),l()},{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:i,config:e,request:c}),c=null}c.open(n.method.toUpperCase(),n.url,!0),c.timeout=n.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(r(new t8("Request aborted",t8.ECONNABORTED,n,c)),c=null)},c.onerror=function(){r(new t8("Network Error",t8.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",t=n.transitional||rc;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new t8(e,t.clarifyTimeoutError?t8.ETIMEDOUT:t8.ECONNABORTED,n,c)),c=null},void 0===a&&s.setContentType(null),"setRequestHeader"in c&&t3.forEach(s.toJSON(),function(e,t){c.setRequestHeader(t,e)}),t3.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&"json"!==o&&(c.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&c.addEventListener("progress",is(n.onDownloadProgress,!0)),"function"==typeof n.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",is(n.onUploadProgress)),(n.cancelToken||n.signal)&&(i=t=>{c&&(r(!t||t.type?new rA(null,e,c):t),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));let d=rD(n.url);if(d&&-1===rm.protocols.indexOf(d)){r(new t8("Unsupported protocol "+d+":",t8.ERR_BAD_REQUEST,e));return}c.send(a||null)})},ip=(e,t)=>{let r,i=new AbortController,n=function(e){if(!r){r=!0,s();let t=e instanceof Error?e:this.reason;i.abort(t instanceof t8?t:new rA(t instanceof Error?t.message:t))}},a=t&&setTimeout(()=>{n(new t8(`timeout ${t} of ms exceeded`,t8.ETIMEDOUT))},t),s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e&&(e.removeEventListener?e.removeEventListener("abort",n):e.unsubscribe(n))}),e=null)};e.forEach(e=>e&&e.addEventListener&&e.addEventListener("abort",n));let{signal:o}=i;return o.unsubscribe=s,[o,()=>{a&&clearTimeout(a),a=null}]},im=function*(e,t){let r,i=e.byteLength;if(!t||i<t){yield e;return}let n=0;for(;n<i;)r=n+t,yield e.slice(n,r),n=r},ig=async function*(e,t,r){for await(let i of e)yield*im(ArrayBuffer.isView(i)?i:await r(String(i)),t)},iy=(e,t,r,i,n)=>{let a=ig(e,t,n),s=0;return new ReadableStream({type:"bytes",async pull(e){let{done:t,value:n}=await a.next();if(t){e.close(),i();return}let o=n.byteLength;r&&r(s+=o),e.enqueue(new Uint8Array(n))},cancel:e=>(i(e),a.return())},{highWaterMark:2})},iv=(e,t)=>{let r=null!=e;return i=>setTimeout(()=>t({lengthComputable:r,total:e,loaded:i}))},ib="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,iw=ib&&"function"==typeof ReadableStream,iS=ib&&("function"==typeof TextEncoder?(f=new TextEncoder,e=>f.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),i_=iw&&(()=>{let e=!1,t=new Request(rm.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),ix=iw&&!!(()=>{try{return t3.isReadableStream(new Response("").body)}catch(e){}})(),ik={stream:ix&&(e=>e.body)};ib&&(m=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{ik[e]||(ik[e]=t3.isFunction(m[e])?t=>t[e]():(t,r)=>{throw new t8(`Response type '${e}' is not supported`,t8.ERR_NOT_SUPPORT,r)})}));let iE=async e=>null==e?0:t3.isBlob(e)?e.size:t3.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:t3.isArrayBufferView(e)?e.byteLength:(t3.isURLSearchParams(e)&&(e+=""),t3.isString(e))?(await iS(e)).byteLength:void 0,iC=async(e,t)=>{let r=t3.toFiniteNumber(e.getContentLength());return null==r?iE(t):r},iR={http:ia,xhr:ih,fetch:ib&&(async e=>{let t,r,i,{url:n,method:a,data:s,signal:o,cancelToken:l,timeout:c,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:p,withCredentials:f="same-origin",fetchOptions:m}=id(e);h=h?(h+"").toLowerCase():"text";let[g,y]=o||l||c?ip([o,l],c):[],v=()=>{t||setTimeout(()=>{g&&g.unsubscribe()}),t=!0};try{if(d&&i_&&"get"!==a&&"head"!==a&&0!==(i=await iC(p,s))){let e,t=new Request(n,{method:"POST",body:s,duplex:"half"});t3.isFormData(s)&&(e=t.headers.get("content-type"))&&p.setContentType(e),t.body&&(s=iy(t.body,65536,iv(i,is(d)),null,iS))}t3.isString(f)||(f=f?"cors":"omit"),r=new Request(n,{...m,signal:g,method:a.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",withCredentials:f});let t=await fetch(r),o=ix&&("stream"===h||"response"===h);if(ix&&(u||o)){let e={};["status","statusText","headers"].forEach(r=>{e[r]=t[r]});let r=t3.toFiniteNumber(t.headers.get("content-length"));t=new Response(iy(t.body,65536,u&&iv(r,is(u,!0)),o&&v,iS),e)}h=h||"text";let l=await ik[t3.findKey(ik,h)||"text"](t,e);return o||v(),y&&y(),await new Promise((i,n)=>{rT(i,n,{data:l,headers:rE.from(t.headers),status:t.status,statusText:t.statusText,config:e,request:r})})}catch(t){if(v(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new t8("Network Error",t8.ERR_NETWORK,e,r),{cause:t.cause||t});throw t8.from(t,t&&t.code,e,r)}})};t3.forEach(iR,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let iA=e=>`- ${e}`,iT=e=>t3.isFunction(e)||null===e||!1===e,iP={getAdapter:e=>{let t,r;let{length:i}=e=t3.isArray(e)?e:[e],n={};for(let a=0;a<i;a++){let i;if(r=t=e[a],!iT(t)&&void 0===(r=iR[(i=String(t)).toLowerCase()]))throw new t8(`Unknown adapter '${i}'`);if(r)break;n[i||"#"+a]=r}if(!r){let e=Object.entries(n).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new t8("There is no suitable adapter to dispatch the request "+(i?e.length>1?"since :\n"+e.map(iA).join("\n"):" "+iA(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:iR};function iO(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rA(null,e)}function iI(e){return iO(e),e.headers=rE.from(e.headers),e.data=rC.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),iP.getAdapter(e.adapter||ry.adapter)(e).then(function(t){return iO(e),t.data=rC.call(e,e.transformResponse,t),t.headers=rE.from(t.headers),t},function(t){return!rR(t)&&(iO(e),t&&t.response&&(t.response.data=rC.call(e,e.transformResponse,t.response),t.response.headers=rE.from(t.response.headers))),Promise.reject(t)})}let iN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{iN[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let ij={};iN.transitional=function(e,t,r){function i(e,t){return"[Axios v"+rM+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,a)=>{if(!1===e)throw new t8(i(n," has been removed"+(t?" in "+t:"")),t8.ERR_DEPRECATED);return t&&!ij[n]&&(ij[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}};let iB={assertOptions:function(e,t,r){if("object"!=typeof e)throw new t8("options must be an object",t8.ERR_BAD_OPTION_VALUE);let i=Object.keys(e),n=i.length;for(;n-- >0;){let a=i[n],s=t[a];if(s){let t=e[a],r=void 0===t||s(t,a,e);if(!0!==r)throw new t8("option "+a+" must be "+r,t8.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new t8("Unknown option "+a,t8.ERR_BAD_OPTION)}},validators:iN},iU=iB.validators;class iL{constructor(e){this.defaults=e,this.interceptors={request:new rl,response:new rl}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){let r,i;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:n,paramsSerializer:a,headers:s}=t=iu(this.defaults,t);void 0!==n&&iB.assertOptions(n,{silentJSONParsing:iU.transitional(iU.boolean),forcedJSONParsing:iU.transitional(iU.boolean),clarifyTimeoutError:iU.transitional(iU.boolean)},!1),null!=a&&(t3.isFunction(a)?t.paramsSerializer={serialize:a}:iB.assertOptions(a,{encode:iU.function,serialize:iU.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&t3.merge(s.common,s[t.method]);s&&t3.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=rE.concat(o,s);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let d=0;if(!c){let e=[iI.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,u),i=e.length,r=Promise.resolve(t);d<i;)r=r.then(e[d++],e[d++]);return r}i=l.length;let h=t;for(d=0;d<i;){let e=l[d++],t=l[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{r=iI.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,i=u.length;d<i;)r=r.then(u[d++],u[d++]);return r}getUri(e){return ro(rP((e=iu(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}t3.forEach(["delete","get","head","options"],function(e){iL.prototype[e]=function(t,r){return this.request(iu(r||{},{method:e,url:t,data:(r||{}).data}))}}),t3.forEach(["post","put","patch"],function(e){function t(t){return function(r,i,n){return this.request(iu(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}iL.prototype[e]=t(),iL.prototype[e+"Form"]=t(!0)});class iM{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;let i=new Promise(e=>{r.subscribe(e),t=e}).then(e);return i.cancel=function(){r.unsubscribe(t)},i},e(function(e,i,n){r.reason||(r.reason=new rA(e,i,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new iM(function(t){e=t}),cancel:e}}}let iD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iD).forEach(([e,t])=>{iD[t]=e});let iK=function e(t){let r=new iL(t),i=tS(iL.prototype.request,r);return t3.extend(i,iL.prototype,r,{allOwnKeys:!0}),t3.extend(i,r,null,{allOwnKeys:!0}),i.create=function(r){return e(iu(t,r))},i}(ry);iK.Axios=iL,iK.CanceledError=rA,iK.CancelToken=iM,iK.isCancel=rR,iK.VERSION=rM,iK.toFormData=rr,iK.AxiosError=t8,iK.Cancel=iK.CanceledError,iK.all=function(e){return Promise.all(e)},iK.spread=function(e){return function(t){return e.apply(null,t)}},iK.isAxiosError=function(e){return t3.isObject(e)&&!0===e.isAxiosError},iK.mergeConfig=iu,iK.AxiosHeaders=rE,iK.formToJSON=e=>rg(t3.isHTMLForm(e)?new FormData(e):e),iK.getAdapter=iP.getAdapter,iK.HttpStatusCode=iD,iK.default=iK;let{Axios:iq,AxiosError:i$,CanceledError:iF,isCancel:iz,CancelToken:iV,VERSION:iH,all:iW,Cancel:iG,isAxiosError:iJ,spread:iY,toFormData:iX,AxiosHeaders:iQ,HttpStatusCode:iZ,formToJSON:i0,getAdapter:i1,mergeConfig:i2}=iK;class i3 extends Error{constructor(e,t="UNKNOWN",r){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!=r?r:{}}toString(){let e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length)for(let[r,i]of(e.push(""),e.push("Meta:"),t))e.push(`  ${r}: ${i}`);return e.join("\n")}}function i8(e,t){if(e)for(let[r,i]of Object.entries(e))i instanceof Date?t[r]=new Date(i.getTime()):Array.isArray(i)?t[r]=i.concat():t[r]=i}(function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"})(S||(S={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(_||(_={}));class i4{constructor(e=!0){this._state=_.PENDING,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),e&&this._promise.catch(e=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==_.PENDING)throw Error(`cannot resolve ${_[this.state].toLowerCase()}`);this._resolve(e),this._state=_.RESOLVED}reject(e){if(this.state!==_.PENDING)throw Error(`cannot reject ${_[this.state].toLowerCase()}`);this._reject(e),this._state=_.REJECTED}resolvePending(e){this._state===_.PENDING&&this.resolve(e)}rejectPending(e){this._state===_.PENDING&&this.reject(e)}}class i6{constructor(e,t,r,i,n,a,s){this.method=e,this.requestHeaders=t,this.request=r,this.headers=i,this.response=n,this.status=a,this.trailers=s}then(e,t){return this.promiseFinished().then(t=>e?Promise.resolve(e(t)):t,e=>t?Promise.resolve(t(e)):Promise.reject(e))}promiseFinished(){var e,t,r,i;return e=this,t=void 0,r=void 0,i=function*(){let[e,t,r,i]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:r,trailers:i}},new(r||(r=Promise))(function(n,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((i=i.apply(e,t||[])).next())})}}class i5{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,t){if(!t)return e;let r={};for(let a of(i8(e,r),i8(t,r),Object.keys(t))){let s=t[a];switch(a){case"jsonOptions":r.jsonOptions=function(e,t){var r,i;let n=Object.assign(Object.assign({},e),t);return n.typeRegistry=[...null!==(r=null==e?void 0:e.typeRegistry)&&void 0!==r?r:[],...null!==(i=null==t?void 0:t.typeRegistry)&&void 0!==i?i:[]],n}(e.jsonOptions,r.jsonOptions);break;case"binaryOptions":var i,n;r.binaryOptions=(i=e.binaryOptions,n=r.binaryOptions,Object.assign(Object.assign({},i),n));break;case"meta":r.meta={},i8(e.meta,r.meta),i8(t.meta,r.meta);break;case"interceptors":r.interceptors=e.interceptors?e.interceptors.concat(s):s.concat()}}return r}(this.defaultOptions,e)}unary(e,t,r){var i,n,a;let s=this.makeUrl(e,r),o=null!==(i=r.fetchInit)&&void 0!==i?i:{},l=r.sendJson?e.I.toJsonString(t,r.jsonOptions):e.I.toBinary(t,r.binaryOptions),c=new i4,u=new i4,d=new i4,h=new i4;return globalThis.fetch(s,Object.assign(Object.assign({},o),{method:"POST",headers:function(e,t,r){if(r)for(let[t,i]of Object.entries(r))if("string"==typeof i)e.append(t,i);else for(let r of i)e.append(t,r);return e.set("Content-Type",t?"application/json":"application/protobuf"),e.set("Accept",t?"application/json":"application/protobuf, application/json"),e}(new globalThis.Headers,!!r.sendJson,r.meta),body:l,signal:null!==(n=r.abort)&&void 0!==n?n:null})).then(t=>{var i;let n,a;c.resolve((i=t.headers,a={},i.forEach((e,t)=>{"content-type"!==t.toLowerCase()&&"content-length"!==t.toLowerCase()&&(a.hasOwnProperty(t)?a[t].push(e):a[t]=e)}),a));try{n=t.type}catch(e){}switch(n){case"error":case"opaque":case"opaqueredirect":throw new i3(`fetch response type ${t.type}`,S[S.unknown])}return t.ok?r.sendJson?t.json().then(t=>e.O.fromJson(t,r.jsonOptions),()=>{throw new i3("unable to read response body as json",S[S.dataloss])}):t.arrayBuffer().then(t=>e.O.fromBinary(new Uint8Array(t),r.binaryOptions),()=>{throw new i3("unable to read response body",S[S.dataloss])}):t.json().then(e=>{throw function(e){if(!eH(e)||"string"!=typeof e.code||"string"!=typeof e.msg)return new i3("cannot read twirp error response",S[S.internal]);let t={};if(eH(e.meta))for(let[r,i]of Object.entries(e.meta))"string"==typeof i&&(t[r]=i);return new i3(e.msg,e.code,t)}(e)},()=>{throw new i3("received HTTP "+t.status+", unable to read response body as json",S[S.internal])})},e=>{if(e instanceof Error&&"AbortError"===e.name)throw new i3(e.message,S[S.cancelled]);throw new i3(e instanceof Error?e.message:e)}).then(e=>{u.resolve(e),d.resolve({code:"OK",detail:""}),h.resolve({})}).catch(t=>{let r=t instanceof i3?t:new i3(t instanceof Error?t.message:t,S[S.internal]);r.methodName=e.name,r.serviceName=e.service.typeName,c.rejectPending(r),u.rejectPending(r),d.rejectPending(r),h.rejectPending(r)}),new i6(e,null!==(a=r.meta)&&void 0!==a?a:{},t,c.promise,u.promise,d.promise,h.promise)}makeUrl(e,t){let r=t.baseUrl;r.endsWith("/")&&(r=r.substring(0,r.length-1));let i=e.name;return!0!==t.useProtoMethodName&&(i=(i=e$(i)).substring(0,1).toUpperCase()+i.substring(1)),`${r}/${e.service.typeName}/${i}`}clientStreaming(e){let t=new i3("Client streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){let t=new i3("Duplex streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e){let t=new i3("Server streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}}var i7=function(e,t){return(i7=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i9(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i7(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function ne(e,t){var r,i,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function nt(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nr(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s}function ni(e,t,r){if(r||2==arguments.length)for(var i,n=0,a=t.length;n<a;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function nn(e){return this instanceof nn?(this.v=e,this):new nn(e)}function na(e){return"function"==typeof e}function ns(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create;var no=ns(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function nl(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var nc=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,i,n,a=this._parentage;if(a){if(this._parentage=null,Array.isArray(a))try{for(var s=nt(a),o=s.next();!o.done;o=s.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else a.remove(this)}var l=this.initialTeardown;if(na(l))try{l()}catch(e){n=e instanceof no?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=nt(c),d=u.next();!d.done;d=u.next()){var h=d.value;try{nh(h)}catch(e){n=null!=n?n:[],e instanceof no?n=ni(ni([],nr(n)),nr(e.errors)):n.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}if(n)throw new no(n)}},t.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)nh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&nl(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&nl(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),nu=nc.EMPTY;function nd(e){return e instanceof nc||e&&"closed"in e&&na(e.remove)&&na(e.add)&&na(e.unsubscribe)}function nh(e){na(e)?e():e.unsubscribe()}var np={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nf={setTimeout:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=nf.delegate;return(null==n?void 0:n.setTimeout)?n.setTimeout.apply(n,ni([e,t],nr(r))):setTimeout.apply(void 0,ni([e,t],nr(r)))},clearTimeout:function(e){var t=nf.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function nm(e){nf.setTimeout(function(){var t=np.onUnhandledError;if(t)t(e);else throw e})}function ng(){}var ny=nv("C",void 0,void 0);function nv(e,t,r){return{kind:e,value:t,error:r}}var nb=null;function nw(e){if(np.useDeprecatedSynchronousErrorHandling){var t=!nb;if(t&&(nb={errorThrown:!1,error:null}),e(),t){var r=nb,i=r.errorThrown,n=r.error;if(nb=null,i)throw n}}else e()}var nS=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,nd(t)&&t.add(r)):r.destination=nA,r}return i9(t,e),t.create=function(e,t,r){return new nE(e,t,r)},t.prototype.next=function(e){this.isStopped?nR(nv("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?nR(nv("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?nR(ny,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(nc),n_=Function.prototype.bind;function nx(e,t){return n_.call(e,t)}var nk=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){nC(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){nC(e)}else nC(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){nC(e)}},e}(),nE=function(e){function t(t,r,i){var n,a,s=e.call(this)||this;return na(t)||!t?n={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=i?i:void 0}:s&&np.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},n={next:t.next&&nx(t.next,a),error:t.error&&nx(t.error,a),complete:t.complete&&nx(t.complete,a)}):n=t,s.destination=new nk(n),s}return i9(t,e),t}(nS);function nC(e){np.useDeprecatedSynchronousErrorHandling?np.useDeprecatedSynchronousErrorHandling&&nb&&(nb.errorThrown=!0,nb.error=e):nm(e)}function nR(e,t){var r=np.onStoppedNotification;r&&nf.setTimeout(function(){return r(e,t)})}var nA={closed:!0,next:ng,error:function(e){throw e},complete:ng},nT="function"==typeof Symbol&&Symbol.observable||"@@observable";function nP(e){return e}var nO=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var i,n=this,a=(i=e)&&i instanceof nS||i&&na(i.next)&&na(i.error)&&na(i.complete)&&nd(i)?e:new nE(e,t,r);return nw(function(){var e=n.operator,t=n.source;a.add(e?e.call(a,t):t?n._subscribe(a):n._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=nI(t))(function(t,i){var n=new nE({next:function(t){try{e(t)}catch(e){i(e),n.unsubscribe()}},error:i,complete:t});r.subscribe(n)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[nT]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?nP:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=nI(e))(function(e,r){var i;t.subscribe(function(e){return i=e},function(e){return r(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}();function nI(e){var t;return null!==(t=null!=e?e:np.Promise)&&void 0!==t?t:Promise}var nN=ns(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),nj=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i9(t,e),t.prototype.lift=function(e){var t=new nB(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new nN},t.prototype.next=function(e){var t=this;nw(function(){var r,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var n=nt(t.currentObservers),a=n.next();!a.done;a=n.next())a.value.next(e)}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;nw(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;nw(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,i=this.isStopped,n=this.observers;return r||i?nu:(this.currentObservers=null,n.push(e),new nc(function(){t.currentObservers=null,nl(n,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,i=this.isStopped;t?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new nO;return e.source=this,e},t.create=function(e,t){return new nB(e,t)},t}(nO),nB=function(e){function t(t,r){var i=e.call(this)||this;return i.destination=t,i.source=r,i}return i9(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:nu},t}(nj),nU={now:function(){return(nU.delegate||Date).now()},delegate:void 0},nL=function(e){function t(t,r,i){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===i&&(i=nU);var n=e.call(this)||this;return n._bufferSize=t,n._windowTime=r,n._timestampProvider=i,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=r===1/0,n._bufferSize=Math.max(1,t),n._windowTime=Math.max(1,r),n}return i9(t,e),t.prototype.next=function(t){var r=this.isStopped,i=this._buffer,n=this._infiniteTimeWindow,a=this._timestampProvider,s=this._windowTime;!r&&(i.push(t),n||i.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,i=this._buffer.slice(),n=0;n<i.length&&!e.closed;n+=r?1:2)e.next(i[n]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,i=this._infiniteTimeWindow,n=(i?1:2)*e;if(e<1/0&&n<r.length&&r.splice(0,r.length-n),!i){for(var a=t.now(),s=0,o=1;o<r.length&&r[o]<=a;o+=2)s=o;s&&r.splice(0,s+1)}},t}(nj),nM=Array.isArray,nD=Object.getPrototypeOf,nK=Object.prototype,nq=Object.keys,n$=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function nF(e){return na(null==e?void 0:e.then)}function nz(e){return Symbol.asyncIterator&&na(null==e?void 0:e[Symbol.asyncIterator])}function nV(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var nH="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function nW(e){return na(null==e?void 0:e[nH])}function nG(e){return function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){n[e]&&(i[e]=function(t){return new Promise(function(r,i){a.push([e,t,r,i])>1||o(e,t)})})}function o(e,t){try{var r;(r=n[e](t)).value instanceof nn?Promise.resolve(r.value.v).then(l,c):u(a[0][2],r)}catch(e){u(a[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}(this,arguments,function(){var t,r,i;return ne(this,function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,nn(t.read())];case 3:if(i=(r=n.sent()).value,!r.done)return[3,5];return[4,nn(void 0)];case 4:return[2,n.sent()];case 5:return[4,nn(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function nJ(e){return na(null==e?void 0:e.getReader)}function nY(e){if(e instanceof nO)return e;if(null!=e){if(na(e[nT]))return new nO(function(t){var r=e[nT]();if(na(r.subscribe))return r.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(n$(e))return new nO(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()});if(nF(e))return new nO(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,nm)});if(nz(e))return nX(e);if(nW(e))return new nO(function(t){var r,i;try{for(var n=nt(e),a=n.next();!a.done;a=n.next()){var s=a.value;if(t.next(s),t.closed)return}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}t.complete()});if(nJ(e))return nX(nG(e))}throw nV(e)}function nX(e){return new nO(function(t){(function(e,t){var r,i,n,a,s,o,l,c;return s=this,o=void 0,l=void 0,c=function(){var s;return ne(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=nt(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){(function(e,t,r,i){Promise.resolve(i).then(function(t){e({value:t,done:r})},t)})(i,n,(t=e[r](t)).done,t.value)})}}}(e),o.label=1;case 1:return[4,r.next()];case 2:if((i=o.sent()).done)return[3,4];if(s=i.value,t.next(s),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return n={error:o.sent()},[3,11];case 6:if(o.trys.push([6,,9,10]),!(i&&!i.done&&(a=r.return)))return[3,8];return[4,a.call(r)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new(l||(l=Promise))(function(e,t){function r(e){try{n(c.next(e))}catch(e){t(e)}}function i(e){try{n(c.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):((n=t.value)instanceof l?n:new l(function(e){e(n)})).then(r,i)}n((c=c.apply(s,o||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function nQ(e,t,r,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var a=t.schedule(function(){r(),n?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(a),!n)return a}function nZ(e){return function(t){if(na(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function n0(e,t,r,i,n){return new n1(e,t,r,i,n)}var n1=function(e){function t(t,r,i,n,a,s){var o=e.call(this,t)||this;return o.onFinalize=a,o.shouldUnsubscribe=s,o._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=n?function(e){try{n(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return i9(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(nS);function n2(e,t){return void 0===t&&(t=0),nZ(function(r,i){r.subscribe(n0(i,function(r){return nQ(i,e,function(){return i.next(r)},t)},function(){return nQ(i,e,function(){return i.complete()},t)},function(r){return nQ(i,e,function(){return i.error(r)},t)}))})}function n3(e,t){return void 0===t&&(t=0),nZ(function(r,i){i.add(e.schedule(function(){return r.subscribe(i)},t))})}function n8(e,t){if(!e)throw Error("Iterable cannot be null");return new nO(function(r){nQ(r,t,function(){var i=e[Symbol.asyncIterator]();nQ(r,t,function(){i.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}function n4(e,t){return t?function(e,t){if(null!=e){if(na(e[nT]))return nY(e).pipe(n3(t),n2(t));if(n$(e))return new nO(function(r){var i=0;return t.schedule(function(){i===e.length?r.complete():(r.next(e[i++]),r.closed||this.schedule())})});if(nF(e))return nY(e).pipe(n3(t),n2(t));if(nz(e))return n8(e,t);if(nW(e))return new nO(function(r){var i;return nQ(r,t,function(){i=e[nH](),nQ(r,t,function(){var e,t,n;try{t=(e=i.next()).value,n=e.done}catch(e){r.error(e);return}n?r.complete():r.next(t)},0,!0)}),function(){return na(null==i?void 0:i.return)&&i.return()}});if(nJ(e))return n8(nG(e),t)}throw nV(e)}(e,t):nY(e)}function n6(e,t){return nZ(function(r,i){var n=0;r.subscribe(n0(i,function(r){i.next(e.call(t,r,n++))}))})}var n5=Array.isArray;function n7(e){return e&&na(e.schedule)}function n9(e){return e[e.length-1]}function ae(e){return n7(n9(e))?e.pop():void 0}function at(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=ae(t),n=na(n9(t))?t.pop():void 0,a=function(e){if(1===e.length){var t=e[0];if(nM(t))return{args:t,keys:null};if(t&&"object"==typeof t&&nD(t)===nK){var r=nq(t);return{args:r.map(function(e){return t[e]}),keys:r}}}return{args:e,keys:null}}(t),s=a.args,o=a.keys;if(0===s.length)return n4([],i);var l=new nO((void 0===(e=o?function(e){return o.reduce(function(t,r,i){return t[r]=e[i],t},{})}:nP)&&(e=nP),function(t){var r,n,a;r=i,n=function(){for(var r=s.length,n=Array(r),a=r,o=r,l=function(r){var l,c,u;l=i,c=function(){var l=n4(s[r],i),c=!1;l.subscribe(n0(t,function(i){n[r]=i,!c&&(c=!0,o--),o||t.next(e(n.slice()))},function(){--a||t.complete()}))},u=t,l?nQ(u,l,c):c()},c=0;c<r;c++)l(c)},a=t,r?nQ(a,r,n):n()}));return n?l.pipe(n6(function(e){return n5(e)?n.apply(void 0,ni([],nr(e))):n(e)})):l}var ar=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return i9(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r.closed||t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(nj);function ai(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!0===t){e();return}if(!1!==t){var n=new nE({next:function(){n.unsubscribe(),e()}});return nY(t.apply(void 0,ni([],nr(r)))).subscribe(n)}}function an(e,t,r){var i,n,a,s,o,l,c,u,d,h,p,f,m,g=!1;return e&&"object"==typeof e?(m=void 0===(h=e.bufferSize)?1/0:h,t=void 0===(p=e.windowTime)?1/0:p,g=void 0!==(f=e.refCount)&&f,r=e.scheduler):m=null!=e?e:1/0,a=void 0===(n=(i={connector:function(){return new nL(m,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g}).connector)?function(){return new nj}:n,o=void 0===(s=i.resetOnError)||s,c=void 0===(l=i.resetOnComplete)||l,d=void 0===(u=i.resetOnRefCountZero)||u,function(e){var t,r,i,n=0,s=!1,l=!1,u=function(){null==r||r.unsubscribe(),r=void 0},h=function(){u(),t=i=void 0,s=l=!1},p=function(){var e=t;h(),null==e||e.unsubscribe()};return nZ(function(e,f){n++,l||s||u();var m=i=null!=i?i:a();f.add(function(){0!=--n||l||s||(r=ai(p,d))}),m.subscribe(f),!t&&n>0&&(t=new nE({next:function(e){return m.next(e)},error:function(e){l=!0,u(),r=ai(h,o,e),m.error(e)},complete:function(){s=!0,u(),r=ai(h,c),m.complete()}}),nY(e).subscribe(t))})(e)}}function aa(e,t){return void 0===t&&(t=nP),e=null!=e?e:as,nZ(function(r,i){var n,a=!0;r.subscribe(n0(i,function(r){var s=t(r);(a||!e(n,s))&&(a=!1,n=s,i.next(r))}))})}function as(e,t){return e===t}function ao(e,t){return void 0===t&&(t=!1),nZ(function(r,i){var n=0;r.subscribe(n0(i,function(r){var a=e(r,n++);(a||t)&&i.next(r),a||i.complete()}))})}function al(e,t){return aa(function(r,i){return t?t(r[e],i[e]):r[e]===i[e]})}var ac=function(e){function t(t,r){return e.call(this)||this}return i9(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(nc),au={setInterval:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=au.delegate;return(null==n?void 0:n.setInterval)?n.setInterval.apply(n,ni([e,t],nr(r))):setInterval.apply(void 0,ni([e,t],nr(r)))},clearInterval:function(e){var t=au.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ad=function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return i9(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),au.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&au.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,i=!1;try{this.work(e)}catch(e){i=!0,r=e||Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,i=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,nl(i,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ac),ah=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=nU.now,e}(),ap=new(function(e){function t(t,r){void 0===r&&(r=ah.now);var i=e.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return i9(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active){r.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(ah))(ad);function af(e,t,r){return(void 0===r&&(r=1/0),na(t))?af(function(r,i){return n6(function(e,n){return t(r,e,i,n)})(nY(e(r,i)))},r):("number"==typeof t&&(r=t),nZ(function(t,i){var n,a,s,o,l,c,u,d,h,p,f,m;return n=r,c=[],u=0,d=0,h=!1,p=function(){!h||c.length||u||i.complete()},f=function(e){return u<n?m(e):c.push(e)},m=function(t){s&&i.next(t),u++;var r=!1;nY(e(t,d++)).subscribe(n0(i,function(e){null==a||a(e),s?f(e):i.next(e)},function(){r=!0},void 0,function(){if(r)try{for(u--;c.length&&u<n;)!function(){var e=c.shift();o?nQ(i,o,function(){return m(e)}):m(e)}();p()}catch(e){i.error(e)}}))},t.subscribe(n0(i,f,function(){h=!0,p()})),function(){null==l||l()}}))}var am=new nO(function(e){return e.complete()});function ag(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=ae(t),n="number"==typeof n9(t)?t.pop():1/0;return t.length?1===t.length?nY(t[0]):(void 0===(e=n)&&(e=1/0),af(nP,e))(n4(t,i)):am}var ay=r(37242),av=r(12903),ab=r(95357),aw=r.n(ab),aS=r(89835),a_=r.n(aS);r(6113);var ax=r(76655);let ak={BLOCK_USERS:"block-users",CREATE_REACTION:"create-reaction",JOIN_BACKSTAGE:"join-backstage",MUTE_USERS:"mute-users",PIN_FOR_EVERYONE:"pin-for-everyone",SCREENSHARE:"screenshare",SEND_AUDIO:"send-audio",SEND_VIDEO:"send-video",START_RECORD_CALL:"start-record-call",STOP_RECORD_CALL:"stop-record-call",UPDATE_CALL_PERMISSIONS:"update-call-permissions"};class aE extends Error{}!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(x||(x={}));class aC extends tv{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>aT}}])}internalJsonWrite(e,t){let r={};for(let[t,i]of Object.entries(e.fields))r[t]=aT.toJson(i);return r}internalJsonRead(e,t,r){if(!eH(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+eV(e)+".");for(let[t,i]of(r||(r=this.create()),globalThis.Object.entries(e)))r.fields[t]=aT.fromJson(i);return r}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fields={},void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)this.binaryReadMap1(n.fields,e,r);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}binaryReadMap1(e,t,r){let i=t.uint32(),n=t.pos+i,a,s;for(;t.pos<n;){let[e,i]=t.tag();switch(e){case 1:a=t.string();break;case 2:s=aT.internalBinaryRead(t,t.uint32(),r);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[a??""]=s??aT.create()}internalBinaryWrite(e,t,r){for(let i of globalThis.Object.keys(e.fields))t.tag(1,w.LengthDelimited).fork().tag(1,w.LengthDelimited).string(i),t.tag(2,w.LengthDelimited).fork(),aT.internalBinaryWrite(e.fields[i],t,r),t.join().join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aR=new aC;class aA extends tv{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",x]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>aR},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>aO}])}internalJsonWrite(e,t){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let r=e.kind.numberValue;if("number"==typeof r&&!Number.isFinite(r))throw new globalThis.Error;return r;case"stringValue":return e.kind.stringValue;case"listValue":let i=this.fields.find(e=>6===e.no);if(i?.kind!=="message")throw new globalThis.Error;return i.T().toJson(e.kind.listValue);case"structValue":let n=this.fields.find(e=>5===e.no);if(n?.kind!=="message")throw new globalThis.Error;return n.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,r){switch(r||(r=this.create()),typeof e){case"number":r.kind={oneofKind:"numberValue",numberValue:e};break;case"string":r.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":r.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?r.kind={oneofKind:"nullValue",nullValue:x.NULL_VALUE}:globalThis.Array.isArray(e)?r.kind={oneofKind:"listValue",listValue:aO.fromJson(e)}:r.kind={oneofKind:"structValue",structValue:aR.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+eV(e))}return r}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.kind={oneofKind:void 0},void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:n.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:n.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:n.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:n.kind={oneofKind:"structValue",structValue:aR.internalBinaryRead(e,e.uint32(),r,n.kind.structValue)};break;case 6:n.kind={oneofKind:"listValue",listValue:aO.internalBinaryRead(e,e.uint32(),r,n.kind.listValue)};break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){"nullValue"===e.kind.oneofKind&&t.tag(1,w.Varint).int32(e.kind.nullValue),"numberValue"===e.kind.oneofKind&&t.tag(2,w.Bit64).double(e.kind.numberValue),"stringValue"===e.kind.oneofKind&&t.tag(3,w.LengthDelimited).string(e.kind.stringValue),"boolValue"===e.kind.oneofKind&&t.tag(4,w.Varint).bool(e.kind.boolValue),"structValue"===e.kind.oneofKind&&aR.internalBinaryWrite(e.kind.structValue,t.tag(5,w.LengthDelimited).fork(),r).join(),"listValue"===e.kind.oneofKind&&aO.internalBinaryWrite(e.kind.listValue,t.tag(6,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aT=new aA;class aP extends tv{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>aT}])}internalJsonWrite(e,t){return e.values.map(e=>aT.toJson(e))}internalJsonRead(e,t,r){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+eV(e));r||(r=this.create());let i=e.map(e=>aT.fromJson(e));return r.values.push(...i),r}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.values=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.values.push(aT.internalBinaryRead(e,e.uint32(),r));else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){for(let i=0;i<e.values.length;i++)aT.internalBinaryWrite(e.values[i],t.tag(1,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aO=new aP;class aI extends tv{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){let e=this.create(),t=Date.now();return e.seconds=e4.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(1e3*e4.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){let t=this.create(),r=e.getTime();return t.seconds=e4.from(Math.floor(r/1e3)).toString(),t.nanos=r%1e3*1e6,t}internalJsonWrite(e,t){let r=1e3*e4.from(e.seconds).toNumber();if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let i="Z";if(e.nanos>0){let t=(e.nanos+1e9).toString().substring(1);i="000000"===t.substring(3)?"."+t.substring(0,3)+"Z":"000"===t.substring(6)?"."+t.substring(0,6)+"Z":"."+t+"Z"}return new Date(r).toISOString().replace(".000Z",i)}internalJsonRead(e,t,r){if("string"!=typeof e)throw Error("Unable to parse Timestamp from JSON "+eV(e)+".");let i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw Error("Unable to parse Timestamp from JSON. Invalid format.");let n=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(n))throw Error("Unable to parse Timestamp from JSON. Invalid value.");if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return r||(r=this.create()),r.seconds=e4.from(n/1e3).toString(),r.nanos=0,i[7]&&(r.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),r}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.seconds="0",t.nanos=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.seconds=e.int64().toString();break;case 2:n.nanos=e.int32();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){"0"!==e.seconds&&t.tag(1,w.Varint).int64(e.seconds),0!==e.nanos&&t.tag(2,w.Varint).int32(e.nanos);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aN=new aI;(function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"})(k||(k={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(E||(E={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(C||(C={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(R||(R={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(A||(A={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY"}(T||(T={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(P||(P={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(O||(O={}));class aj extends tv{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>aq},{no:2,name:"started_at",kind:"message",T:()=>aN},{no:3,name:"participant_count",kind:"message",T:()=>aL},{no:4,name:"pins",kind:"message",repeat:1,T:()=>aD}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.participants=[],t.pins=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.participants.push(aq.internalBinaryRead(e,e.uint32(),r));break;case 2:n.startedAt=aN.internalBinaryRead(e,e.uint32(),r,n.startedAt);break;case 3:n.participantCount=aL.internalBinaryRead(e,e.uint32(),r,n.participantCount);break;case 4:n.pins.push(aD.internalBinaryRead(e,e.uint32(),r));break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){for(let i=0;i<e.participants.length;i++)aq.internalBinaryWrite(e.participants[i],t.tag(1,w.LengthDelimited).fork(),r).join();e.startedAt&&aN.internalBinaryWrite(e.startedAt,t.tag(2,w.LengthDelimited).fork(),r).join(),e.participantCount&&aL.internalBinaryWrite(e.participantCount,t.tag(3,w.LengthDelimited).fork(),r).join();for(let i=0;i<e.pins.length;i++)aD.internalBinaryWrite(e.pins[i],t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aB=new aj;class aU extends tv{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.total=0,t.anonymous=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.total=e.uint32();break;case 2:n.anonymous=e.uint32();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.total&&t.tag(1,w.Varint).uint32(e.total),0!==e.anonymous&&t.tag(2,w.Varint).uint32(e.anonymous);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aL=new aU;class aM extends tv{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.userId=e.string();break;case 2:n.sessionId=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aD=new aM;class aK extends tv{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",R,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>aN},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",E,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>aR},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.publishedTracks=[],t.trackLookupPrefix="",t.connectionQuality=0,t.isSpeaking=!1,t.isDominantSpeaker=!1,t.audioLevel=0,t.name="",t.image="",t.roles=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.userId=e.string();break;case 2:n.sessionId=e.string();break;case 3:if(i===w.LengthDelimited)for(let t=e.int32()+e.pos;e.pos<t;)n.publishedTracks.push(e.int32());else n.publishedTracks.push(e.int32());break;case 4:n.joinedAt=aN.internalBinaryRead(e,e.uint32(),r,n.joinedAt);break;case 5:n.trackLookupPrefix=e.string();break;case 6:n.connectionQuality=e.int32();break;case 7:n.isSpeaking=e.bool();break;case 8:n.isDominantSpeaker=e.bool();break;case 9:n.audioLevel=e.float();break;case 10:n.name=e.string();break;case 11:n.image=e.string();break;case 12:n.custom=aR.internalBinaryRead(e,e.uint32(),r,n.custom);break;case 13:n.roles.push(e.string());break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){if(""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),e.publishedTracks.length){t.tag(3,w.LengthDelimited).fork();for(let r=0;r<e.publishedTracks.length;r++)t.int32(e.publishedTracks[r]);t.join()}e.joinedAt&&aN.internalBinaryWrite(e.joinedAt,t.tag(4,w.LengthDelimited).fork(),r).join(),""!==e.trackLookupPrefix&&t.tag(5,w.LengthDelimited).string(e.trackLookupPrefix),0!==e.connectionQuality&&t.tag(6,w.Varint).int32(e.connectionQuality),!1!==e.isSpeaking&&t.tag(7,w.Varint).bool(e.isSpeaking),!1!==e.isDominantSpeaker&&t.tag(8,w.Varint).bool(e.isDominantSpeaker),0!==e.audioLevel&&t.tag(9,w.Bit32).float(e.audioLevel),""!==e.name&&t.tag(10,w.LengthDelimited).string(e.name),""!==e.image&&t.tag(11,w.LengthDelimited).string(e.image),e.custom&&aR.internalBinaryWrite(e.custom,t.tag(12,w.LengthDelimited).fork(),r).join();for(let r=0;r<e.roles.length;r++)t.tag(13,w.LengthDelimited).string(e.roles[r]);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aq=new aK;class a$ extends tv{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",C,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.videoQuality=0,t.userId="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.videoQuality=e.int32();break;case 2:n.userId=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.videoQuality&&t.tag(1,w.Varint).int32(e.videoQuality),""!==e.userId&&t.tag(2,w.LengthDelimited).string(e.userId);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aF=new a$;class az extends tv{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.width=0,t.height=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.width=e.uint32();break;case 2:n.height=e.uint32();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.width&&t.tag(1,w.Varint).uint32(e.width),0!==e.height&&t.tag(2,w.Varint).uint32(e.height);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aV=new az;class aH extends tv{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>aV},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",C,"VIDEO_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.rid="",t.bitrate=0,t.fps=0,t.quality=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.rid=e.string();break;case 2:n.videoDimension=aV.internalBinaryRead(e,e.uint32(),r,n.videoDimension);break;case 4:n.bitrate=e.uint32();break;case 5:n.fps=e.uint32();break;case 6:n.quality=e.int32();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.rid&&t.tag(1,w.LengthDelimited).string(e.rid),e.videoDimension&&aV.internalBinaryWrite(e.videoDimension,t.tag(2,w.LengthDelimited).fork(),r).join(),0!==e.bitrate&&t.tag(4,w.Varint).uint32(e.bitrate),0!==e.fps&&t.tag(5,w.Varint).uint32(e.fps),0!==e.quality&&t.tag(6,w.Varint).int32(e.quality);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aW=new aH;class aG extends tv{constructor(){super("stream.video.sfu.models.Codec",[{no:1,name:"payload_type",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"fmtp_line",kind:"scalar",T:9},{no:4,name:"clock_rate",kind:"scalar",T:13},{no:5,name:"encoding_parameters",kind:"scalar",T:9},{no:6,name:"feedbacks",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.payloadType=0,t.name="",t.fmtpLine="",t.clockRate=0,t.encodingParameters="",t.feedbacks=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.payloadType=e.uint32();break;case 2:n.name=e.string();break;case 3:n.fmtpLine=e.string();break;case 4:n.clockRate=e.uint32();break;case 5:n.encodingParameters=e.string();break;case 6:n.feedbacks.push(e.string());break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.payloadType&&t.tag(1,w.Varint).uint32(e.payloadType),""!==e.name&&t.tag(2,w.LengthDelimited).string(e.name),""!==e.fmtpLine&&t.tag(3,w.LengthDelimited).string(e.fmtpLine),0!==e.clockRate&&t.tag(4,w.Varint).uint32(e.clockRate),""!==e.encodingParameters&&t.tag(5,w.LengthDelimited).string(e.encodingParameters);for(let r=0;r<e.feedbacks.length;r++)t.tag(6,w.LengthDelimited).string(e.feedbacks[r]);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aJ=new aG,aY=new class extends tv{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",k,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",t.sessionId="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.peerType=e.int32();break;case 2:n.iceCandidate=e.string();break;case 3:n.sessionId=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.peerType&&t.tag(1,w.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,w.LengthDelimited).string(e.iceCandidate),""!==e.sessionId&&t.tag(3,w.LengthDelimited).string(e.sessionId);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}};class aX extends tv{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",R,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>aW},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackId="",t.trackType=0,t.layers=[],t.mid="",t.dtx=!1,t.stereo=!1,t.red=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.trackId=e.string();break;case 2:n.trackType=e.int32();break;case 5:n.layers.push(aW.internalBinaryRead(e,e.uint32(),r));break;case 6:n.mid=e.string();break;case 7:n.dtx=e.bool();break;case 8:n.stereo=e.bool();break;case 9:n.red=e.bool();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.trackId&&t.tag(1,w.LengthDelimited).string(e.trackId),0!==e.trackType&&t.tag(2,w.Varint).int32(e.trackType);for(let i=0;i<e.layers.length;i++)aW.internalBinaryWrite(e.layers[i],t.tag(5,w.LengthDelimited).fork(),r).join();""!==e.mid&&t.tag(6,w.LengthDelimited).string(e.mid),!1!==e.dtx&&t.tag(7,w.Varint).bool(e.dtx),!1!==e.stereo&&t.tag(8,w.Varint).bool(e.stereo),!1!==e.red&&t.tag(9,w.Varint).bool(e.red);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let aQ=new aX;class aZ extends tv{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>aR},{no:6,name:"created_at",kind:"message",T:()=>aN},{no:7,name:"updated_at",kind:"message",T:()=>aN}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type="",t.id="",t.createdByUserId="",t.hostUserId="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.type=e.string();break;case 2:n.id=e.string();break;case 3:n.createdByUserId=e.string();break;case 4:n.hostUserId=e.string();break;case 5:n.custom=aR.internalBinaryRead(e,e.uint32(),r,n.custom);break;case 6:n.createdAt=aN.internalBinaryRead(e,e.uint32(),r,n.createdAt);break;case 7:n.updatedAt=aN.internalBinaryRead(e,e.uint32(),r,n.updatedAt);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.type&&t.tag(1,w.LengthDelimited).string(e.type),""!==e.id&&t.tag(2,w.LengthDelimited).string(e.id),""!==e.createdByUserId&&t.tag(3,w.LengthDelimited).string(e.createdByUserId),""!==e.hostUserId&&t.tag(4,w.LengthDelimited).string(e.hostUserId),e.custom&&aR.internalBinaryWrite(e.custom,t.tag(5,w.LengthDelimited).fork(),r).join(),e.createdAt&&aN.internalBinaryWrite(e.createdAt,t.tag(6,w.LengthDelimited).fork(),r).join(),e.updatedAt&&aN.internalBinaryWrite(e.updatedAt,t.tag(7,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let a0=new aZ,a1=new class extends tv{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",A,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.code=0,t.message="",t.shouldRetry=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.code=e.int32();break;case 2:n.message=e.string();break;case 3:n.shouldRetry=e.bool();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.code&&t.tag(1,w.Varint).int32(e.code),""!==e.message&&t.tag(2,w.LengthDelimited).string(e.message),!1!==e.shouldRetry&&t.tag(3,w.Varint).bool(e.shouldRetry);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}};class a2 extends tv{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>a4},{no:2,name:"os",kind:"message",T:()=>a5},{no:3,name:"browser",kind:"message",T:()=>a9},{no:4,name:"device",kind:"message",T:()=>st}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.sdk=a4.internalBinaryRead(e,e.uint32(),r,n.sdk);break;case 2:n.os=a5.internalBinaryRead(e,e.uint32(),r,n.os);break;case 3:n.browser=a9.internalBinaryRead(e,e.uint32(),r,n.browser);break;case 4:n.device=st.internalBinaryRead(e,e.uint32(),r,n.device);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.sdk&&a4.internalBinaryWrite(e.sdk,t.tag(1,w.LengthDelimited).fork(),r).join(),e.os&&a5.internalBinaryWrite(e.os,t.tag(2,w.LengthDelimited).fork(),r).join(),e.browser&&a9.internalBinaryWrite(e.browser,t.tag(3,w.LengthDelimited).fork(),r).join(),e.device&&st.internalBinaryWrite(e.device,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let a3=new a2;class a8 extends tv{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",T,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type=0,t.major="",t.minor="",t.patch="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.type=e.int32();break;case 2:n.major=e.string();break;case 3:n.minor=e.string();break;case 4:n.patch=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.type&&t.tag(1,w.Varint).int32(e.type),""!==e.major&&t.tag(2,w.LengthDelimited).string(e.major),""!==e.minor&&t.tag(3,w.LengthDelimited).string(e.minor),""!==e.patch&&t.tag(4,w.LengthDelimited).string(e.patch);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let a4=new a8;class a6 extends tv{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",t.architecture="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.name=e.string();break;case 2:n.version=e.string();break;case 3:n.architecture=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.name&&t.tag(1,w.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,w.LengthDelimited).string(e.version),""!==e.architecture&&t.tag(3,w.LengthDelimited).string(e.architecture);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let a5=new a6;class a7 extends tv{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.name=e.string();break;case 2:n.version=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.name&&t.tag(1,w.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,w.LengthDelimited).string(e.version);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let a9=new a7;class se extends tv{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.name=e.string();break;case 2:n.version=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.name&&t.tag(1,w.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,w.LengthDelimited).string(e.version);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let st=new se;class sr extends tv{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.canPublishAudio=!1,t.canPublishVideo=!1,t.canScreenshare=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.canPublishAudio=e.bool();break;case 2:n.canPublishVideo=e.bool();break;case 3:n.canScreenshare=e.bool();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){!1!==e.canPublishAudio&&t.tag(1,w.Varint).bool(e.canPublishAudio),!1!==e.canPublishVideo&&t.tag(2,w.Varint).bool(e.canPublishVideo),!1!==e.canScreenshare&&t.tag(3,w.Varint).bool(e.canScreenshare);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let si=new sr;var sn=Object.freeze({__proto__:null,Browser:a9,Call:a0,CallGrants:si,CallState:aB,ClientDetails:a3,Codec:aJ,get ConnectionQuality(){return E},Device:st,Error:a1,get ErrorCode(){return A},get GoAwayReason(){return O},ICETrickle:aY,OS:a5,Participant:aq,ParticipantCount:aL,get PeerType(){return k},Pin:aD,Sdk:a4,get SdkType(){return T},StreamQuality:aF,TrackInfo:aQ,get TrackType(){return R},get TrackUnpublishReason(){return P},VideoDimension:aV,VideoLayer:aW,get VideoQuality(){return C}});class sa extends tv{constructor(){super("stream.video.sfu.signal.SendStatsRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"subscriber_stats",kind:"scalar",T:9},{no:3,name:"publisher_stats",kind:"scalar",T:9},{no:4,name:"webrtc_version",kind:"scalar",T:9},{no:5,name:"sdk",kind:"scalar",T:9},{no:6,name:"sdk_version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.subscriberStats="",t.publisherStats="",t.webrtcVersion="",t.sdk="",t.sdkVersion="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.sessionId=e.string();break;case 2:n.subscriberStats=e.string();break;case 3:n.publisherStats=e.string();break;case 4:n.webrtcVersion=e.string();break;case 5:n.sdk=e.string();break;case 6:n.sdkVersion=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId),""!==e.subscriberStats&&t.tag(2,w.LengthDelimited).string(e.subscriberStats),""!==e.publisherStats&&t.tag(3,w.LengthDelimited).string(e.publisherStats),""!==e.webrtcVersion&&t.tag(4,w.LengthDelimited).string(e.webrtcVersion),""!==e.sdk&&t.tag(5,w.LengthDelimited).string(e.sdk),""!==e.sdkVersion&&t.tag(6,w.LengthDelimited).string(e.sdkVersion);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let ss=new sa;class so extends tv{constructor(){super("stream.video.sfu.signal.SendStatsResponse",[{no:1,name:"error",kind:"message",T:()=>a1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.error=a1.internalBinaryRead(e,e.uint32(),r,n.error);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.error&&a1.internalBinaryWrite(e.error,t.tag(1,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sl=new so;class sc extends tv{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",k,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.peerType=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.sessionId=e.string();break;case 2:n.peerType=e.int32();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId),0!==e.peerType&&t.tag(2,w.Varint).int32(e.peerType);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let su=new sc;class sd extends tv{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>a1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.error=a1.internalBinaryRead(e,e.uint32(),r,n.error);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.error&&a1.internalBinaryWrite(e.error,t.tag(1,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sh=new sd;class sp extends tv{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>sv}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.muteStates=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.sessionId=e.string();break;case 3:n.muteStates.push(sv.internalBinaryRead(e,e.uint32(),r));break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.sessionId&&t.tag(1,w.LengthDelimited).string(e.sessionId);for(let i=0;i<e.muteStates.length;i++)sv.internalBinaryWrite(e.muteStates[i],t.tag(3,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sf=new sp;class sm extends tv{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>a1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(4===t)n.error=a1.internalBinaryRead(e,e.uint32(),r,n.error);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.error&&a1.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sg=new sm;class sy extends tv{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",R,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackType=0,t.muted=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.trackType=e.int32();break;case 2:n.muted=e.bool();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.trackType&&t.tag(1,w.Varint).int32(e.trackType),!1!==e.muted&&t.tag(2,w.Varint).bool(e.muted);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sv=new sy;class sb extends tv{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.muted=e.bool();else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){!1!==e.muted&&t.tag(1,w.Varint).bool(e.muted);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}new sb;class sw extends tv{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(2===t)n.muted=e.bool();else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){!1!==e.muted&&t.tag(2,w.Varint).bool(e.muted);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}new sw;class sS extends tv{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>sC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.tracks=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 2:n.sessionId=e.string();break;case 3:n.tracks.push(sC.internalBinaryRead(e,e.uint32(),r));break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId);for(let i=0;i<e.tracks.length;i++)sC.internalBinaryWrite(e.tracks[i],t.tag(3,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let s_=new sS;class sx extends tv{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>a1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(4===t)n.error=a1.internalBinaryRead(e,e.uint32(),r,n.error);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.error&&a1.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sk=new sx;class sE extends tv{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",R,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>aV}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.trackType=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.userId=e.string();break;case 2:n.sessionId=e.string();break;case 3:n.trackType=e.int32();break;case 4:n.dimension=aV.internalBinaryRead(e,e.uint32(),r,n.dimension);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.trackType&&t.tag(3,w.Varint).int32(e.trackType),e.dimension&&aV.internalBinaryWrite(e.dimension,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sC=new sE;class sR extends tv{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",k,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.sdp="",t.sessionId="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.peerType=e.int32();break;case 2:n.sdp=e.string();break;case 3:n.sessionId=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.peerType&&t.tag(1,w.Varint).int32(e.peerType),""!==e.sdp&&t.tag(2,w.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(3,w.LengthDelimited).string(e.sessionId);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sA=new sR;class sT extends tv{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>a1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(4===t)n.error=a1.internalBinaryRead(e,e.uint32(),r,n.error);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.error&&a1.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sP=new sT;class sO extends tv{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>a1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(4===t)n.error=a1.internalBinaryRead(e,e.uint32(),r,n.error);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.error&&a1.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sI=new sO;class sN extends tv{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>aQ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.tracks=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.sdp=e.string();break;case 2:n.sessionId=e.string();break;case 3:n.tracks.push(aQ.internalBinaryRead(e,e.uint32(),r));break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.sdp&&t.tag(1,w.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId);for(let i=0;i<e.tracks.length;i++)aQ.internalBinaryWrite(e.tracks[i],t.tag(3,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sj=new sN;class sB extends tv{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>a1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.iceRestart=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.sdp=e.string();break;case 2:n.sessionId=e.string();break;case 3:n.iceRestart=e.bool();break;case 4:n.error=a1.internalBinaryRead(e,e.uint32(),r,n.error);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.sdp&&t.tag(1,w.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),!1!==e.iceRestart&&t.tag(3,w.Varint).bool(e.iceRestart),e.error&&a1.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sU=new tb("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:sj,O:new sB},{name:"SendAnswer",options:{},I:sA,O:sP},{name:"IceTrickle",options:{},I:aY,O:sI},{name:"UpdateSubscriptions",options:{},I:s_,O:sk},{name:"UpdateMuteStates",options:{},I:sf,O:sg},{name:"IceRestart",options:{},I:su,O:sh},{name:"SendStats",options:{},I:ss,O:sl}]);!function(e){e[e.HIGH_UNSPECIFIED=0]="HIGH_UNSPECIFIED",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.VERY_LOW=3]="VERY_LOW"}(I||(I={}));class sL extends tv{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>oi},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>oa},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>oo},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>om},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>aY},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>oR},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>s9},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>ot},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>od},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>s5},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>sX},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>sZ},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>s1},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>s$},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>oT},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>oO},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>sV},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>sK}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.eventPayload={oneofKind:void 0},void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.eventPayload={oneofKind:"subscriberOffer",subscriberOffer:oi.internalBinaryRead(e,e.uint32(),r,n.eventPayload.subscriberOffer)};break;case 2:n.eventPayload={oneofKind:"publisherAnswer",publisherAnswer:oa.internalBinaryRead(e,e.uint32(),r,n.eventPayload.publisherAnswer)};break;case 3:n.eventPayload={oneofKind:"connectionQualityChanged",connectionQualityChanged:oo.internalBinaryRead(e,e.uint32(),r,n.eventPayload.connectionQualityChanged)};break;case 4:n.eventPayload={oneofKind:"audioLevelChanged",audioLevelChanged:om.internalBinaryRead(e,e.uint32(),r,n.eventPayload.audioLevelChanged)};break;case 5:n.eventPayload={oneofKind:"iceTrickle",iceTrickle:aY.internalBinaryRead(e,e.uint32(),r,n.eventPayload.iceTrickle)};break;case 6:n.eventPayload={oneofKind:"changePublishQuality",changePublishQuality:oR.internalBinaryRead(e,e.uint32(),r,n.eventPayload.changePublishQuality)};break;case 10:n.eventPayload={oneofKind:"participantJoined",participantJoined:s9.internalBinaryRead(e,e.uint32(),r,n.eventPayload.participantJoined)};break;case 11:n.eventPayload={oneofKind:"participantLeft",participantLeft:ot.internalBinaryRead(e,e.uint32(),r,n.eventPayload.participantLeft)};break;case 12:n.eventPayload={oneofKind:"dominantSpeakerChanged",dominantSpeakerChanged:od.internalBinaryRead(e,e.uint32(),r,n.eventPayload.dominantSpeakerChanged)};break;case 13:n.eventPayload={oneofKind:"joinResponse",joinResponse:s5.internalBinaryRead(e,e.uint32(),r,n.eventPayload.joinResponse)};break;case 14:n.eventPayload={oneofKind:"healthCheckResponse",healthCheckResponse:sX.internalBinaryRead(e,e.uint32(),r,n.eventPayload.healthCheckResponse)};break;case 16:n.eventPayload={oneofKind:"trackPublished",trackPublished:sZ.internalBinaryRead(e,e.uint32(),r,n.eventPayload.trackPublished)};break;case 17:n.eventPayload={oneofKind:"trackUnpublished",trackUnpublished:s1.internalBinaryRead(e,e.uint32(),r,n.eventPayload.trackUnpublished)};break;case 18:n.eventPayload={oneofKind:"error",error:s$.internalBinaryRead(e,e.uint32(),r,n.eventPayload.error)};break;case 19:n.eventPayload={oneofKind:"callGrantsUpdated",callGrantsUpdated:oT.internalBinaryRead(e,e.uint32(),r,n.eventPayload.callGrantsUpdated)};break;case 20:n.eventPayload={oneofKind:"goAway",goAway:oO.internalBinaryRead(e,e.uint32(),r,n.eventPayload.goAway)};break;case 21:n.eventPayload={oneofKind:"iceRestart",iceRestart:sV.internalBinaryRead(e,e.uint32(),r,n.eventPayload.iceRestart)};break;case 22:n.eventPayload={oneofKind:"pinsUpdated",pinsUpdated:sK.internalBinaryRead(e,e.uint32(),r,n.eventPayload.pinsUpdated)};break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){"subscriberOffer"===e.eventPayload.oneofKind&&oi.internalBinaryWrite(e.eventPayload.subscriberOffer,t.tag(1,w.LengthDelimited).fork(),r).join(),"publisherAnswer"===e.eventPayload.oneofKind&&oa.internalBinaryWrite(e.eventPayload.publisherAnswer,t.tag(2,w.LengthDelimited).fork(),r).join(),"connectionQualityChanged"===e.eventPayload.oneofKind&&oo.internalBinaryWrite(e.eventPayload.connectionQualityChanged,t.tag(3,w.LengthDelimited).fork(),r).join(),"audioLevelChanged"===e.eventPayload.oneofKind&&om.internalBinaryWrite(e.eventPayload.audioLevelChanged,t.tag(4,w.LengthDelimited).fork(),r).join(),"iceTrickle"===e.eventPayload.oneofKind&&aY.internalBinaryWrite(e.eventPayload.iceTrickle,t.tag(5,w.LengthDelimited).fork(),r).join(),"changePublishQuality"===e.eventPayload.oneofKind&&oR.internalBinaryWrite(e.eventPayload.changePublishQuality,t.tag(6,w.LengthDelimited).fork(),r).join(),"participantJoined"===e.eventPayload.oneofKind&&s9.internalBinaryWrite(e.eventPayload.participantJoined,t.tag(10,w.LengthDelimited).fork(),r).join(),"participantLeft"===e.eventPayload.oneofKind&&ot.internalBinaryWrite(e.eventPayload.participantLeft,t.tag(11,w.LengthDelimited).fork(),r).join(),"dominantSpeakerChanged"===e.eventPayload.oneofKind&&od.internalBinaryWrite(e.eventPayload.dominantSpeakerChanged,t.tag(12,w.LengthDelimited).fork(),r).join(),"joinResponse"===e.eventPayload.oneofKind&&s5.internalBinaryWrite(e.eventPayload.joinResponse,t.tag(13,w.LengthDelimited).fork(),r).join(),"healthCheckResponse"===e.eventPayload.oneofKind&&sX.internalBinaryWrite(e.eventPayload.healthCheckResponse,t.tag(14,w.LengthDelimited).fork(),r).join(),"trackPublished"===e.eventPayload.oneofKind&&sZ.internalBinaryWrite(e.eventPayload.trackPublished,t.tag(16,w.LengthDelimited).fork(),r).join(),"trackUnpublished"===e.eventPayload.oneofKind&&s1.internalBinaryWrite(e.eventPayload.trackUnpublished,t.tag(17,w.LengthDelimited).fork(),r).join(),"error"===e.eventPayload.oneofKind&&s$.internalBinaryWrite(e.eventPayload.error,t.tag(18,w.LengthDelimited).fork(),r).join(),"callGrantsUpdated"===e.eventPayload.oneofKind&&oT.internalBinaryWrite(e.eventPayload.callGrantsUpdated,t.tag(19,w.LengthDelimited).fork(),r).join(),"goAway"===e.eventPayload.oneofKind&&oO.internalBinaryWrite(e.eventPayload.goAway,t.tag(20,w.LengthDelimited).fork(),r).join(),"iceRestart"===e.eventPayload.oneofKind&&sV.internalBinaryWrite(e.eventPayload.iceRestart,t.tag(21,w.LengthDelimited).fork(),r).join(),"pinsUpdated"===e.eventPayload.oneofKind&&sK.internalBinaryWrite(e.eventPayload.pinsUpdated,t.tag(22,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sM=new sL;class sD extends tv{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>aD}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.pins=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.pins.push(aD.internalBinaryRead(e,e.uint32(),r));else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){for(let i=0;i<e.pins.length;i++)aD.internalBinaryWrite(e.pins[i],t.tag(1,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sK=new sD;class sq extends tv{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>a1}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(4===t)n.error=a1.internalBinaryRead(e,e.uint32(),r,n.error);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.error&&a1.internalBinaryWrite(e.error,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let s$=new sq;class sF extends tv{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",k,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.peerType=e.int32();break;case 2:n.iceCandidate=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.peerType&&t.tag(1,w.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,w.LengthDelimited).string(e.iceCandidate);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}new sF;class sz extends tv{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",k,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.peerType=e.int32();else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.peerType&&t.tag(1,w.Varint).int32(e.peerType);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sV=new sz;class sH extends tv{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>s3},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>sJ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.requestPayload={oneofKind:void 0},void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.requestPayload={oneofKind:"joinRequest",joinRequest:s3.internalBinaryRead(e,e.uint32(),r,n.requestPayload.joinRequest)};break;case 2:n.requestPayload={oneofKind:"healthCheckRequest",healthCheckRequest:sJ.internalBinaryRead(e,e.uint32(),r,n.requestPayload.healthCheckRequest)};break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){"joinRequest"===e.requestPayload.oneofKind&&s3.internalBinaryWrite(e.requestPayload.joinRequest,t.tag(1,w.LengthDelimited).fork(),r).join(),"healthCheckRequest"===e.requestPayload.oneofKind&&sJ.internalBinaryWrite(e.requestPayload.healthCheckRequest,t.tag(2,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sW=new sH;class sG extends tv{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){return i??this.create()}internalBinaryWrite(e,t,r){let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sJ=new sG;class sY extends tv{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>aL}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.participantCount=aL.internalBinaryRead(e,e.uint32(),r,n.participantCount);else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.participantCount&&aL.internalBinaryWrite(e.participantCount,t.tag(1,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sX=new sY;class sQ extends tv{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",R,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>aq}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.userId=e.string();break;case 2:n.sessionId=e.string();break;case 3:n.type=e.int32();break;case 4:n.participant=aq.internalBinaryRead(e,e.uint32(),r,n.participant);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,w.Varint).int32(e.type),e.participant&&aq.internalBinaryWrite(e.participant,t.tag(4,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let sZ=new sQ;class s0 extends tv{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",R,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",P,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>aq}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,t.cause=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.userId=e.string();break;case 2:n.sessionId=e.string();break;case 3:n.type=e.int32();break;case 4:n.cause=e.int32();break;case 5:n.participant=aq.internalBinaryRead(e,e.uint32(),r,n.participant);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,w.Varint).int32(e.type),0!==e.cause&&t.tag(4,w.Varint).int32(e.cause),e.participant&&aq.internalBinaryWrite(e.participant,t.tag(5,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let s1=new s0;class s2 extends tv{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>a3},{no:5,name:"migration",kind:"message",T:()=>s4},{no:6,name:"fast_reconnect",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.token="",t.sessionId="",t.subscriberSdp="",t.fastReconnect=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.token=e.string();break;case 2:n.sessionId=e.string();break;case 3:n.subscriberSdp=e.string();break;case 4:n.clientDetails=a3.internalBinaryRead(e,e.uint32(),r,n.clientDetails);break;case 5:n.migration=s4.internalBinaryRead(e,e.uint32(),r,n.migration);break;case 6:n.fastReconnect=e.bool();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.token&&t.tag(1,w.LengthDelimited).string(e.token),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),""!==e.subscriberSdp&&t.tag(3,w.LengthDelimited).string(e.subscriberSdp),e.clientDetails&&a3.internalBinaryWrite(e.clientDetails,t.tag(4,w.LengthDelimited).fork(),r).join(),e.migration&&s4.internalBinaryWrite(e.migration,t.tag(5,w.LengthDelimited).fork(),r).join(),!1!==e.fastReconnect&&t.tag(6,w.Varint).bool(e.fastReconnect);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let s3=new s2;class s8 extends tv{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>aQ},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>sC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fromSfuId="",t.announcedTracks=[],t.subscriptions=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.fromSfuId=e.string();break;case 2:n.announcedTracks.push(aQ.internalBinaryRead(e,e.uint32(),r));break;case 3:n.subscriptions.push(sC.internalBinaryRead(e,e.uint32(),r));break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.fromSfuId&&t.tag(1,w.LengthDelimited).string(e.fromSfuId);for(let i=0;i<e.announcedTracks.length;i++)aQ.internalBinaryWrite(e.announcedTracks[i],t.tag(2,w.LengthDelimited).fork(),r).join();for(let i=0;i<e.subscriptions.length;i++)sC.internalBinaryWrite(e.subscriptions[i],t.tag(3,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let s4=new s8;class s6 extends tv{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>aB},{no:2,name:"reconnected",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reconnected=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.callState=aB.internalBinaryRead(e,e.uint32(),r,n.callState);break;case 2:n.reconnected=e.bool();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.callState&&aB.internalBinaryWrite(e.callState,t.tag(1,w.LengthDelimited).fork(),r).join(),!1!==e.reconnected&&t.tag(2,w.Varint).bool(e.reconnected);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let s5=new s6;class s7 extends tv{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>aq}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.callCid=e.string();break;case 2:n.participant=aq.internalBinaryRead(e,e.uint32(),r,n.participant);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.callCid&&t.tag(1,w.LengthDelimited).string(e.callCid),e.participant&&aq.internalBinaryWrite(e.participant,t.tag(2,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let s9=new s7;class oe extends tv{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>aq}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.callCid=e.string();break;case 2:n.participant=aq.internalBinaryRead(e,e.uint32(),r,n.participant);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.callCid&&t.tag(1,w.LengthDelimited).string(e.callCid),e.participant&&aq.internalBinaryWrite(e.participant,t.tag(2,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let ot=new oe;class or extends tv{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.iceRestart=!1,t.sdp="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.iceRestart=e.bool();break;case 2:n.sdp=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){!1!==e.iceRestart&&t.tag(1,w.Varint).bool(e.iceRestart),""!==e.sdp&&t.tag(2,w.LengthDelimited).string(e.sdp);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oi=new or;class on extends tv{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.sdp=e.string();else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.sdp&&t.tag(1,w.LengthDelimited).string(e.sdp);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oa=new on;class os extends tv{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>oc}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.connectionQualityUpdates=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.connectionQualityUpdates.push(oc.internalBinaryRead(e,e.uint32(),r));else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){for(let i=0;i<e.connectionQualityUpdates.length;i++)oc.internalBinaryWrite(e.connectionQualityUpdates[i],t.tag(1,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oo=new os;class ol extends tv{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",E,"CONNECTION_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.connectionQuality=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.userId=e.string();break;case 2:n.sessionId=e.string();break;case 3:n.connectionQuality=e.int32();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.connectionQuality&&t.tag(3,w.Varint).int32(e.connectionQuality);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oc=new ol;class ou extends tv{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.userId=e.string();break;case 2:n.sessionId=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let od=new ou;class oh extends tv{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.level=0,t.isSpeaking=!1,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.userId=e.string();break;case 2:n.sessionId=e.string();break;case 3:n.level=e.float();break;case 4:n.isSpeaking=e.bool();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.userId&&t.tag(1,w.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,w.LengthDelimited).string(e.sessionId),0!==e.level&&t.tag(3,w.Bit32).float(e.level),!1!==e.isSpeaking&&t.tag(4,w.Varint).bool(e.isSpeaking);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let op=new oh;class of extends tv{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>op}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioLevels=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.audioLevels.push(op.internalBinaryRead(e,e.uint32(),r));else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){for(let i=0;i<e.audioLevels.length;i++)op.internalBinaryWrite(e.audioLevels[i],t.tag(1,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let om=new of;class og extends tv{constructor(){super("stream.video.sfu.event.AudioMediaRequest",[{no:1,name:"channel_count",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.channelCount=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.channelCount=e.int32();else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.channelCount&&t.tag(1,w.Varint).int32(e.channelCount);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oy=new og;class ov extends tv{constructor(){super("stream.video.sfu.event.AudioSender",[{no:1,name:"media_request",kind:"message",T:()=>oy},{no:2,name:"codec",kind:"message",T:()=>aJ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.mediaRequest=oy.internalBinaryRead(e,e.uint32(),r,n.mediaRequest);break;case 2:n.codec=aJ.internalBinaryRead(e,e.uint32(),r,n.codec);break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.mediaRequest&&oy.internalBinaryWrite(e.mediaRequest,t.tag(1,w.LengthDelimited).fork(),r).join(),e.codec&&aJ.internalBinaryWrite(e.codec,t.tag(2,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let ob=new ov;class ow extends tv{constructor(){super("stream.video.sfu.event.VideoMediaRequest",[{no:1,name:"ideal_height",kind:"scalar",T:5},{no:2,name:"ideal_width",kind:"scalar",T:5},{no:3,name:"ideal_frame_rate",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.idealHeight=0,t.idealWidth=0,t.idealFrameRate=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.idealHeight=e.int32();break;case 2:n.idealWidth=e.int32();break;case 3:n.idealFrameRate=e.int32();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.idealHeight&&t.tag(1,w.Varint).int32(e.idealHeight),0!==e.idealWidth&&t.tag(2,w.Varint).int32(e.idealWidth),0!==e.idealFrameRate&&t.tag(3,w.Varint).int32(e.idealFrameRate);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oS=new ow;class o_ extends tv{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:5,name:"priority",kind:"enum",T:()=>["stream.video.sfu.event.VideoLayerSetting.Priority",I,"PRIORITY_"]},{no:6,name:"codec",kind:"message",T:()=>aJ},{no:7,name:"max_framerate",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.active=!1,t.maxBitrate=0,t.scaleResolutionDownBy=0,t.priority=0,t.maxFramerate=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.name=e.string();break;case 2:n.active=e.bool();break;case 3:n.maxBitrate=e.int32();break;case 4:n.scaleResolutionDownBy=e.float();break;case 5:n.priority=e.int32();break;case 6:n.codec=aJ.internalBinaryRead(e,e.uint32(),r,n.codec);break;case 7:n.maxFramerate=e.uint32();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){""!==e.name&&t.tag(1,w.LengthDelimited).string(e.name),!1!==e.active&&t.tag(2,w.Varint).bool(e.active),0!==e.maxBitrate&&t.tag(3,w.Varint).int32(e.maxBitrate),0!==e.scaleResolutionDownBy&&t.tag(4,w.Bit32).float(e.scaleResolutionDownBy),0!==e.priority&&t.tag(5,w.Varint).int32(e.priority),e.codec&&aJ.internalBinaryWrite(e.codec,t.tag(6,w.LengthDelimited).fork(),r).join(),0!==e.maxFramerate&&t.tag(7,w.Varint).uint32(e.maxFramerate);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let ox=new o_;class ok extends tv{constructor(){super("stream.video.sfu.event.VideoSender",[{no:1,name:"media_request",kind:"message",T:()=>oS},{no:2,name:"codec",kind:"message",T:()=>aJ},{no:3,name:"layers",kind:"message",repeat:1,T:()=>ox}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.layers=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.mediaRequest=oS.internalBinaryRead(e,e.uint32(),r,n.mediaRequest);break;case 2:n.codec=aJ.internalBinaryRead(e,e.uint32(),r,n.codec);break;case 3:n.layers.push(ox.internalBinaryRead(e,e.uint32(),r));break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.mediaRequest&&oS.internalBinaryWrite(e.mediaRequest,t.tag(1,w.LengthDelimited).fork(),r).join(),e.codec&&aJ.internalBinaryWrite(e.codec,t.tag(2,w.LengthDelimited).fork(),r).join();for(let i=0;i<e.layers.length;i++)ox.internalBinaryWrite(e.layers[i],t.tag(3,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oE=new ok;class oC extends tv{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>ob},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>oE}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioSenders=[],t.videoSenders=[],void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.audioSenders.push(ob.internalBinaryRead(e,e.uint32(),r));break;case 2:n.videoSenders.push(oE.internalBinaryRead(e,e.uint32(),r));break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){for(let i=0;i<e.audioSenders.length;i++)ob.internalBinaryWrite(e.audioSenders[i],t.tag(1,w.LengthDelimited).fork(),r).join();for(let i=0;i<e.videoSenders.length;i++)oE.internalBinaryWrite(e.videoSenders[i],t.tag(2,w.LengthDelimited).fork(),r).join();let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oR=new oC;class oA extends tv{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>si},{no:2,name:"message",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.message="",void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:n.currentGrants=si.internalBinaryRead(e,e.uint32(),r,n.currentGrants);break;case 2:n.message=e.string();break;default:let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){e.currentGrants&&si.internalBinaryWrite(e.currentGrants,t.tag(1,w.LengthDelimited).fork(),r).join(),""!==e.message&&t.tag(2,w.LengthDelimited).string(e.message);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oT=new oA;class oP extends tv{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",O,"GO_AWAY_REASON_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reason=0,void 0!==e&&ts(this,t,e),t}internalBinaryRead(e,t,r,i){let n=i??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();if(1===t)n.reason=e.int32();else{let a=r.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let s=e.skip(i);!1!==a&&(!0===a?b.onRead:a)(this.typeName,n,t,i,s)}}return n}internalBinaryWrite(e,t,r){0!==e.reason&&t.tag(1,w.Varint).int32(e.reason);let i=r.writeUnknownFields;return!1!==i&&(!0==i?b.onWrite:i)(this.typeName,e,t),t}}let oO=new oP;(function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"})(N||(N={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(j||(j={}));class oI{constructor(e){this._transport=e,this.typeName=sU.typeName,this.methods=sU.methods,this.options=sU.options}setPublisher(e,t){let r=this.methods[0],i=this._transport.mergeOptions(t);return tw("unary",this._transport,r,i,e)}sendAnswer(e,t){let r=this.methods[1],i=this._transport.mergeOptions(t);return tw("unary",this._transport,r,i,e)}iceTrickle(e,t){let r=this.methods[2],i=this._transport.mergeOptions(t);return tw("unary",this._transport,r,i,e)}updateSubscriptions(e,t){let r=this.methods[3],i=this._transport.mergeOptions(t);return tw("unary",this._transport,r,i,e)}updateMuteStates(e,t){let r=this.methods[4],i=this._transport.mergeOptions(t);return tw("unary",this._transport,r,i,e)}iceRestart(e,t){let r=this.methods[5],i=this._transport.mergeOptions(t);return tw("unary",this._transport,r,i,e)}sendStats(e,t){let r=this.methods[6],i=this._transport.mergeOptions(t);return tw("unary",this._transport,r,i,e)}}let oN={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},oj=e=>({interceptUnary:(t,r,i,n)=>(n.meta={...n.meta,...e},t(r,i,n))}),oB=e=>new oI(new i5({...oN,...e})),oU=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",oL=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4}),oM="info",oD=(e,t,...r)=>{let i;switch(e){case"error":i=console.error;break;case"warn":if(oU()){t=`WARN: ${t}`,i=console.info;break}i=console.warn;break;case"info":i=console.info;break;case"trace":i=console.trace;break;default:i=console.log}i(t,...r)},oK=(e,t)=>{n=e,t&&oq(t)},oq=e=>{oM=e},o$=e=>{let t=n||oD,r=(e||[]).join(":");return(e,i,...n)=>{oL[e]>=oL[oM]&&t(e,`[${r}]: ${i}`,...n)}},oF=(e,t,r)=>{let i=o$(["codecs"]);if(!("getCapabilities"in RTCRtpSender)){i?.("warn","RTCRtpSender.getCapabilities is not supported");return}let n=RTCRtpSender.getCapabilities(e);if(!n)return;let a=[],s=[],o=[];n.codecs.forEach(n=>{let l=n.mimeType.toLowerCase();if(i?.("debug",`Found supported codec: ${l}`),!r||l!==`${e}/${r.toLowerCase()}`){if(l!==`${e}/${t.toLowerCase()}`){o.push(n);return}if("h264"===l){n.sdpFmtpLine&&n.sdpFmtpLine.includes("profile-level-id=42e01f")?a.push(n):s.push(n);return}a.push(n)}});let l=[...a,...s,...o];return i?.("info","Preffered codecs: ",l),l},oz=async e=>{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:e}),t.addTransceiver("audio",{direction:e});let r=(await t.createOffer()).sdp??"";return t.getTransceivers().forEach(e=>{e.stop()}),t.close(),r},oV={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0},oH=e=>Object.prototype.hasOwnProperty.call(oV,e);class oW{constructor(){this.logger=o$(["Dispatcher"]),this.subscribers={},this.dispatch=e=>{let t=e.eventPayload.oneofKind;if(!t)return;let r=e.eventPayload[t];this.logger("debug",`Dispatching ${t}`,r);let i=this.subscribers[t];if(i)for(let e of i)try{e(r)}catch(e){this.logger("warn","Listener failed with error",e)}},this.on=(e,t)=>{var r;return((r=this.subscribers)[e]??(r[e]=[])).push(t),()=>{this.off(e,t)}},this.off=(e,t)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter(e=>e!==t)},this.offAll=e=>{e?this.subscribers[e]=[]:this.subscribers={}}}}class oG{constructor(){this.subscriberCandidates=new nL,this.publisherCandidates=new nL,this.logger=o$(["sfu-client"]),this.push=e=>{e.peerType===k.SUBSCRIBER?this.subscriberCandidates.next(e):e.peerType===k.PUBLISHER_UNSPECIFIED?this.publisherCandidates.next(e):this.logger("warn","ICETrickle, Unknown peer type",e)}}}function oJ(e){if(e.usernameFragment)return JSON.stringify(e.toJSON());{let t=e.candidate.split(" "),r=t.findIndex(e=>"ufrag"===e)+1,i=t[r];return JSON.stringify({...e,usernameFragment:i})}}let oY=()=>a,oX=()=>s,oQ=()=>o,oZ=()=>l,o0=()=>{if(oU())return{sdk:oY(),os:oX(),device:oQ()};let{browser:e,os:t,device:r,cpu:i}=new av.UAParser(navigator.userAgent).getResult();return{sdk:oY(),browser:{name:e.name||navigator.userAgent,version:e.version||""},os:{name:t.name||"",version:t.version||"",architecture:i.architecture||""},device:{name:[r.vendor,r.model,r.type].filter(Boolean).join(" "),version:""}}},o1={bitrate:125e4,width:1280,height:720},o2=(e,t=o1)=>{let r=[],i=e.getSettings(),{width:n=0,height:a=0}=i,s=oU()&&oX()?.name.toLowerCase()==="ios",o=o3(t,n,a),l=1;return["f","h","q"].forEach(e=>{r.unshift({active:!0,rid:e,width:Math.round(n/l),height:Math.round(a/l),maxBitrate:Math.round(o/l),scaleResolutionDownBy:l,maxFramerate:{f:30,h:s?30:25,q:s?30:20}[e]}),l*=2}),o8(i,r)},o3=(e,t,r)=>{let{width:i,height:n}=e;return t<i||r<n?Math.round(e.bitrate*(t*r/(i*n))):e.bitrate},o8=(e,t)=>{let r;let i=Math.max(e.width||0,e.height||0);r=i<=320?t.filter(e=>"f"===e.rid):i<=640?t.filter(e=>"h"!==e.rid):t;let n=["q","h","f"];return r.map((e,t)=>({...e,rid:n[t]}))},o4=(e,t)=>{let r=e.getSettings();return[{active:!0,rid:"q",width:r.width||0,height:r.height||0,scaleResolutionDownBy:1,maxBitrate:t?.maxBitrate??3e6,maxFramerate:t?.maxFramerate??30}]},o6=e=>{switch(e){case R.SCREEN_SHARE:return"screenShareStream";case R.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case R.VIDEO:return"videoStream";case R.AUDIO:return"audioStream";case R.UNSPECIFIED:throw Error("Track type is unspecified");default:throw Error(`Unknown track type: ${e}`)}},o5=e=>{switch(e){case"audio":return R.AUDIO;case"video":return R.VIDEO;case"screenshare":return R.SCREEN_SHARE;case"screenshare_audio":return R.SCREEN_SHARE_AUDIO;default:throw Error(`Unknown mute type: ${e}`)}},o7=e=>"function"==typeof e,o9=e=>{let t,r;if(at([e]).subscribe({next:([e])=>{t=e},error:e=>{r=e}}).unsubscribe(),r)throw r;return t},le=(e,t)=>{let r=o7(t)?t(o9(e)):t;return e.next(r),r},lt=(e,t)=>{let r=e.subscribe(t);return()=>{r.unsubscribe()}};var lr=Object.freeze({__proto__:null,createSubscription:lt,getCurrentValue:o9,setCurrentValue:le});let li=(...e)=>(t,r)=>{for(let i of e){let e=i(t,r);if(0!==e)return e}return 0},ln=e=>t=>(r,i)=>e(r,i)?t(r,i):0,la=(e,t)=>e.isDominantSpeaker&&!t.isDominantSpeaker?-1:!e.isDominantSpeaker&&t.isDominantSpeaker?1:0,ls=(e,t)=>e.isSpeaking&&!t.isSpeaking?-1:!e.isSpeaking&&t.isSpeaking?1:0,lo=(e,t)=>lp(e)&&!lp(t)?-1:!lp(e)&&lp(t)?1:0,ll=(e,t)=>lf(e)&&!lf(t)?-1:!lf(e)&&lf(t)?1:0,lc=(e,t)=>lm(e)&&!lm(t)?-1:!lm(e)&&lm(t)?1:0,lu=(e,t)=>{if(e.pin&&t.pin){if(!e.pin.isLocalPin&&t.pin.isLocalPin)return -1;if(e.pin.isLocalPin&&!t.pin.isLocalPin)return 1;if(e.pin.pinnedAt>t.pin.pinnedAt)return -1;if(e.pin.pinnedAt<t.pin.pinnedAt)return 1}return e.pin&&!t.pin?-1:!e.pin&&t.pin?1:0},ld=e=>(t,r)=>t.reaction?.type===e&&r.reaction?.type!==e?-1:t.reaction?.type!==e&&r.reaction?.type===e?1:0,lh=(e,t)=>(e.roles||[]).some(e=>t.includes(e)),lp=e=>e.publishedTracks.includes(R.SCREEN_SHARE),lf=e=>e.publishedTracks.includes(R.VIDEO),lm=e=>e.publishedTracks.includes(R.AUDIO),lg=ln((e,t)=>e.viewportVisibilityState?.videoTrack===N.INVISIBLE||t.viewportVisibilityState?.videoTrack===N.INVISIBLE),ly=ln((e,t)=>e.viewportVisibilityState?.videoTrack===N.INVISIBLE||e.viewportVisibilityState?.videoTrack===N.UNKNOWN||t.viewportVisibilityState?.videoTrack===N.INVISIBLE||t.viewportVisibilityState?.videoTrack===N.UNKNOWN),lv=li(lu,lo,lg(li(la,ls,ld("raised-hand"),ll,lc))),lb=li(lu,lo,la,lg(li(ls,ld("raised-hand"),ll,lc))),lw=li(lu,ly(li(la,ls,ld("raised-hand"),ll,lc))),lS=li(lg(li(la,ls,ld("raised-hand"),ll,lc)),((...e)=>(t,r)=>lh(t,e)&&!lh(r,e)?-1:!lh(t,e)&&lh(r,e)?1:0)("admin","host","speaker"));!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(B||(B={}));let l_={broadcasting:!1,hls:{playlist_url:""},rtmps:[]};class lx{constructor(){this.backstageSubject=new ar(!0),this.blockedUserIdsSubject=new ar([]),this.createdAtSubject=new ar(new Date),this.endedAtSubject=new ar(void 0),this.startsAtSubject=new ar(void 0),this.updatedAtSubject=new ar(new Date),this.createdBySubject=new ar(void 0),this.customSubject=new ar({}),this.egressSubject=new ar(void 0),this.ingressSubject=new ar(void 0),this.recordingSubject=new ar(!1),this.sessionSubject=new ar(void 0),this.settingsSubject=new ar(void 0),this.transcribingSubject=new ar(!1),this.endedBySubject=new ar(void 0),this.thumbnailsSubject=new ar(void 0),this.membersSubject=new ar([]),this.ownCapabilitiesSubject=new ar([]),this.callingStateSubject=new ar(B.UNKNOWN),this.startedAtSubject=new ar(void 0),this.participantCountSubject=new ar(0),this.anonymousParticipantCountSubject=new ar(0),this.participantsSubject=new ar([]),this.callStatsReportSubject=new ar(void 0),this.sortParticipantsBy=lv,this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,e=>e)},this.getCurrentValue=o9,this.setCurrentValue=le,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.findParticipantBySessionId=e=>this.participants.find(t=>t.sessionId===e),this.getParticipantLookupBySessionId=()=>this.participants.reduce((e,t)=>(e[t.sessionId]=t,e),{}),this.updateParticipant=(e,t)=>{let r=this.findParticipantBySessionId(e);if(!r){this.logger("warn",`Participant with sessionId ${e} not found`);return}let i="function"==typeof t?t(r):t,n={...r,...i};return this.setParticipants(t=>t.map(t=>t.sessionId===e?n:t))},this.updateOrAddParticipant=(e,t)=>this.findParticipantBySessionId(e)?this.setParticipants(r=>r.map(r=>r.sessionId===e?{...r,...t}:r)):this.setParticipants(e=>[...e,t]),this.updateParticipants=e=>{if(0!==Object.keys(e).length)return this.setParticipants(t=>t.map(t=>{let r=e[t.sessionId];return r?{...t,...r}:t}))},this.updateFromEvent=e=>{let t=this.eventHandlers[e.type];t&&t(e)},this.setServerSidePins=e=>{let t=e.reduce((e,t)=>(e[t.sessionId]=Date.now(),e),{});return this.setParticipants(e=>e.map(e=>{let r=t[e.sessionId];return r?{...e,pin:{isLocalPin:!1,pinnedAt:r}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))},this.updateFromCallResponse=e=>{this.setCurrentValue(this.backstageSubject,e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setCurrentValue(this.endedAtSubject,e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording),this.setCurrentValue(this.sessionSubject,e.session),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromMemberRemoved=e=>{this.setCurrentValue(this.membersSubject,t=>t.filter(t=>-1===e.members.indexOf(t.user_id)))},this.updateFromMemberAdded=e=>{this.setCurrentValue(this.membersSubject,t=>[...t,...e.members])},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,(e=l_)=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,(e=l_)=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastStarted=e=>{this.setCurrentValue(this.egressSubject,(t=l_)=>({...t,broadcasting:!0,hls:{...t.hls,playlist_url:e.hls_playlist_url}}))},this.updateFromSessionParticipantLeft=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_left event but no session is available.",e),t;let{participants:r,participants_count_by_role:i}=t,{user:n,user_session_id:a}=e.participant;return{...t,participants:r.filter(e=>e.user_session_id!==a),participants_count_by_role:{...i,[n.role]:Math.max(0,(i[n.role]||0)-1)}}})},this.updateFromSessionParticipantJoined=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_joined event but no session is available.",e),t;let{participants:r,participants_count_by_role:i}=t,{user:n,user_session_id:a}=e.participant,s=!0,o=r.map(t=>t.user_session_id===a?(s=!1,e.participant):t);s&&o.push(e.participant);let l=s?1:0;return{...t,participants:o,participants_count_by_role:{...i,[n.role]:(i[n.role]||0)+l}}})},this.updateMembers=e=>{this.setCurrentValue(this.membersSubject,t=>t.map(t=>e.members.find(e=>e.user_id===t.user_id)||t))},this.updateParticipantReaction=e=>{let{user:t,custom:r,type:i,emoji_code:n}=e.reaction;this.setParticipants(e=>e.map(e=>e.userId!==t.id?e:{...e,reaction:{type:i,emoji_code:n,custom:r}}))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>t?t.filter(t=>t!==e.user.id):t)},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>[...t||[],e.user.id])},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.logger=o$(["CallState"]),this.participants$=this.participantsSubject.asObservable().pipe(n6(e=>e.sort(this.sortParticipantsBy)),an({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(n6(e=>e.find(e=>e.isLocalParticipant)),an({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(n6(e=>e.filter(e=>!e.isLocalParticipant)),an({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(n6(e=>e.filter(e=>!!e.pin)),an({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(n6(e=>e.find(e=>e.isDominantSpeaker)),an({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(n6(e=>e.some(e=>e.publishedTracks.includes(R.SCREEN_SHARE))),aa(),an({bufferSize:1,refCount:!0})),this.startedAt$=this.startedAtSubject.asObservable(),this.participantCount$=this.participantCountSubject.asObservable(),this.anonymousParticipantCount$=this.anonymousParticipantCountSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.ownCapabilities$=this.ownCapabilitiesSubject.asObservable(),this.callingState$=this.callingStateSubject.asObservable(),this.backstage$=this.backstageSubject.asObservable(),this.blockedUserIds$=this.blockedUserIdsSubject.asObservable(),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.recording$=this.recordingSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.transcribing$=this.transcribingSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable(),this.eventHandlers={"call.closed_caption":void 0,"call.permission_request":void 0,"call.recording_failed":void 0,"call.recording_ready":void 0,"call.transcription_started":void 0,"call.transcription_stopped":void 0,"call.transcription_ready":void 0,"call.transcription_failed":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.created":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":this.updateFromHLSBroadcastStarted,"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call)}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}}class lk{constructor(){this.connectedUserSubject=new ar(void 0),this.callsSubject=new ar([]),this.getCurrentValue=o9,this.setCurrentValue=le,this.setConnectedUser=e=>this.setCurrentValue(this.connectedUserSubject,e),this.setCalls=e=>this.setCurrentValue(this.callsSubject,e),this.registerCall=e=>{this.calls.find(t=>t.cid===e.cid)||this.setCalls(t=>[...t,e])},this.unregisterCall=e=>this.setCalls(t=>t.filter(t=>t!==e)),this.findCall=(e,t)=>this.calls.find(r=>r.type===e&&r.id===t),this.connectedUserSubject.subscribe(async e=>{if(!e){let e=o$(["client-state"]);for(let t of this.calls)t.state.callingState!==B.LEFT&&(e("info",`User disconnected, leaving call: ${t.cid}`),await t.leave({reason:"client.disconnectUser() called"}).catch(r=>{e("error",`Error leaving call: ${t.cid}`,r)}))}})}get connectedUser(){return this.getCurrentValue(this.connectedUserSubject)}get calls(){return this.getCurrentValue(this.callsSubject)}}class lE{constructor(e){this.getCurrentValue=o9,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return o9(this.connectedUser$)}get calls(){return o9(this.calls$)}}let lC=e=>{let t=/^a=rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/.exec(e);if(t)return{original:t[0],payload:t[1],codec:t[2]}},lR=e=>{let t=/^a=fmtp:(\d*) (.*)/.exec(e);if(t)return{original:t[0],payload:t[1],config:t[2]}},lA=(e,t)=>{let r=RegExp(`(m=${t} \\d+ [\\w/]+) ([\\d\\s]+)`).exec(e);if(r)return{original:r[0],mediaWithPorts:r[1],codecOrder:r[2]}},lT=(e,t)=>{let r;let i=[],n=[],a=!1;if(e.split(/(\r\n|\r|\n)/).forEach(e=>{if(!/^([a-z])=(.*)/.test(e))return;let s=e[0];if("m"===s){let i=lA(e,t);a=!!i,i&&(r=i)}else if(a&&"a"===s){let t=lC(e),r=lR(e);t?i.push(t):r&&n.push(r)}}),r)return{media:r,rtpMap:i,fmtp:n}},lP=e=>{let t=lT(e,"audio"),r=t?.rtpMap.find(e=>"opus"===e.codec.toLowerCase()),i=r?.payload;if(i)return t?.fmtp.find(e=>e.payload===i)},lO=(e,t)=>{let r=lP(e);if(r){let i=/usedtx=(\d)/.exec(r.config),n=`usedtx=${t?"1":"0"}`;if(i){let t=r.original.replace(/usedtx=(\d)/,n);return e.replace(r.original,t)}{let t=`${r.original};${n}`;return e.replace(r.original,t)}}return e},lI=(e,t,r=51e4)=>{r=Math.max(Math.min(r,51e4),96e3);let i=ay.Qc(e),n=i.media.find(e=>"audio"===e.type&&String(e.mid)===t);if(!n)return e;let a=n.rtp.find(e=>"opus"===e.codec);if(!a)return e;let s=n.fmtp.find(e=>e.payload===a.payload);return s?(s.config.match(/stereo=(\d)/)?s.config=s.config.replace(/stereo=(\d)/,"stereo=1"):s.config=`${s.config};stereo=1`,s.config.match(/maxaveragebitrate=(\d*)/)?s.config=s.config.replace(/maxaveragebitrate=(\d*)/,`maxaveragebitrate=${r}`):s.config=`${s.config};maxaveragebitrate=${r}`,ay.cW(i)):e},lN=o$(["Publisher"]);class lj{get connectionConfiguration(){return this.pc.getConfiguration?this.pc.getConfiguration():this._connectionConfiguration}constructor({connectionConfig:e,sfuClient:t,dispatcher:r,state:i,isDtxEnabled:n,isRedEnabled:a,iceRestartDelay:s=2500}){this.transceiverRegistry={[R.AUDIO]:void 0,[R.VIDEO]:void 0,[R.SCREEN_SHARE]:void 0,[R.SCREEN_SHARE_AUDIO]:void 0,[R.UNSPECIFIED]:void 0},this.publishOptionsPerTrackType=new Map,this.transceiverInitOrder=[],this.trackKindMapping={[R.AUDIO]:"audio",[R.VIDEO]:"video",[R.SCREEN_SHARE]:"video",[R.SCREEN_SHARE_AUDIO]:"audio",[R.UNSPECIFIED]:void 0},this.trackLayersCache={[R.AUDIO]:void 0,[R.VIDEO]:void 0,[R.SCREEN_SHARE]:void 0,[R.SCREEN_SHARE_AUDIO]:void 0,[R.UNSPECIFIED]:void 0},this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return this._connectionConfiguration=e,t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("negotiationneeded",this.onNegotiationNeeded),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t.addEventListener("signalingstatechange",this.onSignalingStateChange),t},this.close=({stopTracks:e=!0}={})=>{e&&(this.stopPublishing(),Object.keys(this.transceiverRegistry).forEach(e=>{this.transceiverRegistry[e]=void 0}),Object.keys(this.trackLayersCache).forEach(e=>{this.trackLayersCache[e]=void 0})),clearTimeout(this.iceRestartTimeout),this.unsubscribeOnIceRestart(),this.pc.removeEventListener("negotiationneeded",this.onNegotiationNeeded),this.pc.close()},this.publishStream=async(e,t,r,i={})=>{if("ended"===t.readyState)throw Error("Can't publish a track that has ended already.");let n=this.pc.getTransceivers().find(e=>e===this.transceiverRegistry[r]&&e.sender.track&&e.sender.track?.kind===this.trackKindMapping[r]),a=async()=>{lN("info",`Track ${R[r]} has ended, notifying the SFU`),await this.notifyTrackMuteStateChanged(e,r,!0),t.removeEventListener("ended",a)};if(n){let e=n.sender.track;e&&e!==t&&(e.stop(),e.removeEventListener("ended",a),t.addEventListener("ended",a)),t.enabled||(t.enabled=!0),await n.sender.replaceTrack(t)}else{let{settings:s}=this.state,o=s?.video.target_resolution,l=r===R.VIDEO?o2(t,o):r===R.SCREEN_SHARE?o4(t,i.screenShareSettings):void 0,c=i.preferredCodec;if(!c&&r===R.VIDEO&&oU()){let e=oX()?.name.toLowerCase();"ipados"===e?c="H264":"android"===e&&(c="VP8")}let u=this.getCodecPreferences(r,c);t.addEventListener("ended",a),t.enabled||(t.enabled=!0),n=this.pc.addTransceiver(t,{direction:"sendonly",streams:r===R.VIDEO||r===R.SCREEN_SHARE?[e]:void 0,sendEncodings:l}),lN("debug",`Added ${R[r]} transceiver`),this.transceiverInitOrder.push(r),this.transceiverRegistry[r]=n,this.publishOptionsPerTrackType.set(r,i),"setCodecPreferences"in n&&u&&(lN("info",`Setting ${R[r]} codec preferences`,u),n.setCodecPreferences(u))}await this.notifyTrackMuteStateChanged(e,r,!1)},this.unpublishStream=async(e,t)=>{let r=this.pc.getTransceivers().find(t=>t===this.transceiverRegistry[e]&&t.sender.track);r&&r.sender.track&&(t?"live"===r.sender.track.readyState:r.sender.track.enabled)&&(t?r.sender.track.stop():r.sender.track.enabled=!1,this.state.localParticipant?.publishedTracks.includes(e)&&await this.notifyTrackMuteStateChanged(void 0,e,!0))},this.isPublishing=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState&&e.track.enabled}return!1},this.isLive=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState}return!1},this.notifyTrackMuteStateChanged=async(e,t,r)=>{await this.sfuClient.updateMuteState(t,r);let i=o6(t);r?this.state.updateParticipant(this.sfuClient.sessionId,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==t),[i]:void 0})):this.state.updateParticipant(this.sfuClient.sessionId,r=>({publishedTracks:r.publishedTracks.includes(t)?r.publishedTracks:[...r.publishedTracks,t],[i]:e}))},this.stopPublishing=()=>{lN("debug","Stopping publishing all tracks"),this.pc.getSenders().forEach(e=>{e.track?.stop(),"closed"!==this.pc.signalingState&&this.pc.removeTrack(e)})},this.updateVideoPublishQuality=async e=>{lN("info","Update publish quality, requested layers by SFU:",e);let t=this.transceiverRegistry[R.VIDEO]?.sender;if(!t){lN("warn","Update publish quality, no video sender found.");return}let r=t.getParameters();if(0===r.encodings.length){lN("warn","Update publish quality, No suitable video encoding quality found");return}let i=!1,n=e.filter(e=>e.active).map(e=>e.name);r.encodings.forEach(t=>{let r=n.includes(t.rid);if(r!==t.active&&(t.active=r,i=!0),r){let r=e.find(e=>e.name===t.rid);void 0!==r&&(r.scaleResolutionDownBy>=1&&r.scaleResolutionDownBy!==t.scaleResolutionDownBy&&(lN("debug","[dynascale]: setting scaleResolutionDownBy from server","layer",r.name,"scale-resolution-down-by",r.scaleResolutionDownBy),t.scaleResolutionDownBy=r.scaleResolutionDownBy,i=!0),r.maxBitrate>0&&r.maxBitrate!==t.maxBitrate&&(lN("debug","[dynascale] setting max-bitrate from the server","layer",r.name,"max-bitrate",r.maxBitrate),t.maxBitrate=r.maxBitrate,i=!0),r.maxFramerate>0&&r.maxFramerate!==t.maxFramerate&&(lN("debug","[dynascale]: setting maxFramerate from server","layer",r.name,"max-framerate",r.maxFramerate),t.maxFramerate=r.maxFramerate,i=!0))}});let a=r.encodings.filter(e=>e.active);i?(await t.setParameters(r),lN("info","Update publish quality, enabled rids: ",a)):lN("info","Update publish quality, no change: ",a)},this.getStats=e=>this.pc.getStats(e),this.getCodecPreferences=(e,t)=>{if(e===R.VIDEO)return oF("video",t||"vp8");if(e===R.AUDIO){let e=this.isRedEnabled?"red":"opus";return oF("audio",t??e,this.isRedEnabled?void 0:"red")}},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){lN("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oJ(t),peerType:k.PUBLISHER_UNSPECIFIED})},this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=async(e,t)=>{this.sfuClient=e,this.pc.setConfiguration(t),this._connectionConfiguration=t,"connected"===this.pc.iceConnectionState&&await this.negotiate({iceRestart:!0})},this.restartIce=async()=>{lN("debug","Restarting ICE connection");let e=this.pc.signalingState;if(this.isIceRestarting||"have-local-offer"===e){lN("debug","ICE restart is already in progress");return}await this.negotiate({iceRestart:!0})},this.onNegotiationNeeded=async()=>{await this.negotiate()},this.negotiate=async e=>{this.isIceRestarting=e?.iceRestart??!1;let t=await this.pc.createOffer(e),r=this.mungeCodecs(t.sdp);if(r&&this.isPublishing(R.SCREEN_SHARE_AUDIO)){let e=this.transceiverRegistry[R.SCREEN_SHARE_AUDIO];if(e&&e.sender.track){let t=e.mid??this.extractMid(r,e.sender.track,R.SCREEN_SHARE_AUDIO);r=lI(r,t)}}t.sdp=r;let i=this.getCurrentTrackInfos(t.sdp);if(0===i.length)throw Error("Can't initiate negotiation without announcing any tracks");await this.pc.setLocalDescription(t);let{response:n}=await this.sfuClient.setPublisher({sdp:t.sdp||"",tracks:i});try{await this.pc.setRemoteDescription({type:"answer",sdp:n.sdp})}catch(e){lN("error","setRemoteDescription error",{sdp:n.sdp,error:e})}this.isIceRestarting=!1,this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){lN("warn","ICE candidate error",[t,e])}})},this.mungeCodecs=e=>(e&&(e=lO(e,this.isDtxEnabled)),e),this.extractMid=(e,t,r)=>{if(!e)return lN("warn","No SDP found. Returning empty mid"),"";lN("debug","No 'mid' found for track. Trying to find it from the Offer SDP");let i=ay.Qc(e).media.find(e=>e.type===t.kind&&(e.msid?.includes(t.id)??!0));if(void 0===i?.mid){lN("debug",`No mid found in SDP for track type ${t.kind} and id ${t.id}. Attempting to find a heuristic mid`);let e=this.transceiverInitOrder.indexOf(r);return -1!==e?String(e):(lN("debug","No heuristic mid found. Returning empty mid"),"")}return String(i.mid)},this.getCurrentTrackInfos=e=>{e=e||this.pc.localDescription?.sdp;let{settings:t}=this.state,r=t?.video.target_resolution;return this.pc.getTransceivers().filter(e=>"sendonly"===e.direction&&e.sender.track).map(t=>{let i;let n=Number(Object.keys(this.transceiverRegistry).find(e=>this.transceiverRegistry[e]===t)),a=t.sender.track;if("live"===a.readyState){let e=this.publishOptionsPerTrackType.get(n);i=n===R.VIDEO?o2(a,r):n===R.SCREEN_SHARE?o4(a,e?.screenShareSettings):[],this.trackLayersCache[n]=i}else i=this.trackLayersCache[n]||[],lN("debug",`Track ${R[n]} is ended. Announcing last known optimal layers`,i);let s=i.map(e=>({rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:this.ridToVideoQuality(e.rid||""),videoDimension:{width:e.width,height:e.height}})),o=[R.AUDIO,R.SCREEN_SHARE_AUDIO].includes(n),l=a.getSettings(),c=o&&2===l.channelCount;return{trackId:a.id,layers:s,trackType:n,mid:t.mid??this.extractMid(e,a,n),stereo:c,dtx:o&&this.isDtxEnabled,red:o&&this.isRedEnabled}})},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,r=this.pc.iceConnectionState;lN("connected"===r||"checking"===r?"debug":"warn","ICE Candidate error",t)},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;lN("debug","ICE Connection state changed to",e);let t=this.state.callingState!==B.OFFLINE;"failed"===e?(lN("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{lN("error","ICE restart error",e)})):"disconnected"===e&&t&&(lN("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{lN("error","ICE restart error",e)}):lN("debug","Scheduled ICE restart: connection recovered, canceled.")},this.iceRestartDelay))},this.onIceGatheringStateChange=()=>{lN("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingStateChange=()=>{lN("debug","Signaling state changed",this.pc.signalingState)},this.ridToVideoQuality=e=>"q"===e?C.LOW_UNSPECIFIED:"h"===e?C.MID:C.HIGH,this.pc=this.createPeerConnection(e),this.sfuClient=t,this.state=i,this.isDtxEnabled=n,this.isRedEnabled=a,this.iceRestartDelay=s,this.unsubscribeOnIceRestart=r.on("iceRestart",async e=>{e.peerType===k.PUBLISHER_UNSPECIFIED&&await this.restartIce()})}}let lB=o$(["Subscriber"]);class lU{get connectionConfiguration(){return this.pc.getConfiguration?this.pc.getConfiguration():this._connectionConfiguration}constructor({sfuClient:e,dispatcher:t,state:r,connectionConfig:i,iceRestartDelay:n=2500}){this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return this._connectionConfiguration=e,t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("track",this.handleOnTrack),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t},this.close=()=>{clearTimeout(this.iceRestartTimeout),this.unregisterOnSubscriberOffer(),this.unregisterOnIceRestart(),this.pc.close()},this.getStats=e=>this.pc.getStats(e),this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=(e,t)=>{let r;this.setSfuClient(e);let i=this.pc,n=new Set;i.getReceivers().forEach(e=>{"video"===e.track.kind&&n.add(e.track.id)});let a=this.createPeerConnection(t),s=()=>{i.close(),clearTimeout(r)},o=e=>{lB("debug",`[Migration]: Migrated track: ${e.track.id}, ${e.track.kind}`),n.delete(e.track.id),0===n.size&&(lB("debug","[Migration]: Migration complete"),a.removeEventListener("track",o),s())},l=()=>{"connected"===a.connectionState&&(r=setTimeout(()=>{a.removeEventListener("track",o),s()},2e3),a.removeEventListener("connectionstatechange",l))};a.addEventListener("track",o),a.addEventListener("connectionstatechange",l),this.pc=a},this.restartIce=async()=>{if(lB("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState){lB("debug","ICE restart is already in progress");return}let e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:k.SUBSCRIBER})}catch(t){throw this.isIceRestarting=e,t}},this.handleOnTrack=e=>{let[t]=e.streams,[r,i]=t.id.split(":"),n=this.state.participants.find(e=>e.trackLookupPrefix===r);if(lB("debug",`[onTrack]: Got remote ${i} track for userId: ${n?.userId}`,e.track.id,e.track),!n){lB("error",`[onTrack]: Received track for unknown participant: ${r}`,e);return}e.track.addEventListener("mute",()=>{lB("info",`[onTrack]: Track muted: ${n.userId} ${i}:${r}`)}),e.track.addEventListener("unmute",()=>{lB("info",`[onTrack]: Track unmuted: ${n.userId} ${i}:${r}`)}),e.track.addEventListener("ended",()=>{lB("info",`[onTrack]: Track ended: ${n.userId} ${i}:${r}`)});let a={TRACK_TYPE_AUDIO:"audioStream",TRACK_TYPE_VIDEO:"videoStream",TRACK_TYPE_SCREEN_SHARE:"screenShareStream",TRACK_TYPE_SCREEN_SHARE_AUDIO:"screenShareAudioStream"}[i];if(!a){lB("error",`Unknown track type: ${i}`);return}let s=n[a];s&&(lB("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${n.userId}`),s.getTracks().forEach(e=>{e.stop(),s.removeTrack(e)})),this.state.updateParticipant(n.sessionId,{[a]:t})},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){lB("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oJ(t),peerType:k.SUBSCRIBER})},this.negotiate=async e=>{lB("info","Received subscriberOffer",e),await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){lB("warn","ICE candidate error",[t,e])}});let t=await this.pc.createAnswer();await this.pc.setLocalDescription(t),await this.sfuClient.sendAnswer({peerType:k.SUBSCRIBER,sdp:t.sdp||""}),this.isIceRestarting=!1},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;if(lB("debug","ICE connection state changed",e),this.isIceRestarting)return;let t=this.state.callingState!==B.OFFLINE;"failed"===e?(lB("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{lB("error","ICE restart failed",e)})):"disconnected"===e&&t&&(lB("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{lB("error","ICE restart failed",e)}):lB("debug","Scheduled ICE restart: connection recovered, canceled.")},5e3))},this.onIceGatheringStateChange=()=>{lB("debug","ICE gathering state changed",this.pc.iceGatheringState)},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,r=this.pc.iceConnectionState;lB("connected"===r||"checking"===r?"debug":"warn","ICE Candidate error",t)},this.sfuClient=e,this.state=r,this.iceRestartDelay=n,this.pc=this.createPeerConnection(i),this.unregisterOnSubscriberOffer=t.on("subscriberOffer",async e=>{await this.negotiate(e)}),this.unregisterOnIceRestart=t.on("iceRestart",async e=>{e.peerType===k.SUBSCRIBER&&await this.restartIce()})}}let lL=e=>{let t=o$(["sfu-client"]),{endpoint:r,onMessage:i}=e,n=new(aw())(r);return n.binaryType="arraybuffer",n.addEventListener("error",e=>{t("error","Signaling WS channel error",e)}),n.addEventListener("close",e=>{t("info","Signaling WS channel is closed",e)}),n.addEventListener("open",e=>{t("info","Signaling WS channel is open",e)}),n.addEventListener("message",e=>{try{let t=e.data instanceof ArrayBuffer?sM.fromBinary(new Uint8Array(e.data)):sM.fromJsonString(e.data.toString());i(t)}catch(r){t("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:r})}}),n},lM=e=>new Promise(t=>setTimeout(t,e));function lD(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function)}let lK={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3,WS_CLOSED_ABRUPTLY:1006,WS_POLICY_VIOLATION:1008};function lq(e){let t=Math.min(Math.max(250,(e-1)*2e3),5e3);return Math.floor(Math.random()*(Math.min(500+2e3*e,5e3)-t)+t)}function l$(e){let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}function lF(){let e=function(e){let t=new Uint8Array(16);return lz(t),t}(0);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,l$(e.subarray(0,4))+"-"+l$(e.subarray(4,6))+"-"+l$(e.subarray(6,8))+"-"+l$(e.subarray(8,10))+"-"+l$(e.subarray(10,16))}let lz="undefined"!=typeof crypto&&void 0!==crypto?.getRandomValues?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):function(e){let t=Math.pow(2,8*e.byteLength/e.length);for(let r=0;r<e.length;r++)e[r]=Math.random()*t};class lV{constructor({dispatcher:e,sfuServer:t,token:r,sessionId:i}){this.iceTrickleBuffer=new oG,this.isMigratingAway=!1,this.isFastReconnecting=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.close=(e,t)=>{this.logger("debug",`Closing SFU WS connection: ${e} - ${t}`),this.signalWs.readyState!==this.signalWs.CLOSED&&this.signalWs.close(e,`js-client: ${t}`),this.unsubscribeIceTrickle(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout)},this.updateSubscriptions=async e=>lH(()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e}),this.logger),this.setPublisher=async e=>lH(()=>this.rpc.setPublisher({...e,sessionId:this.sessionId}),this.logger),this.sendAnswer=async e=>lH(()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId}),this.logger),this.iceTrickle=async e=>lH(()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId}),this.logger),this.iceRestart=async e=>lH(()=>this.rpc.iceRestart({...e,sessionId:this.sessionId}),this.logger),this.updateMuteState=async(e,t)=>this.updateMuteStates({muteStates:[{trackType:e,muted:t}]}),this.updateMuteStates=async e=>lH(()=>this.rpc.updateMuteStates({...e,sessionId:this.sessionId}),this.logger),this.sendStats=async e=>lH(()=>this.rpc.sendStats({...e,sessionId:this.sessionId}),this.logger),this.join=async e=>{let t=s3.create({...e,sessionId:this.sessionId,token:this.token});return this.send(sW.create({requestPayload:{oneofKind:"joinRequest",joinRequest:t}}))},this.send=async e=>this.signalReady.then(t=>{t.readyState===t.OPEN&&(this.logger("debug",`Sending message to: ${this.edgeName}`,sW.toJson(e)),t.send(sW.toBinary(e)))}),this.keepAlive=()=>{clearInterval(this.keepAliveInterval),this.keepAliveInterval=setInterval(()=>{this.logger("trace","Sending healthCheckRequest to SFU");let e=sW.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}});this.send(e).catch(e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)})},this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout(()=>{this.lastMessageTimestamp&&new Date().getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(lV.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)},this.unhealthyTimeoutInMs)},this.sessionId=i||lF(),this.sfuServer=t,this.edgeName=t.edge_name,this.token=r,this.logger=o$(["sfu-client"]),this.rpc=oB({baseUrl:t.url,interceptors:[oj({Authorization:`Bearer ${r}`}),{interceptUnary:(e,t,r,i)=>(this.logger("trace",`Calling SFU RPC method ${t.name}`,{input:r,options:i}),e(t,r,i))}]}),this.unsubscribeIceTrickle=e.on("iceTrickle",e=>{this.iceTrickleBuffer.push(e)}),this.signalWs=lL({endpoint:t.ws_endpoint,onMessage:t=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck(),e.dispatch(t)}}),this.signalReady=new Promise(e=>{let t=()=>{this.signalWs.removeEventListener("open",t),this.keepAlive(),e(this.signalWs)};this.signalWs.addEventListener("open",t)})}}lV.NORMAL_CLOSURE=1e3,lV.ERROR_CONNECTION_UNHEALTHY=4001,lV.ERROR_CONNECTION_BROKEN=4002;let lH=async(e,t)=>{let r,i=0;do i>0&&await lM(lq(i)),r=await e(),t("trace",`SFU RPC response received for ${r.method.name}`,r),r.response.error&&t("error",`SFU RPC Error (${r.method.name}):`,r.response.error),i++;while(r.response.error?.shouldRetry&&i<5);if(r.response.error)throw r.response.error;return r},lW=e=>async function(t){if(t.user.id===e.currentUserId)return;let{state:r}=e;t.call.created_by.id===e.currentUserId&&r.callingState===B.RINGING&&await e.join()},lG=e=>async function(t){if(t.user.id===e.currentUserId)return;let{call:r}=t,{session:i}=r;if(!i){e.logger("warn","No call session provided. Ignoring call.rejected event.",t);return}let n=i.rejected_by,{members:a,callingState:s}=e.state;if(s!==B.RINGING){e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",t);return}e.isCreatedByMe?a.filter(t=>t.user_id!==e.currentUserId).every(e=>n[e.user_id])&&(e.logger("info","everyone rejected, leaving the call"),await e.leave({reason:"ring: everyone rejected"})):n[r.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave({reason:"ring: creator rejected"}))},lJ=e=>async function(){let{callingState:t}=e.state;(t===B.RINGING||t===B.JOINED||t===B.JOINING)&&await e.leave({reason:"call.ended event received"})},lY=e=>function(t){let{currentGrants:r}=t;if(r){let{canPublishAudio:t,canPublishVideo:i,canScreenshare:n}=r,a={[ak.SEND_AUDIO]:t,[ak.SEND_VIDEO]:i,[ak.SCREENSHARE]:n},s=e.ownCapabilities.filter(e=>!1!==a[e]);Object.entries(a).forEach(([e,t])=>{t&&!s.includes(e)&&s.push(e)}),e.setOwnCapabilities(s)}},lX=o$(["events"]),lQ=(e,t)=>e.on("changePublishQuality",e=>{let{videoSenders:r}=e;r.forEach(e=>{let{layers:r}=e;t.updatePublishQuality(r.filter(e=>e.active))})}),lZ=(e,t)=>e.on("connectionQualityChanged",e=>{let{connectionQualityUpdates:r}=e;r&&t.updateParticipants(r.reduce((e,t)=>{let{sessionId:r,connectionQuality:i}=t;return e[r]={connectionQuality:i},e},{}))}),l0=(e,t)=>e.on("healthCheckResponse",e=>{let{participantCount:r}=e;r&&(t.setParticipantCount(r.total),t.setAnonymousParticipantCount(r.anonymous))}),l1=(e,t)=>e.on("error",e=>{e.error&&e.error.code!==A.LIVE_ENDED||t.permissionsContext.hasPermission(ak.JOIN_BACKSTAGE)||t.leave({reason:"live ended"}).catch(e=>{lX("error","Failed to leave call after live ended",e)})}),l2=e=>e.on("error",e=>{if(!e.error)return;let{error:t}=e;lX("error","SFU reported error",{code:A[t.code],message:t.message,shouldRetry:t.shouldRetry})}),l3=e=>function(t){let{pins:r}=t;e.setServerSidePins(r)},l8=e=>e.on("trackUnpublished",async t=>{let{cause:r,type:i,sessionId:n}=t,{localParticipant:a}=e.state;if(r===P.MODERATION&&n===a?.sessionId){let t=e.logger;t("info",`Local participant's ${R[i]} track is muted remotely`);try{i===R.VIDEO?await e.camera.disable():i===R.AUDIO?await e.microphone.disable():t("warn","Unsupported track type to soft mute",R[i]),e.publisher?.isPublishing(i)&&await e.stopPublish(i)}catch(e){t("error","Failed to stop publishing",e)}}}),l4=e=>function(t){let{participant:r}=t;r&&e.updateOrAddParticipant(r.sessionId,Object.assign(r,{viewportVisibilityState:{videoTrack:N.UNKNOWN,screenShareTrack:N.UNKNOWN}}))},l6=e=>function(t){let{participant:r}=t;r&&e.setParticipants(e=>e.filter(e=>e.sessionId!==r.sessionId))},l5=e=>function(t){let{type:r,sessionId:i,participant:n}=t;n?e.updateOrAddParticipant(i,n):e.updateParticipant(i,e=>({publishedTracks:[...e.publishedTracks,r].filter(l9)}))},l7=e=>function(t){let{type:r,sessionId:i,participant:n}=t;n?e.updateOrAddParticipant(i,n):e.updateParticipant(i,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==r)}))},l9=(e,t,r)=>r.indexOf(e)===t,ce=(e,t)=>e.on("dominantSpeakerChanged",e=>{let{sessionId:r}=e;r!==t.dominantSpeaker?.sessionId&&t.setParticipants(e=>e.map(e=>e.sessionId===r?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))}),ct=(e,t)=>e.on("audioLevelChanged",e=>{let{audioLevels:r}=e;t.updateParticipants(r.reduce((e,t)=>(e[t.sessionId]={audioLevel:t.level,isSpeaking:t.isSpeaking},e),{}))}),cr=(e,t,r)=>{let i=[e.on("call.ended",lJ(e)),l1(r,e),l2(r),lQ(r,e),lZ(r,t),l0(r,t),e.on("participantJoined",l4(t)),e.on("participantLeft",l6(t)),e.on("trackPublished",l5(t)),e.on("trackUnpublished",l7(t)),ct(r,t),ce(r,t),e.on("callGrantsUpdated",lY(t)),e.on("pinsUpdated",l3(t)),l8(e)];return e.ringing&&i.push(ci(e)),()=>{i.forEach(e=>e())}},ci=e=>{let t={"call.accepted":lW(e),"call.rejected":lG(e)},r=Object.keys(t).map(r=>e.on(r,t[r]));return()=>{r.forEach(e=>e())}},cn=async(e,t,r,i)=>{let{call:n,credentials:a,members:s,own_capabilities:o,stats_options:l}=await ca(e,t,r,i);return{connectionConfig:cs(a.ice_servers),sfuServer:a.server,token:a.token,metadata:n,members:s,ownCapabilities:o,statsOptions:l}},ca=async(e,t,r,i)=>{let n=await e.getLocationHint(),a={...i,location:n};return e.post(`/call/${t}/${r}/join`,a)},cs=e=>{if(e&&0!==e.length)return{iceServers:e.map(e=>({urls:e.urls,username:e.username,credential:e.password}))}},co=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t},cl=({subscriber:e,publisher:t,state:r,pollingIntervalInMs:i=2e3})=>{let n;let a=o$(["stats"]),s=async(r,i)=>"subscriber"===r&&e?e.getStats(i):"publisher"===r&&t?t.getStats(i):void a("warn",`Can't retrieve RTC stats for ${r}`),o=async(r,i)=>{let n="subscriber"===r?e:t,a=[];for(let e of i.getTracks()){let t=cc(await n.getStats(e),{trackKind:e.kind,kind:r});a.push(t)}return a},l=new Set,c=async()=>{let i={},n=new Set(l);if(n.size>0)for(let e of r.participants){if(!n.has(e.sessionId))continue;let t=e.isLocalParticipant?"publisher":"subscriber";try{let r=new MediaStream([...e.videoStream?.getVideoTracks()||[],...e.audioStream?.getAudioTracks()||[]]);i[e.sessionId]=await o(t,r),r.getTracks().forEach(e=>{r.removeTrack(e)})}catch(r){a("error",`Failed to collect stats for ${t} if ${e.userId}`,r)}}let[c,u]=await Promise.all([e.getStats().then(e=>cc(e,{kind:"subscriber",trackKind:"video"})).then(cu),t.getStats().then(e=>cc(e,{kind:"publisher",trackKind:"video"})).then(cu)]),[d,h]=await Promise.all([s("subscriber"),s("publisher")]);r.setCallStatsReport({datacenter:t.sfuClient.edgeName,publisherStats:u,subscriberStats:c,subscriberRawStats:d,publisherRawStats:h,participants:i,timestamp:Date.now()})};if(i>0){let e=async()=>{await c().catch(e=>{a("debug","Failed to collect stats",e)}),n=setTimeout(e,i)};e()}return{getRawStatsForTrack:s,getStatsForStream:o,startReportingStatsFor:e=>{l.add(e),c()},stopReportingStatsFor:e=>{l.delete(e),c()},stop:()=>{n&&clearTimeout(n)}}},cc=(e,t)=>{let{trackKind:r,kind:i}=t,n="subscriber"===i?"inbound-rtp":"outbound-rtp",a=co(e);return{rawStats:e,streams:a.filter(e=>e.type===n&&e.kind===r).map(e=>{let t;let r=a.find(t=>"codec"===t.type&&t.id===e.codecId),i=a.find(t=>"transport"===t.type&&t.id===e.transportId);if(i&&"connected"===i.dtlsState){let e=a.find(e=>"candidate-pair"===e.type&&e.id===i.selectedCandidatePairId);t=e?.currentRoundTripTime}return{bytesSent:e.bytesSent,bytesReceived:e.bytesReceived,codec:r?.mimeType,currentRoundTripTime:t,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,jitter:e.jitter,kind:e.kind,qualityLimitationReason:e.qualityLimitationReason,rid:e.rid,ssrc:e.ssrc}}),timestamp:Date.now()}},cu=e=>{let t={rawReport:e,totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,timestamp:Date.now()},r=-1,i=(e,t)=>e*t,n=new Set,a=e.streams,s=a.reduce((e,t)=>{e.totalBytesSent+=t.bytesSent||0,e.totalBytesReceived+=t.bytesReceived||0,e.averageJitterInMs+=t.jitter||0,e.averageRoundTripTimeInMs+=t.currentRoundTripTime||0;let a=i(t.frameWidth||0,t.frameHeight||0);return a>r&&(e.highestFrameWidth=t.frameWidth||0,e.highestFrameHeight=t.frameHeight||0,e.highestFramesPerSecond=t.framesPerSecond||0,r=a),n.add(t.qualityLimitationReason||""),e},t);a.length>0&&(s.averageJitterInMs=Math.round(s.averageJitterInMs/a.length*1e3),s.averageRoundTripTimeInMs=Math.round(s.averageRoundTripTimeInMs/a.length*1e3));let o=[n.has("cpu")&&"cpu",n.has("bandwidth")&&"bandwidth",n.has("other")&&"other"].filter(Boolean).join(", ");return o&&(s.qualityLimitationReasons=o),s};class cd{constructor(e,{options:t,clientDetails:r,subscriber:i,publisher:n}){this.logger=o$(["SfuStatsReporter"]),this.run=async()=>{let[e,t]=await Promise.all([this.subscriber.getStats().then(co).then(JSON.stringify),this.publisher.getStats().then(co).then(JSON.stringify)]);await this.sfuClient.sendStats({sdk:this.sdkName,sdkVersion:this.sdkVersion,webrtcVersion:this.webRTCVersion,subscriberStats:e,publisherStats:t})},this.start=()=>{this.options.reporting_interval_ms<=0||(this.intervalId=setInterval(()=>{this.run().catch(e=>{this.logger("warn","Failed to report stats",e)})},this.options.reporting_interval_ms))},this.stop=()=>{clearInterval(this.intervalId),this.intervalId=void 0},this.sfuClient=e,this.options=t,this.subscriber=i,this.publisher=n;let a=oZ(),{sdk:s,browser:o}=r;this.sdkName=s&&s.type===T.REACT?"stream-react":s&&s.type===T.REACT_NATIVE?"stream-react-native":"stream-js",this.sdkVersion=s?`${s.major}.${s.minor}.${s.patch}`:"0.0.0-development",this.webRTCVersion=a?.version||`${o?.name||""}-${o?.version||""}`||"N/A"}}class ch{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,t)=>(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=this.elementHandlerMap.get(e.target);t?.(e)})},{root:e,...t,threshold:t?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach(([t,r])=>{e.contains(t)&&(this.observer.observe(t),this.elementHandlerMap.set(t,r))}),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,t)=>{let r=[e,t];return this.elementHandlerMap.has(e)||(this.observer?this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,t),this.observer.observe(e)):this.queueSet.add(r)),()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(r)}}}}let cp=()=>"undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),cf=()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Firefox");var cm=Object.freeze({__proto__:null,isChrome:()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Chrome"),isFirefox:cf,isSafari:cp});let cg={videoTrack:N.UNKNOWN,screenShareTrack:N.UNKNOWN};class cy{constructor(e){this.viewportTracker=new ch,this.logger=o$(["DynascaleManager"]),this.trackElementVisibility=(e,t,r)=>{let i=this.viewportTracker.observe(e,i=>{this.call.state.updateParticipant(t,t=>{let n=t.viewportVisibilityState??cg,a=i.isIntersecting||document.fullscreenElement===e?N.VISIBLE:N.INVISIBLE;return{...t,viewportVisibilityState:{...n,[r]:a}}})});return()=>{i(),this.call.state.updateParticipant(t,e=>{let t=e.viewportVisibilityState??cg;return{...e,viewportVisibilityState:{...t,[r]:N.UNKNOWN}}})}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,t,r)=>{let i,n;let a=this.call.state.findParticipantBySessionId(t);if(!a)return;let s=(e,i)=>{i&&(0===i.width||0===i.height)&&(this.logger("debug","Ignoring 0x0 dimension",a),i=void 0),this.call.updateSubscriptionsPartial(r,{[t]:{dimension:i}},e)},o=this.call.state.participants$.pipe(n6(e=>e.find(e=>e.sessionId===t)),ao(e=>!!e),aa(),an({bufferSize:1,refCount:!0})),l=a.isLocalParticipant?null:o.pipe(n6(e=>e.viewportVisibilityState?.[r]),aa()).subscribe(t=>{if(!i){i=t??N.UNKNOWN;return}if(i=t??N.UNKNOWN,t===N.INVISIBLE)return s(j.MEDIUM,void 0);s(j.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}),c=a.isLocalParticipant?null:new ResizeObserver(()=>{let t=`${e.clientWidth},${e.clientHeight}`;if(!n){n=t;return}n!==t&&i!==N.INVISIBLE&&(s(j.SLOW,{width:e.clientWidth,height:e.clientHeight}),n=t)});c?.observe(e);let u=a.isLocalParticipant?null:o.pipe(al("publishedTracks"),n6(e=>e.publishedTracks.includes("videoTrack"===r?R.VIDEO:R.SCREEN_SHARE)),aa()).subscribe(t=>{t?s(j.FAST,{width:e.clientWidth,height:e.clientHeight}):s(j.FAST,void 0)});e.autoplay=!0,e.playsInline=!0,e.muted=!0;let d=o.pipe(al("videoTrack"===r?"videoStream":"screenShareStream")).subscribe(t=>{let i="videoTrack"===r?t.videoStream:t.screenShareStream;e.srcObject!==i&&(e.srcObject=i??null,(cp()||cf())&&setTimeout(()=>{e.srcObject=i??null,e.play().catch(e=>{this.logger("warn","Failed to play stream",e)})},25))});return()=>{s(j.FAST,void 0),l?.unsubscribe(),u?.unsubscribe(),d.unsubscribe(),c?.disconnect()}},this.bindAudioElement=(e,t,r)=>{let i=this.call.state.findParticipantBySessionId(t);if(!i||i.isLocalParticipant)return;let n=this.call.state.participants$.pipe(n6(e=>e.find(e=>e.sessionId===t)),ao(e=>!!e),aa(),an({bufferSize:1,refCount:!0})),a=n.pipe(al("screenShareAudioTrack"===r?"screenShareAudioStream":"audioStream")).subscribe(t=>{let i="screenShareAudioTrack"===r?t.screenShareAudioStream:t.audioStream;e.srcObject!==i&&setTimeout(()=>{if(e.srcObject=i??null,e.srcObject){e.play().catch(e=>{this.logger("warn","Failed to play stream",e)});let{selectedDevice:t}=this.call.speaker.state;t&&"setSinkId"in e&&e.setSinkId(t)}})}),s="setSinkId"in e?this.call.speaker.state.selectedDevice$.subscribe(t=>{t&&e.setSinkId(t)}):null,o=at([this.call.speaker.state.volume$,n.pipe(al("audioVolume"))]).subscribe(([t,r])=>{e.volume=r.audioVolume??t});return e.autoplay=!0,()=>{s?.unsubscribe(),o.unsubscribe(),a.unsubscribe()}},this.call=e}}class cv{constructor(){this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canRequest=(e,t=this.settings)=>{if(!t)return!1;let{audio:r,video:i,screensharing:n}=t;switch(e){case ak.SEND_AUDIO:return r.access_request_enabled;case ak.SEND_VIDEO:return i.access_request_enabled;case ak.SCREENSHARE:return n.access_request_enabled;default:return!1}}}}class cb{constructor(e,t={sortParticipantsBy:lv}){this.name=e,this.options=t}}class cw{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new cb(e)),this.callTypes[e]),this.callTypes=e.reduce((e,t)=>(e[t.name]=t,e),{})}}let cS=new cw([new cb("default",{sortParticipantsBy:lv}),new cb("development",{sortParticipantsBy:lv}),new cb("livestream",{sortParticipantsBy:lS}),new cb("audio_room",{sortParticipantsBy:lS})]),c_=(e,t)=>new nO(r=>{(async()=>{let r=await navigator.mediaDevices.enumerateDevices();if(r.some(e=>e.kind===t&&""===e.label)){let t;try{t=await navigator.mediaDevices.getUserMedia(e),r=await navigator.mediaDevices.enumerateDevices()}finally{t&&cD(t)}}return r})().then(e=>{r.next(e),r.complete()}).catch(e=>{o$(["devices"])("error","Failed to enumerate devices",e),r.error(e)})}),cx=()=>"undefined"!=typeof document&&"setSinkId"in document.createElement("audio"),ck={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},cE={video:{width:1280,height:720}},cC=e=>{let t;return()=>(t||(t=e()),t)},cR=cC(()=>new nO(e=>{if(!navigator.mediaDevices.addEventListener)return;let t=()=>e.next();return navigator.mediaDevices.addEventListener("devicechange",t),()=>{navigator.mediaDevices.removeEventListener("devicechange",t)}}).pipe(function(e,t){return void 0===t&&(t=ap),nZ(function(r,i){var n=null,a=null,s=null,o=function(){if(n){n.unsubscribe(),n=null;var e=a;a=null,i.next(e)}};function l(){var r=s+e,a=t.now();if(a<r){n=this.schedule(void 0,r-a),i.add(n);return}o()}r.subscribe(n0(i,function(r){a=r,s=t.now(),n||(n=t.schedule(l,e),i.add(n))},function(){o(),i.complete()},void 0,function(){a=n=null}))})}(500),function(e,t){return na(t)?af(e,t,1):af(e,1)}(()=>n4(navigator.mediaDevices.enumerateDevices())),an(1))),cA=cC(()=>ag(c_(ck,"audioinput"),cR()).pipe(an(1))),cT=cC(()=>ag(c_(ck,"audiooutput"),cR()).pipe(an(1))),cP=cC(()=>ag(c_(cE,"videoinput"),cR()).pipe(an(1))),cO=()=>cA().pipe(n6(e=>e.filter(e=>"audioinput"===e.kind))),cI=()=>cP().pipe(n6(e=>e.filter(e=>"videoinput"===e.kind))),cN=()=>cT().pipe(n6(e=>e.filter(e=>"audiooutput"===e.kind))),cj=async e=>{try{return await navigator.mediaDevices.getUserMedia(e)}catch(t){throw o$(["devices"])("error","Failed get user media",{error:t,constraints:e}),t}},cB=async e=>cj({audio:{...ck.audio,...e}}),cU=async e=>cj({video:{...cE.video,...e}}),cL=async e=>{try{return await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e})}catch(e){throw o$(["devices"])("error","Failed to get screen share stream",e),e}},cM="undefined"!=typeof navigator&&void 0!==navigator.mediaDevices?cC(()=>ag(n4(navigator.mediaDevices.enumerateDevices()),cR()).pipe(an(1)))():void 0,cD=e=>{e.active&&(e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)}),"function"==typeof e.release&&e.release())};class cK{constructor(e,t,r){this.call=e,this.state=t,this.trackType=r,this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.filters=[],this.dispose=()=>{this.subscriptions.forEach(e=>e())},this.logger=o$([`${R[r].toLowerCase()} manager`]),cM&&!oU()&&(this.trackType===R.AUDIO||this.trackType===R.VIDEO)&&this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}async enable(){if("enabled"!==this.state.status){this.enablePromise=this.unmuteStream();try{await this.enablePromise,this.state.setStatus("enabled"),this.enablePromise=void 0}catch(e){throw this.enablePromise=void 0,e}}}async disable(e=!1){if(this.state.prevStatus=this.state.status,!e&&"disabled"===this.state.status)return;let t=e||"stop-tracks"===this.state.disableMode;this.disablePromise=this.muteStream(t);try{await this.disablePromise,this.state.setStatus("disabled"),this.disablePromise=void 0}catch(e){throw this.disablePromise=void 0,e}}async resume(){"enabled"===this.state.prevStatus&&"disabled"===this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.status?this.disable():this.enable()}async registerFilter(e){return this.filters.push(e),await this.applySettingsToStream(),async()=>{this.filters=this.filters.filter(t=>t!==e),await this.applySettingsToStream()}}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(oU())throw Error("This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.");e!==this.state.selectedDevice&&(this.state.setDevice(e),await this.applySettingsToStream())}async applySettingsToStream(){"enabled"===this.state.status&&(await this.muteStream(),await this.unmuteStream())}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(e=!0){this.state.mediaStream&&(this.logger("debug",`${e?"Stopping":"Disabling"} stream`),this.call.state.callingState===B.JOINED&&await this.stopPublishStream(e),this.muteLocalStream(e),this.getTracks().every(e=>"ended"===e.readyState)&&(this.state.mediaStream&&"function"==typeof this.state.mediaStream.release&&this.state.mediaStream.release(),this.state.setMediaStream(void 0)))}muteTracks(){this.getTracks().forEach(e=>{e.enabled&&(e.enabled=!1)})}unmuteTracks(){this.getTracks().forEach(e=>{e.enabled||(e.enabled=!0)})}stopTracks(){this.getTracks().forEach(e=>{"live"===e.readyState&&e.stop()})}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.muteTracks())}async unmuteStream(){let e;if(this.logger("debug","Starting stream"),this.state.mediaStream&&this.getTracks().every(e=>"live"===e.readyState))e=this.state.mediaStream,this.unmuteTracks();else{let t={...this.state.defaultConstraints,deviceId:this.state.selectedDevice},r=e=>async t=>{if(!e)return t;let r=await e;return t.getTracks().forEach(e=>{let t=e.stop;e.stop=function(){t.call(e),r.getTracks().forEach(t=>{t.kind===e.kind&&t.stop()})}}),r.getTracks().forEach(e=>{let r=()=>{t.getTracks().forEach(t=>{e.kind===t.kind&&(t.stop(),t.dispatchEvent(new Event("ended")))})};e.addEventListener("ended",r),this.subscriptions.push(()=>{e.removeEventListener("ended",r)})}),t};e=await this.filters.reduce((e,t)=>e.then(t).then(r(e)),this.getStream(t))}this.call.state.callingState===B.JOINED&&await this.publishStream(e),this.state.mediaStream!==e&&(this.state.setMediaStream(e),this.getTracks().forEach(e=>{e.addEventListener("ended",async()=>{this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise,"enabled"===this.state.status&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout(()=>{this.isTrackStoppedDueToTrackEnd=!1},2e3),await this.disable())})}))}get mediaDeviceKind(){return this.trackType===R.AUDIO?"audioinput":this.trackType===R.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(lt(at([cM.pipe(nZ(function(e,t){var r,i=!1;e.subscribe(n0(t,function(e){var n=r;r=e,i&&t.next([n,e]),i=!0}))})),this.state.selectedDevice$]),async([[e,t],r])=>{if(!r)return;this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise;let i=!1,n=!1,a=this.findDeviceInList(t,r),s=this.findDeviceInList(e,r);!a&&s?i=!0:a&&s&&a.deviceId===s.deviceId&&a.groupId!==s.groupId&&(n=!0),i&&(await this.disable(),this.select(void 0)),n&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}))}findDeviceInList(e,t){return e.find(e=>e.deviceId===t&&e.kind===this.mediaDeviceKind)}}class cq{constructor(e="stop-tracks",t){this.disableMode=e,this.permissionName=t,this.statusSubject=new ar(void 0),this.mediaStreamSubject=new ar(void 0),this.selectedDeviceSubject=new ar(void 0),this.defaultConstraintsSubject=new ar(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(aa()),this.status$=this.statusSubject.asObservable().pipe(aa()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.hasBrowserPermission$=new nO(e=>{let t;let r=()=>e.next(!0),i=!!navigator?.permissions?.query;if(oU()||!this.permissionName||!i)return o$(["devices"])("warn","Permissions can't be queried. Assuming granted."),r();let n=()=>{e.next("denied"!==t.state)};return navigator.permissions.query({name:this.permissionName}).then(e=>{(t=e).addEventListener("change",n),n()}).catch(()=>{r()}),()=>{t?.removeEventListener("change",n)}}).pipe(an(1)),this.getCurrentValue=o9,this.setCurrentValue=le}get status(){return this.getCurrentValue(this.status$)}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get mediaStream(){return this.getCurrentValue(this.mediaStream$)}setStatus(e){this.setCurrentValue(this.statusSubject,e)}setMediaStream(e){this.setCurrentValue(this.mediaStreamSubject,e),e&&this.setDevice(this.getDeviceIdFromStream(e))}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}get defaultConstraints(){return this.getCurrentValue(this.defaultConstraints$)}setDefaultConstraints(e){this.setCurrentValue(this.defaultConstraintsSubject,e)}}class c$ extends cq{constructor(){super("stop-tracks","camera"),this.directionSubject=new ar(void 0),this.direction$=this.directionSubject.asObservable().pipe(aa())}get direction(){return this.getCurrentValue(this.direction$)}setDirection(e){this.setCurrentValue(this.directionSubject,e)}setMediaStream(e){if(super.setMediaStream(e),e){let t=oU()?this.direction:e.getVideoTracks()[0]?.getSettings().facingMode==="environment"?"back":"front";this.setDirection(t)}}getDeviceIdFromStream(e){return e.getVideoTracks()[0]?.getSettings().deviceId}}class cF extends cK{constructor(e){super(e,new c$,R.VIDEO),this.targetResolution={width:1280,height:720}}async selectDirection(e){this.state.setDirection(e),this.state.setDevice(void 0),await this.applySettingsToStream()}async flip(){let e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,this.enablePromise)try{await this.enablePromise}catch(e){this.logger("warn","could not apply target resolution",e)}if("enabled"===this.state.status){let{width:e,height:t}=this.state.mediaStream.getVideoTracks()[0]?.getSettings();(e!==this.targetResolution.width||t!==this.targetResolution.height)&&(await this.applySettingsToStream(),this.logger("debug",`${e}x${t} target resolution applied to media stream`))}}setPreferredCodec(e){this.preferredCodec=e}getDevices(){return cI()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&(e.facingMode="front"===this.state.direction?"user":"environment"),cU(e)}publishStream(e){return this.call.publishVideoStream(e,{preferredCodec:this.preferredCodec})}stopPublishStream(e){return this.call.stopPublish(R.VIDEO,e)}}class cz extends cq{constructor(){super("disable-tracks","microphone"),this.speakingWhileMutedSubject=new ar(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(aa())}get speakingWhileMuted(){return this.getCurrentValue(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){this.setCurrentValue(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){return e.getAudioTracks()[0]?.getSettings().deviceId}}let cV=(e,t,r={})=>{let{detectionFrequencyInMs:i=500,audioLevelThreshold:n=150,fftSize:a=128,destroyStreamOnStop:s=!0}=r,o=new AudioContext,l=o.createAnalyser();l.fftSize=a;let c=o.createMediaStreamSource(e);c.connect(l);let u=setInterval(()=>{let r=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(r);let i=r.some(e=>e>=n),a=r.reduce((e,t)=>e+t,0)/r.length;e.getAudioTracks()[0]?.enabled?t({isSoundDetected:i,audioLevel:a>n?100:Math.round(a/n*100)}):t({isSoundDetected:!1,audioLevel:0})},i);return async function(){clearInterval(u),c.disconnect(),l.disconnect(),await o.close(),s&&e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)})}},cH=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t};class cW{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(){try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});this.pc1.addEventListener("icecandidate",async e=>{await this.pc2.addIceCandidate(e.candidate)}),this.pc2.addEventListener("icecandidate",async e=>{await this.pc1.addIceCandidate(e.candidate)}),e.getTracks().forEach(t=>this.pc1.addTrack(t,e));let t=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(t),await this.pc1.setLocalDescription(t);let r=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(r),await this.pc2.setLocalDescription(r),e.getAudioTracks().forEach(e=>e.enabled=!1)}catch(e){console.error("Error connecting and negotiating between PeerConnections:",e)}}stop(){this.pc1.close(),this.pc2.close(),this.intervalId&&clearInterval(this.intervalId)}onSpeakingDetectedStateChange(e){return this.intervalId=setInterval(async()=>{let t=cH(await this.pc1.getStats()).find(e=>"media-source"===e.type&&"audio"===e.kind);if(t){let{audioLevel:r}=t;r&&(r>=.2?e({isSoundDetected:!0,audioLevel:r}):e({isSoundDetected:!1,audioLevel:0}))}},1e3),()=>{clearInterval(this.intervalId)}}}class cG extends cK{constructor(e){super(e,new cz,R.AUDIO),at([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]).subscribe(async([e,t,r,i])=>{if(e!==B.JOINED){e===B.LEFT&&await this.stopSpeakingWhileMutedDetection();return}t.includes(ak.SEND_AUDIO)&&"disabled"===i?await this.startSpeakingWhileMutedDetection(r):await this.stopSpeakingWhileMutedDetection()})}getDevices(){return cO()}getStream(e){return cB(e)}publishStream(e){return this.call.publishAudioStream(e)}stopPublishStream(e){return this.call.stopPublish(R.AUDIO,e)}async startSpeakingWhileMutedDetection(e){if(await this.stopSpeakingWhileMutedDetection(),oU()){this.rnSpeechDetector=new cW,await this.rnSpeechDetector.start();let e=this.rnSpeechDetector?.onSpeakingDetectedStateChange(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)});this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector?.stop(),this.rnSpeechDetector=void 0}}else{let t=await this.getStream({deviceId:e});this.soundDetectorCleanup=cV(t,e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)})}}async stopSpeakingWhileMutedDetection(){if(this.soundDetectorCleanup){this.state.setSpeakingWhileMuted(!1);try{await this.soundDetectorCleanup()}finally{this.soundDetectorCleanup=void 0}}}}class cJ extends cq{constructor(){super(...arguments),this.audioEnabledSubject=new ar(!0),this.settingsSubject=new ar(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(aa()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{let[t]=e.getTracks();return t?.getSettings().deviceId}}get audioEnabled(){return this.getCurrentValue(this.audioEnabled$)}setAudioEnabled(e){this.setCurrentValue(this.audioEnabledSubject,e)}get settings(){return this.getCurrentValue(this.settings$)}setSettings(e){this.setCurrentValue(this.settingsSubject,e)}}class cY extends cK{constructor(e){super(e,new cJ,R.SCREEN_SHARE)}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(R.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(R.SCREEN_SHARE_AUDIO,!0)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ae(e);return n4(e,r)}([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),cL(e)}publishStream(e){return this.call.publishScreenShareStream(e,{screenShareSettings:this.state.settings})}async stopPublishStream(e){await this.call.stopPublish(R.SCREEN_SHARE,e),await this.call.stopPublish(R.SCREEN_SHARE_AUDIO,e)}async select(e){throw Error("This method is not supported in for Screen Share")}}class cX{constructor(){this.selectedDeviceSubject=new ar(""),this.volumeSubject=new ar(1),this.isDeviceSelectionSupported=cx(),this.getCurrentValue=o9,this.setCurrentValue=le,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(aa()),this.volume$=this.volumeSubject.asObservable().pipe(aa())}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get volume(){return this.getCurrentValue(this.volume$)}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}setVolume(e){this.setCurrentValue(this.volumeSubject,e)}}class cQ{constructor(e){this.state=new cX,this.subscriptions=[],this.dispose=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},this.call=e,cM&&!oU()&&this.subscriptions.push(at([cM,this.state.selectedDevice$]).subscribe(([e,t])=>{t&&(e.find(e=>e.deviceId===t&&"audiooutput"===e.kind)||this.select(""))}))}listDevices(){if(oU())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");return cN()}select(e){if(oU())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");this.state.setDevice(e)}setVolume(e){if(oU())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(e&&(e<0||e>1))throw Error("Volume must be between 0 and 1");this.state.setVolume(e)}setParticipantVolume(e,t){if(oU())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(t&&(t<0||t>1))throw Error("Volume must be between 0 and 1, or undefined");this.call.state.updateParticipant(e,{audioVolume:t})}}class cZ{constructor({type:e,id:t,streamClient:r,members:i,ownCapabilities:n,sortParticipantsBy:a,clientStore:s,ringing:o=!1,watching:l=!1}){var c;this.state=new lx,this.dynascaleManager=new cy(this),this.permissionsContext=new cv,this.dispatcher=new oW,this.trackSubscriptionsSubject=new ar({type:j.MEDIUM,data:[]}),this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.on=(e,t)=>{if(oH(e))return this.dispatcher.on(e,t);let r=this.streamClient.on(e,e=>{e.call_cid&&e.call_cid===this.cid&&t(e)});return this.streamClientEventHandlers.set(t,r),()=>{this.off(e,t)}},this.off=(e,t)=>{if(oH(e))return this.dispatcher.off(e,t);let r=this.streamClientEventHandlers.get(t);r&&r()},this.leave=async({reject:e=!1,reason:t="user is leaving the call"}={})=>{let r=this.state.callingState;if(r===B.LEFT)throw Error("Cannot leave call that has already been left.");if(r===B.JOINING&&await this.assertCallJoined(),this.ringing){let t=this.state.remoteParticipants.length>0;this.isCreatedByMe&&!t?await this.reject():e&&r===B.RINGING&&await this.reject()}this.statsReporter?.stop(),this.statsReporter=void 0,this.sfuStatsReporter?.stop(),this.sfuStatsReporter=void 0,this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close(),this.publisher=void 0,this.sfuClient?.close(lV.NORMAL_CLOSURE,t),this.sfuClient=void 0,this.dispatcher.offAll(),this.state.setCallingState(B.LEFT),this.leaveCallHooks.forEach(e=>e()),this.clientStore.unregisterCall(this),this.camera.dispose(),this.microphone.dispose(),this.screenShare.dispose(),this.speaker.dispose();let i=[];this.camera.stopOnLeave&&i.push(this.camera.disable(!0)),this.microphone.stopOnLeave&&i.push(this.microphone.disable(!0)),this.screenShare.stopOnLeave&&i.push(this.screenShare.disable(!0)),await Promise.all(i)},this.get=async e=>{let t=await this.streamClient.get(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.getOrCreate=async e=>{let t=await this.streamClient.post(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.create=async e=>this.getOrCreate(e),this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async()=>this.streamClient.post(`${this.streamClientBasePath}/reject`),this.join=async e=>{let t,r,i,n;let a=this.state.callingState;if([B.JOINED,B.JOINING].includes(a))throw this.logger("warn","Join method called twice, you should only call this once"),Error("Illegal State: Already joined.");if(a===B.LEFT)throw Error("Illegal State: Cannot join already left call. Create a new Call instance to join a call.");let s=a===B.MIGRATING,o=a===B.RECONNECTING;this.state.setCallingState(B.JOINING),this.logger("debug","Starting join flow"),e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.ringing&&!this.isCreatedByMe&&await this.accept();try{if(this.sfuClient?.isFastReconnecting)i=this.publisher?.connectionConfiguration,t=this.sfuClient.sfuServer,r=this.sfuClient.token,n=this.sfuStatsReporter?.options;else{let a=await cn(this.streamClient,this.type,this.id,e);this.state.updateFromCallResponse(a.metadata),this.state.setMembers(a.members),this.state.setOwnCapabilities(a.ownCapabilities),i=a.connectionConfig,t=a.sfuServer,r=a.token,n=a.statsOptions}this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this))}catch(e){throw this.state.setCallingState(a),e}let l=this.sfuClient,c=this.sfuClient=new lV({dispatcher:this.dispatcher,sfuServer:t,token:r,sessionId:l?.sessionId}),u=async(r,i)=>{let n=this.state.callingState;if(n===B.MIGRATING||n===B.RECONNECTING)return;this.reconnectAttempts++,this.state.setCallingState("migrate"===r?B.MIGRATING:B.RECONNECTING),"migrate"===r?(this.logger("debug",`[Migration]: migrating call ${this.cid} away from ${t.edge_name}`),c.isMigratingAway=!0):this.logger("debug",`[Rejoin]: ${r} rejoin call ${this.cid} (${this.reconnectAttempts})...`);let a=this.state.localParticipant;if("fast"===r?c.close(lV.ERROR_CONNECTION_BROKEN,`attempting fast reconnect: ${i}`):"full"===r&&(await lM(lq(this.reconnectAttempts)),this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close({stopTracks:!1}),this.publisher=void 0,this.statsReporter?.stop(),this.statsReporter=void 0,this.sfuStatsReporter?.stop(),this.sfuStatsReporter=void 0,c.close(lV.NORMAL_CLOSURE,`attempting full reconnect: ${i}`)),await this.join({...e,..."migrate"===r&&{migrating_from:t.edge_name}}),"migrate"===r&&c.close(lV.NORMAL_CLOSURE,"attempting migration"),this.logger("info",`[Rejoin]: Attempt ${this.reconnectAttempts} successful!`),a&&"full"===r){let e;let{audioStream:t,videoStream:r,screenShareStream:i,screenShareAudioStream:n}=a;(i||n)&&(e=new MediaStream,i?.getVideoTracks().forEach(t=>{e?.addTrack(t)}),n?.getAudioTracks().forEach(t=>{e?.addTrack(t)})),t&&await this.publishAudioStream(t),r&&await this.publishVideoStream(r,{preferredCodec:this.camera.preferredCodec}),e&&await this.publishScreenShareStream(e),this.logger("info",`[Rejoin]: State restored. Attempt: ${this.reconnectAttempts}`)}};c.signalReady.then(()=>{let e=this.dispatcher.on("goAway",e=>{let{reason:t}=e;this.logger("info",`[Migration]: Going away from SFU... Reason: ${O[t]}`),u("migrate",O[t]).catch(e=>{this.logger("warn","[Migration]: Failed to migrate to another SFU.",e)})});c.signalWs.addEventListener("close",t=>{if(e(),t.code===lV.NORMAL_CLOSURE||t.code===lK.WS_POLICY_VIOLATION)return;let r=t.code===lK.WS_CLOSED_ABRUPTLY&&c.isMigratingAway,i=t.code===lK.WS_CLOSED_ABRUPTLY&&c.isFastReconnecting;if(!r&&!i&&t.code!==lV.ERROR_CONNECTION_BROKEN){if(this.reconnectAttempts<this.maxReconnectAttempts){c.isFastReconnecting=0===this.reconnectAttempts;let e=c.isFastReconnecting?"fast":"full";u(e,`SFU closed the WS with code: ${t.code}`).catch(t=>{this.logger("error",`[Rejoin]: ${e} rejoin failed for ${this.reconnectAttempts} times. Giving up.`,t),this.state.setCallingState(B.RECONNECTING_FAILED)})}else this.logger("error","[Rejoin]: Reconnect attempts exceeded. Giving up..."),this.state.setCallingState(B.RECONNECTING_FAILED)}})});let d=this.streamClient.on("connection.changed",async e=>{if("connection.changed"!==e.type||!e.online)return;d();let t=this.state.callingState;if(!(t===B.OFFLINE||t===B.RECONNECTING_FAILED))return;this.logger("info","[Rejoin]: Going online...");let r=!0;do{try{c.isFastReconnecting=r,await u(r?"fast":"full","Network: online");return}catch(e){this.logger("error",`[Rejoin][Network]: Rejoin failed for attempt ${this.reconnectAttempts}`,e)}await lM(lq(this.reconnectAttempts)),r=!1}while(this.reconnectAttempts<this.maxReconnectAttempts);this.logger("error","[Rejoin][Network]: Rejoin failed. Giving up."),this.state.setCallingState(B.RECONNECTING_FAILED)}),h=this.streamClient.on("connection.changed",e=>{"connection.changed"===e.type&&(e.online||(h(),this.state.setCallingState(B.OFFLINE)))});if(this.leaveCallHooks.add(()=>{d(),h()}),this.subscriber||(this.subscriber=new lU({sfuClient:c,dispatcher:this.dispatcher,state:this.state,connectionConfig:i})),!this.publisher){let e=this.state.settings?.audio,t=!!e?.opus_dtx_enabled,r=!!e?.redundant_coding_enabled;this.publisher=new lj({sfuClient:c,dispatcher:this.dispatcher,state:this.state,connectionConfig:i,isDtxEnabled:t,isRedEnabled:r})}this.statsReporter||(this.statsReporter=cl({subscriber:this.subscriber,publisher:this.publisher,state:this.state}));let p=o0();!this.sfuStatsReporter&&n&&(this.sfuStatsReporter=new cd(c,{clientDetails:p,options:n,subscriber:this.subscriber,publisher:this.publisher}),this.sfuStatsReporter.start());try{c.signalReady.catch(e=>this.logger("error","Signal ready failed",e)).then(()=>oz("recvonly")).then(t=>{let r=o9(this.trackSubscriptionsSubject),i=s?{fromSfuId:e?.migrating_from||"",subscriptions:r.data||[],announcedTracks:this.publisher?.getCurrentTrackInfos()||[]}:void 0;return c.join({subscriberSdp:t||"",clientDetails:p,migration:i,fastReconnect:l?.isFastReconnecting??!1})});let{callState:t,reconnected:r}=await this.waitForJoinResponse();if(o&&this.logger("debug","[Rejoin] fast reconnected:",r),s)await this.subscriber.migrateTo(c,i),await this.publisher.migrateTo(c,i);else if(o){if(r)this.subscriber.setSfuClient(c),this.publisher.setSfuClient(c),await this.publisher.restartIce();else if(l?.isFastReconnecting)return await u("full","re-attempting").catch(e=>{this.logger("error","[Rejoin]: Rejoin failed forced full rejoin.",e)})}let n=t?.participants||[],a=t?.participantCount,d=t?.startedAt?aN.toDate(t.startedAt):new Date,h=t?.pins??[];this.state.setParticipants(()=>{let e=this.state.getParticipantLookupBySessionId();return n.map(t=>{let r=e[t.sessionId];return Object.assign(t,r,{isLocalParticipant:t.sessionId===c.sessionId,viewportVisibilityState:r?.viewportVisibilityState??{videoTrack:N.UNKNOWN,screenShareTrack:N.UNKNOWN}})})}),this.state.setParticipantCount(a?.total||0),this.state.setAnonymousParticipantCount(a?.anonymous||0),this.state.setStartedAt(d),this.state.setServerSidePins(h),this.reconnectAttempts=0,this.state.setCallingState(B.JOINED);try{await this.initCamera({setStatus:!0}),await this.initMic({setStatus:!0})}catch(e){this.logger("warn","Camera and/or mic init failed during join call",e)}let{remoteParticipants:f}=this.state;f.length>0&&this.updateSubscriptions(f,j.FAST),this.logger("info",`Joined call ${this.cid}`)}catch(e){if(this.reconnectAttempts<this.maxReconnectAttempts)this.logger("error",`[Rejoin]: Rejoin ${this.reconnectAttempts} failed.`,e),await u("full","previous attempt failed"),this.logger("info",`[Rejoin]: Rejoin ${this.reconnectAttempts} successful!`);else throw this.logger("error",`[Rejoin]: Rejoin failed for ${this.reconnectAttempts} times. Giving up.`),this.state.setCallingState(B.RECONNECTING_FAILED),Error("Join failed")}},this.waitForJoinResponse=(e=5e3)=>new Promise((t,r)=>{let i=this.on("joinResponse",e=>{clearTimeout(n),i(),t(e)}),n=setTimeout(()=>{i(),r(Error('Waiting for "joinResponse" has timed out'))},e)}),this.publishVideoStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish video before join is completed"),Error("Call not joined yet.");let[r]=e.getVideoTracks();if(!r){this.logger("error","There is no video track to publish in the stream.");return}await this.publisher.publishStream(e,r,R.VIDEO,t)},this.publishAudioStream=async e=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish audio before join is completed"),Error("Call not joined yet.");let[t]=e.getAudioTracks();if(!t){this.logger("error","There is no audio track in the stream to publish");return}await this.publisher.publishStream(e,t,R.AUDIO)},this.publishScreenShareStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish screen share before join is completed"),Error("Call not joined yet.");let[r]=e.getVideoTracks();if(!r){this.logger("error","There is no video track in the screen share stream to publish");return}await this.publisher.publishStream(e,r,R.SCREEN_SHARE,t);let[i]=e.getAudioTracks();i&&await this.publisher.publishStream(e,i,R.SCREEN_SHARE_AUDIO,t)},this.stopPublish=async(e,t=!0)=>{this.logger("info",`stopPublish ${R[e]}, stop tracks: ${t}`),await this.publisher?.unpublishStream(e,t)},this.updateSubscriptionsPartial=(e,t,r=j.SLOW)=>{"video"===e?(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'videoTrack'`),e="videoTrack"):"screen"===e&&(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'screenShareTrack'`),e="screenShareTrack");let i=this.state.updateParticipants(Object.entries(t).reduce((t,[r,i])=>{i.dimension?.height&&(i.dimension.height=Math.ceil(i.dimension.height)),i.dimension?.width&&(i.dimension.width=Math.ceil(i.dimension.width));let n="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return n&&(t[r]={[n]:i.dimension}),t},{}));i&&this.updateSubscriptions(i,r)},this.updateSubscriptions=(e,t=j.SLOW)=>{let r=[];for(let t of e)!t.isLocalParticipant&&(t.videoDimension&&t.publishedTracks.includes(R.VIDEO)&&r.push({userId:t.userId,sessionId:t.sessionId,trackType:R.VIDEO,dimension:t.videoDimension}),t.screenShareDimension&&t.publishedTracks.includes(R.SCREEN_SHARE)&&r.push({userId:t.userId,sessionId:t.sessionId,trackType:R.SCREEN_SHARE,dimension:t.screenShareDimension}),t.publishedTracks.includes(R.SCREEN_SHARE_AUDIO)&&r.push({userId:t.userId,sessionId:t.sessionId,trackType:R.SCREEN_SHARE_AUDIO}));this.trackSubscriptionsSubject.next({type:t,data:r})},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.updatePublishQuality=async e=>this.publisher?.updateVideoPublishQuality(e),this.assertCallJoined=()=>new Promise(e=>{var t;this.state.callingState$.pipe(ao(e=>e!==B.JOINED,!0),(t=e=>e===B.JOINED,nZ(function(e,r){var i=0;e.subscribe(n0(r,function(e){return t.call(void 0,e,i++)&&r.next(e)}))}))).subscribe(()=>e())}),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{let t=this.currentUserId;if(t)return this.muteUser(t,e)},this.muteOthers=e=>{let t=o5(e);if(!t)return;let r=[];for(let e of this.state.remoteParticipants)e.publishedTracks.includes(t)&&r.push(e.userId);return this.muteUser(r,e)},this.muteUser=(e,t)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[t]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.startTranscription=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_transcription`,e),this.stopTranscription=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`),this.requestPermissions=async e=>{let{permissions:t}=e;if(!t.every(e=>this.permissionsContext.canRequest(e)))throw Error(`You are not allowed to request permissions: ${t.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,t)=>this.updateUserPermissions({user_id:e,grant_permissions:t}),this.revokePermissions=async(e,t)=>this.updateUserPermissions({user_id:e,revoke_permissions:t}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async(e={},t)=>this.streamClient.post(`${this.streamClientBasePath}/go_live`,e,t),this.stopLive=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_live`,{}),this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.update=async e=>{let t=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:r,members:i,own_capabilities:n}=t;return this.state.updateFromCallResponse(r),this.state.setMembers(i),this.state.setOwnCapabilities(n),t},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{clearTimeout(this.dropTimeout),this.leaveCallHooks.add(lt(this.state.settings$,e=>{if(!e||this.state.callingState!==B.RINGING)return;let t=e.ring.auto_cancel_timeout_ms;t<=0||(clearTimeout(this.dropTimeout),this.dropTimeout=setTimeout(()=>{this.leave({reason:"ring: timeout"}).catch(e=>{this.logger("error","Failed to drop call",e)})},t))}))},this.queryRecordings=async e=>{let t=this.streamClientBasePath;return e&&(t=`${t}/${e}`),this.streamClient.get(`${t}/recordings`)},this.queryTranscriptions=async()=>this.streamClient.get(`${this.streamClientBasePath}/transcriptions`),this.getCallStats=async e=>{let t=`${this.streamClientBasePath}/stats/${e}`;return this.streamClient.get(t)},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=()=>{this.initCamera({setStatus:!1}),this.initMic({setStatus:!1})},this.trackElementVisibility=(e,t,r)=>this.dynascaleManager.trackElementVisibility(e,t,r),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,t,r)=>{let i=this.dynascaleManager.bindVideoElement(e,t,r);if(i)return this.leaveCallHooks.add(i),()=>{this.leaveCallHooks.delete(i),i()}},this.bindAudioElement=(e,t,r="audioTrack")=>{let i=this.dynascaleManager.bindAudioElement(e,t,r);if(i)return this.leaveCallHooks.add(i),()=>{this.leaveCallHooks.delete(i),i()}},this.bindCallThumbnailElement=(e,t={})=>{let r=()=>{e.src=t.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},i=lt(this.state.thumbnails$,t=>{if(!t)return;e.addEventListener("error",r);let i=new URL(t.image_url);i.searchParams.set("w",String(e.clientWidth)),i.searchParams.set("h",String(e.clientHeight)),e.src=i.toString()});return()=>{i(),e.removeEventListener("error",r)}},this.type=e,this.id=t,this.cid=`${e}:${t}`,this.ringingSubject=new ar(o),this.watching=l,this.streamClient=r,this.clientStore=s,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=o$(["Call"]);let u=cS.get(e),d=a||u.options.sortParticipantsBy;d&&this.state.setSortParticipantsBy(d),this.state.setMembers(i||[]),this.state.setOwnCapabilities(n||[]),this.state.setCallingState(o?B.RINGING:B.IDLE),this.on("all",e=>{this.state.updateFromEvent(e)}),this.leaveCallHooks.add(cr(this,this.state,this.dispatcher)),this.registerEffects(),this.leaveCallHooks.add(lt(this.trackSubscriptionsSubject.pipe((c=e=>(function(e,t,r){void 0===e&&(e=0),void 0===r&&(r=ap);var i=-1;return null!=t&&(n7(t)?r=t:i=t),new nO(function(t){var n,a=(n=e)instanceof Date&&!isNaN(n)?+e-r.now():e;a<0&&(a=0);var s=0;return r.schedule(function(){t.closed||(t.next(s++),0<=i?this.schedule(void 0,i):t.complete())},a)})})(e.type),nZ(function(e,t){var r=!1,i=null,n=null,a=function(){if(null==n||n.unsubscribe(),n=null,r){r=!1;var e=i;i=null,t.next(e)}};e.subscribe(n0(t,function(e){null==n||n.unsubscribe(),r=!0,i=e,n=n0(t,a,ng),nY(c(e)).subscribe(n)},function(){a(),t.complete()},void 0,function(){i=n=null}))})),n6(e=>e.data)),e=>this.sfuClient?.updateSubscriptions(e))),this.camera=new cF(this),this.microphone=new cG(this),this.speaker=new cQ(this),this.screenShare=new cY(this)}registerEffects(){this.leaveCallHooks.add(lt(this.state.settings$,e=>{e&&this.permissionsContext.setCallSettings(e)})),this.leaveCallHooks.add(lt(this.state.ownCapabilities$,e=>{if(this.permissionsContext.setPermissions(e),this.publisher)for(let[e,t]of Object.entries({[ak.SEND_AUDIO]:R.AUDIO,[ak.SEND_VIDEO]:R.VIDEO,[ak.SCREENSHARE]:R.SCREEN_SHARE}))!this.permissionsContext.hasPermission(e)&&(this.publisher.isPublishing(t)||this.publisher.isLive(t))&&this.stopPublish(t).catch(e=>{this.logger("error",`Error stopping publish ${t}`,e)}).then(()=>{t===R.VIDEO&&"enabled"===this.camera.state.status&&this.camera.disable().catch(e=>this.logger("error","Error disabling camera after permission revoked",e)),t===R.AUDIO&&"enabled"===this.microphone.state.status&&this.microphone.disable().catch(e=>this.logger("error","Error disabling microphone after permission revoked",e))})})),this.leaveCallHooks.add(lt(this.state.blockedUserIds$,async e=>{if(!e||0===e.length)return;let t=this.currentUserId;t&&e.includes(t)&&(this.logger("info","Leaving call because of being blocked"),await this.leave({reason:"user blocked"}))})),this.leaveCallHooks.add(lt(this.state.callingState$,e=>{this.ringing&&(e===B.JOINED||e===B.JOINING||e===B.LEFT)&&(clearTimeout(this.dropTimeout),this.dropTimeout=void 0)})),this.leaveCallHooks.add(lt(this.ringingSubject,e=>{e&&(this.scheduleAutoDrop(),this.state.callingState===B.IDLE&&this.state.setCallingState(B.RINGING),this.leaveCallHooks.add(ci(this)))}))}get ringing(){return o9(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}async initCamera(e){if(this.camera.enablePromise&&await this.camera.enablePromise,this.camera.disablePromise&&await this.camera.disablePromise,this.state.localParticipant?.videoStream||!this.permissionsContext.hasPermission("send-video"))return;if(!this.camera.state.direction&&!this.camera.state.selectedDevice){let e="front",t=this.state.settings?.video.camera_facing;t&&(e="front"===t?"front":"back"),this.camera.state.setDirection(e)}let t=this.state.settings?.video.target_resolution;t&&await this.camera.selectTargetResolution(t),e.setStatus&&("enabled"===this.camera.state.status&&this.camera.state.mediaStream&&!this.publisher?.isPublishing(R.VIDEO)&&await this.publishVideoStream(this.camera.state.mediaStream,{preferredCodec:this.camera.preferredCodec}),void 0===this.camera.state.status&&this.state.settings?.video.camera_default_on&&await this.camera.enable())}async initMic(e){this.microphone.enablePromise&&await this.microphone.enablePromise,this.microphone.disablePromise&&await this.microphone.disablePromise,!this.state.localParticipant?.audioStream&&this.permissionsContext.hasPermission("send-audio")&&e.setStatus&&("enabled"===this.microphone.state.status&&this.microphone.state.mediaStream&&!this.publisher?.isPublishing(R.AUDIO)&&await this.publishAudioStream(this.microphone.state.mediaStream),void 0===this.microphone.state.status&&this.state.settings?.audio.mic_default_on&&await this.microphone.enable())}}class c0{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=lF()}}let c1=async(e,t)=>{for(let r=0;r<3;r++){try{await iK.post(`https://chat-insights.getstream.io/insights/${e}`,t)}catch(e){await lM((r+1)*3e3);continue}break}};function c2(e){let{client:t}=e;return{ready_state:e.ws?.readyState,url:e._buildUrl(),api_key:t.key,start_ts:t.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:t.getAuthType(),token:t.tokenManager.token,user_id:t.userID,user_details:t._user,device:"browser",client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:t.insightMetrics.wsConsecutiveFailures,ws_total_failures:t.insightMetrics.wsTotalFailures,request_id:e.requestID,online:"undefined"!=typeof navigator?navigator?.onLine:null,user_agent:"undefined"!=typeof navigator?navigator?.userAgent:null,instance_client_id:t.insightMetrics.instanceClientId}}let c3=e=>void 0!==e.code,c8=e=>void 0!==e.error;class c4{constructor(e){this._log=(e,t={},r="info")=>{this.client.logger(r,"connection:"+e,{...t})},this.setClient=e=>{this.client=e},this._buildUrl=()=>{let e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"!==e.type||(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;let t=this.client.user;if(!t){this.client.logger("error","User not set, can't connect to WS");return}let r=this.client._getToken();if(!r){this.client.logger("error","Token not set, can't connect authenticate");return}let i={token:r,user_details:{id:t.id,name:t.name,image:t.image,custom:t.custom}};this.authenticationSent=!0,this.ws?.send(JSON.stringify(i)),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,t)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:t,wsID:e});let r="string"==typeof t.data?JSON.parse(t.data):null;if(!this.isResolved&&r&&"connection.error"===r.type&&(this.isResolved=!0,r.error)){this.rejectPromise?.(this._errorFromWSEvent(r,!1));return}if(this.lastEvent=new Date,r&&("health.check"===r.type||"connection.ok"===r.type)&&this.scheduleNextPing(),r&&"connection.ok"===r.type&&(this.resolvePromise?.(r),this._setHealth(!0)),r&&"connection.error"===r.type&&r.error){let{code:e}=r.error;this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==lK.TOKEN_EXPIRED||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}r&&this.client.dispatchEvent(r),this.scheduleConnectionCheck()},this.onclose=(e,t)=>{if(this.wsID===e){if(this._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),t.code===lK.WS_CLOSED_SUCCESS){let e=Error(`WS connection reject with error ${t.reason}`);e.reason=t.reason,e.code=t.code,e.wasClean=t.wasClean,e.target=t.target,this.rejectPromise?.(e),this._log(`onclose() - WS connection reject with error ${t.reason}`,{event:t})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),this._reconnect()}},this.onerror=(e,t)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onerror() - WS connection resulted into error",{event:t}),this._reconnect())},this._setHealth=(e,t=!1)=>{if(e!==this.isHealthy){if(this.isHealthy=e,this.isHealthy||t){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(e,t=!0)=>{let r,i,n;c3(e)&&(r=e.code,i="unknown",n=e.reason),c8(e)&&(r=e.error.code,i=e.error.StatusCode,n=e.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${r}`,{event:e},"warn");let a=Error(`WS failed with code ${r} and reason - ${n}`);return a.code=r,a.StatusCode=i,a.isWSFailure=t,a},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{let e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch(e){}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{let e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.authenticationSent=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,this.onlineStatusChanged}async connect(e=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{let e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code!==lK.TOKEN_EXPIRED||this.client.tokenManager.isStatic()){if(!e.isWSFailure)throw Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(e=15e3){return Promise.race([(async()=>{for(let t=0;t<=e;t+=50)try{return await this.connectionOpen}catch(r){if(t===e)throw Error(JSON.stringify({code:r.code,StatusCode:r.StatusCode,message:r.message,isWSFailure:r.isWSFailure}));await lM(50)}})(),(async()=>{throw await lM(e),this.isConnecting=!1,Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let t;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),this.onlineStatusChanged,this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let{ws:r}=this;return r&&r.close&&r.readyState===r.OPEN?(t=new Promise(t=>{let i=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),t()};r.onclose=i,setTimeout(i,null!=e?e:1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),r.close(lK.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=lF(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch(e){}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();let t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`,{wsURL:t,requestID:this.requestID}),this.ws=new(aw())(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);let r=await this.connectionOpen;if(this.isConnecting=!1,r)return this.connectionID=r.connection_id,this.client.resolveConnectionId?.(this.connectionID),this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(c1("ws_success_after_failure",c2(this)),this.client.insightMetrics.wsConsecutiveFailures=0),r}catch(e){if(this.isConnecting=!1,this._log("_connect() - Error - ",e),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;let t={...function(e){let t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(r=>{t[r]=Object.getOwnPropertyDescriptor(e,r)})}catch(e){return{error:"failed to serialize the error"}}return t}(e),...c2(this)};c1?.("ws_fatal",t)}throw this.client.rejectConnectionId?.(),e}}async _reconnect(e={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let t=e.interval;if(t||(t=lq(this.consecutiveFailures)),await lM(t),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===lK.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.removeAllListeners(),this?.ws?.close()}catch(e){}}}function c6(e){return"string"==typeof e}let c5=e=>(0,ax.JQ)(new Uint8Array(function(e,t){let r=[];if(c6(e)&&t&&c6(e)){for(let i=0,n=e.length;i<n;i++)if(e.charAt(i)){let n=t(e.charAt(i),i,e);r[i]=n}}else if(!c6(e)&&!(t&&c6(e))){for(let i=0,n=e.length;i<n;i++)if(i in e){let n=t(e[i],i,e);r[i]=n}}return r}(e,e=>e.charCodeAt(0)))),c7=e=>{let t={},r=String.fromCharCode,i=e.length,n,a=0,s,o=0,l,c="";for(n=0;n<64;n++)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n)]=n;for(s=0;s<i;s++)for(a=(a<<6)+t[e.charAt(s)],o+=6;o>=8;)((l=a>>>(o-=8)&255)||s<i-2)&&(c+=r(l));return c};function c9(e,t,r={},i={}){if("string"!=typeof t)throw TypeError("userId should be a string");let n={user_id:t,...r};if(null==a_()||null==a_().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");let a=Object.assign({algorithm:"HS256",noTimestamp:!0},i);return n.iat&&(a.noTimestamp=!1),a_().sign(n,e,a)}function ue(e,t={}){let r=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return a_().sign({server:!0},e,r)}class ut{constructor(e){this.setTokenOrProvider=async(e,t,r)=>{this.validateToken(e,t,r),this.user=t,lD(e)&&(this.tokenProvider=e,this.type="provider"),"string"==typeof e&&(this.token=e,this.type="static"),!e&&this.user&&this.secret&&(this.token=c9(this.secret,t.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.user=void 0,this.loadTokenPromise=null},this.validateToken=(e,t,r)=>{if(!t||!r||e){if(!this.secret&&!e)throw Error("UserWithId token can not be empty");if(e&&"string"!=typeof e&&!lD(e))throw Error("user token should either be a string or a function");if("string"==typeof e){if(r&&""===e)return;let i=function(e){let t=e.split(".");return 3!==t.length?"":JSON.parse(c7(t[1])).user_id}(e);if(null!=e&&(null==i||""===i||!r&&i!==t.id))throw Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(e,t)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!=typeof this.tokenProvider){try{this.token=await this.tokenProvider()}catch(e){return t(Error(`Call to tokenProvider failed with message: ${e}`))}e(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token||this.user&&!this.token)return this.token;if(this.secret)return ue(this.secret);throw Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.loadTokenPromise=null,e&&(this.secret=e),this.type="static",this.secret&&(this.token=ue(this.secret))}}let ur={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function ui(e){if(!e.code)return!1;let t=ur[`${e.code}`];return!!t&&t.retryable}!function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"}(U||(U={}));class un{constructor(e){this._onlineStatusChanged=e=>{if(this._log(`_onlineStatusChanged() - ${e.type}`),"offline"===e.type){this._setState(U.Closed),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;return}"online"===e.type&&this.state===U.Closed&&this.connect(!0)},this._req=async(e,t,r)=>{this.cancelToken||e.close||(this.cancelToken=iK.CancelToken.source());try{let r=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...t,cancelToken:this.cancelToken?.token},params:e,publicEndpoint:!0});return this.consecutiveFailures=0,r}catch(i){if(this.consecutiveFailures+=1,r&&ui(i))return this._log("_req() - Retryable error, retrying request"),await lM(lq(this.consecutiveFailures)),this._req(e,t,r);throw i}},this._poll=async()=>{for(;this.state===U.Connected;)try{let e=await this._req({},{timeout:3e4},!0);if(e.events?.length)for(let t=0;t<e.events.length;t++)this.client.dispatchEvent(e.events[t])}catch(e){if(iK.isCancel(e)){this._log("_poll() - axios canceled request");return}if(46===e.code){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState(U.Disconnected),this.connect(!0);return}if(void 0!==e.code&&!ui(e)){this._setState(U.Closed);return}await lM(lq(this.consecutiveFailures))}},this.connect=async(e=!1)=>{if(this.state===U.Connecting){this._log("connect() - connecting already in progress",{reconnect:e},"warn");return}if(this.state===U.Connected){this._log("connect() - already connected and polling",{reconnect:e},"warn");return}this._setState(U.Connecting),this.connectionID=void 0;try{let{event:t}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},e);return this._setState(U.Connected),this.connectionID=t.connection_id,this.client.resolveConnectionId?.(),this.client.dispatchEvent(t),this._poll(),t}catch(e){throw this._setState(U.Closed),this.client.rejectConnectionId?.(),e}},this.isHealthy=()=>!!this.connectionID&&this.state===U.Connected,this.disconnect=async(e=2e3)=>{this._onlineStatusChanged,this._setState(U.Disconnected),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;let t=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:t},{timeout:e},!1),this._log("disconnect() - Closed connectionID")}catch(e){this._log("disconnect() - Failed",{err:e},"error")}},this.client=e,this.state=U.Init,this.consecutiveFailures=0,this._onlineStatusChanged}_log(e,t={},r="info"){this.client.logger(r,"WSConnectionFallback:"+e,{...t})}_setState(e){this._log(`_setState() - ${e}`),this.state===U.Connecting&&e===U.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===U.Closed||e===U.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}let ua=o$(["location"]),us="https://hint.stream-io-video.com/",uo=async(e=us,t=2e3)=>{let r=new AbortController,i=setTimeout(()=>r.abort(),t);try{let t=(await fetch(e,{method:"HEAD",signal:r.signal})).headers.get("x-amz-cf-pop")||"ERR";return ua("debug",`Location header: ${t}`),t.substring(0,3)}catch(t){return ua("warn",`Failed to get location hint from ${e}`,t),"ERR"}finally{clearTimeout(i)}};class ul{constructor(e,t){this.listeners={},this.nextRequestAbortController=null,this.devToken=e=>["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",c5(JSON.stringify({user_id:e})),"devtoken"].join("."),this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,t)=>{let r=await this.locationHint;return r&&"ERR"!==r?r:(this.locationHint=uo(e??this.options.locationHintUrl,t??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID||this.wsFallback?.connectionID,this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(e,t)=>{if(!e.id)throw Error('The "id" field on the user is missing');if(this.userID===e.id&&this.setUserPromise)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&this.logger("warn",'Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=e.id,this.anonymous=!1;let r=this._setToken(e,t,this.anonymous);this._setUser(e);let i=this.openConnection();this.setUserPromise=Promise.all([r,i]).then(e=>e[1]);try{return await this.setUserPromise}catch(e){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),e}},this._setToken=(e,t,r)=>this.tokenManager.setTokenOrProvider(t,e,r),this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>(null!=this.cleaningIntervalRef&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([this.wsConnection?.disconnect(e),this.wsFallback?.disconnect(e)]),Promise.resolve()),this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");return this.wsConnection?.isConnecting&&this.wsPromise?(this.logger("info","client:openConnection() - connection already in progress"),this.wsPromise):(this.wsConnection?.isHealthy||this.wsFallback?.isHealthy())&&this._hasConnectionID()?(this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists"),Promise.resolve()):(this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.clientID=`${this.userID}--${lF()}`,this.wsPromise=this.connect(),this.wsPromise)},this._normalizeDate=e=>{if(e instanceof Date&&(e=e.toISOString()),""===e)throw Error("Don't pass blank string for since, use null instead if resetting the token revoke");return e},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),this.tokenManager.reset(),this.connectionIdPromise=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:{...e,role:"guest"}},{publicEndpoint:!0});let t=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise=void 0),this.connectUser(t.user,t.access_token)},this.connectAnonymousUser=async(e,t)=>{this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.anonymous=!0,await this._setToken(e,t,this.anonymous),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,t)=>(this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Adding listener for ${e} event`),this.listeners[e]?.push(t),()=>{this.off(e,t)}),this.off=(e,t)=>{this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Removing listener for ${e} event`),this.listeners[e]=this.listeners[e]?.filter(e=>e!==t)},this._logApiRequest=(e,t,r,i)=>{this.logger("trace",`client: ${e} - Request - ${t}`,{payload:r,config:i})},this._logApiResponse=(e,t,r)=>{this.logger("trace",`client:${e} - Response - url: ${t} > status ${r.status}`,{response:r})},this._logApiError=(e,t,r)=>{this.logger("error",`client:${e} - Error - url: ${t}`,{url:t,error:r})},this.doAxiosRequest=async(e,t,r,i={})=>{i.publicEndpoint||await Promise.all([this.tokenManager.tokenReady(),this.guestUserCreatePromise,this.connectionIdPromise]);let n=this._enrichAxiosOptions(i);try{let i;switch(this._logApiRequest(e,t,r,n),e){case"get":i=await this.axiosInstance.get(t,n);break;case"delete":i=await this.axiosInstance.delete(t,n);break;case"post":i=await this.axiosInstance.post(t,r,n);break;case"put":i=await this.axiosInstance.put(t,r,n);break;case"patch":i=await this.axiosInstance.patch(t,r,n);break;case"options":i=await this.axiosInstance.options(t,n);break;default:throw Error("Invalid request type")}return this._logApiResponse(e,t,i),this.consecutiveFailures=0,this.handleResponse(i)}catch(a){if(a.client_request_id=n.headers?.["x-client-request-id"],this.consecutiveFailures+=1,a.response){if(this._logApiError(e,t,a.response),a.response.data.code===lK.TOKEN_EXPIRED&&!this.tokenManager.isStatic())return this.consecutiveFailures>1&&await lM(lq(this.consecutiveFailures)),await this.tokenManager.loadToken(),await this.doAxiosRequest(e,t,r,i);return this.handleResponse(a.response)}throw this._logApiError(e,t,a),a}},this.get=(e,t)=>this.doAxiosRequest("get",e,null,{params:t}),this.put=(e,t,r)=>this.doAxiosRequest("put",e,t,{params:r}),this.post=(e,t,r)=>this.doAxiosRequest("post",e,t,{params:r}),this.patch=(e,t,r)=>this.doAxiosRequest("patch",e,t,{params:r}),this.delete=(e,t)=>this.doAxiosRequest("delete",e,null,{params:t}),this.errorFromResponse=e=>{let t;return t=new aE(`Stream error HTTP code: ${e.status}`),e.data&&e.data.code&&((t=Error(`Stream error code ${e.data.code}: ${e.data.message}`)).code=e.data.code),t.response=e,t.status=e.status,t},this.handleResponse=e=>{let t=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return t},this.dispatchEvent=e=>{if(e.received_at||(e.received_at=new Date),this.logger("debug",`Dispatching event: ${e.type}`,e),this.listeners){for(let t of this.listeners.all||[])t(e);for(let t of this.listeners[e.type]||[])t(e)}},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new c4(this);try{if(this.wsFallback)return await this.wsFallback.connect();return this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(e){if(this.options.enableWSFallback&&function(e){if("boolean"==typeof e.isWSFailure)return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch(e){return!1}}(e)&&function(e){let t="undefined"!=typeof navigator?navigator:void 0;return t?"boolean"!=typeof t.onLine||t.onLine:(e("warn","isOnline failed to access window.navigator and assume browser is online"),!0)}(this.logger))return this.logger("warn","client:connect() - WS failed, fallback to longpoll"),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new un(this),await this.wsFallback.connect();throw e}},this._sayHi=()=>{let e=lF(),t={headers:iQ.from({"x-client-request-id":e})};this.doAxiosRequest("get",this.baseURL+"/hi",null,t).catch(t=>{this.options.enableInsights&&c1("http_hi_failed",{api_key:this.key,err:t,client_request_id:e})})},this.getUserAgent=()=>this.userAgent||`stream-video-javascript-client-${this.node?"node":"browser"}-0.6.10`,this.setUserAgent=e=>{this.userAgent=e},this._isUsingServerAuth=()=>!!this.secret,this._enrichAxiosOptions=(e={params:{},headers:{},config:{}})=>{let t=e.publicEndpoint&&!this.user?void 0:this._getToken(),r=null;return null!==this.nextRequestAbortController&&(r=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":lF()}),{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...e.params},headers:{...t?{Authorization:t}:void 0,"stream-auth-type":e.publicEndpoint&&!this.user?"anonymous":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...e.headers},...r?{signal:r}:{},...e.config,...this.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this._buildWSPayload=e=>JSON.stringify({user_id:this.userID,user_details:this._user,client_request_id:e}),this.createAbortControllerForNextRequest=()=>this.nextRequestAbortController=new AbortController,this.createToken=(e,t,r,i)=>{if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");let n={};return t&&(n.exp=t),r&&(n.iat=r),i&&(n.call_cids=i),c9(this.secret,e,n,{})},this.key=e,this.secret=t?.secret;let r=t||{browser:!1};this.browser=r.browser||!1,this.node=!this.browser,this.browser&&(this.locationHint=uo(t?.locationHintUrl,t?.locationHintTimeout)),this.options={timeout:5e3,withCredentials:!1,warmUp:!1,...r},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new(rj()).Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL(`http://${process.env.STREAM_LOCAL_TEST_HOST}/video`),this.axiosInstance=iK.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new ut(this.secret),this.consecutiveFailures=0,this.insightMetrics=new c0,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.logger=lD(r.logger)?r.logger:()=>null}}class uc{constructor(e,t){this.logLevel="warn",this.eventHandlersToUnregister=[],this.disconnectUser=async e=>{if(!this.streamClient.user&&!this.connectionPromise)return;let t=()=>this.streamClient.disconnectUser(e);this.disconnectionPromise=this.connectionPromise?this.connectionPromise.then(()=>t()):t(),this.disconnectionPromise.finally(()=>this.disconnectionPromise=void 0),await this.disconnectionPromise,this.eventHandlersToUnregister.forEach(e=>e()),this.eventHandlersToUnregister=[],this.writeableStateStore.setConnectedUser(void 0)},this.on=(e,t)=>this.streamClient.on(e,t),this.off=(e,t)=>this.streamClient.off(e,t),this.call=(e,t)=>new cZ({streamClient:this.streamClient,id:t,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async(e={})=>{let t=await this.streamClient.post("/calls",e),r=t.calls.map(t=>{let r=new cZ({streamClient:this.streamClient,id:t.call.id,type:t.call.type,members:t.members,ownCapabilities:t.own_capabilities,watching:e.watch,clientStore:this.writeableStateStore});return r.state.updateFromCallResponse(t.call),r.applyDeviceConfig(),e.watch&&this.writeableStateStore.registerCall(r),r});return{...t,calls:r}},this.queryCallStats=async(e={})=>this.streamClient.post("/call/stats",e),this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,t,r,i,n)=>await this.streamClient.post("/devices",{id:e,push_provider:t,voip_token:n,...null!=i?{user_id:i}:{},...null!=r?{push_provider_name:r}:{}}),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,t)=>await this.streamClient.delete("/devices",{id:e,...t?{user_id:t}:{}}),this.onRingingCall=async e=>{let t=this.readOnlyStateStore.calls.find(t=>t.cid===e&&t.ringing);if(!t){let[r,i]=e.split(":");t=new cZ({streamClient:this.streamClient,type:r,id:i,clientStore:this.writeableStateStore,ringing:!0}),await t.get()}return t},this.connectAnonymousUser=async(e,t)=>{let r=()=>this.streamClient.connectAnonymousUser(e,t);return this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>r()):r(),this.connectionPromise.finally(()=>this.connectionPromise=void 0),this.connectionPromise};let r=oD,i="warn";if("string"==typeof e?(i=t?.logLevel||i,r=t?.logger||r):(i=e.options?.logLevel||i,r=e.options?.logger||r),oK(r,i),this.logger=o$(["client"]),"string"==typeof e)this.streamClient=new ul(e,{persistUserOnConnectionFailure:!0,...t,logLevel:i,logger:this.logger});else{this.streamClient=new ul(e.apiKey,{persistUserOnConnectionFailure:!0,...e.options,logLevel:i,logger:this.logger});let t=oY();t&&this.streamClient.setUserAgent(this.streamClient.getUserAgent()+`-video-${T[t.type].toLowerCase()}-sdk-${t.major}.${t.minor}.${t.patch}`)}if(this.writeableStateStore=new lk,this.readOnlyStateStore=new lE(this.writeableStateStore),"string"!=typeof e){let t=e.user,r=e.token||e.tokenProvider;t&&this.connectUser(t,r)}}get state(){return this.readOnlyStateStore}async connectUser(e,t){if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,t);let r=()=>this.streamClient.connectUser(e,t);"guest"===e.type&&(r=async()=>this.streamClient.connectGuestUser(e)),this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>r()):r(),this.connectionPromise?.finally(()=>this.connectionPromise=void 0);let i=await this.connectionPromise;return i?.me&&this.writeableStateStore.setConnectedUser(i.me),this.eventHandlersToUnregister.push(this.on("connection.changed",e=>{if(e.online){let e=this.writeableStateStore.calls.filter(e=>e.watching).map(e=>e.cid);this.logger("info",`Rewatching calls after connection changed ${e.join(", ")}`),e.length>0&&this.queryCalls({watch:!0,filter_conditions:{cid:{$in:e}},sort:[{field:"cid",direction:1}]}).catch(e=>{this.logger("error","Failed to re-watch calls",e)})}})),this.eventHandlersToUnregister.push(this.on("call.created",t=>{let{call:r,members:i}=t;if(e.id===r.created_by.id){this.logger("warn","Received `call.created` sent by the current user");return}this.logger("info",`New call created and registered: ${r.cid}`);let n=new cZ({streamClient:this.streamClient,type:r.type,id:r.id,members:i,clientStore:this.writeableStateStore});n.state.updateFromCallResponse(r),this.writeableStateStore.registerCall(n)})),this.eventHandlersToUnregister.push(this.on("call.ring",async t=>{let{call:r,members:i}=t;if(e.id===r.created_by.id){this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");return}let n=this.writeableStateStore.findCall(r.type,r.id);await n?.leave({reason:"cleaning-up in call.ring"});let a=new cZ({streamClient:this.streamClient,type:r.type,id:r.id,members:i,clientStore:this.writeableStateStore,ringing:!0});a.state.updateFromCallResponse(r),await a.get(),this.writeableStateStore.registerCall(a)})),i}async addVoipDevice(e,t,r,i){return await this.addDevice(e,t,r,i,!0)}}var uu=r(95344),ud=r(3729),uh=r.t(ud,2);let up={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class uf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||up,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new uf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new uf(this.logger,e)}}var um=new uf;class ug{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,i]=e;for(let e=0;e<i;e++)t(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[i,n]=t;for(let t=0;t<n;t++)i.apply(i,[e,...r])})}}function uy(){let e,t;let r=new Promise((r,i)=>{e=r,t=i});return r.resolve=e,r.reject=t,r}function uv(e){return null==e?"":""+e}let ub=/###/g;function uw(e,t,r){function i(e){return e&&e.indexOf("###")>-1?e.replace(ub,"."):e}function n(){return!e||"string"==typeof e}let a="string"!=typeof t?t:t.split("."),s=0;for(;s<a.length-1;){if(n())return{};let t=i(a[s]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++s}return n()?{}:{obj:e,k:i(a[s])}}function uS(e,t,r){let{obj:i,k:n}=uw(e,t,Object);if(void 0!==i||1===t.length){i[n]=r;return}let a=t[t.length-1],s=t.slice(0,t.length-1),o=uw(e,s,Object);for(;void 0===o.obj&&s.length;)a=`${s[s.length-1]}.${a}`,(o=uw(e,s=s.slice(0,s.length-1),Object))&&o.obj&&void 0!==o.obj[`${o.k}.${a}`]&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=r}function u_(e,t){let{obj:r,k:i}=uw(e,t);if(r)return r[i]}function ux(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var uk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function uE(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>uk[e]):e}class uC{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}let uR=[" ",",","?","!",";"],uA=new uC(20);function uT(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let i=t.split(r),n=e;for(let e=0;e<i.length;){let t;if(!n||"object"!=typeof n)return;let a="";for(let s=e;s<i.length;++s)if(s!==e&&(a+=r),a+=i[s],void 0!==(t=n[a])){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<i.length-1)continue;e+=s-e+1;break}n=t}return n}function uP(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class uO extends ug{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let i,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,s=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],r&&(Array.isArray(r)?i.push(...r):"string"==typeof r&&a?i.push(...r.split(a)):i.push(r)));let o=u_(this.data,i);return(!o&&!t&&!r&&e.indexOf(".")>-1&&(e=i[0],t=i[1],r=i.slice(2).join(".")),o||!s||"string"!=typeof r)?o:uT(this.data&&this.data[e]&&this.data[e][t],r,a)}addResource(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,s=[e,t];r&&(s=s.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(s=e.split("."),i=t,t=s[1]),this.addNamespaces(t),uS(this.data,s,i),n.silent||this.emit("added",e,t,r,i)}addResources(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let i in r)("string"==typeof r[i]||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,n){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),i=r,r=t,t=s[1]),this.addNamespaces(t);let o=u_(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?function e(t,r,i){for(let n in r)"__proto__"!==n&&"constructor"!==n&&(n in t?"string"==typeof t[n]||t[n]instanceof String||"string"==typeof r[n]||r[n]instanceof String?i&&(t[n]=r[n]):e(t[n],r[n],i):t[n]=r[n]);return t}(o,r,n):o={...o,...r},uS(this.data,s,o),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var uI={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,i,n){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,r,i,n))}),t}};let uN={};class uj extends ug{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,r){e.forEach(e=>{t[e]&&(r[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=um.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let r=this.resolve(e,t);return r&&void 0!==r.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");let i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,n=t.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,r){t=t||"",r=r||"";let i=uR.filter(e=>0>t.indexOf(e)&&0>r.indexOf(e));if(0===i.length)return!0;let n=uA.getRegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`),a=!n.test(e);if(!a){let t=e.indexOf(r);t>0&&!n.test(e.substring(0,t))&&(a=!0)}return a}(e,r,i);if(a&&!s){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:n};let a=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(a[0])>-1)&&(n=a.shift()),e=a.join(i)}return"string"==typeof n&&(n=[n]),{key:e,namespaces:n}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],t),o=s[s.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){let e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${o}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:`${o}${e}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:a}let u=this.resolve(e,t),d=u&&u.res,h=u&&u.usedKey||a,p=u&&u.exactUsedKey||a,f=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(g&&d&&y&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(f)&&!("string"==typeof m&&Array.isArray(d))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(n){let e=Array.isArray(d),r=e?[]:{},i=e?p:h;for(let e in d)if(Object.prototype.hasOwnProperty.call(d,e)){let a=`${i}${n}${e}`;r[e]=this.translate(a,{...t,joinArrays:!1,ns:s}),r[e]===a&&(r[e]=d[e])}d=r}}else if(g&&"string"==typeof m&&Array.isArray(d))(d=d.join(m))&&(d=this.extendTranslation(d,e,t,r));else{let i=!1,s=!1,c=void 0!==t.count&&"string"!=typeof t.count,h=uj.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",m=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=m&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&h&&(i=!0,d=g),this.isValidLookup(d)||(s=!0,d=a);let y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:d,v=h&&g!==d&&this.options.updateMissing;if(s||i||v){if(this.logger.log(v?"updateKey":"missingKey",l,o,a,v?g:d),n){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let i=(e,r,i)=>{let n=h&&i!==d?i:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,r,n,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,r,n,v,t),this.emit("missingKey",e,o,r,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{let r=this.pluralResolver.getSuffixes(e,t);m&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>r.indexOf(`${this.options.pluralSeparator}zero`)&&r.push(`${this.options.pluralSeparator}zero`),r.forEach(r=>{i([e],a+r,t[`defaultValue${r}`]||g)})}):i(e,a,g))}d=this.extendTranslation(d,e,t,u,r),s&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${o}:${a}`),(s||i)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${a}`:a,i?d:void 0):this.options.parseMissingKeyHandler(d))}return i?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,r,i,n){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){let s;r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let o="string"==typeof e&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){let t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=r.replace&&"string"!=typeof r.replace?r.replace:r;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,r.lng||this.language,r),o){let t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(r.lng=i.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return n&&n[0]===i[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):a.translate(...i,t)},r)),r.interpolation&&this.interpolator.reset()}let s=r.postProcess||this.options.postProcess,o="string"==typeof s?[s]:s;return null!=e&&o&&o.length&&!1!==r.applyPostProcessor&&(e=uI.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t,r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let o=this.extractFromKey(e,s),l=o.key;r=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let u=void 0!==s.count&&"string"!=typeof s.count,d=u&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(a=e,!uN[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(uN[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(r=>{let a;if(this.isValidLookup(t))return;n=r;let o=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,r,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(r,s.count,s));let t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(l+e),s.ordinal&&0===e.indexOf(i)&&o.push(l+e.replace(i,this.options.pluralSeparator)),d&&o.push(l+t)),h){let r=`${l}${this.options.contextSeparator}${s.context}`;o.push(r),u&&(o.push(r+e),s.ordinal&&0===e.indexOf(i)&&o.push(r+e.replace(i,this.options.pluralSeparator)),d&&o.push(r+t))}}for(;a=o.pop();)this.isValidLookup(t)||(i=a,t=this.getResource(r,e,a,s))}))})}),{res:t,usedKey:r,exactUsedKey:i,usedLng:n,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!=typeof e.replace,r=t?e.replace:e;if(t&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!t)for(let e of(r={...r},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete r[e];return r}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&void 0!==e[r])return!0;return!1}}function uB(e){return e.charAt(0).toUpperCase()+e.slice(1)}class uU{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=um.create("languageUtils")}getScriptPartFromCode(e){if(!(e=uP(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=uP(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map(e=>e.toLowerCase()):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=uB(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=uB(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=uB(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let r=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>{if(e===r||!(0>e.indexOf("-")&&0>r.indexOf("-"))&&(e.indexOf("-")>0&&0>r.indexOf("-")&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],n=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):"string"==typeof e&&n(this.formatLanguageCode(e)),r.forEach(e=>{0>i.indexOf(e)&&n(this.formatLanguageCode(e))}),i}}let uL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],uM={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},uD=["v1","v2","v3"],uK=["v4"],uq={zero:0,one:1,two:2,few:3,many:4,other:5};class u${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=um.create("pluralResolver"),(!this.options.compatibilityJSON||uK.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let e={};return uL.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:uM[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(uP("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((e,t)=>uq[e]-uq[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):r.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));let n=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:n():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?n():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!uD.includes(this.options.compatibilityJSON)}}function uF(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",n=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=function(e,t,r){let i=u_(e,r);return void 0!==i?i:u_(t,r)}(e,t,r);return!a&&n&&"string"==typeof r&&void 0===(a=uT(e,r,i))&&(a=uT(t,r,i)),a}class uz{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=um.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:n,prefixEscaped:a,suffix:s,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:uE,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==i&&i,this.prefix=n?ux(n):a||"{{",this.suffix=s?ux(s):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?ux(d):h||ux("$t("),this.nestingSuffix=p?ux(p):f||ux(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let n,a,s;let o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}let c=e=>{if(0>e.indexOf(this.formatSeparator)){let n=uF(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,r,{...i,...t,interpolationkey:e}):n}let n=e.split(this.formatSeparator),a=n.shift().trim(),s=n.join(this.formatSeparator).trim();return this.format(uF(t,o,a,this.options.keySeparator,this.options.ignoreJSONStructure),s,r,{...i,...t,interpolationkey:a})};this.resetRegExp();let u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>l(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?l(this.escape(e)):l(e)}].forEach(t=>{for(s=0;n=t.regex.exec(e);){let r=n[1].trim();if(void 0===(a=c(r))){if("function"==typeof u){let t=u(e,n,i);a="string"==typeof t?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,r))a="";else if(d){a=n[0];continue}else this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),a=""}else"string"==typeof a||this.useRawValueToEscape||(a=uv(a));let o=t.safeValue(a);if(e=e.replace(n[0],o),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=n[0].length):t.regex.lastIndex=0,++s>=this.maxReplaces)break}}),e}nest(e,t){let r,i,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){let r=this.nestingOptionsSeparator;if(0>e.indexOf(r))return e;let i=e.split(RegExp(`${r}[ ]*{`)),a=`{${i[1]}`;e=i[0];let s=(a=this.interpolate(a,n)).match(/'/g),o=a.match(/"/g);(s&&s.length%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{n=JSON.parse(a),t&&(n={...t,...n})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${r}${a}`}return n.defaultValue&&n.defaultValue.indexOf(this.prefix)>-1&&delete n.defaultValue,e}for(;r=this.nestingRegexp.exec(e);){let o=[];(n=(n={...a}).replace&&"string"!=typeof n.replace?n.replace:n).applyPostProcessor=!1,delete n.defaultValue;let l=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){let e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),o=e,l=!0}if((i=t(s.call(this,r[1].trim(),n),n))&&r[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=uv(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),l&&(i=o.reduce((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}function uV(e){let t={};return function(r,i,n){let a=i+JSON.stringify(n),s=t[a];return s||(s=e(uP(i),n),t[a]=s),s(r)}}class uH{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=um.create("formatter"),this.options=e,this.formats={number:uV((e,t)=>{let r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:uV((e,t)=>{let r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:uV((e,t)=>{let r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:uV((e,t)=>{let r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:uV((e,t)=>{let r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=t.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=uV(t)}format(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((e,t)=>{let{formatName:n,formatOptions:a}=function(e){let t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){let i=e.split("(");t=i[0].toLowerCase().trim();let n=i[1].substring(0,i[1].length-1);"currency"===t&&0>n.indexOf(":")?r.currency||(r.currency=n.trim()):"relativetime"===t&&0>n.indexOf(":")?r.range||(r.range=n.trim()):n.split(";").forEach(e=>{if(e){let[t,...i]=e.split(":"),n=i.join(":").trim().replace(/^'+|'+$/g,""),a=t.trim();r[a]||(r[a]=n),"false"===n&&(r[a]=!1),"true"===n&&(r[a]=!0),isNaN(n)||(r[a]=parseInt(n,10))}})}return{formatName:t,formatOptions:r}}(t);if(this.formats[n]){let t=e;try{let s=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},o=s.locale||s.lng||i.locale||i.lng||r;t=this.formats[n](e,o,{...a,...i,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${n}`),e},e)}}class uW extends ug{constructor(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=um.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,t,r,i){let n={},a={},s={},o={};return e.forEach(e=>{let i=!0;t.forEach(t=>{let s=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===a[s]&&(a[s]=!0):(this.state[s]=1,i=!1,void 0===a[s]&&(a[s]=!0),void 0===n[s]&&(n[s]=!0),void 0===o[t]&&(o[t]=!0)))}),i||(s[e]=!0)}),(Object.keys(n).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(n),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,r){let i=e.split("|"),n=i[0],a=i[1];t&&this.emit("failedLoading",n,a,t),r&&this.store.addResourceBundle(n,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;let s={};this.queue.forEach(r=>{(function(e,t,r,i){let{obj:n,k:a}=uw(e,t,Object);n[a]=n[a]||[],i&&(n[a]=n[a].concat(r)),i||n[a].push(r)})(r.loaded,[n],a),void 0!==r.pending[e]&&(delete r.pending[e],r.pendingCount--),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{s[e]||(s[e]={});let t=r.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:n,callback:a});return}this.readingCalls++;let s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(s&&o&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,2*n,a)},n);return}a(s,o)},o=this.backend[r].bind(this.backend);if(2===o.length){try{let r=o(e,t);r&&"function"==typeof r.then?r.then(e=>s(null,e)).catch(s):s(null,r)}catch(e){s(e)}return}return o(e,t,s)}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);let n=this.queueLoad(e,t,r,i);if(!n.toLoad.length)return n.pending.length||i(),null;n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],n=r[1];this.read(i,n,"read",void 0,void 0,(r,a)=>{r&&this.logger.warn(`${t}loading namespace ${n} for language ${i} failed`,r),!r&&a&&this.logger.log(`${t}loaded namespace ${n} for language ${i}`,a),this.loaded(e,r,a)})}saveMissing(e,t,r,i,n){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=r&&""!==r){if(this.backend&&this.backend.create){let o={...a,isUpdate:n},l=this.backend.create.bind(this.backend);if(l.length<6)try{let n;(n=5===l.length?l(e,t,r,i,o):l(e,t,r,i))&&"function"==typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(e){s(e)}else l(e,t,r,i,s,o)}e&&e[0]&&this.store.addResource(e[0],t,r,i)}}}function uG(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function uJ(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function uY(){}class uX extends ug{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=uJ(e),this.services={},this.logger=um,this.modules={external:[]},function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let i=uG();function n(e){return e?"function"==typeof e?new e:e:null}if(this.options={...i,...this.options,...uJ(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?um.init(n(this.modules.logger),this.options):um.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=uH);let r=new uU(this.options);this.store=new uO(this.options.resources,this.options);let a=this.services;a.logger=um,a.resourceStore=this.store,a.languageUtils=r,a.pluralResolver=new u$(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(a.formatter=n(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new uz(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new uW(n(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];e.emit(t,...i)}),this.modules.languageDetector&&(a.languageDetector=n(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=n(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new uj(this.services,this.options),this.translator.on("*",function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];e.emit(t,...i)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,r||(r=uY),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let a=uy(),s=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uY,r=t,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return r();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};i?t(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,r){let i=uy();return e||(e=this.languages),t||(t=this.options.ns),r||(r=uY),this.services.backendConnector.reload(e,t,e=>{i.resolve(),r(e)}),i}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&uI.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;let i=uy();this.emit("languageChanging",e);let n=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(n(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),t&&t(e,function(){return r.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);let r="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||n(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(r)),this.loadResources(r,e=>{a(e,r)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),i}getFixedT(e,t,r){var i=this;let n=function(e,t){let a,s;if("object"!=typeof t){for(var o=arguments.length,l=Array(o>2?o-2:0),c=2;c<o;c++)l[c-2]=arguments[c];a=i.options.overloadTranslationOptionHandler([e,t].concat(l))}else a={...t};a.lng=a.lng||n.lng,a.lngs=a.lngs||n.lngs,a.ns=a.ns||n.ns,a.keyPrefix=a.keyPrefix||r||n.keyPrefix;let u=i.options.keySeparator||".";return s=a.keyPrefix&&Array.isArray(e)?e.map(e=>`${a.keyPrefix}${u}${e}`):a.keyPrefix?`${a.keyPrefix}${u}${e}`:e,i.t(s,a)};return"string"==typeof e?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=r,n}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;let a=(e,t)=>{let r=this.services.backendConnector.state[`${e}|${t}`];return -1===r||2===r};if(t.precheck){let e=t.precheck(this,a);if(void 0!==e)return e}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(n,e)))}loadNamespaces(e,t){let r=uy();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=uy();"string"==typeof e&&(e=[e]);let i=this.options.preload||[],n=e.filter(e=>0>i.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return n.length?(this.options.preload=i.concat(n),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new uU(uG())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new uX(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uY,r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},n=new uX(i);return(void 0!==e.debug||void 0!==e.prefix)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(e=>{n[e]=this[e]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},r&&(n.store=new uO(this.store.data,i),n.services.resourceStore=n.store),n.translator=new uj(n.services,i),n.translator.on("*",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.emit(e,...r)}),n.init(i,t),n.translator.options=i,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let uQ=uX.createInstance();uQ.createInstance=uX.createInstance,uQ.createInstance,uQ.dir,uQ.init,uQ.loadResources,uQ.reloadResources,uQ.use,uQ.changeLanguage,uQ.getFixedT,uQ.t,uQ.exists,uQ.setDefaultNamespace,uQ.hasLoadedNamespace,uQ.loadNamespaces,uQ.loadLanguages;let uZ=(0,ud.createContext)(void 0),u0=()=>(0,ud.useContext)(uZ),u1="stream-video",u2={debug:!1,currentLanguage:"en",fallbackLanguage:!1},u3=Object.entries({}).reduce((e,[t,r])=>(e[t]={[u1]:r},e),{}),u8=e=>e;class u4{constructor(e={}){this.t=u8,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(e){console.error(`Failed to initialize translations: ${JSON.stringify(e)}`)}return this},this.changeLanguage=async(e,t)=>{if(!this._checkIsInitialized())return;let r="undefined"!=typeof window&&window.navigator?window.navigator.language:void 0;await this.i18nInstance.changeLanguage(e||r),t?.(this.currentLanguage)},this.registerTranslationsForLanguage=({lng:e,translations:t})=>{this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(e,u1,t,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);let{debug:t=u2.debug,currentLanguage:r=u2.currentLanguage,fallbackLanguage:i=u2.fallbackLanguage,translationsOverrides:n}=e;this.i18nInstance=uQ.createInstance({debug:t,defaultNS:u1,fallbackLng:i,interpolation:{escapeValue:!1},keySeparator:!1,lng:r,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:u3}),n&&this.i18nInstance.on("initialized",()=>{Object.entries(n).forEach(([e,t])=>{this.registerTranslationsForLanguage({lng:e,translations:t})})})}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}let u6=(0,ud.createContext)({t:u8}),u5=({children:e,...t})=>{let{i18n:r,t:i}=u7(t);return(0,uu.jsx)(u6.Provider,{value:{t:i,i18n:r},children:e})},u7=({i18nInstance:e,language:t,fallbackLanguage:r,translationsOverrides:i})=>{let[n]=(0,ud.useState)(()=>e||new u4({currentLanguage:t,fallbackLanguage:r,translationsOverrides:i})),[a,s]=(0,ud.useState)(()=>u8);return(0,ud.useEffect)(()=>{let{isInitialized:e}=n;if(!e){n.init().then(e=>s(()=>e.i18nInstance.t));return}t&&n?.currentLanguage!==t&&n.changeLanguage(t).catch(e=>{console.log("Error while changing language",e)})},[n,e,t,i]),{i18n:n,t:a}},u9=()=>(0,ud.useContext)(u6),de=(0,ud.createContext)(void 0),dt=({children:e,client:t,i18nInstance:r,language:i,translationsOverrides:n})=>(0,uu.jsx)(de.Provider,{value:t,children:(0,uu.jsx)(u5,{i18nInstance:r,language:i,translationsOverrides:n,children:e})}),dr=()=>(0,ud.useContext)(de),di=e=>{let[t,r]=(0,ud.useState)(()=>lr.getCurrentValue(e));return(0,ud.useEffect)(()=>{let t=e.subscribe(r);return()=>{t.unsubscribe()}},[e]),t},dn=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",da=()=>{let e=u0();return e?e.state:(console.warn('You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.'),new lx)},ds=()=>{let{ownCapabilities$:e}=da();return di(e)};var dl=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{let{anonymousParticipantCount$:e}=da();return di(e)},useCallBlockedUserIds:()=>{let{blockedUserIds$:e}=da();return di(e)},useCallCallingState:()=>{let{callingState$:e}=da();return di(e)},useCallCreatedAt:()=>{let{createdAt$:e}=da();return di(e)},useCallCreatedBy:()=>{let{createdBy$:e}=da();return di(e)},useCallCustomData:()=>{let{custom$:e}=da();return di(e)},useCallEgress:()=>{let{egress$:e}=da();return di(e)},useCallEndedAt:()=>{let{endedAt$:e}=da();return di(e)},useCallEndedBy:()=>{let{endedBy$:e}=da();return di(e)},useCallIngress:()=>{let{ingress$:e}=da();return di(e)},useCallMembers:()=>{let{members$:e}=da();return di(e)},useCallSession:()=>{let{session$:e}=da();return di(e)},useCallSettings:()=>{let{settings$:e}=da();return di(e)},useCallStartedAt:()=>{let{startedAt$:e}=da();return di(e)},useCallStartsAt:()=>{let{startsAt$:e}=da();return di(e)},useCallState:da,useCallStatsReport:()=>{let{callStatsReport$:e}=da();return di(e)},useCallThumbnail:()=>{let{thumbnails$:e}=da();return di(e)},useCallUpdatedAt:()=>{let{updatedAt$:e}=da();return di(e)},useCameraState:()=>{let{camera:e}=u0(),t=(0,ud.useMemo)(()=>e.listDevices(),[e]),{state:r}=e,i=di(r.status$),n=di(r.direction$),a=di(r.mediaStream$),s=di(r.selectedDevice$);return{camera:e,status:i,isEnabled:"enabled"===i,direction:n,mediaStream:a,devices:di(t),hasBrowserPermission:di(r.hasBrowserPermission$),selectedDevice:s,isMute:"enabled"!==i}},useDominantSpeaker:()=>{let{dominantSpeaker$:e}=da();return di(e)},useHasOngoingScreenShare:()=>{let{hasOngoingScreenShare$:e}=da();return di(e)},useHasPermissions:(...e)=>{let t=ds();return e.every(e=>t?.includes(e))},useIsCallHLSBroadcastingInProgress:()=>{let{egress$:e}=da(),t=di(e);return!!t&&t.broadcasting},useIsCallLive:()=>{let{backstage$:e}=da();return!di(e)},useIsCallRecordingInProgress:()=>{let{recording$:e}=da();return di(e)},useIsCallTranscribingInProgress:()=>{let{transcribing$:e}=da();return di(e)},useLocalParticipant:()=>{let{localParticipant$:e}=da();return di(e)},useMicrophoneState:()=>{let{microphone:e}=u0(),t=(0,ud.useMemo)(()=>e.listDevices(),[e]),{state:r}=e,i=di(r.status$),n=di(r.mediaStream$),a=di(r.selectedDevice$),s=di(t);return{microphone:e,status:i,isEnabled:"enabled"===i,mediaStream:n,devices:s,selectedDevice:a,hasBrowserPermission:di(r.hasBrowserPermission$),isSpeakingWhileMuted:di(r.speakingWhileMuted$),isMute:"enabled"!==i}},useOwnCapabilities:ds,useParticipantCount:()=>{let{participantCount$:e}=da();return di(e)},useParticipants:({sortBy:e}={})=>{let{participants$:t}=da(),r=di(t);return(0,ud.useMemo)(()=>e?[...r].sort(e):r,[r,e])},useRemoteParticipants:()=>{let{remoteParticipants$:e}=da();return di(e)},useScreenShareState:()=>{let{screenShare:e}=u0(),t=di(e.state.status$),r=di(e.state.mediaStream$);return{screenShare:e,mediaStream:r,status:t,isMute:"enabled"!==t}},useSpeakerState:()=>{if(dn())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");let{speaker:e}=u0(),t=di((0,ud.useMemo)(()=>e.listDevices(),[e])),r=di(e.state.selectedDevice$);return{speaker:e,devices:t,selectedDevice:r,isDeviceSelectionSupported:e.state.isDeviceSelectionSupported}}});let dc=()=>dl,du=({canRequestOnly:e,hasPermissionsOnly:t,requiredGrants:r,requireAll:i=!0,children:n})=>{let a=u0(),{useCallSettings:s,useOwnCapabilities:o}=dc(),l=o(),c=s(),u=r[i?"every":"some"](e=>l?.includes(e));if(t)return u?(0,uu.jsx)(uu.Fragment,{children:n}):null;let d=r.some(e=>a?.permissionsContext.canRequest(e,c));return e?d?(0,uu.jsx)(uu.Fragment,{children:n}):null:u||d?(0,uu.jsx)(uu.Fragment,{children:n}):null};var dd=r(56815);String.raw;function dh(e){return dm(e)?(e.nodeName||"").toLowerCase():"#document"}function dp(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function df(e){var t;return null==(t=(dm(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function dm(e){return e instanceof Node||e instanceof dp(e).Node}function dg(e){return e instanceof Element||e instanceof dp(e).Element}function dy(e){return e instanceof HTMLElement||e instanceof dp(e).HTMLElement}function dv(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof dp(e).ShadowRoot)}function db(e){let{overflow:t,overflowX:r,overflowY:i,display:n}=dx(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(n)}function dw(e){let t=dS(),r=dx(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function dS(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function d_(e){return["html","body","#document"].includes(dh(e))}function dx(e){return dp(e).getComputedStyle(e)}function dk(e){return dg(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function dE(e){if("html"===dh(e))return e;let t=e.assignedSlot||e.parentNode||dv(e)&&e.host||df(e);return dv(t)?t.host:t}function dC(e,t,r){var i;void 0===t&&(t=[]),void 0===r&&(r=!0);let n=function e(t){let r=dE(t);return d_(r)?t.ownerDocument?t.ownerDocument.body:t.body:dy(r)&&db(r)?r:e(r)}(e),a=n===(null==(i=e.ownerDocument)?void 0:i.body),s=dp(n);return a?t.concat(s,s.visualViewport||[],db(n)?n:[],s.frameElement&&r?dC(s.frameElement):[]):t.concat(n,dC(n,[],r))}function dR(e){let t=e.activeElement;for(;(null==(r=t)||null==(r=r.shadowRoot)?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function dA(e,t){if(!e||!t)return!1;let r=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&dv(r)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function dT(){let e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function dP(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function dO(e){return 0===e.mozInputSource&&!!e.isTrusted||(dj()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function dI(e){return!dP().includes("jsdom/")&&(!dj()&&0===e.width&&0===e.height||dj()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function dN(){return/apple/i.test(navigator.vendor)}function dj(){let e=/android/i;return e.test(dT())||e.test(dP())}function dB(e,t){let r=["mouse","pen"];return t||r.push("",void 0),r.includes(e)}function dU(e){return(null==e?void 0:e.ownerDocument)||document}function dL(e,t){return null!=t&&("composedPath"in e?e.composedPath().includes(t):null!=e.target&&t.contains(e.target))}function dM(e){return"composedPath"in e?e.composedPath()[0]:e.target}function dD(e){return dy(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function dK(e){e.preventDefault(),e.stopPropagation()}function dq(e){return!!e&&"combobox"===e.getAttribute("role")&&dD(e)}!function(e){e.LOW="low",e.HIGH="high"}(L||(L={}));let d$=Math.min,dF=Math.max,dz=Math.round,dV=Math.floor,dH=e=>({x:e,y:e}),dW={left:"right",right:"left",bottom:"top",top:"bottom"},dG={start:"end",end:"start"};function dJ(e,t){return"function"==typeof e?e(t):e}function dY(e){return e.split("-")[0]}function dX(e){return e.split("-")[1]}function dQ(e){return"x"===e?"y":"x"}function dZ(e){return"y"===e?"height":"width"}function d0(e){return["top","bottom"].includes(dY(e))?"y":"x"}function d1(e){return e.replace(/start|end/g,e=>dG[e])}function d2(e){return e.replace(/left|right|bottom|top/g,e=>dW[e])}function d3(e){let{x:t,y:r,width:i,height:n}=e;return{width:i,height:n,top:r,left:t,right:t+i,bottom:r+n,x:t,y:r}}function d8(e,t,r){let i,{reference:n,floating:a}=e,s=d0(t),o=dQ(d0(t)),l=dZ(o),c=dY(t),u="y"===s,d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;switch(c){case"top":i={x:d,y:n.y-a.height};break;case"bottom":i={x:d,y:n.y+n.height};break;case"right":i={x:n.x+n.width,y:h};break;case"left":i={x:n.x-a.width,y:h};break;default:i={x:n.x,y:n.y}}switch(dX(t)){case"start":i[o]-=p*(r&&u?-1:1);break;case"end":i[o]+=p*(r&&u?-1:1)}return i}let d4=async(e,t,r)=>{let{placement:i="bottom",strategy:n="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await (null==s.isRTL?void 0:s.isRTL(t)),c=await s.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:d}=d8(c,i,l),h=i,p={},f=0;for(let r=0;r<o.length;r++){let{name:a,fn:m}=o[r],{x:g,y:y,data:v,reset:b}=await m({x:u,y:d,initialPlacement:i,placement:h,strategy:n,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,p={...p,[a]:{...p[a],...v}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:n}):b.rects),{x:u,y:d}=d8(c,h,l)),r=-1)}return{x:u,y:d,placement:h,strategy:n,middlewareData:p}};async function d6(e,t){var r;void 0===t&&(t={});let{x:i,y:n,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=dJ(t,e),f="number"!=typeof p?{top:0,right:0,bottom:0,left:0,...p}:{top:p,right:p,bottom:p,left:p},m=o[h?"floating"===d?"reference":"floating":d],g=d3(await a.getClippingRect({element:null==(r=await (null==a.isElement?void 0:a.isElement(m)))||r?m:m.contextElement||await (null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:i,y:n,width:s.floating.width,height:s.floating.height}:s.reference,v=await (null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),b=await (null==a.isElement?void 0:a.isElement(v))&&await (null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},w=d3(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-w.top+f.top)/b.y,bottom:(w.bottom-g.bottom+f.bottom)/b.y,left:(g.left-w.left+f.left)/b.x,right:(w.right-g.right+f.right)/b.x}}async function d5(e,t){let{placement:r,platform:i,elements:n}=e,a=await (null==i.isRTL?void 0:i.isRTL(n.floating)),s=dY(r),o=dX(r),l="y"===d0(r),c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,d=dJ(t,e),{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return o&&"number"==typeof f&&(p="end"===o?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}function d7(e){let t=dx(e),r=parseFloat(t.width)||0,i=parseFloat(t.height)||0,n=dy(e),a=n?e.offsetWidth:r,s=n?e.offsetHeight:i,o=dz(r)!==a||dz(i)!==s;return o&&(r=a,i=s),{width:r,height:i,$:o}}function d9(e){return dg(e)?e:e.contextElement}function he(e){let t=d9(e);if(!dy(t))return dH(1);let r=t.getBoundingClientRect(),{width:i,height:n,$:a}=d7(t),s=(a?dz(r.width):r.width)/i,o=(a?dz(r.height):r.height)/n;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}let ht=dH(0);function hr(e){let t=dp(e);return dS()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ht}function hi(e,t,r,i){var n;void 0===t&&(t=!1),void 0===r&&(r=!1);let a=e.getBoundingClientRect(),s=d9(e),o=dH(1);t&&(i?dg(i)&&(o=he(i)):o=he(e));let l=(void 0===(n=r)&&(n=!1),i&&(!n||i===dp(s))&&n)?hr(s):dH(0),c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(s){let e=dp(s),t=i&&dg(i)?dp(i):i,r=e,n=r.frameElement;for(;n&&i&&t!==r;){let e=he(n),t=n.getBoundingClientRect(),i=dx(n),a=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;c*=e.x,u*=e.y,d*=e.x,h*=e.y,c+=a,u+=s,n=(r=dp(n)).frameElement}}return d3({width:d,height:h,x:c,y:u})}let hn=[":popover-open",":modal"];function ha(e){return hn.some(t=>{try{return e.matches(t)}catch(e){return!1}})}function hs(e){return hi(df(e)).left+dk(e).scrollLeft}function ho(e,t,r){let i;if("viewport"===t)i=function(e,t){let r=dp(e),i=df(e),n=r.visualViewport,a=i.clientWidth,s=i.clientHeight,o=0,l=0;if(n){a=n.width,s=n.height;let e=dS();(!e||e&&"fixed"===t)&&(o=n.offsetLeft,l=n.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,r);else if("document"===t)i=function(e){let t=df(e),r=dk(e),i=e.ownerDocument.body,n=dF(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=dF(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),s=-r.scrollLeft+hs(e),o=-r.scrollTop;return"rtl"===dx(i).direction&&(s+=dF(t.clientWidth,i.clientWidth)-n),{width:n,height:a,x:s,y:o}}(df(e));else if(dg(t))i=function(e,t){let r=hi(e,!0,"fixed"===t),i=r.top+e.clientTop,n=r.left+e.clientLeft,a=dy(e)?he(e):dH(1),s=e.clientWidth*a.x;return{width:s,height:e.clientHeight*a.y,x:n*a.x,y:i*a.y}}(t,r);else{let r=hr(e);i={...t,x:t.x-r.x,y:t.y-r.y}}return d3(i)}function hl(e){return"static"===dx(e).position}function hc(e,t){return dy(e)&&"fixed"!==dx(e).position?t?t(e):e.offsetParent:null}function hu(e,t){let r=dp(e);if(ha(e))return r;if(!dy(e)){let t=dE(e);for(;t&&!d_(t);){if(dg(t)&&!hl(t))return t;t=dE(t)}return r}let i=hc(e,t);for(;i&&["table","td","th"].includes(dh(i))&&hl(i);)i=hc(i,t);return i&&d_(i)&&hl(i)&&!dw(i)?r:i||function(e){let t=dE(e);for(;dy(t)&&!d_(t);){if(dw(t))return t;t=dE(t)}return null}(e)||r}let hd=async function(e){let t=this.getOffsetParent||hu,r=this.getDimensions,i=await r(e.floating);return{reference:function(e,t,r){let i=dy(t),n=df(t),a="fixed"===r,s=hi(e,!0,a,t),o={scrollLeft:0,scrollTop:0},l=dH(0);if(i||!i&&!a){if(("body"!==dh(t)||db(n))&&(o=dk(t)),i){let e=hi(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else n&&(l.x=hs(n))}return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},hh={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:i,strategy:n}=e,a="fixed"===n,s=df(i),o=!!t&&ha(t.floating);if(i===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},c=dH(1),u=dH(0),d=dy(i);if((d||!d&&!a)&&(("body"!==dh(i)||db(s))&&(l=dk(i)),dy(i))){let e=hi(i);c=he(i),u.x=e.x+i.clientLeft,u.y=e.y+i.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x,y:r.y*c.y-l.scrollTop*c.y+u.y}},getDocumentElement:df,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:i,strategy:n}=e,a=[..."clippingAncestors"===r?ha(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let i=dC(e,[],!1).filter(e=>dg(e)&&"body"!==dh(e)),n=null,a="fixed"===dx(e).position,s=a?dE(e):e;for(;dg(s)&&!d_(s);){let t=dx(s),r=dw(s);r||"fixed"!==t.position||(n=null),(a?!r&&!n:!r&&"static"===t.position&&!!n&&["absolute","fixed"].includes(n.position)||db(s)&&!r&&function e(t,r){let i=dE(t);return!(i===r||!dg(i)||d_(i))&&("fixed"===dx(i).position||e(i,r))}(e,s))?i=i.filter(e=>e!==s):n=t,s=dE(s)}return t.set(e,i),i}(t,this._c):[].concat(r),i],s=a[0],o=a.reduce((e,r)=>{let i=ho(t,r,n);return e.top=dF(i.top,e.top),e.right=d$(i.right,e.right),e.bottom=d$(i.bottom,e.bottom),e.left=dF(i.left,e.left),e},ho(t,s,n));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:hu,getElementRects:hd,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=d7(e);return{width:t,height:r}},getScale:he,isElement:dg,isRTL:function(e){return"rtl"===dx(e).direction}};function hp(e,t,r,i){let n;void 0===i&&(i={});let{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=i,u=d9(e),d=a||s?[...u?dC(u):[],...dC(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});let h=u&&l?function(e,t){let r,i=null,n=df(e);function a(){var e;clearTimeout(r),null==(e=i)||e.disconnect(),i=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();let{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(o||t(),!d||!h)return;let p=dV(u),f=dV(n.clientWidth-(c+d)),m={rootMargin:-p+"px "+-f+"px "+-dV(n.clientHeight-(u+h))+"px "+-dV(c)+"px",threshold:dF(0,d$(1,l))||1},g=!0;function y(e){let t=e[0].intersectionRatio;if(t!==l){if(!g)return s();t?s(!1,t):r=setTimeout(()=>{s(!1,1e-7)},1e3)}g=!1}try{i=new IntersectionObserver(y,{...m,root:n.ownerDocument})}catch(e){i=new IntersectionObserver(y,m)}i.observe(e)}(!0),a}(u,r):null,p=-1,f=null;o&&(f=new ResizeObserver(e=>{let[i]=e;i&&i.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let m=c?hi(e):null;return c&&function t(){let i=hi(e);m&&(i.x!==m.x||i.y!==m.y||i.width!==m.width||i.height!==m.height)&&r(),m=i,n=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==h||h(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(n)}}let hf=(e,t,r)=>{let i=new Map,n={platform:hh,...r},a={...n.platform,_c:i};return d4(e,t,{...n,platform:a})};var hm=r(81202),hg="undefined"!=typeof document?ud.useLayoutEffect:ud.useEffect;function hy(e,t){let r,i,n;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(i=r;0!=i--;)if(!hy(e[i],t[i]))return!1;return!0}if((r=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!({}).hasOwnProperty.call(t,n[i]))return!1;for(i=r;0!=i--;){let r=n[i];if(("_owner"!==r||!e.$$typeof)&&!hy(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function hv(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hb(e,t){let r=hv(e);return Math.round(t*r)/r}function hw(e){let t=ud.useRef(e);return hg(()=>{t.current=e}),t}let hS=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,i;let{x:n,y:a,placement:s,middlewareData:o}=t,l=await d5(t,e);return s===(null==(r=o.offset)?void 0:r.placement)&&null!=(i=o.arrow)&&i.alignmentOffset?{}:{x:n+l.x,y:a+l.y,data:{...l,placement:s}}}}}(e),options:[e,t]}),h_=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:i,placement:n}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=dJ(e,t),c={x:r,y:i},u=await d6(t,l),d=d0(dY(n)),h=dQ(d),p=c[h],f=c[d];if(a){let e="y"===h?"top":"left",t="y"===h?"bottom":"right",r=p+u[e],i=p-u[t];p=dF(r,d$(p,i))}if(s){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=f+u[e],i=f-u[t];f=dF(r,d$(f,i))}let m=o.fn({...t,[h]:p,[d]:f});return{...m,data:{x:m.x-r,y:m.y-i}}}}}(e),options:[e,t]}),hx=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,i,n,a,s;let{placement:o,middlewareData:l,rects:c,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...b}=dJ(e,t);if(null!=(r=l.arrow)&&r.alignmentOffset)return{};let w=dY(o),S=dY(u)===u,_=await (null==d.isRTL?void 0:d.isRTL(h.floating)),x=m||(S||!v?[d2(u)]:function(e){let t=d2(e);return[d1(e),t,d1(t)]}(u));m||"none"===y||x.push(...function(e,t,r,i){let n=dX(e),a=function(e,t,r){let i=["left","right"],n=["right","left"];switch(e){case"top":case"bottom":if(r)return t?n:i;return t?i:n;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(dY(e),"start"===r,i);return n&&(a=a.map(e=>e+"-"+n),t&&(a=a.concat(a.map(d1)))),a}(u,v,y,_));let k=[u,...x],E=await d6(t,b),C=[],R=(null==(i=l.flip)?void 0:i.overflows)||[];if(p&&C.push(E[w]),f){let e=function(e,t,r){void 0===r&&(r=!1);let i=dX(e),n=dQ(d0(e)),a=dZ(n),s="x"===n?i===(r?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=d2(s)),[s,d2(s)]}(o,c,_);C.push(E[e[0]],E[e[1]])}if(R=[...R,{placement:o,overflows:C}],!C.every(e=>e<=0)){let e=((null==(n=l.flip)?void 0:n.index)||0)+1,t=k[e];if(t)return{data:{index:e,overflows:R},reset:{placement:t}};let r=null==(a=R.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:a.placement;if(!r)switch(g){case"bestFit":{let e=null==(s=R.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:s[0];e&&(r=e);break}case"initialPlacement":r=u}if(o!==r)return{reset:{placement:r}}}return{}}}}(e),options:[e,t]}),hk=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){let r,i;let{placement:n,rects:a,platform:s,elements:o}=t,{apply:l=()=>{},...c}=dJ(e,t),u=await d6(t,c),d=dY(n),h=dX(n),p="y"===d0(n),{width:f,height:m}=a.floating;"top"===d||"bottom"===d?(r=d,i=h===(await (null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(i=d,r="end"===h?"top":"bottom");let g=m-u.top-u.bottom,y=f-u.left-u.right,v=d$(m-u[r],g),b=d$(f-u[i],y),w=!t.middlewareData.shift,S=v,_=b;if(p?_=h||w?d$(b,y):y:S=h||w?d$(v,g):g,w&&!h){let e=dF(u.left,0),t=dF(u.right,0),r=dF(u.top,0),i=dF(u.bottom,0);p?_=f-2*(0!==e||0!==t?e+t:dF(u.left,u.right)):S=m-2*(0!==r||0!==i?r+i:dF(u.top,u.bottom))}await l({...t,availableWidth:_,availableHeight:S});let x=await s.getDimensions(o.floating);return f!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]});var hE='input:not([inert]),select:not([inert]),textarea:not([inert]),a[href]:not([inert]),button:not([inert]),[tabindex]:not(slot):not([inert]),audio[controls]:not([inert]),video[controls]:not([inert]),[contenteditable]:not([contenteditable="false"]):not([inert]),details>summary:first-of-type:not([inert]),details:not([inert])',hC="undefined"==typeof Element,hR=hC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,hA=!hC&&Element.prototype.getRootNode?function(e){var t;return null==e?void 0:null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},hT=function e(t,r){void 0===r&&(r=!0);var i,n=null==t?void 0:null===(i=t.getAttribute)||void 0===i?void 0:i.call(t,"inert");return""===n||"true"===n||r&&t&&e(t.parentNode)},hP=function(e){var t,r=null==e?void 0:null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===r||"true"===r},hO=function(e,t,r){if(hT(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(hE));return t&&hR.call(e,hE)&&i.unshift(e),i=i.filter(r)},hI=function e(t,r,i){for(var n=[],a=Array.from(t);a.length;){var s=a.shift();if(!hT(s,!1)){if("SLOT"===s.tagName){var o=s.assignedElements(),l=e(o.length?o:s.children,!0,i);i.flatten?n.push.apply(n,l):n.push({scopeParent:s,candidates:l})}else{hR.call(s,hE)&&i.filter(s)&&(r||!t.includes(s))&&n.push(s);var c=s.shadowRoot||"function"==typeof i.getShadowRoot&&i.getShadowRoot(s),u=!hT(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(s));if(c&&u){var d=e(!0===c?s.children:c.children,!0,i);i.flatten?n.push.apply(n,d):n.push({scopeParent:s,candidates:d})}else a.unshift.apply(a,s.children)}}}return n},hN=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},hj=function(e){if(!e)throw Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||hP(e))&&!hN(e)?0:e.tabIndex},hB=function(e,t){var r=hj(e);return r<0&&t&&!hN(e)?0:r},hU=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},hL=function(e){return"INPUT"===e.tagName},hM=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},hD=function(e){if(!e.name)return!0;var t,r=e.form||hA(e),i=function(e){return r.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=i(window.CSS.escape(e.name));else try{t=i(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var n=hM(t,e.form);return!n||n===e},hK=function(e){var t,r,i,n,a,s,o,l=e&&hA(e),c=null===(t=l)||void 0===t?void 0:t.host,u=!1;if(l&&l!==e)for(u=!!(null!==(r=c)&&void 0!==r&&null!==(i=r.ownerDocument)&&void 0!==i&&i.contains(c)||null!=e&&null!==(n=e.ownerDocument)&&void 0!==n&&n.contains(e));!u&&c;)u=!!(null!==(s=c=null===(a=l=hA(c))||void 0===a?void 0:a.host)&&void 0!==s&&null!==(o=s.ownerDocument)&&void 0!==o&&o.contains(c));return u},hq=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return 0===r&&0===i},h$=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var n=hR.call(e,"details>summary:first-of-type")?e.parentElement:e;if(hR.call(n,"details:not([open]) *"))return!0;if(r&&"full"!==r&&"legacy-full"!==r){if("non-zero-area"===r)return hq(e)}else{if("function"==typeof i){for(var a=e;e;){var s=e.parentElement,o=hA(e);if(s&&!s.shadowRoot&&!0===i(s))return hq(e);e=e.assignedSlot?e.assignedSlot:s||o===e.ownerDocument?s:o.host}e=a}if(hK(e))return!e.getClientRects().length;if("legacy-full"!==r)return!0}return!1},hF=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if("LEGEND"===i.tagName)return!!hR.call(t,"fieldset[disabled] *")||!i.contains(e)}return!0}t=t.parentElement}return!1},hz=function(e,t){var r,i,n;return!(hL(r=t)&&"radio"===r.type&&!hD(r)||0>hj(t))&&(i=e,!((n=t).disabled||hT(n)||hL(n)&&"hidden"===n.type||h$(n,i)||"DETAILS"===n.tagName&&Array.prototype.slice.apply(n.children).some(function(e){return"SUMMARY"===e.tagName})||hF(n)))},hV=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!isNaN(t)||t>=0},hH=function e(t){var r=[],i=[];return t.forEach(function(t,n){var a=!!t.scopeParent,s=a?t.scopeParent:t,o=hB(s,a),l=a?e(t.candidates):s;0===o?a?r.push.apply(r,l):r.push(s):i.push({documentOrder:n,tabIndex:o,item:t,isScope:a,content:l})}),i.sort(hU).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(r)},hW=function(e,t){return hH((t=t||{}).getShadowRoot?hI([e],t.includeContainer,{filter:hz.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:hV}):hO(e,t.includeContainer,hz.bind(null,t)))},hG=function(e,t){if(t=t||{},!e)throw Error("No node provided");return!1!==hR.call(e,hE)&&hz(t,e)};let hJ={...uh},hY=hJ.useInsertionEffect||(e=>e());function hX(e){let t=ud.useRef(()=>{});return hY(()=>{t.current=e}),ud.useCallback(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return null==t.current?void 0:t.current(...r)},[])}let hQ="ArrowUp",hZ="ArrowDown",h0="ArrowLeft",h1="ArrowRight";function h2(e,t,r){return Math.floor(e/t)!==r}function h3(e,t){return t<0||t>=e.current.length}function h8(e,t){return h6(e,{disabledIndices:t})}function h4(e,t){return h6(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function h6(e,t){let{startingIndex:r=-1,decrement:i=!1,disabledIndices:n,amount:a=1}=void 0===t?{}:t,s=e.current,o=r;do o+=i?-a:a;while(o>=0&&o<=s.length-1&&h5(s,o,n));return o}function h5(e,t,r){if(r)return r.includes(t);let i=e[t];return null==i||i.hasAttribute("disabled")||"true"===i.getAttribute("aria-disabled")}let h7=0;function h9(e,t){void 0===t&&(t={});let{preventScroll:r=!1,cancelPrevious:i=!0,sync:n=!1}=t;i&&cancelAnimationFrame(h7);let a=()=>null==e?void 0:e.focus({preventScroll:r});n?a():h7=requestAnimationFrame(a)}var pe="undefined"!=typeof document?ud.useLayoutEffect:ud.useEffect;function pt(e,t){let r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}let pr=ud.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function pi(e){let{children:t,elementsRef:r,labelsRef:i}=e,[n,a]=ud.useState(()=>new Map),s=ud.useCallback(e=>{a(t=>new Map(t).set(e,null))},[]),o=ud.useCallback(e=>{a(t=>{let r=new Map(t);return r.delete(e),r})},[]);return pe(()=>{let e=new Map(n);Array.from(e.keys()).sort(pt).forEach((t,r)=>{e.set(t,r)}),!function(e,t){if(e.size!==t.size)return!1;for(let[r,i]of e.entries())if(i!==t.get(r))return!1;return!0}(n,e)&&a(e)},[n]),ud.createElement(pr.Provider,{value:ud.useMemo(()=>({register:s,unregister:o,map:n,elementsRef:r,labelsRef:i}),[s,o,n,r,i])},t)}function pn(){return(pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let pa=!1,ps=0,po=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ps++,pl=hJ.useId||function(){let[e,t]=ud.useState(()=>pa?po():void 0);return pe(()=>{null==e&&t(po())},[]),ud.useEffect(()=>{pa=!0},[]),e},pc=ud.createContext(null),pu=ud.createContext(null),pd=()=>{var e;return(null==(e=ud.useContext(pc))?void 0:e.id)||null},ph=()=>ud.useContext(pu);function pp(e){return"data-floating-ui-"+e}function pf(e){let t=(0,ud.useRef)(e);return pe(()=>{t.current=e}),t}let pm=()=>{};function pg(e,t){let r=e.filter(e=>{var r;return e.parentId===t&&(null==(r=e.context)?void 0:r.open)}),i=r;for(;i.length;)i=e.filter(e=>{var t;return null==(t=i)?void 0:t.some(t=>{var r;return e.parentId===t.id&&(null==(r=e.context)?void 0:r.open)})}),r=r.concat(i);return r}let py=new WeakMap,pv=new WeakSet,pb={},pw=0,pS=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,p_=e=>e&&(e.host||p_(e.parentNode)),px=(e,t)=>t.map(t=>{if(e.contains(t))return t;let r=p_(t);return e.contains(r)?r:null}).filter(e=>null!=e);function pk(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);let i=dU(e[0]).body;return function(e,t,r,i){let n="data-floating-ui-inert",a=i?"inert":r?"aria-hidden":null,s=px(t,e),o=new Set,l=new Set(s),c=[];pb[n]||(pb[n]=new WeakMap);let u=pb[n];return s.forEach(function e(t){!(!t||o.has(t))&&(o.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||l.has(t)||[].forEach.call(t.children,t=>{if("script"!==dh(t)){if(o.has(t))e(t);else{let e=a?t.getAttribute(a):null,r=null!==e&&"false"!==e,i=(py.get(t)||0)+1,s=(u.get(t)||0)+1;py.set(t,i),u.set(t,s),c.push(t),1===i&&r&&pv.add(t),1===s&&t.setAttribute(n,""),!r&&a&&t.setAttribute(a,"true")}}})}(t),o.clear(),pw++,()=>{c.forEach(e=>{let t=(py.get(e)||0)-1,r=(u.get(e)||0)-1;py.set(e,t),u.set(e,r),t||(!pv.has(e)&&a&&e.removeAttribute(a),pv.delete(e)),r||e.removeAttribute(n)}),--pw||(py=new WeakMap,py=new WeakMap,pv=new WeakSet,pb={})}}(e.concat(Array.from(i.querySelectorAll("[aria-live]"))),i,t,r)}let pE=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function pC(e,t){let r=hW(e,pE());"prev"===t&&r.reverse();let i=r.indexOf(dR(dU(e)));return r.slice(i+1)[0]}function pR(){return pC(document.body,"next")}function pA(){return pC(document.body,"prev")}function pT(e,t){let r=t||e.currentTarget,i=e.relatedTarget;return!i||!dA(r,i)}let pP={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function pO(e){"Tab"===e.key&&(e.target,clearTimeout(c))}let pI=ud.forwardRef(function(e,t){let[r,i]=ud.useState();pe(()=>(dN()&&i("button"),document.addEventListener("keydown",pO),()=>{document.removeEventListener("keydown",pO)}),[]);let n={ref:t,tabIndex:0,role:r,"aria-hidden":!r||void 0,[pp("focus-guard")]:"",style:pP};return ud.createElement("span",pn({},e,n))}),pN=ud.createContext(null),pj=pp("portal");function pB(e){let{children:t,id:r,root:i=null,preserveTabOrder:n=!0}=e,a=function(e){void 0===e&&(e={});let{id:t,root:r}=e,i=pl(),n=pU(),[a,s]=ud.useState(null),o=ud.useRef(null);return pe(()=>()=>{null==a||a.remove(),queueMicrotask(()=>{o.current=null})},[a]),pe(()=>{if(!i||o.current)return;let e=t?document.getElementById(t):null;if(!e)return;let r=document.createElement("div");r.id=i,r.setAttribute(pj,""),e.appendChild(r),o.current=r,s(r)},[t,i]),pe(()=>{if(!i||o.current)return;let e=r||(null==n?void 0:n.portalNode);e&&!dg(e)&&(e=e.current),e=e||document.body;let a=null;t&&((a=document.createElement("div")).id=t,e.appendChild(a));let l=document.createElement("div");l.id=i,l.setAttribute(pj,""),(e=a||e).appendChild(l),o.current=l,s(l)},[t,r,i,n]),a}({id:r,root:i}),[s,o]=ud.useState(null),l=ud.useRef(null),c=ud.useRef(null),u=ud.useRef(null),d=ud.useRef(null),h=!!s&&!s.modal&&s.open&&n&&!!(i||a);return ud.useEffect(()=>{if(a&&n&&(null==s||!s.modal))return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),()=>{a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){a&&pT(e)&&("focusin"===e.type?function(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{let t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}:function(e){hW(e,pE()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})})(a)}},[a,n,null==s?void 0:s.modal]),ud.createElement(pN.Provider,{value:ud.useMemo(()=>({preserveTabOrder:n,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:u,afterInsideRef:d,portalNode:a,setFocusManagerState:o}),[n,a])},h&&a&&ud.createElement(pI,{"data-type":"outside",ref:l,onFocus:e=>{if(pT(e,a)){var t;null==(t=u.current)||t.focus()}else{let e=pA()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),h&&a&&ud.createElement("span",{"aria-owns":a.id,style:pP}),a&&(0,hm.createPortal)(t,a),h&&a&&ud.createElement(pI,{"data-type":"outside",ref:c,onFocus:e=>{if(pT(e,a)){var t;null==(t=d.current)||t.focus()}else{let t=pR()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent))}}}))}let pU=()=>ud.useContext(pN),pL=[];function pM(e){pL=pL.filter(e=>e.isConnected);let t=e;if(t&&"body"!==dh(t)){if(!hG(t,pE())){let e=hW(t,pE())[0];e&&(t=e)}pL.push(t),pL.length>20&&(pL=pL.slice(-20))}}function pD(){return pL.slice().reverse().find(e=>e.isConnected)}let pK=ud.forwardRef(function(e,t){return ud.createElement("button",pn({},e,{type:"button",ref:t,tabIndex:-1,style:pP}))});function pq(e){let{context:t,children:r,disabled:i=!1,order:n=["content"],guards:a=!0,initialFocus:s=0,returnFocus:o=!0,modal:l=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:u=!0}=e,{open:d,refs:h,nodeId:p,onOpenChange:f,events:m,dataRef:g,elements:{domReference:y,floating:v}}=t,b="number"==typeof s&&s<0,w=dq(y)&&b,S=!pS()||a,_=pf(n),x=pf(s),k=pf(o),E=ph(),C=pU(),R=ud.useRef(null),A=ud.useRef(null),T=ud.useRef(!1),P=ud.useRef(!1),O=null!=C,I=ud.useCallback(function(e){return void 0===e&&(e=v),e?hW(e,pE()):[]},[v]),N=ud.useCallback(e=>{let t=I(e);return _.current.map(e=>y&&"reference"===e?y:v&&"floating"===e?v:t).filter(Boolean).flat()},[y,v,_,I]);function j(e){return!i&&c&&l?ud.createElement(pK,{ref:"start"===e?R:A,onClick:e=>f(!1,e.nativeEvent)},"string"==typeof c?c:"Dismiss"):null}ud.useEffect(()=>{if(i||!l)return;function e(e){if("Tab"===e.key){dA(v,dR(dU(v)))&&0===I().length&&!w&&dK(e);let t=N(),r=dM(e);"reference"===_.current[0]&&r===y&&(dK(e),e.shiftKey?h9(t[t.length-1]):h9(t[1])),"floating"===_.current[1]&&r===v&&e.shiftKey&&(dK(e),h9(t[0]))}}let t=dU(v);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[i,y,v,l,_,w,I,N]),ud.useEffect(()=>{if(!i&&u&&v&&dy(y))return y.addEventListener("focusout",t),y.addEventListener("pointerdown",e),l||v.addEventListener("focusout",t),()=>{y.removeEventListener("focusout",t),y.removeEventListener("pointerdown",e),l||v.removeEventListener("focusout",t)};function e(){P.current=!0,setTimeout(()=>{P.current=!1})}function t(e){let t=e.relatedTarget;queueMicrotask(()=>{let r=!(dA(y,t)||dA(v,t)||dA(t,v)||dA(null==C?void 0:C.portalNode,t)||null!=t&&t.hasAttribute(pp("focus-guard"))||E&&(pg(E.nodesRef.current,p).find(e=>{var r,i;return dA(null==(r=e.context)?void 0:r.elements.floating,t)||dA(null==(i=e.context)?void 0:i.elements.domReference,t)})||(function(e,t){var r;let i=[],n=null==(r=e.find(e=>e.id===t))?void 0:r.parentId;for(;n;){let t=e.find(e=>e.id===n);n=null==t?void 0:t.parentId,t&&(i=i.concat(t))}return i})(E.nodesRef.current,p).find(e=>{var r,i;return(null==(r=e.context)?void 0:r.elements.floating)===t||(null==(i=e.context)?void 0:i.elements.domReference)===t})));t&&r&&!P.current&&t!==pD()&&(T.current=!0,f(!1,e))})}},[i,y,v,l,p,E,C,f,u]),ud.useEffect(()=>{var e;if(i)return;let t=Array.from((null==C||null==(e=C.portalNode)?void 0:e.querySelectorAll("["+pp("portal")+"]"))||[]);if(v){let e=[v,...t,R.current,A.current,_.current.includes("reference")||w?y:null].filter(e=>null!=e),r=l||w?pk(e,S,!S):pk(e);return()=>{r()}}},[i,y,v,l,_,C,w,S]),pe(()=>{if(i||!v)return;let e=dR(dU(v));queueMicrotask(()=>{let t=N(v),r=x.current,i=("number"==typeof r?t[r]:r.current)||v,n=dA(v,e);b||n||!d||h9(i,{preventScroll:i===v})})},[i,d,v,b,N,x]),pe(()=>{if(i||!v)return;let e=!1,t=dU(v),r=dR(t),n=g.current.openEvent;function a(t){let{open:r,reason:i,event:a,nested:s}=t;r&&(n=a),"escape-key"===i&&h.domReference.current&&pM(h.domReference.current),"hover"===i&&"mouseleave"===a.type&&(T.current=!0),"outside-press"===i&&(s?(T.current=!1,e=!0):T.current=!(dO(a)||dI(a)))}return pM(r),m.on("openchange",a),()=>{m.off("openchange",a);let r=dR(t),i=dA(v,r)||E&&pg(E.nodesRef.current,p).some(e=>{var t;return dA(null==(t=e.context)?void 0:t.elements.floating,r)});(i||n&&["click","mousedown"].includes(n.type))&&h.domReference.current&&pM(h.domReference.current);let s=pD();k.current&&!T.current&&dy(s)&&(s===r||r===t.body||i)&&h9(s,{cancelPrevious:!1,preventScroll:e})}},[i,v,k,g,h,m,E,p]),pe(()=>{if(!i&&C)return C.setFocusManagerState({modal:l,closeOnFocusOut:u,open:d,onOpenChange:f,refs:h}),()=>{C.setFocusManagerState(null)}},[i,C,l,d,f,h,u]),pe(()=>{if(i||!v||"function"!=typeof MutationObserver||b)return;let e=()=>{let e=v.getAttribute("tabindex");_.current.includes("floating")||dR(dU(v))!==h.domReference.current&&0===I().length?"0"!==e&&v.setAttribute("tabindex","0"):"-1"!==e&&v.setAttribute("tabindex","-1")};e();let t=new MutationObserver(e);return t.observe(v,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[i,v,h,_,I,b]);let B=!i&&S&&(O||l);return ud.createElement(ud.Fragment,null,B&&ud.createElement(pI,{"data-type":"inside",ref:null==C?void 0:C.beforeInsideRef,onFocus:e=>{if(l){let e=N();h9("reference"===n[0]?e[0]:e[e.length-1])}else if(null!=C&&C.preserveTabOrder&&C.portalNode){if(T.current=!1,pT(e,C.portalNode)){let e=pR()||y;null==e||e.focus()}else{var t;null==(t=C.beforeOutsideRef.current)||t.focus()}}}}),!w&&j("start"),r,j("end"),B&&ud.createElement(pI,{"data-type":"inside",ref:null==C?void 0:C.afterInsideRef,onFocus:e=>{if(l)h9(N()[0]);else if(null!=C&&C.preserveTabOrder&&C.portalNode){if(u&&(T.current=!0),pT(e,C.portalNode)){let e=pA()||y;null==e||e.focus()}else{var t;null==(t=C.afterOutsideRef.current)||t.focus()}}}}))}let p$=new Set,pF=ud.forwardRef(function(e,t){let{lockScroll:r=!1,...i}=e,n=pl();return pe(()=>{if(!r)return;p$.add(n);let e=/iP(hone|ad|od)|iOS/.test(dT()),t=document.body.style,i=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",a=window.innerWidth-document.documentElement.clientWidth,s=t.left?parseFloat(t.left):window.pageXOffset,o=t.top?parseFloat(t.top):window.pageYOffset;if(t.overflow="hidden",a&&(t[i]=a+"px"),e){var l,c;let e=(null==(l=window.visualViewport)?void 0:l.offsetLeft)||0;Object.assign(t,{position:"fixed",top:-(o-Math.floor((null==(c=window.visualViewport)?void 0:c.offsetTop)||0))+"px",left:-(s-Math.floor(e))+"px",right:"0"})}return()=>{p$.delete(n),0===p$.size&&(Object.assign(t,{overflow:"",[i]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o)))}},[n,r]),ud.createElement("div",pn({ref:t},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))});function pz(e){return dy(e.target)&&"BUTTON"===e.target.tagName}let pV={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},pH={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},pW=e=>{var t,r;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(r=null==e?void 0:e.outsidePress)||r}};function pG(e){void 0===e&&(e={});let{nodeId:t}=e,r=function(e){let{open:t=!1,onOpenChange:r,elements:i}=e,n=pl(),a=ud.useRef({}),[s]=ud.useState(()=>(function(){let e=new Map;return{emit(t,r){var i;null==(i=e.get(t))||i.forEach(e=>e(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var i;e.set(t,(null==(i=e.get(t))?void 0:i.filter(e=>e!==r))||[])}}})()),o=null!=pd(),[l,c]=ud.useState(i.reference),u=hX((e,t,i)=>{a.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:i,nested:o}),null==r||r(e,t,i)}),d=ud.useMemo(()=>({setPositionReference:c}),[]),h=ud.useMemo(()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference}),[l,i.reference,i.floating]);return ud.useMemo(()=>({dataRef:a,open:t,onOpenChange:u,elements:h,events:s,floatingId:n,refs:d}),[t,u,h,s,n,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||r,n=i.elements,[a,s]=ud.useState(null),[o,l]=ud.useState(null),c=(null==n?void 0:n.reference)||a,u=ud.useRef(null),d=ph();pe(()=>{c&&(u.current=c)},[c]);let h=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:n,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,d]=ud.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=ud.useState(i);hy(h,i)||p(i);let[f,m]=ud.useState(null),[g,y]=ud.useState(null),v=ud.useCallback(e=>{e!==_.current&&(_.current=e,m(e))},[]),b=ud.useCallback(e=>{e!==x.current&&(x.current=e,y(e))},[]),w=a||f,S=s||g,_=ud.useRef(null),x=ud.useRef(null),k=ud.useRef(u),E=null!=l,C=hw(l),R=hw(n),A=ud.useCallback(()=>{if(!_.current||!x.current)return;let e={placement:t,strategy:r,middleware:h};R.current&&(e.platform=R.current),hf(_.current,x.current,e).then(e=>{let t={...e,isPositioned:!0};T.current&&!hy(k.current,t)&&(k.current=t,hm.flushSync(()=>{d(t)}))})},[h,t,r,R]);hg(()=>{!1===c&&k.current.isPositioned&&(k.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[c]);let T=ud.useRef(!1);hg(()=>(T.current=!0,()=>{T.current=!1}),[]),hg(()=>{if(w&&(_.current=w),S&&(x.current=S),w&&S){if(C.current)return C.current(w,S,A);A()}},[w,S,A,C,E]);let P=ud.useMemo(()=>({reference:_,floating:x,setReference:v,setFloating:b}),[v,b]),O=ud.useMemo(()=>({reference:w,floating:S}),[w,S]),I=ud.useMemo(()=>{let e={position:r,left:0,top:0};if(!O.floating)return e;let t=hb(O.floating,u.x),i=hb(O.floating,u.y);return o?{...e,transform:"translate("+t+"px, "+i+"px)",...hv(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:i}},[r,o,O.floating,u.x,u.y]);return ud.useMemo(()=>({...u,update:A,refs:P,elements:O,floatingStyles:I}),[u,A,P,O,I])}({...e,elements:{...n,...o&&{reference:o}}}),p=ud.useCallback(e=>{let t=dg(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),h.refs.setReference(t)},[h.refs]),f=ud.useCallback(e=>{(dg(e)||null===e)&&(u.current=e,s(e)),(dg(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!dg(e))&&h.refs.setReference(e)},[h.refs]),m=ud.useMemo(()=>({...h.refs,setReference:f,setPositionReference:p,domReference:u}),[h.refs,f,p]),g=ud.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),y=ud.useMemo(()=>({...h,...i,refs:m,elements:g,nodeId:t}),[h,m,g,t,i]);return pe(()=>{i.dataRef.current.floatingContext=y;let e=null==d?void 0:d.nodesRef.current.find(e=>e.id===t);e&&(e.context=y)}),ud.useMemo(()=>({...h,context:y,refs:m,elements:g}),[h,m,g,y])}let pJ="active",pY="selected";function pX(e,t,r){let i=new Map,n="item"===r,a=e;if(n&&e){let{[pJ]:t,[pY]:r,...i}=e;a=i}return{..."floating"===r&&{tabIndex:-1},...a,...t.map(t=>{let i=t?t[r]:null;return"function"==typeof i?e?i(e):null:i}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[r,a]=t;if(!(n&&[pJ,pY].includes(r))){if(0===r.indexOf("on")){if(i.has(r)||i.set(r,[]),"function"==typeof a){var s;null==(s=i.get(r))||s.push(a),e[r]=function(){for(var e,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return null==(e=i.get(r))?void 0:e.map(e=>e(...n)).find(e=>void 0!==e)}}}else e[r]=a}}),e),{})}}let pQ=!1;function pZ(e,t,r){switch(e){case"vertical":return t;case"horizontal":return r;default:return t||r}}function p0(e,t){return pZ(t,e===hQ||e===hZ,e===h0||e===h1)}function p1(e,t,r){return pZ(t,e===hZ,r?e===h0:e===h1)||"Enter"===e||" "===e||""===e}function p2(e,t,r){return pZ(t,r?e===h1:e===h0,e===hQ)}let p3=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function p8(e){return e+.5|0}let p4=(e,t,r)=>Math.max(Math.min(e,r),t);function p6(e){return p4(p8(2.55*e),0,255)}function p5(e){return p4(p8(255*e),0,255)}function p7(e){return p4(p8(e/2.55)/100,0,1)}function p9(e){return p4(p8(100*e),0,100)}let fe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ft=[..."0123456789ABCDEF"],fr=e=>ft[15&e],fi=e=>ft[(240&e)>>4]+ft[15&e],fn=e=>(240&e)>>4==(15&e),fa=e=>fn(e.r)&&fn(e.g)&&fn(e.b)&&fn(e.a),fs=(e,t)=>e<255?t(e):"",fo=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fl(e,t,r){let i=t*Math.min(r,1-r),n=(t,n=(t+e/30)%12)=>r-i*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function fc(e,t,r){let i=(i,n=(i+e/60)%6)=>r-r*t*Math.max(Math.min(n,4-n,1),0);return[i(5),i(3),i(1)]}function fu(e,t,r){let i;let n=fl(e,1,.5);for(t+r>1&&(i=1/(t+r),t*=i,r*=i),i=0;i<3;i++)n[i]*=1-t-r,n[i]+=t;return n}function fd(e){let t,r,i;let n=e.r/255,a=e.g/255,s=e.b/255,o=Math.max(n,a,s),l=Math.min(n,a,s),c=(o+l)/2;return o!==l&&(i=o-l,r=c>.5?i/(2-o-l):i/(o+l),t=60*(t=n===o?(a-s)/i+(a<s?6:0):a===o?(s-n)/i+2:(n-a)/i+4)+.5),[0|t,r||0,c]}function fh(e,t,r,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,i)).map(p5)}function fp(e){return(e%360+360)%360}let ff={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},fg=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,fy=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,fv=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function fb(e,t,r){if(e){let i=fd(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*r,0===t?360:1)),i=fh(fl,i,void 0,void 0),e.r=i[0],e.g=i[1],e.b=i[2]}}function fw(e,t){return e?Object.assign(t||{},e):e}function fS(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=p5(e[3]))):(t=fw(e,{r:0,g:0,b:0,a:1})).a=p5(t.a),t}class f_{constructor(e){let t;if(e instanceof f_)return e;let r=typeof e;"object"===r?t=fS(e):"string"===r&&(t=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*fe[e[1]],g:255&17*fe[e[2]],b:255&17*fe[e[3]],a:5===r?17*fe[e[4]]:255}:(7===r||9===r)&&(t={r:fe[e[1]]<<4|fe[e[2]],g:fe[e[3]]<<4|fe[e[4]],b:fe[e[5]]<<4|fe[e[6]],a:9===r?fe[e[7]]<<4|fe[e[8]]:255})),t}(e)||function(e){u||((u=function(){let e,t,r,i,n;let a={},s=Object.keys(fm),o=Object.keys(ff);for(e=0;e<s.length;e++){for(t=0,i=n=s[e];t<o.length;t++)r=o[t],n=n.replace(r,ff[r]);r=parseInt(fm[i],16),a[n]=[r>>16&255,r>>8&255,255&r]}return a}()).transparent=[0,0,0,0]);let t=u[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||function(e){return"r"===e.charAt(0)?function(e){let t,r,i;let n=fg.exec(e),a=255;if(n){if(n[7]!==t){let e=+n[7];a=n[8]?p6(e):p4(255*e,0,255)}return t=+n[1],r=+n[3],i=+n[5],{r:t=255&(n[2]?p6(t):p4(t,0,255)),g:r=255&(n[4]?p6(r):p4(r,0,255)),b:i=255&(n[6]?p6(i):p4(i,0,255)),a:a}}}(e):function(e){let t;let r=fo.exec(e),i=255;if(!r)return;r[5]!==t&&(i=r[6]?p6(+r[5]):p5(+r[5]));let n=fp(+r[2]),a=+r[3]/100,s=+r[4]/100;return{r:(t="hwb"===r[1]?fh(fu,n,a,s):"hsv"===r[1]?fh(fc,n,a,s):fh(fl,n,a,s))[0],g:t[1],b:t[2],a:i}}(e)}(e)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var e=fw(this._rgb);return e&&(e.a=p7(e.a)),e}set rgb(e){this._rgb=fS(e)}rgbString(){var e;return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${p7(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0}hexString(){var e,t;return this._valid?(t=fa(e=this._rgb)?fr:fi,e?"#"+t(e.r)+t(e.g)+t(e.b)+fs(e.a,t):void 0):void 0}hslString(){return this._valid?function(e){if(!e)return;let t=fd(e),r=t[0],i=p9(t[1]),n=p9(t[2]);return e.a<255?`hsla(${r}, ${i}%, ${n}%, ${p7(e.a)})`:`hsl(${r}, ${i}%, ${n}%)`}(this._rgb):void 0}mix(e,t){if(e){let r;let i=this.rgb,n=e.rgb,a=t===r?.5:t,s=2*a-1,o=i.a-n.a,l=((s*o==-1?s:(s+o)/(1+s*o))+1)/2;r=1-l,i.r=255&l*i.r+r*n.r+.5,i.g=255&l*i.g+r*n.g+.5,i.b=255&l*i.b+r*n.b+.5,i.a=a*i.a+(1-a)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){let i=fv(p7(e.r)),n=fv(p7(e.g)),a=fv(p7(e.b));return{r:p5(fy(i+r*(fv(p7(t.r))-i))),g:p5(fy(n+r*(fv(p7(t.g))-n))),b:p5(fy(a+r*(fv(p7(t.b))-a))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new f_(this.rgb)}alpha(e){return this._rgb.a=p5(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=p8(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fb(this._rgb,2,e),this}darken(e){return fb(this._rgb,2,-e),this}saturate(e){return fb(this._rgb,1,e),this}desaturate(e){return fb(this._rgb,1,-e),this}rotate(e){var t,r;return(r=fd(t=this._rgb))[0]=fp(r[0]+e),r=fh(fl,r,void 0,void 0),t.r=r[0],t.g=r[1],t.b=r[2],this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function fx(){}let fk=(()=>{let e=0;return()=>e++})();function fE(e){return null==e}function fC(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function fR(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function fA(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function fT(e,t){return fA(e)?e:t}function fP(e,t){return void 0===e?t:e}let fO=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,fI=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function fN(e,t,r){if(e&&"function"==typeof e.call)return e.apply(r,t)}function fj(e,t,r,i){let n,a,s;if(fC(e)){if(a=e.length,i)for(n=a-1;n>=0;n--)t.call(r,e[n],n);else for(n=0;n<a;n++)t.call(r,e[n],n)}else if(fR(e))for(n=0,a=(s=Object.keys(e)).length;n<a;n++)t.call(r,e[s[n]],s[n])}function fB(e,t){let r,i,n,a;if(!e||!t||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;++r)if(n=e[r],a=t[r],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function fU(e){if(fC(e))return e.map(fU);if(fR(e)){let t=Object.create(null),r=Object.keys(e),i=r.length,n=0;for(;n<i;++n)t[r[n]]=fU(e[r[n]]);return t}return e}function fL(e){return -1===["__proto__","prototype","constructor"].indexOf(e)}function fM(e,t,r,i){if(!fL(e))return;let n=t[e],a=r[e];fR(n)&&fR(a)?fD(n,a,i):t[e]=fU(a)}function fD(e,t,r){let i;let n=fC(t)?t:[t],a=n.length;if(!fR(e))return e;let s=(r=r||{}).merger||fM;for(let t=0;t<a;++t){if(!fR(i=n[t]))continue;let a=Object.keys(i);for(let t=0,n=a.length;t<n;++t)s(a[t],e,i,r)}return e}function fK(e,t){return fD(e,t,{merger:fq})}function fq(e,t,r){if(!fL(e))return;let i=t[e],n=r[e];fR(i)&&fR(n)?fK(i,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fU(n))}let f$={"":e=>e,x:e=>e.x,y:e=>e.y};function fF(e,t){return(f$[t]||(f$[t]=function(e){let t=function(e){let t=e.split("."),r=[],i="";for(let e of t)(i+=e).endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}(e);return e=>{for(let r of t){if(""===r)break;e=e&&e[r]}return e}}(t)))(e)}function fz(e){return e.charAt(0).toUpperCase()+e.slice(1)}let fV=e=>void 0!==e,fH=e=>"function"==typeof e,fW=(e,t)=>{if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0},fG=Math.PI,fJ=2*fG,fY=fJ+fG,fX=Number.POSITIVE_INFINITY,fQ=fG/180,fZ=fG/2,f0=fG/4,f1=2*fG/3,f2=Math.log10,f3=Math.sign;function f8(e,t,r){return Math.abs(e-t)<r}function f4(e){let t=Math.round(e),r=Math.pow(10,Math.floor(f2(e=f8(e,t,e/1e3)?t:e))),i=e/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function f6(e){return!isNaN(parseFloat(e))&&isFinite(e)}function f5(e,t,r){let i,n,a;for(i=0,n=e.length;i<n;i++)isNaN(a=e[i][r])||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function f7(e){return fG/180*e}function f9(e){if(!fA(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function me(e,t){let r=t.x-e.x,i=t.y-e.y,n=Math.atan2(i,r);return n<-.5*fG&&(n+=fJ),{angle:n,distance:Math.sqrt(r*r+i*i)}}function mt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function mr(e,t){return(e-t+fY)%fJ-fG}function mi(e){return(e%fJ+fJ)%fJ}function mn(e,t,r,i){let n=mi(e),a=mi(t),s=mi(r),o=mi(a-n),l=mi(s-n),c=mi(n-a),u=mi(n-s);return n===a||n===s||i&&a===s||o>l&&c<u}function ma(e,t,r){return Math.max(t,Math.min(r,e))}function ms(e,t,r,i=1e-6){return e>=Math.min(t,r)-i&&e<=Math.max(t,r)+i}function mo(e,t,r){let i;r=r||(r=>e[r]<t);let n=e.length-1,a=0;for(;n-a>1;)r(i=a+n>>1)?a=i:n=i;return{lo:a,hi:n}}let ml=(e,t,r,i)=>mo(e,r,i?i=>{let n=e[i][t];return n<r||n===r&&e[i+1][t]===r}:i=>e[i][t]<r),mc=(e,t,r)=>mo(e,r,i=>e[i][t]>=r),mu=["push","pop","shift","splice","unshift"];function md(e,t){let r=e._chartjs;if(!r)return;let i=r.listeners,n=i.indexOf(t);-1!==n&&i.splice(n,1),i.length>0||(mu.forEach(t=>{delete e[t]}),delete e._chartjs)}function mh(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}let mp="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function mf(e,t){let r=[],i=!1;return function(...n){r=n,i||(i=!0,mp.call(window,()=>{i=!1,e.apply(t,r)}))}}let mm=e=>"start"===e?"left":"end"===e?"right":"center",mg=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2;function my(e,t,r){let i=t.length,n=0,a=i;if(e._sorted){let{iScale:s,_parsed:o}=e,l=s.axis,{min:c,max:u,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(n=ma(Math.min(ml(o,l,c).lo,r?i:ml(t,l,s.getPixelForValue(c)).lo),0,i-1)),a=h?ma(Math.max(ml(o,s.axis,u,!0).hi+1,r?0:ml(t,l,s.getPixelForValue(u),!0).hi+1),n,i)-n:i-n}return{start:n,count:a}}function mv(e){let{xScale:t,yScale:r,_scaleRanges:i}=e,n={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!i)return e._scaleRanges=n,!0;let a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,n),a}let mb=e=>0===e||1===e,mw=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*fJ/r)),mS=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*fJ/r)+1,m_={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*fZ)+1,easeOutSine:e=>Math.sin(e*fZ),easeInOutSine:e=>-.5*(Math.cos(fG*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>mb(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(-Math.pow(2,-10*(2*e-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>mb(e)?e:mw(e,.075,.3),easeOutElastic:e=>mb(e)?e:mS(e,.075,.3),easeInOutElastic:e=>mb(e)?e:e<.5?.5*mw(2*e,.1125,.45):.5+.5*mS(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*(((t*=1.525)+1)*e-t)*.5:.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-m_.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?.5*m_.easeInBounce(2*e):.5*m_.easeOutBounce(2*e-1)+.5};function mx(e){if(e&&"object"==typeof e){let t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function mk(e){return mx(e)?e:new f_(e)}function mE(e){return mx(e)?e:new f_(e).saturate(.5).darken(.1).hexString()}let mC=["x","y","borderWidth","radius","tension"],mR=["color","borderColor","backgroundColor"],mA=new Map;function mT(e,t,r){return(function(e,t){let r=e+JSON.stringify(t=t||{}),i=mA.get(r);return i||(i=new Intl.NumberFormat(e,t),mA.set(r,i)),i})(t,r).format(e)}let mP={values:e=>fC(e)?e:""+e,numeric(e,t,r){let i;if(0===e)return"0";let n=this.chart.options.locale,a=e;if(r.length>1){let t;let n=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(n<1e-4||n>1e15)&&(i="scientific"),Math.abs(t=r.length>3?r[2].value-r[1].value:r[1].value-r[0].value)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),a=t}let s=f2(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),mT(e,n,l)},logarithmic(e,t,r){return 0===e?"0":[1,2,3,5,10,15].includes(r[t].significand||e/Math.pow(10,Math.floor(f2(e))))||t>.8*r.length?mP.numeric.call(this,e,t,r):""}};var mO={formatters:mP};let mI=Object.create(null),mN=Object.create(null);function mj(e,t){if(!t)return e;let r=t.split(".");for(let t=0,i=r.length;t<i;++t){let i=r[t];e=e[i]||(e[i]=Object.create(null))}return e}function mB(e,t,r){return"string"==typeof t?fD(mj(e,t),r):fD(mj(e,""),t)}class mU{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>mE(t.backgroundColor),this.hoverBorderColor=(e,t)=>mE(t.borderColor),this.hoverColor=(e,t)=>mE(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return mB(this,e,t)}get(e){return mj(this,e)}describe(e,t){return mB(mN,e,t)}override(e,t){return mB(mI,e,t)}route(e,t,r,i){let n=mj(this,e),a=mj(this,r),s="_"+t;Object.defineProperties(n,{[s]:{value:n[t],writable:!0},[t]:{enumerable:!0,get(){let e=this[s],t=a[i];return fR(e)?Object.assign({},t,e):fP(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach(e=>e(this))}}var mL=new mU({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:mR},numbers:{type:"number",properties:mC}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function mM(e,t,r,i,n){let a=t[n];return a||(a=t[n]=e.measureText(n).width,r.push(n)),a>i&&(i=a),i}function mD(e,t,r){let i=e.currentDevicePixelRatio,n=0!==r?Math.max(r/2,.5):0;return Math.round((t-n)*i)/i+n}function mK(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function mq(e,t,r,i){(function(e,t,r,i,n){let a,s,o,l,c,u,d,h;let p=t.pointStyle,f=t.rotation,m=t.radius,g=(f||0)*fQ;if(p&&"object"==typeof p&&("[object HTMLImageElement]"===(a=p.toString())||"[object HTMLCanvasElement]"===a)){e.save(),e.translate(r,i),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!isNaN(m)&&!(m<=0)){switch(e.beginPath(),p){default:n?e.ellipse(r,i,n/2,m,0,0,fJ):e.arc(r,i,m,0,fJ),e.closePath();break;case"triangle":u=n?n/2:m,e.moveTo(r+Math.sin(g)*u,i-Math.cos(g)*m),g+=f1,e.lineTo(r+Math.sin(g)*u,i-Math.cos(g)*m),g+=f1,e.lineTo(r+Math.sin(g)*u,i-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,s=Math.cos(g+f0)*(l=m-c),d=Math.cos(g+f0)*(n?n/2-c:l),o=Math.sin(g+f0)*l,h=Math.sin(g+f0)*(n?n/2-c:l),e.arc(r-d,i-o,c,g-fG,g-fZ),e.arc(r+h,i-s,c,g-fZ,g),e.arc(r+d,i+o,c,g,g+fZ),e.arc(r-h,i+s,c,g+fZ,g+fG),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=n?n/2:l,e.rect(r-u,i-l,2*u,2*l);break}g+=f0;case"rectRot":d=Math.cos(g)*(n?n/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(n?n/2:m),e.moveTo(r-d,i-o),e.lineTo(r+h,i-s),e.lineTo(r+d,i+o),e.lineTo(r-h,i+s),e.closePath();break;case"crossRot":g+=f0;case"cross":d=Math.cos(g)*(n?n/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(n?n/2:m),e.moveTo(r-d,i-o),e.lineTo(r+d,i+o),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s);break;case"star":d=Math.cos(g)*(n?n/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(n?n/2:m),e.moveTo(r-d,i-o),e.lineTo(r+d,i+o),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s),g+=f0,d=Math.cos(g)*(n?n/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(n?n/2:m),e.moveTo(r-d,i-o),e.lineTo(r+d,i+o),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s);break;case"line":s=n?n/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(r-s,i-o),e.lineTo(r+s,i+o);break;case"dash":e.moveTo(r,i),e.lineTo(r+Math.cos(g)*(n?n/2:m),i+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}})(e,t,r,i,null)}function m$(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function mF(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function mz(e){e.restore()}function mV(e,t,r,i,n){if(!t)return e.lineTo(r.x,r.y);if("middle"===n){let i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else"after"===n!=!!i?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function mH(e,t,r,i){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function mW(e,t,r,i,n,a={}){let s,o;let l=fC(t)?t:[t],c=a.strokeWidth>0&&""!==a.strokeColor;for(e.save(),e.font=n.string,a.translation&&e.translate(a.translation[0],a.translation[1]),fE(a.rotation)||e.rotate(a.rotation),a.color&&(e.fillStyle=a.color),a.textAlign&&(e.textAlign=a.textAlign),a.textBaseline&&(e.textBaseline=a.textBaseline),s=0;s<l.length;++s)o=l[s],a.backdrop&&function(e,t){let r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),fE(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(o,r,i,a.maxWidth)),e.fillText(o,r,i,a.maxWidth),function(e,t,r,i,n){if(n.strikethrough||n.underline){let a=e.measureText(i),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,c=r+a.actualBoundingBoxDescent,u=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(s,u),e.lineTo(o,u),e.stroke()}}(e,r,i,o,a),i+=Number(n.lineHeight);e.restore()}function mG(e,t){let{x:r,y:i,w:n,h:a,radius:s}=t;e.arc(r+s.topLeft,i+s.topLeft,s.topLeft,1.5*fG,fG,!0),e.lineTo(r,i+a-s.bottomLeft),e.arc(r+s.bottomLeft,i+a-s.bottomLeft,s.bottomLeft,fG,fZ,!0),e.lineTo(r+n-s.bottomRight,i+a),e.arc(r+n-s.bottomRight,i+a-s.bottomRight,s.bottomRight,fZ,0,!0),e.lineTo(r+n,i+s.topRight),e.arc(r+n-s.topRight,i+s.topRight,s.topRight,0,-fZ,!0),e.lineTo(r+s.topLeft,i)}let mJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,mX=e=>+e||0;function mQ(e,t){let r={},i=fR(t),n=i?Object.keys(t):t,a=fR(e)?i?r=>fP(e[r],e[t[r]]):t=>e[t]:()=>e;for(let e of n)r[e]=mX(a(e));return r}function mZ(e){return mQ(e,{top:"y",right:"x",bottom:"y",left:"x"})}function m0(e){return mQ(e,["topLeft","topRight","bottomLeft","bottomRight"])}function m1(e){let t=mZ(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function m2(e,t){e=e||{},t=t||mL.font;let r=fP(e.size,t.size);"string"==typeof r&&(r=parseInt(r,10));let i=fP(e.style,t.style);i&&!(""+i).match(mY)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let n={family:fP(e.family,t.family),lineHeight:function(e,t){let r=(""+e).match(mJ);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}(fP(e.lineHeight,t.lineHeight),r),size:r,style:i,weight:fP(e.weight,t.weight),string:""};return n.string=!n||fE(n.size)||fE(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family,n}function m3(e,t,r,i){let n,a,s,o=!0;for(n=0,a=e.length;n<a;++n)if(void 0!==(s=e[n])&&(void 0!==t&&"function"==typeof s&&(s=s(t),o=!1),void 0!==r&&fC(s)&&(s=s[r%s.length],o=!1),void 0!==s))return i&&!o&&(i.cacheable=!1),s}function m8(e,t){return Object.assign(Object.create(e),t)}function m4(e,t=[""],r,i,n=()=>e[0]){let a=r||e;void 0===i&&(i=gn("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:n,override:r=>m4([r,...e],t,a,i)};return new Proxy(s,{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,i)=>ge(r,i,()=>(function(e,t,r,i){let n;for(let a of t)if(void 0!==(n=gn(m7(a,e),r)))return m9(e,n)?gr(r,i,e,n):n})(i,t,e,r)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>ga(e).includes(t),ownKeys:e=>ga(e),set(e,t,r){let i=e._storage||(e._storage=n());return e[t]=i[t]=r,delete e._keys,!0}})}function m6(e,t,r,i){let n={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:m5(e,i),setContext:t=>m6(e,t,r,i),override:n=>m6(e.override(n),t,r,i)};return new Proxy(n,{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>ge(e,t,()=>(function(e,t,r){let{_proxy:i,_context:n,_subProxy:a,_descriptors:s}=e,o=i[t];return fH(o)&&s.isScriptable(t)&&(o=function(e,t,r,i){let{_proxy:n,_context:a,_subProxy:s,_stack:o}=r;if(o.has(e))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,s||i);return o.delete(e),m9(e,l)&&(l=gr(n._scopes,n,e,l)),l}(t,o,e,r)),fC(o)&&o.length&&(o=function(e,t,r,i){let{_proxy:n,_context:a,_subProxy:s,_descriptors:o}=r;if(void 0!==a.index&&i(e))return t[a.index%t.length];if(fR(t[0])){let r=t,i=n._scopes.filter(e=>e!==r);for(let l of(t=[],r)){let r=gr(i,n,e,l);t.push(m6(r,a,s&&s[e],o))}}return t}(t,o,e,s.isIndexable)),m9(t,o)&&(o=m6(o,n,a&&a[t],s)),o})(e,t,r)),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,i)=>(e[r]=i,delete t[r],!0)})}function m5(e,t={scriptable:!0,indexable:!0}){let{_scriptable:r=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:r,indexable:i,isScriptable:fH(r)?r:()=>r,isIndexable:fH(i)?i:()=>i}}let m7=(e,t)=>e?e+fz(t):t,m9=(e,t)=>fR(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function ge(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];let i=r();return e[t]=i,i}let gt=(e,t)=>!0===e?t:"string"==typeof e?fF(t,e):void 0;function gr(e,t,r,i){var n;let a=t._rootScopes,s=fH(n=t._fallback)?n(r,i):n,o=[...e,...a],l=new Set;l.add(i);let c=gi(l,o,r,s||r,i);return null!==c&&(void 0===s||s===r||null!==(c=gi(l,o,s,c,i)))&&m4(Array.from(l),[""],a,s,()=>(function(e,t,r){let i=e._getTarget();t in i||(i[t]={});let n=i[t];return fC(n)&&fR(r)?r:n||{}})(t,r,i))}function gi(e,t,r,i,n){for(;r;)r=function(e,t,r,i,n){for(let s of t){let t=gt(r,s);if(t){var a;e.add(t);let s=fH(a=t._fallback)?a(r,n):a;if(void 0!==s&&s!==r&&s!==i)return s}else if(!1===t&&void 0!==i&&r!==i)return null}return!1}(e,t,r,i,n);return r}function gn(e,t){for(let r of t){if(!r)continue;let t=r[e];if(void 0!==t)return t}}function ga(e){let t=e._keys;return t||(t=e._keys=function(e){let t=new Set;for(let r of e)for(let e of Object.keys(r).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function gs(e,t,r,i){let n,a,s;let{iScale:o}=e,{key:l="r"}=this._parsing,c=Array(i);for(n=0;n<i;++n)s=t[a=n+r],c[n]={r:o.parse(fF(s,l),a)};return c}let go=Number.EPSILON||1e-14,gl=(e,t)=>t<e.length&&!e[t].skip&&e[t],gc=e=>"x"===e?"y":"x";function gu(e,t,r){return Math.max(Math.min(e,r),t)}function gd(){return"undefined"!=typeof window&&"undefined"!=typeof document}function gh(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function gp(e,t,r){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[r])):i=e,i}let gf=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),gm=["top","right","bottom","left"];function gg(e,t,r){let i={};r=r?"-"+r:"";for(let n=0;n<4;n++){let a=gm[n];i[a]=parseFloat(e[t+"-"+a+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}let gy=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function gv(e,t){if("native"in e)return e;let{canvas:r,currentDevicePixelRatio:i}=t,n=gf(r),a="border-box"===n.boxSizing,s=gg(n,"padding"),o=gg(n,"border","width"),{x:l,y:c,box:u}=function(e,t){let r,i;let n=e.touches,a=n&&n.length?n[0]:e,{offsetX:s,offsetY:o}=a,l=!1;if(gy(s,o,e.target))r=s,i=o;else{let e=t.getBoundingClientRect();r=a.clientX-e.left,i=a.clientY-e.top,l=!0}return{x:r,y:i,box:l}}(e,r),d=s.left+(u&&o.left),h=s.top+(u&&o.top),{width:p,height:f}=t;return a&&(p-=s.width+o.width,f-=s.height+o.height),{x:Math.round((l-d)/p*r.width/i),y:Math.round((c-h)/f*r.height/i)}}let gb=e=>Math.round(10*e)/10;function gw(e,t,r){let i=t||1,n=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||s.height!==n||s.width!==a)&&(e.currentDevicePixelRatio=i,s.height=n,s.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0)}let gS=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};gd()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function g_(e,t){let r=gf(e).getPropertyValue(t),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function gx(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function gk(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:"middle"===i?r<.5?e.y:t.y:"after"===i?r<1?e.y:t.y:r>0?t.y:e.y}}function gE(e,t,r,i){let n={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=gx(e,n,r),o=gx(n,a,r),l=gx(a,t,r),c=gx(s,o,r),u=gx(o,l,r);return gx(c,u,r)}function gC(e,t,r){var i;return e?(i=r,{x:e=>t+t+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function gR(e){return"angle"===e?{between:mn,compare:mr,normalize:mi}:{between:ms,compare:(e,t)=>e-t,normalize:e=>e}}function gA({start:e,end:t,count:r,loop:i,style:n}){return{start:e%r,end:t%r,loop:i&&(t-e+1)%r==0,style:n}}function gT(e,t,r){let i,n,a;if(!r)return[e];let{property:s,start:o,end:l}=r,c=t.length,{compare:u,between:d,normalize:h}=gR(s),{start:p,end:f,loop:m,style:g}=function(e,t,r){let i;let{property:n,start:a,end:s}=r,{between:o,normalize:l}=gR(n),c=t.length,{start:u,end:d,loop:h}=e;if(h){for(u+=c,d+=c,i=0;i<c&&o(l(t[u%c][n]),a,s);++i)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:e.style}}(e,t,r),y=[],v=!1,b=null,w=()=>d(o,a,i)&&0!==u(o,a),S=()=>0===u(l,i)||d(l,a,i),_=()=>v||w(),x=()=>!v||S();for(let e=p,r=p;e<=f;++e)(n=t[e%c]).skip||(i=h(n[s]))===a||(v=d(i,o,l),null===b&&_()&&(b=0===u(i,o)?e:r),null!==b&&x()&&(y.push(gA({start:b,end:e,loop:m,count:c,style:g})),b=null),r=e,a=i);return null!==b&&y.push(gA({start:b,end:f,loop:m,count:c,style:g})),y}function gP(e,t){let r=[],i=e.segments;for(let n=0;n<i.length;n++){let a=gT(i[n],e.points,t);a.length&&r.push(...a)}return r}function gO(e,t,r,i){return i&&i.setContext&&r?function(e,t,r,i){let n=e._chart.getContext(),a=gI(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=r.length,c=[],u=a,d=t[0].start,h=d;function p(e,t,i,n){let a=o?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=a;for(;r[t%l].skip;)t+=a;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:i,style:n}),u=n,d=t%l)}}for(let e of t){let t;let a=r[(d=o?d:e.start)%l];for(h=d+1;h<=e.end;h++){let o=r[h%l];(function(e,t){if(!t)return!1;let r=[],i=function(e,t){return mx(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)})(t=gI(i.setContext(m8(n,{type:"segment",p0:a,p1:o,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),u)&&p(d,h-1,e.loop,u),a=o,u=t}d<h-1&&p(d,h-1,e.loop,u)}return c}(e,t,r,i):t}function gI(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class gN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){let n=t.listeners[i],a=t.duration;n.forEach(i=>i({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=mp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{let n;if(!r.running||!r.items.length)return;let a=r.items,s=a.length-1,o=!1;for(;s>=0;--s)(n=a[s])._active?(n._total>r.duration&&(r.duration=n._total),n.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),a.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!!t&&!!t.running&&!!t.items.length}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var gj=new gN;let gB="transparent",gU={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){let i=mk(e||gB),n=i.valid&&mk(t||gB);return n&&n.valid?n.mix(i,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class gL{constructor(e,t,r,i){let n=t[r];i=m3([e.to,i,n,e.from]);let a=m3([e.from,n,i]);this._active=!0,this._fn=e.fn||gU[e.type||typeof a],this._easing=m_[e.easing]||m_.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],n=r-this._start,a=this._duration-n;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=n,this._loop=!!e.loop,this._to=m3([e.to,t,i,e.from]),this._from=m3([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t;let r=e-this._start,i=this._duration,n=this._prop,a=this._from,s=this._loop,o=this._to;if(this._active=a!==o&&(s||r<i),!this._active){this._target[n]=o,this._notify(!0);return}if(r<0){this._target[n]=a;return}t=r/i%2,t=s&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[n]=this._fn(a,o,t)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let e=0;e<r.length;e++)r[e][t]()}}class gM{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!fR(e))return;let t=Object.keys(mL.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let n=e[i];if(!fR(n))return;let a={};for(let e of t)a[e]=n[e];(fC(n.properties)&&n.properties||[i]).forEach(e=>{e!==i&&r.has(e)||r.set(e,a)})})}_animateOptions(e,t){let r=t.options,i=function(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}(e,r);if(!i)return[];let n=this._createAnimations(i,r);return r.$shared&&(function(e,t){let r=[],i=Object.keys(t);for(let t=0;t<i.length;t++){let n=e[i[t]];n&&n.active()&&r.push(n.wait())}return Promise.all(r)})(e.options.$animations,r).then(()=>{e.options=r},()=>{}),n}_createAnimations(e,t){let r;let i=this._properties,n=[],a=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();for(r=s.length-1;r>=0;--r){let l=s[r];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}let c=t[l],u=a[l],d=i.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}if(!d||!d.duration){e[l]=c;continue}a[l]=u=new gL(d,e,l,c),n.push(u)}return n}update(e,t){if(0===this._properties.size){Object.assign(e,t);return}let r=this._createAnimations(e,t);if(r.length)return gj.add(this._chart,r),!0}}function gD(e,t){let r=e&&e.options||{},i=r.reverse,n=void 0===r.min?t:0,a=void 0===r.max?t:0;return{start:i?a:n,end:i?n:a}}function gK(e,t){let r,i;let n=[],a=e._getSortedDatasetMetas(t);for(r=0,i=a.length;r<i;++r)n.push(a[r].index);return n}function gq(e,t,r,i={}){let n,a,s,o;let l=e.keys,c="single"===i.mode;if(null!==t){for(n=0,a=l.length;n<a;++n){if((s=+l[n])===r){if(i.all)continue;break}fA(o=e.values[s])&&(c||0===t||f3(t)===f3(o))&&(t+=o)}return t}}function g$(e,t){let r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function gF(e,t,r,i){for(let n of t.getMatchingVisibleMetas(i).reverse()){let t=e[n.index];if(r&&t>0||!r&&t<0)return n.index}return null}function gz(e,t){let r;let{chart:i,_cachedMeta:n}=e,a=i._stacks||(i._stacks={}),{iScale:s,vScale:o,index:l}=n,c=s.axis,u=o.axis,d=`${s.id}.${o.id}.${n.stack||n.type}`,h=t.length;for(let e=0;e<h;++e){let i=t[e],{[c]:s,[u]:h}=i;(r=(i._stacks||(i._stacks={}))[u]=function(e,t,r){let i=e[t]||(e[t]={});return i[r]||(i[r]={})}(a,d,s))[l]=h,r._top=gF(r,o,!0,n.type),r._bottom=gF(r,o,!1,n.type),(r._visualValues||(r._visualValues={}))[l]=h}}function gV(e,t){let r=e.scales;return Object.keys(r).filter(e=>r[e].axis===t).shift()}function gH(e,t){let r=e.controller.index,i=e.vScale&&e.vScale.axis;if(i)for(let n of t=t||e._parsed){let e=n._stacks;if(!e||void 0===e[i]||void 0===e[i][r])return;delete e[i][r],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[r]&&delete e[i]._visualValues[r]}}let gW=e=>"reset"===e||"none"===e,gG=(e,t)=>t?e:Object.assign({},e),gJ=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:gK(r,!0),values:null};class gY{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=g$(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gH(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(e,t,r,i)=>"x"===e?t:"r"===e?i:r,n=t.xAxisID=fP(r.xAxisID,gV(e,"x")),a=t.yAxisID=fP(r.yAxisID,gV(e,"y")),s=t.rAxisID=fP(r.rAxisID,gV(e,"r")),o=t.indexAxis,l=t.iAxisID=i(o,n,a,s),c=t.vAxisID=i(o,a,n,s);t.xScale=this.getScaleForId(n),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&md(this._data,this),e._stacked&&gH(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(fR(t)){let e=this._cachedMeta;this._data=function(e,t){let r,i,n;let{iScale:a,vScale:s}=t,o="x"===a.axis?"x":"y",l="x"===s.axis?"x":"y",c=Object.keys(e),u=Array(c.length);for(r=0,i=c.length;r<i;++r)n=c[r],u[r]={[o]:n,[l]:e[n]};return u}(t,e)}else if(r!==t){if(r){md(r,this);let e=this._cachedMeta;gH(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),mu.forEach(t=>{let r="_onData"+fz(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){let n=i.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[r]&&e[r](...t)}),n}})})}(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,r=this.getDataset(),i=!1;this._dataCheck();let n=t._stacked;t._stacked=g$(t.vScale,t),t.stack!==r.stack&&(i=!0,gH(t),t.stack=r.stack),this._resyncElements(e),(i||n!==t._stacked)&&gz(this,t._parsed)}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let r,i,n;let{_cachedMeta:a,_data:s}=this,{iScale:o,_stacked:l}=a,c=o.axis,u=0===e&&t===s.length||a._sorted,d=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=s,a._sorted=!0,n=s;else{n=fC(s[e])?this.parseArrayData(a,s,e,t):fR(s[e])?this.parseObjectData(a,s,e,t):this.parsePrimitiveData(a,s,e,t);let o=()=>null===i[c]||d&&i[c]<d[c];for(r=0;r<t;++r)a._parsed[r+e]=i=n[r],u&&(o()&&(u=!1),d=i);a._sorted=u}l&&gz(this,n)}parsePrimitiveData(e,t,r,i){let n,a;let{iScale:s,vScale:o}=e,l=s.axis,c=o.axis,u=s.getLabels(),d=s===o,h=Array(i);for(n=0;n<i;++n)a=n+r,h[n]={[l]:d||s.parse(u[a],a),[c]:o.parse(t[a],a)};return h}parseArrayData(e,t,r,i){let n,a,s;let{xScale:o,yScale:l}=e,c=Array(i);for(n=0;n<i;++n)s=t[a=n+r],c[n]={x:o.parse(s[0],a),y:l.parse(s[1],a)};return c}parseObjectData(e,t,r,i){let n,a,s;let{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=Array(i);for(n=0;n<i;++n)s=t[a=n+r],d[n]={x:o.parse(fF(s,c),a),y:l.parse(fF(s,u),a)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){let i=this.chart,n=this._cachedMeta,a=t[e.axis];return gq({keys:gK(i,!0),values:t._stacks[e.axis]._visualValues},a,n.index,{mode:r})}updateRangeFromParsed(e,t,r,i){let n=r[t.axis],a=null===n?NaN:n,s=i&&r._stacks[t.axis];i&&s&&(i.values=s,a=gq(i,n,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let r,i;let n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=gJ(t,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=function(e){let{min:t,max:r,minDefined:i,maxDefined:n}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}(l);function p(){let t=(i=a[r])[l.axis];return!fA(i[e.axis])||d>t||h<t}for(r=0;r<o&&(p()||(this.updateRangeFromParsed(u,e,i,c),!s));++r);if(s){for(r=o-1;r>=0;--r)if(!p()){this.updateRangeFromParsed(u,e,i,c);break}}return u}getAllParsedValues(e){let t,r,i;let n=this._cachedMeta._parsed,a=[];for(t=0,r=n.length;t<r;++t)fA(i=n[t][e.axis])&&a.push(i);return a}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,r=t.iScale,i=t.vScale,n=this.getParsed(e);return{label:r?""+r.getLabelForValue(n[r.axis]):"",value:i?""+i.getLabelForValue(n[i.axis]):""}}_update(e){var t;let r,i,n,a;let s=this._cachedMeta;this.update(e||"default"),s._clip=(fR(t=fP(this.options.clip,function(e,t,r){if(!1===r)return!1;let i=gD(e,r),n=gD(t,r);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}(s.xScale,s.yScale,this.getMaxOverflow())))?(r=t.top,i=t.right,n=t.bottom,a=t.left):r=i=n=a=t,{top:r,right:i,bottom:n,left:a,disabled:!1===t})}update(e){}draw(){let e;let t=this._ctx,r=this.chart,i=this._cachedMeta,n=i.data||[],a=r.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||n.length-o,c=this.options.drawActiveElementsOnTop;for(i.dataset&&i.dataset.draw(t,a,o,l),e=o;e<o+l;++e){let r=n[e];r.hidden||(r.active&&c?s.push(r):r.draw(t,a))}for(e=0;e<s.length;++e)s[e].draw(t,a)}getStyle(e,t){let r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){var i;let n;let a=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(n=t.$context||(t.$context=m8(this.getContext(),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),n.raw=a.data[e],n.index=n.dataIndex=e}else(n=this.$context||(this.$context=m8(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:i=this.index,index:i,mode:"default",type:"dataset"}))).dataset=a,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=r,n}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){let i="active"===t,n=this._cachedDataOpts,a=e+"-"+t,s=n[a],o=this.enableOptionSharing&&fV(r);if(s)return gG(s,o);let l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(mL.elements[e]),p=l.resolveNamedOptions(d,h,()=>this.getContext(r,i,t),u);return p.$shared&&(p.$shared=o,n[a]=Object.freeze(gG(p,o))),p}_resolveAnimations(e,t,r){let i;let n=this.chart,a=this._cachedDataOpts,s=`animation-${t}`,o=a[s];if(o)return o;if(!1!==n.options.animation){let n=this.chart.config,a=n.datasetAnimationScopeKeys(this._type,t),s=n.getOptionScopes(this.getDataset(),a);i=n.createResolver(s,this.getContext(e,r,t))}let l=new gM(n,i&&i.animations);return i&&i._cacheable&&(a[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||gW(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,n=this.getSharedOptions(r),a=this.includeOptions(t,n)||n!==i;return this.updateSharedOptions(n,t,r),{sharedOptions:n,includeOptions:a}}updateElement(e,t,r,i){gW(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!gW(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;let n=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(n)||n})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,r=this._cachedMeta.data;for(let[e,t,r]of this._syncList)this[e](t,r);this._syncList=[];let i=r.length,n=t.length,a=Math.min(n,i);a&&this.parse(0,a),n>i?this._insertElements(i,n-i,e):n<i&&this._removeElements(n,i-n)}_insertElements(e,t,r=!0){let i;let n=this._cachedMeta,a=n.data,s=e+t,o=e=>{for(e.length+=t,i=e.length-1;i>=s;i--)e[i]=e[i-t]};for(o(a),i=e;i<s;++i)a[i]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){let r=this._cachedMeta;if(this._parsing){let i=r._parsed.splice(e,t);r._stacked&&gH(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function gX(e,t,r,i){return fC(e)?function(e,t,r,i){let n=r.parse(e[0],i),a=r.parse(e[1],i),s=Math.min(n,a),o=Math.max(n,a),l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:a,min:s,max:o}}(e,t,r,i):t[r.axis]=r.parse(e,i),t}function gQ(e,t,r,i){let n,a,s,o;let l=e.iScale,c=e.vScale,u=l.getLabels(),d=l===c,h=[];for(n=r,a=r+i;n<a;++n)o=t[n],(s={})[l.axis]=d||l.parse(u[n],n),h.push(gX(o,s,c,n));return h}function gZ(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function g0(e,t,r,i){var n;return e=i?g1(e=(n=e)===t?r:n===r?t:n,r,t):g1(e,t,r)}function g1(e,t,r){return"start"===e?t:"end"===e?r:e}class g2 extends gY{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,i){return gQ(e,t,r,i)}parseArrayData(e,t,r,i){return gQ(e,t,r,i)}parseObjectData(e,t,r,i){let n,a,s,o;let{iScale:l,vScale:c}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,h="x"===l.axis?u:d,p="x"===c.axis?u:d,f=[];for(n=r,a=r+i;n<a;++n)o=t[n],(s={})[l.axis]=l.parse(fF(o,h),n),f.push(gX(fF(o,p),s,c,n));return f}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);let n=r._custom;n&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,n.min),e.max=Math.max(e.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let{iScale:t,vScale:r}=this._cachedMeta,i=this.getParsed(e),n=i._custom,a=gZ(n)?"["+n.start+", "+n.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+t.getLabelForValue(i[t.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){let n="reset"===i,{index:a,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i);for(let h=t;h<t+r;h++){let t=this.getParsed(h),r=n||fE(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[s.axis],m={horizontal:l,base:r.base,enableBorderRadius:!f||gZ(t._custom)||a===f._top||a===f._bottom,x:l?r.head:p.center,y:l?p.center:r.head,height:l?p.size:Math.abs(r.size),width:l?Math.abs(r.size):p.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":i));let g=m.options||e[h].options;(function(e,t,r,i){let n,a,s,o,l,c=t.borderSkipped,u={};if(!c){e.borderSkipped=u;return}if(!0===c){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:d,end:h,reverse:p,top:f,bottom:m}=(e.horizontal?(n=e.base>e.x,a="left",s="right"):(n=e.base<e.y,a="bottom",s="top"),n?(o="end",l="start"):(o="start",l="end"),{start:a,end:s,reverse:n,top:o,bottom:l});"middle"===c&&r&&(e.enableBorderRadius=!0,(r._top||0)===i?c=f:(r._bottom||0)===i?c=m:(u[g0(m,d,h,p)]=!0,c=f)),u[g0(c,d,h,p)]=!0,e.borderSkipped=u})(m,g,f,a),function(e,{inflateAmount:t},r){e.inflateAmount="auto"===t?1===r?.33:0:t}(m,g,c.ratio),this.updateElement(e[h],h,m,i)}}_getStacks(e,t){let{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),n=r.options.stacked,a=[],s=e=>{let r=e.controller.getParsed(t),i=r&&r[e.vScale.axis];if(fE(i)||isNaN(i))return!0};for(let r of i)if(!(void 0!==t&&s(r))&&((!1===n||-1===a.indexOf(r.stack)||void 0===n&&void 0===r.stack)&&a.push(r.stack),r.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){let i=this._getStacks(e,r),n=void 0!==t?i.indexOf(t):-1;return -1===n?i.length-1:n}_getRuler(){let e,t;let r=this.options,i=this._cachedMeta,n=i.iScale,a=[];for(e=0,t=i.data.length;e<t;++e)a.push(n.getPixelForValue(this.getParsed(e)[n.axis],e));let s=r.barThickness;return{min:s||function(e){let t,r,i,n;let a=e.iScale,s=function(e,t){if(!e._cache.$bar){let r=e.getMatchingVisibleMetas(t),i=[];for(let t=0,n=r.length;t<n;t++)i=i.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=mh(i.sort((e,t)=>e-t))}return e._cache.$bar}(a,e.type),o=a._length,l=()=>{32767!==i&&-32768!==i&&(fV(n)&&(o=Math.min(o,Math.abs(i-n)||o)),n=i)};for(t=0,r=s.length;t<r;++t)i=a.getPixelForValue(s[t]),l();for(t=0,n=void 0,r=a.ticks.length;t<r;++t)i=a.getPixelForTick(t),l();return o}(i),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:r.grouped,ratio:s?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(e){let t,r;let{_cachedMeta:{vScale:i,_stacked:n,index:a},options:{base:s,minBarLength:o}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=gZ(u),h=c[i.axis],p=0,f=n?this.applyStack(i,c,n):h;f!==h&&(p=f-h,f=h),d&&(h=u.barStart,f=u.barEnd-u.barStart,0!==h&&f3(h)!==f3(u.barEnd)&&(p=0),p+=h);let m=fE(s)||d?p:s,g=i.getPixelForValue(m);if(Math.abs(r=(t=this.chart.getDataVisibility(e)?i.getPixelForValue(p+f):g)-g)<o){var y;r=(0!==(y=r)?f3(y):(i.isHorizontal()?1:-1)*(i.min>=l?1:-1))*o,h===l&&(g-=r/2);let e=i.getPixelForDecimal(0),s=i.getPixelForDecimal(1);t=(g=Math.max(Math.min(g,Math.max(e,s)),Math.min(e,s)))+r,n&&!d&&(c._stacks[i.axis]._visualValues[a]=i.getValueForPixel(t)-i.getValueForPixel(g))}if(g===i.getPixelForValue(l)){let e=f3(r)*i.getLineWidthForValue(l)/2;g+=e,r-=e}return{size:r,base:g,head:t,center:t+r/2}}_calculateBarIndexPixels(e,t){let r,i;let n=t.scale,a=this.options,s=a.skipNull,o=fP(a.maxBarThickness,1/0);if(t.grouped){let n=s?this._getStackCount(e):t.stackCount,l="flex"===a.barThickness?function(e,t,r,i){let n=t.pixels,a=n[e],s=e>0?n[e-1]:null,o=e<n.length-1?n[e+1]:null,l=r.categoryPercentage;null===s&&(s=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-s);let c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/i,ratio:r.barPercentage,start:c}}(e,t,a,n):function(e,t,r,i){let n,a;let s=r.barThickness;return fE(s)?(n=t.min*r.categoryPercentage,a=r.barPercentage):(n=s*i,a=1),{chunk:n/i,ratio:a,start:t.pixels[e]-n/2}}(e,t,a,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);r=l.start+l.chunk*c+l.chunk/2,i=Math.min(o,l.chunk*l.ratio)}else r=n.getPixelForValue(this.getParsed(e)[n.axis],e),i=Math.min(o,t.min*t.ratio);return{base:r-i/2,head:r+i/2,center:r,size:i}}draw(){let e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length,n=0;for(;n<i;++n)null===this.getParsed(n)[t.axis]||r[n].hidden||r[n].draw(this._ctx)}}class g3 extends gY{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){let n=super.parsePrimitiveData(e,t,r,i);for(let e=0;e<n.length;e++)n[e]._custom=this.resolveDataElementOptions(e+r).radius;return n}parseArrayData(e,t,r,i){let n=super.parseArrayData(e,t,r,i);for(let e=0;e<n.length;e++){let i=t[r+e];n[e]._custom=fP(i[2],this.resolveDataElementOptions(e+r).radius)}return n}parseObjectData(e,t,r,i){let n=super.parseObjectData(e,t,r,i);for(let e=0;e<n.length;e++){let i=t[r+e];n[e]._custom=fP(i&&i.r&&+i.r,this.resolveDataElementOptions(e+r).radius)}return n}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:n}=t,a=this.getParsed(e),s=i.getLabelForValue(a.x),o=n.getLabelForValue(a.y),l=a._custom;return{label:r[e]||"",value:"("+s+", "+o+(l?", "+l:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){let n="reset"===i,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,i),c=a.axis,u=s.axis;for(let d=t;d<t+r;d++){let t=e[d],r=!n&&this.getParsed(d),h={},p=h[c]=n?a.getPixelForDecimal(.5):a.getPixelForValue(r[c]),f=h[u]=n?s.getBasePixel():s.getPixelForValue(r[u]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=o||this.resolveDataElementOptions(d,t.active?"active":i),n&&(h.options.radius=0)),this.updateElement(t,d,h,i)}}resolveDataElementOptions(e,t){let r=this.getParsed(e),i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));let n=i.radius;return"active"!==t&&(i.radius=0),i.radius+=fP(r&&r._custom,n),i}}class g8 extends gY{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((t,n)=>{let a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let r=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=r;else{let n,a,s=e=>+r[e];if(fR(r[e])){let{key:e="value"}=this._parsing;s=t=>+fF(r[t],e)}for(n=e,a=e+t;n<a;++n)i._parsed[n]=s(n)}}_getRotation(){return f7(this.options.rotation-90)}_getCircumference(){return f7(this.options.circumference)}_getRotationExtents(){let e=fJ,t=-fJ;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let i=this.chart.getDatasetMeta(r).controller,n=i._getRotation(),a=i._getCircumference();e=Math.min(e,n),t=Math.max(t,n+a)}return{rotation:e,circumference:t-e}}update(e){let{chartArea:t}=this.chart,r=this._cachedMeta,i=r.data,n=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(t.width,t.height)-n)/2,0),s=Math.min(fO(this.options.cutout,a),1),o=this._getRingWeight(this.index),{circumference:l,rotation:c}=this._getRotationExtents(),{ratioX:u,ratioY:d,offsetX:h,offsetY:p}=function(e,t,r){let i=1,n=1,a=0,s=0;if(t<fJ){let o=e+t,l=Math.cos(e),c=Math.sin(e),u=Math.cos(o),d=Math.sin(o),h=(t,i,n)=>mn(t,e,o,!0)?1:Math.max(i,i*r,n,n*r),p=(t,i,n)=>mn(t,e,o,!0)?-1:Math.min(i,i*r,n,n*r),f=h(0,l,u),m=h(fZ,c,d),g=p(fG,l,u),y=p(fG+fZ,c,d);i=(f-g)/2,n=(m-y)/2,a=-(f+g)/2,s=-(m+y)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:s}}(c,l,s),f=(t.width-n)/u,m=(t.height-n)/d,g=fI(this.options.radius,Math.max(Math.min(f,m)/2,0)),y=Math.max(g*s,0),v=(g-y)/this._getVisibleDatasetWeightTotal();this.offsetX=h*g,this.offsetY=p*g,r.total=this.calculateTotal(),this.outerRadius=g-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*o,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){let r=this.options,i=this._cachedMeta,n=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*n/fJ)}updateElements(e,t,r,i){let n;let a="reset"===i,s=this.chart,o=s.chartArea,l=s.options.animation,c=(o.left+o.right)/2,u=(o.top+o.bottom)/2,d=a&&l.animateScale,h=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,i),g=this._getRotation();for(n=0;n<t;++n)g+=this._circumference(n,a);for(n=t;n<t+r;++n){let t=this._circumference(n,a),r=e[n],s={x:c+this.offsetX,y:u+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:p,innerRadius:h};m&&(s.options=f||this.resolveDataElementOptions(n,r.active?"active":i)),g+=t,this.updateElement(r,n,s,i)}}calculateTotal(){let e;let t=this._cachedMeta,r=t.data,i=0;for(e=0;e<r.length;e++){let n=t._parsed[e];null!==n&&!isNaN(n)&&this.chart.getDataVisibility(e)&&!r[e].hidden&&(i+=Math.abs(n))}return i}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Math.abs(e)/t*fJ:0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,i=r.data.labels||[],n=mT(t._parsed[e],r.options.locale);return{label:i[e]||"",value:n}}getMaxBorderWidth(e){let t,r,i,n,a,s=0,o=this.chart;if(!e){for(t=0,r=o.data.datasets.length;t<r;++t)if(o.isDatasetVisible(t)){e=(i=o.getDatasetMeta(t)).data,n=i.controller;break}}if(!e)return 0;for(t=0,r=e.length;t<r;++t)"inner"!==(a=n.resolveDataElementOptions(t)).borderAlign&&(s=Math.max(s,a.borderWidth||0,a.hoverBorderWidth||0));return s}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){let e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(fP(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class g4 extends gY{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:r,data:i=[],_dataset:n}=t,a=this.chart._animationsDisabled,{start:s,count:o}=my(t,i,a);this._drawStart=s,this._drawCount=o,mv(t)&&(s=0,o=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!n._decimated,r.points=i;let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:l},e),this.updateElements(i,s,o,e)}updateElements(e,t,r,i){let n="reset"===i,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),d=a.axis,h=s.axis,{spanGaps:p,segment:f}=this.options,m=f6(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||n||"none"===i,y=t+r,v=e.length,b=t>0&&this.getParsed(t-1);for(let r=0;r<v;++r){let p=e[r],v=g?p:{};if(r<t||r>=y){v.skip=!0;continue}let w=this.getParsed(r),S=fE(w[h]),_=v[d]=a.getPixelForValue(w[d],r),x=v[h]=n||S?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,w,o):w[h],r);v.skip=isNaN(_)||isNaN(x)||S,v.stop=r>0&&Math.abs(w[d]-b[d])>m,f&&(v.parsed=w,v.raw=l.data[r]),u&&(v.options=c||this.resolveDataElementOptions(r,p.active?"active":i)),g||this.updateElement(p,r,v,i),b=w}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];return i.length?Math.max(r,i[0].size(this.resolveDataElementOptions(0)),i[i.length-1].size(this.resolveDataElementOptions(i.length-1)))/2:r}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class g6 extends gY{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((t,n)=>{let a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,i=r.data.labels||[],n=mT(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:n}}parseObjectData(e,t,r,i){return gs.bind(this)(e,t,r,i)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,r)=>{let i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,r=e.options,i=Math.max(Math.min(t.right-t.left,t.bottom-t.top)/2,0),n=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),a=(i-n)/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,i){let n;let a="reset"===i,s=this.chart,o=s.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,u=l.yCenter,d=l.getIndexAngle(0)-.5*fG,h=d,p=360/this.countVisibleElements();for(n=0;n<t;++n)h+=this._computeAngle(n,i,p);for(n=t;n<t+r;n++){let t=e[n],r=h,f=h+this._computeAngle(n,i,p),m=s.getDataVisibility(n)?l.getDistanceFromCenterForValue(this.getParsed(n).r):0;h=f,a&&(o.animateScale&&(m=0),o.animateRotate&&(r=f=d));let g={x:c,y:u,innerRadius:0,outerRadius:m,startAngle:r,endAngle:f,options:this.resolveDataElementOptions(n,t.active?"active":i)};this.updateElement(t,n,g,i)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?f7(this.resolveDataElementOptions(e,t).angle||r):0}}class g5 extends g8{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class g7 extends gY{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return gs.bind(this)(e,t,r,i)}update(e){let t=this._cachedMeta,r=t.dataset,i=t.data||[],n=t.iScale.getLabels();if(r.points=i,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);let a={_loop:!0,_fullLoop:n.length===i.length,options:t};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){let n=this._cachedMeta.rScale,a="reset"===i;for(let s=t;s<t+r;s++){let t=e[s],r=this.resolveDataElementOptions(s,t.active?"active":i),o=n.getPointPositionForValue(s,this.getParsed(s).r),l=a?n.xCenter:o.x,c=a?n.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:r};this.updateElement(t,s,u,i)}}}class g9 extends gY{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:n}=t,a=this.getParsed(e),s=i.getLabelForValue(a.x),o=n.getLabelForValue(a.y);return{label:r[e]||"",value:"("+s+", "+o+")"}}update(e){let t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled,{start:n,count:a}=my(t,r,i);if(this._drawStart=n,this._drawCount=a,mv(t)&&(n=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:n,_dataset:a}=t;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=r;let s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,n,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,i){let n="reset"===i,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),d=this.includeOptions(i,u),h=a.axis,p=s.axis,{spanGaps:f,segment:m}=this.options,g=f6(f)?f:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||n||"none"===i,v=t>0&&this.getParsed(t-1);for(let c=t;c<t+r;++c){let t=e[c],r=this.getParsed(c),f=y?t:{},b=fE(r[p]),w=f[h]=a.getPixelForValue(r[h],c),S=f[p]=n||b?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,r,o):r[p],c);f.skip=isNaN(w)||isNaN(S)||b,f.stop=c>0&&Math.abs(r[h]-v[h])>g,m&&(f.parsed=r,f.raw=l.data[c]),d&&(f.options=u||this.resolveDataElementOptions(c,t.active?"active":i)),y||this.updateElement(t,c,f,i),v=r}this.updateSharedOptions(u,i,c)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}let r=e.dataset,i=r.options&&r.options.borderWidth||0;return t.length?Math.max(i,t[0].size(this.resolveDataElementOptions(0)),t[t.length-1].size(this.resolveDataElementOptions(t.length-1)))/2:i}}function ye(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class yt{static override(e){Object.assign(yt.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ye()}parse(){return ye()}format(){return ye()}add(){return ye()}diff(){return ye()}startOf(){return ye()}endOf(){return ye()}}var yr={_date:yt};function yi(e,t,r,i,n){let a=e.getSortedVisibleDatasetMetas(),s=r[t];for(let e=0,r=a.length;e<r;++e){let{index:r,data:o}=a[e],{lo:l,hi:c}=function(e,t,r,i){let{controller:n,data:a,_sorted:s}=e,o=n._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&s&&a.length){let e=o._reversePixels?mc:ml;if(!i)return e(a,t,r);if(n._sharedOptions){let i=a[0],n="function"==typeof i.getRange&&i.getRange(t);if(n){let i=e(a,t,r-n),s=e(a,t,r+n);return{lo:i.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}(a[e],t,s,n);for(let e=l;e<=c;++e){let t=o[e];t.skip||i(t,r,e)}}}function yn(e,t,r,i,n){let a=[];return(n||e.isPointInArea(t))&&yi(e,r,t,function(r,s,o){(n||m$(r,e.chartArea,0))&&r.inRange(t.x,t.y,i)&&a.push({element:r,datasetIndex:s,index:o})},!0),a}function ya(e,t,r,i,n,a){let s;return a||e.isPointInArea(t)?"r"!==r||i?function(e,t,r,i,n,a){let s=[],o=function(e){let t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,i){return Math.sqrt(Math.pow(t?Math.abs(e.x-i.x):0,2)+Math.pow(r?Math.abs(e.y-i.y):0,2))}}(r),l=Number.POSITIVE_INFINITY;return yi(e,r,t,function(r,c,u){let d=r.inRange(t.x,t.y,n);if(i&&!d)return;let h=r.getCenterPoint(n);if(!(a||e.isPointInArea(h))&&!d)return;let p=o(t,h);p<l?(s=[{element:r,datasetIndex:c,index:u}],l=p):p===l&&s.push({element:r,datasetIndex:c,index:u})}),s}(e,t,r,i,n,a):(s=[],yi(e,r,t,function(e,r,i){let{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=me(e,{x:t.x,y:t.y});mn(l,a,o)&&s.push({element:e,datasetIndex:r,index:i})}),s):[]}function ys(e,t,r,i,n){let a=[],s="x"===r?"inXRange":"inYRange",o=!1;return(yi(e,r,t,(e,i,l)=>{e[s](t[r],n)&&(a.push({element:e,datasetIndex:i,index:l}),o=o||e.inRange(t.x,t.y,n))}),i&&!o)?[]:a}var yo={modes:{index(e,t,r,i){let n=gv(t,e),a=r.axis||"x",s=r.includeInvisible||!1,o=r.intersect?yn(e,n,a,i,s):ya(e,n,a,!1,i,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{let t=o[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,r,i){let n=gv(t,e),a=r.axis||"xy",s=r.includeInvisible||!1,o=r.intersect?yn(e,n,a,i,s):ya(e,n,a,!1,i,s);if(o.length>0){let t=o[0].datasetIndex,r=e.getDatasetMeta(t).data;o=[];for(let e=0;e<r.length;++e)o.push({element:r[e],datasetIndex:t,index:e})}return o},point(e,t,r,i){let n=gv(t,e);return yn(e,n,r.axis||"xy",i,r.includeInvisible||!1)},nearest(e,t,r,i){let n=gv(t,e),a=r.axis||"xy",s=r.includeInvisible||!1;return ya(e,n,a,r.intersect,i,s)},x(e,t,r,i){let n=gv(t,e);return ys(e,n,"x",r.intersect,i)},y(e,t,r,i){let n=gv(t,e);return ys(e,n,"y",r.intersect,i)}}};let yl=["left","top","right","bottom"];function yc(e,t){return e.filter(e=>e.pos===t)}function yu(e,t){return e.filter(e=>-1===yl.indexOf(e.pos)&&e.box.axis===t)}function yd(e,t){return e.sort((e,r)=>{let i=t?r:e,n=t?e:r;return i.weight===n.weight?i.index-n.index:i.weight-n.weight})}function yh(e,t,r,i){return Math.max(e[r],t[r])+Math.max(e[i],t[i])}function yp(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yf(e,t,r,i){let n,a,s,o,l,c;let u=[];for(n=0,a=e.length,l=0;n<a;++n){(o=(s=e[n]).box).update(s.width||t.w,s.height||t.h,function(e,t){let r=t.maxPadding;return function(e){let i={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{i[e]=Math.max(t[e],r[e])}),i}(e?["left","right"]:["top","bottom"])}(s.horizontal,t));let{same:a,other:d}=function(e,t,r,i){let{pos:n,box:a}=r,s=e.maxPadding;if(!fR(n)){r.size&&(e[n]-=r.size);let t=i[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?a.height:a.width),r.size=t.size/t.count,e[n]+=r.size}a.getPadding&&yp(s,a.getPadding());let o=Math.max(0,t.outerWidth-yh(s,e,"left","right")),l=Math.max(0,t.outerHeight-yh(s,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}(t,r,s,i);l|=a&&u.length,c=c||d,o.fullSize||u.push(s)}return l&&yf(u,t,r,i)||c}function ym(e,t,r,i,n){e.top=r,e.left=t,e.right=t+i,e.bottom=r+n,e.width=i,e.height=n}function yg(e,t,r,i){let n=r.padding,{x:a,y:s}=t;for(let o of e){let e=o.box,l=i[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){let i=t.w*c,a=l.size||e.height;fV(l.start)&&(s=l.start),e.fullSize?ym(e,n.left,s,r.outerWidth-n.right-n.left,a):ym(e,t.left+l.placed,s,i,a),l.start=s,l.placed+=i,s=e.bottom}else{let i=t.h*c,s=l.size||e.width;fV(l.start)&&(a=l.start),e.fullSize?ym(e,a,n.top,s,r.outerHeight-n.bottom-n.top):ym(e,a,t.top+l.placed,s,i),l.start=a,l.placed+=i,a=e.right}}t.x=a,t.y=s}var yy={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){let r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,i){if(!e)return;let n=m1(e.options.layout.padding),a=Math.max(t-n.width,0),s=Math.max(r-n.height,0),o=function(e){let t=function(e){let t,r,i,n,a,s;let o=[];for(t=0,r=(e||[]).length;t<r;++t)i=e[t],({position:n,options:{stack:a,stackWeight:s=1}}=i),o.push({index:t,box:i,pos:n,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&n+a,stackWeight:s});return o}(e),r=yd(t.filter(e=>e.box.fullSize),!0),i=yd(yc(t,"left"),!0),n=yd(yc(t,"right")),a=yd(yc(t,"top"),!0),s=yd(yc(t,"bottom")),o=yu(t,"x"),l=yu(t,"y");return{fullSize:r,leftAndTop:i.concat(a),rightAndBottom:n.concat(l).concat(s).concat(o),chartArea:yc(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:a.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;fj(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});let u=Object.freeze({outerWidth:t,outerHeight:r,padding:n,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/(l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1),hBoxMaxHeight:s/2}),d=Object.assign({},n);yp(d,m1(i));let h=Object.assign({maxPadding:d,w:a,h:s,x:n.left,y:n.top},n),p=function(e,t){let r,i,n;let a=function(e){let t={};for(let r of e){let{stack:e,pos:i,stackWeight:n}=r;if(!e||!yl.includes(i))continue;let a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=n}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:o}=t;for(r=0,i=e.length;r<i;++r){let{fullSize:i}=(n=e[r]).box,l=a[n.stack],c=l&&n.stackWeight/l.weight;n.horizontal?(n.width=c?c*s:i&&t.availableWidth,n.height=o):(n.width=s,n.height=c?c*o:i&&t.availableHeight)}return a}(l.concat(c),u);yf(o.fullSize,h,u,p),yf(l,h,u,p),yf(c,h,u,p)&&yf(l,h,u,p),function(e){let t=e.maxPadding;function r(r){let i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(h),yg(o.leftAndTop,h,u,p),h.x+=h.w,h.y+=h.h,yg(o.rightAndBottom,h,u,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},fj(o.chartArea,t=>{let r=t.box;Object.assign(r,e.chartArea),r.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class yv{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class yb extends yv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}let yw="$chartjs",yS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},y_=e=>null===e||""===e,yx=!!gS&&{passive:!0};function yk(e,t){for(let r of e)if(r===t||r.contains(t))return!0}function yE(e,t,r){let i=e.canvas,n=new MutationObserver(e=>{let t=!1;for(let r of e)t=(t=t||yk(r.addedNodes,i))&&!yk(r.removedNodes,i);t&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function yC(e,t,r){let i=e.canvas,n=new MutationObserver(e=>{let t=!1;for(let r of e)t=(t=t||yk(r.removedNodes,i))&&!yk(r.addedNodes,i);t&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}let yR=new Map,yA=0;function yT(){let e=window.devicePixelRatio;e!==yA&&(yA=e,yR.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function yP(e,t,r){let i=e.canvas,n=i&&gh(i);if(!n)return;let a=mf((e,t)=>{let i=n.clientWidth;r(e,t),i<n.clientWidth&&r()},window),s=new ResizeObserver(e=>{let t=e[0],r=t.contentRect.width,i=t.contentRect.height;(0!==r||0!==i)&&a(r,i)});return s.observe(n),yR.size||window.addEventListener("resize",yT),yR.set(e,a),s}function yO(e,t,r){r&&r.disconnect(),"resize"===t&&(yR.delete(e),yR.size||window.removeEventListener("resize",yT))}function yI(e,t,r){let i=e.canvas,n=mf(t=>{null!==e.ctx&&r(function(e,t){let r=yS[e.type]||e.type,{x:i,y:n}=gv(e,t);return{type:r,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==n?n:null}}(t,e))},e);return i&&i.addEventListener(t,n,yx),n}class yN extends yv{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){let r=e.style,i=e.getAttribute("height"),n=e.getAttribute("width");if(e[yw]={initial:{height:i,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",y_(n)){let t=g_(e,"width");void 0!==t&&(e.width=t)}if(y_(i)){if(""===e.style.height)e.height=e.width/(t||2);else{let t=g_(e,"height");void 0!==t&&(e.height=t)}}}(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[yw])return!1;let r=t[yw].initial;["height","width"].forEach(e=>{let i=r[e];fE(i)?t.removeAttribute(e):t.setAttribute(e,i)});let i=r.style||{};return Object.keys(i).forEach(e=>{t.style[e]=i[e]}),t.width=t.width,delete t[yw],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),n={attach:yE,detach:yC,resize:yP}[t]||yI;i[t]=n(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),i=r[t];i&&((({attach:yO,detach:yO,resize:yO})[t]||function(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,yx)})(e,t,i),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return function(e,t,r,i){let n=gf(e),a=gg(n,"margin"),s=gp(n.maxWidth,e,"clientWidth")||fX,o=gp(n.maxHeight,e,"clientHeight")||fX,l=function(e,t,r){let i,n;if(void 0===t||void 0===r){let a=e&&gh(e);if(a){let e=a.getBoundingClientRect(),s=gf(a),o=gg(s,"border","width"),l=gg(s,"padding");t=e.width-l.width-o.width,r=e.height-l.height-o.height,i=gp(s.maxWidth,a,"clientWidth"),n=gp(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:i||fX,maxHeight:n||fX}}(e,t,r),{width:c,height:u}=l;if("content-box"===n.boxSizing){let e=gg(n,"border","width"),t=gg(n,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-a.width),u=Math.max(0,i?c/i:u-a.height),c=gb(Math.min(c,s,l.maxWidth)),u=gb(Math.min(u,o,l.maxHeight)),c&&!u&&(u=gb(c/2)),(void 0!==t||void 0!==r)&&i&&l.height&&u>l.height&&(c=gb(Math.floor((u=l.height)*i))),{width:c,height:u}}(e,t,r,i)}isAttached(e){let t=e&&gh(e);return!!(t&&t.isConnected)}}class yj{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return f6(this.x)&&f6(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let i={};return e.forEach(e=>{i[e]=r[e]&&r[e].active()?r[e]._to:this[e]}),i}}function yB(e,t,r,i,n){let a,s,o;let l=fP(i,0),c=Math.min(fP(n,e.length),e.length),u=0;for(r=Math.ceil(r),n&&(r=(a=n-i)/Math.floor(a/r)),o=l;o<0;)o=Math.round(l+ ++u*r);for(s=Math.max(l,0);s<c;s++)s===o&&(t.push(e[s]),o=Math.round(l+ ++u*r))}let yU=e=>"left"===e?"right":"right"===e?"left":e,yL=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,yM=(e,t)=>Math.min(t||e,e);function yD(e,t){let r=[],i=e.length/t,n=e.length,a=0;for(;a<n;a+=i)r.push(e[Math.floor(a)]);return r}function yK(e){return e.drawTicks?e.tickLength:0}function yq(e,t){if(!e.display)return 0;let r=m2(e.font,t),i=m1(e.padding);return(fC(e.text)?e.text.length:1)*r.lineHeight+i.height}class y$ extends yj{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=fT(e,Number.POSITIVE_INFINITY),t=fT(t,Number.NEGATIVE_INFINITY),r=fT(r,Number.POSITIVE_INFINITY),i=fT(i,Number.NEGATIVE_INFINITY),{min:fT(e,r),max:fT(t,i),minDefined:fA(e),maxDefined:fA(t)}}getMinMax(e){let t,{min:r,max:i,minDefined:n,maxDefined:a}=this.getUserBounds();if(n&&a)return{min:r,max:i};let s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),n||(r=Math.min(r,t.min)),a||(i=Math.max(i,t.max));return r=a&&r>i?i:r,i=n&&r>i?r:i,{min:fT(r,fT(i,r)),max:fT(i,fT(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fN(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:i,grace:n,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){let{min:i,max:n}=e,a=fI(t,(n-i)/2),s=(e,t)=>r&&0===e?0:e+t;return{min:s(i,-Math.abs(a)),max:s(n,a)}}(this,n,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let o=s<this.ticks.length;this._convertTicksToLabels(o?yD(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function(e,t){let r=e.options.ticks,i=function(e){let t=e.options.offset,r=e._tickSize();return Math.floor(Math.min(e._length/r+(t?0:1),e._maxLength/r))}(e),n=Math.min(r.maxTicksLimit||i,i),a=r.major.enabled?function(e){let t,r;let i=[];for(t=0,r=e.length;t<r;t++)e[t].major&&i.push(t);return i}(t):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>n)return function(e,t,r,i){let n,a=0,s=r[0];for(n=0,i=Math.ceil(i);n<e.length;n++)n===s&&(t.push(e[n]),s=r[++a*i])}(t,c,a,s/n),c;let u=function(e,t,r){let i=function(e){let t,r;let i=e.length;if(i<2)return!1;for(r=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==r)return!1;return r}(e),n=t.length/r;if(!i)return Math.max(n,1);let a=function(e){let t;let r=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t==0&&(r.push(t),r.push(e/t));return i===(0|i)&&r.push(i),r.sort((e,t)=>e-t).pop(),r}(i);for(let e=0,t=a.length-1;e<t;e++){let t=a[e];if(t>n)return t}return Math.max(n,1)}(a,t,n);if(s>0){let e,r;let i=s>1?Math.round((l-o)/(s-1)):null;for(yB(t,c,u,fE(i)?0:o-i,o),e=0,r=s-1;e<r;e++)yB(t,c,u,a[e],a[e+1]);return yB(t,c,u,l,fE(i)?t.length:l+i),c}return yB(t,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fN(this.options.afterUpdate,[this])}beforeSetDimensions(){fN(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fN(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),fN(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fN(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t,r,i;let n=this.options.ticks;for(t=0,r=e.length;t<r;t++)(i=e[t]).label=fN(n.callback,[i.value,t,e],this)}afterTickToLabelConversion(){fN(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fN(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e,t,r;let i=this.options,n=i.ticks,a=yM(this.ticks.length,i.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation,l=s;if(!this._isVisible()||!n.display||s>=o||a<=1||!this.isHorizontal()){this.labelRotation=s;return}let c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=ma(this.chart.width-u,0,this.maxWidth);u+6>(e=i.offset?this.maxWidth/a:h/(a-1))&&(e=h/(a-(i.offset?.5:1)),t=this.maxHeight-yK(i.grid)-n.padding-yq(i.title,this.chart.options.font),r=Math.sqrt(u*u+d*d),l=Math.max(s,Math.min(o,l=180/fG*Math.min(Math.asin(ma((c.highest.height+6)/e,-1,1)),Math.asin(ma(t/r,-1,1))-Math.asin(ma(d/r,-1,1)))))),this.labelRotation=l}afterCalculateLabelRotation(){fN(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fN(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:n}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let a=yq(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=yK(n)+a):(e.height=this.maxHeight,e.width=yK(n)+a),r.display&&this.ticks.length){let{first:t,last:i,widest:n,highest:a}=this._getLabelSizes(),o=2*r.padding,l=f7(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){let t=r.mirror?0:u*n.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{let t=r.mirror?0:c*n.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){let{ticks:{align:n,padding:a},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){let s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1),u=0,d=0;o?l?(u=i*e.width,d=r*t.height):(u=r*e.height,d=i*t.width):"start"===n?d=t.width:"end"===n?u=e.width:"inner"!==n&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let r=t.height/2,i=e.height/2;"start"===n?(r=0,i=e.height):"end"===n&&(r=t.height,i=0),this.paddingTop=r+a,this.paddingBottom=i+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fN(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)fE(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=yD(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let i,n,a,s,o,l,c,u,d,h,p;let{ctx:f,_longestTextCache:m}=this,g=[],y=[],v=Math.floor(t/yM(t,r)),b=0,w=0;for(i=0;i<t;i+=v){if(s=e[i].label,o=this._resolveTickFontOptions(i),f.font=l=o.string,c=m[l]=m[l]||{data:{},gc:[]},u=o.lineHeight,d=h=0,fE(s)||fC(s)){if(fC(s))for(n=0,a=s.length;n<a;++n)fE(p=s[n])||fC(p)||(d=mM(f,c.data,c.gc,d,p),h+=u)}else d=mM(f,c.data,c.gc,d,s),h=u;g.push(d),y.push(h),b=Math.max(d,b),w=Math.max(h,w)}fj(m,e=>{let r;let i=e.gc,n=i.length/2;if(n>t){for(r=0;r<n;++r)delete e.data[i[r]];i.splice(0,n)}});let S=g.indexOf(b),_=y.indexOf(w),x=e=>({width:g[e]||0,height:y[e]||0});return{first:x(0),last:x(t-1),widest:x(S),highest:x(_),widths:g,heights:y}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return ma(this._alignToPixels?mD(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let r=t[e];return r.$context||(r.$context=m8(this.getContext(),{tick:r,index:e,type:"tick"}))}return this.$context||(this.$context=m8(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let e=this.options.ticks,t=f7(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),n=this._getLabelSizes(),a=e.autoSkipPadding||0,s=n?n.widest.width+a:0,o=n?n.highest.height+a:0;return this.isHorizontal()?o*r>s*i?s/r:o/i:o*i<s*r?o/r:s/i}_isVisible(){let e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t,r,i,n,a,s,o,l,c,u,d,h;let p=this.axis,f=this.chart,m=this.options,{grid:g,position:y,border:v}=m,b=g.offset,w=this.isHorizontal(),S=this.ticks.length+(b?1:0),_=yK(g),x=[],k=v.setContext(this.getContext()),E=k.display?k.width:0,C=E/2,R=function(e){return mD(f,e,E)};if("top"===y)t=R(this.bottom),s=this.bottom-_,l=t-C,u=R(e.top)+C,h=e.bottom;else if("bottom"===y)t=R(this.top),u=e.top,h=R(e.bottom)-C,s=t+C,l=this.top+_;else if("left"===y)t=R(this.right),a=this.right-_,o=t-C,c=R(e.left)+C,d=e.right;else if("right"===y)t=R(this.left),c=e.left,d=R(e.right)-C,a=t+C,o=this.left+_;else if("x"===p){if("center"===y)t=R((e.top+e.bottom)/2+.5);else if(fR(y)){let e=Object.keys(y)[0],r=y[e];t=R(this.chart.scales[e].getPixelForValue(r))}u=e.top,h=e.bottom,l=(s=t+C)+_}else if("y"===p){if("center"===y)t=R((e.left+e.right)/2);else if(fR(y)){let e=Object.keys(y)[0],r=y[e];t=R(this.chart.scales[e].getPixelForValue(r))}o=(a=t-C)-_,c=e.left,d=e.right}let A=fP(m.ticks.maxTicksLimit,S),T=Math.max(1,Math.ceil(S/A));for(r=0;r<S;r+=T){let e=this.getContext(r),t=g.setContext(e),p=v.setContext(e),m=t.lineWidth,y=t.color,S=p.dash||[],_=p.dashOffset,k=t.tickWidth,E=t.tickColor,C=t.tickBorderDash||[],R=t.tickBorderDashOffset;void 0!==(i=function(e,t,r){let i;let n=e.ticks.length,a=Math.min(t,n-1),s=e._startPixel,o=e._endPixel,l=e.getPixelForTick(a);if(!r||(i=1===n?Math.max(l-s,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(a-1))/2,!((l+=a<t?i:-i)<s-1e-6)&&!(l>o+1e-6)))return l}(this,r,b))&&(n=mD(f,i,m),w?a=o=c=d=n:s=l=u=h=n,x.push({tx1:a,ty1:s,tx2:o,ty2:l,x1:c,y1:u,x2:d,y2:h,width:m,color:y,borderDash:S,borderDashOffset:_,tickWidth:k,tickColor:E,tickBorderDash:C,tickBorderDashOffset:R}))}return this._ticksLength=S,this._borderValue=t,x}_computeLabelItems(e){let t,r,i,n,a,s,o,l,c,u,d;let h=this.axis,p=this.options,{position:f,ticks:m}=p,g=this.isHorizontal(),y=this.ticks,{align:v,crossAlign:b,padding:w,mirror:S}=m,_=yK(p.grid),x=_+w,k=S?-w:x,E=-f7(this.labelRotation),C=[],R="middle";if("top"===f)a=this.bottom-k,s=this._getXAxisLabelAlignment();else if("bottom"===f)a=this.top+k,s=this._getXAxisLabelAlignment();else if("left"===f){let e=this._getYAxisLabelAlignment(_);s=e.textAlign,n=e.x}else if("right"===f){let e=this._getYAxisLabelAlignment(_);s=e.textAlign,n=e.x}else if("x"===h){if("center"===f)a=(e.top+e.bottom)/2+x;else if(fR(f)){let e=Object.keys(f)[0],t=f[e];a=this.chart.scales[e].getPixelForValue(t)+x}s=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===f)n=(e.left+e.right)/2-x;else if(fR(f)){let e=Object.keys(f)[0],t=f[e];n=this.chart.scales[e].getPixelForValue(t)}s=this._getYAxisLabelAlignment(_).textAlign}"y"===h&&("start"===v?R="top":"end"===v&&(R="bottom"));let A=this._getLabelSizes();for(t=0,r=y.length;t<r;++t){let e;i=y[t].label;let h=m.setContext(this.getContext(t));o=this.getPixelForTick(t)+m.labelOffset,c=(l=this._resolveTickFontOptions(t)).lineHeight;let p=(u=fC(i)?i.length:1)/2,v=h.color,w=h.textStrokeColor,_=h.textStrokeWidth,x=s;if(g?(n=o,"inner"===s&&(x=t===r-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),d="top"===f?"near"===b||0!==E?-u*c+c/2:"center"===b?-A.highest.height/2-p*c+c:-A.highest.height+c/2:"near"===b||0!==E?c/2:"center"===b?A.highest.height/2-p*c:A.highest.height-u*c,S&&(d*=-1),0===E||h.showLabelBackdrop||(n+=c/2*Math.sin(E))):(a=o,d=(1-u)*c/2),h.showLabelBackdrop){let i=m1(h.backdropPadding),n=A.heights[t],a=A.widths[t],o=d-i.top,l=0-i.left;switch(R){case"middle":o-=n/2;break;case"bottom":o-=n}switch(s){case"center":l-=a/2;break;case"right":l-=a;break;case"inner":t===r-1?l-=a:t>0&&(l-=a/2)}e={left:l,top:o,width:a+i.width,height:n+i.height,color:h.backdropColor}}C.push({label:i,font:l,textOffset:d,options:{rotation:E,color:v,strokeColor:w,strokeWidth:_,textAlign:x,textBaseline:R,translation:[n,a],backdrop:e}})}return C}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-f7(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){let t,r;let{position:i,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,c=o.widest.width;return"left"===i?a?(r=this.right+s,"near"===n?t="left":"center"===n?(t="center",r+=c/2):(t="right",r+=c)):(r=this.right-l,"near"===n?t="right":"center"===n?(t="center",r-=c/2):(t="left",r=this.left)):"right"===i?a?(r=this.left+s,"near"===n?t="right":"center"===n?(t="center",r-=c/2):(t="left",r-=c)):(r=this.left+l,"near"===n?t="left":"center"===n?(t="center",r+=c/2):(t="right",r=this.right)):t="right",{textAlign:t,x:r}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:i,width:n,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,n,a),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(t=>t.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t,r;let i=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(i.display)for(t=0,r=a.length;t<r;++t){let e=a[t];i.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),i.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){let e,t,r,i;let{chart:n,ctx:a,options:{border:s,grid:o}}=this,l=s.setContext(this.getContext()),c=s.display?l.width:0;if(!c)return;let u=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue;this.isHorizontal()?(e=mD(n,this.left,c)-c/2,t=mD(n,this.right,u)+u/2,r=i=d):(r=mD(n,this.top,c)-c/2,i=mD(n,this.bottom,u)+u/2,e=t=d),a.save(),a.lineWidth=l.width,a.strokeStyle=l.color,a.beginPath(),a.moveTo(e,r),a.lineTo(t,i),a.stroke(),a.restore()}drawLabels(e){if(!this.options.ticks.display)return;let t=this.ctx,r=this._computeLabelArea();for(let i of(r&&mF(t,r),this.getLabelItems(e))){let e=i.options,r=i.font;mW(t,i.label,0,i.textOffset,r,e)}r&&function(e){e.restore()}(t)}drawTitle(){let e;let{ctx:t,options:{position:r,title:i,reverse:n}}=this;if(!i.display)return;let a=m2(i.font),s=m1(i.padding),o=i.align,l=a.lineHeight/2;"bottom"===r||"center"===r||fR(r)?(l+=s.bottom,fC(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:h}=function(e,t,r,i){let n,a,s;let{top:o,left:l,bottom:c,right:u,chart:d}=e,{chartArea:h,scales:p}=d,f=0,m=c-o,g=u-l;if(e.isHorizontal()){if(a=mg(i,l,u),fR(r)){let e=Object.keys(r)[0],i=r[e];s=p[e].getPixelForValue(i)+m-t}else s="center"===r?(h.bottom+h.top)/2+m-t:yL(e,r,t);n=u-l}else{if(fR(r)){let e=Object.keys(r)[0],i=r[e];a=p[e].getPixelForValue(i)-g+t}else a="center"===r?(h.left+h.right)/2-g+t:yL(e,r,t);s=mg(i,c,o),f="left"===r?-fZ:fZ}return{titleX:a,titleY:s,maxWidth:n,rotation:f}}(this,l,r,o);mW(t,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:h,textAlign:(e=mm(o),(n&&"right"!==r||!n&&"right"===r)&&(e=yU(e)),e),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=fP(e.grid&&e.grid.z,-1),i=fP(e.border&&e.border.z,0);return this._isVisible()&&this.draw===y$.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){let t,r;let i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];for(t=0,r=i.length;t<r;++t){let r=i[t];r[n]!==this.id||e&&r.type!==e||a.push(r)}return a}_resolveTickFontOptions(e){return m2(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yF{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t;let r=Object.getPrototypeOf(e);"id"in r&&"defaults"in r&&(t=this.register(r));let i=this.items,n=e.id,a=this.scope+"."+n;if(!n)throw Error("class does not have id: "+e);return n in i||(i[n]=e,function(e,t,r){let i=fD(Object.create(null),[r?mL.get(r):{},mL.get(t),e.defaults]);mL.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(r=>{let i=r.split("."),n=i.pop(),a=[e].concat(i).join("."),s=t[r].split("."),o=s.pop(),l=s.join(".");mL.route(a,n,l,o)})}(t,e.defaultRoutes),e.descriptors&&mL.describe(t,e.descriptors)}(e,a,t),this.override&&mL.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in mL[i]&&(delete mL[i][r],this.override&&delete mI[r])}}class yz{constructor(){this.controllers=new yF(gY,"datasets",!0),this.elements=new yF(yj,"elements"),this.plugins=new yF(Object,"plugins"),this.scales=new yF(y$,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(t=>{let i=r||this._getRegistryForType(t);r||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):fj(t,t=>{let i=r||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,r){let i=fz(e);fN(r["before"+i],[],r),t[e](r),fN(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let i=t.get(e);if(void 0===i)throw Error('"'+e+'" is not a registered '+r+".");return i}}var yV=new yz;class yH{constructor(){this._init=[]}notify(e,t,r,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let n=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(n,e,t,r);return"afterDestroy"===t&&(this._notify(n,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){for(let n of(i=i||{},e)){let e=n.plugin;if(!1===fN(e[r],[t,i,n.options],e)&&i.cancelable)return!1}return!0}invalidate(){fE(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,i=fP(r.options&&r.options.plugins,{}),n=function(e){let t={},r=[],i=Object.keys(yV.plugins.items);for(let e=0;e<i.length;e++)r.push(yV.getPlugin(i[e]));let n=e.plugins||[];for(let e=0;e<n.length;e++){let i=n[e];-1===r.indexOf(i)&&(r.push(i),t[i.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==i||t?function(e,{plugins:t,localIds:r},i,n){let a=[],s=e.getContext();for(let l of t){var o;let t=l.id,c=(o=i[t],n||!1!==o?!0===o?{}:o:null);null!==c&&a.push({plugin:l,options:function(e,{plugin:t,local:r},i,n){let a=e.pluginScopeKeys(t),s=e.getOptionScopes(i,a);return r&&t.defaults&&s.push(t.defaults),e.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(e.config,{plugin:l,local:r[t]},c,s)})}return a}(e,n,i,t):[]}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function yW(e,t){let r=mL.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function yG(e){if("x"===e||"y"===e||"r"===e)return e}function yJ(e,...t){if(yG(e))return e;for(let i of t){var r;let t=i.axis||("top"===(r=i.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||e.length>1&&yG(e[0].toLowerCase());if(t)return t}throw Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function yY(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function yX(e){let t=e.options||(e.options={});t.plugins=fP(t.plugins,{}),t.scales=function(e,t){let r=mI[e.type]||{scales:{}},i=t.scales||{},n=yW(e.type,t),a=Object.create(null);return Object.keys(i).forEach(t=>{let s=i[t];if(!fR(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);let o=yJ(t,s,function(e,t){if(t.data&&t.data.datasets){let r=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(r.length)return yY(e,"x",r[0])||yY(e,"y",r[0])}return{}}(t,e),mL.scales[s.type]),l=o===n?"_index_":"_value_",c=r.scales||{};a[t]=fK(Object.create(null),[{axis:o},s,c[o],c[l]])}),e.data.datasets.forEach(r=>{let n=r.type||e.type,s=r.indexAxis||yW(n,t),o=(mI[n]||{}).scales||{};Object.keys(o).forEach(e=>{let t;let n=(t=e,"_index_"===e?t=s:"_value_"===e&&(t="x"===s?"y":"x"),t),l=r[n+"AxisID"]||n;a[l]=a[l]||Object.create(null),fK(a[l],[{axis:n},i[l],o[e]])})}),Object.keys(a).forEach(e=>{let t=a[e];fK(t,[mL.scales[t.type],mL.scale])}),a}(e,t)}function yQ(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}let yZ=new Map,y0=new Set;function y1(e,t){let r=yZ.get(e);return r||(r=t(),yZ.set(e,r),y0.add(r)),r}let y2=(e,t,r)=>{let i=fF(t,r);void 0!==i&&e.add(i)};class y3{constructor(e){this._config=function(e){return(e=e||{}).data=yQ(e.data),yX(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=yQ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),yX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return y1(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return y1(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return y1(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return y1(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){let{options:i,type:n}=this,a=this._cachedScopes(e,r),s=a.get(t);if(s)return s;let o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>y2(o,e,t))),t.forEach(e=>y2(o,i,e)),t.forEach(e=>y2(o,mI[n]||{},e)),t.forEach(e=>y2(o,mL,e)),t.forEach(e=>y2(o,mN,e))});let l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),y0.has(t)&&a.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,mI[t]||{},mL.datasets[t]||{},{type:t},mL,mN]}resolveNamedOptions(e,t,r,i=[""]){let n={$shared:!0},{resolver:a,subPrefixes:s}=y8(this._resolverCache,e,i),o=a;if(function(e,t){let{isScriptable:r,isIndexable:i}=m5(e);for(let n of t){let t=r(n),a=i(n),s=(a||t)&&e[n];if(t&&(fH(s)||y4(s))||a&&fC(s))return!0}return!1}(a,t)){n.$shared=!1,r=fH(r)?r():r;let t=this.createResolver(e,r,s);o=m6(a,r,t)}for(let e of t)n[e]=o[e];return n}createResolver(e,t,r=[""],i){let{resolver:n}=y8(this._resolverCache,e,r);return fR(t)?m6(n,t,void 0,i):n}}function y8(e,t,r){let i=e.get(t);i||(i=new Map,e.set(t,i));let n=r.join(),a=i.get(n);return a||(a={resolver:m4(t,r),subPrefixes:r.filter(e=>!e.toLowerCase().includes("hover"))},i.set(n,a)),a}let y4=e=>fR(e)&&Object.getOwnPropertyNames(e).some(t=>fH(e[t])),y6=["top","bottom","left","right","chartArea"];function y5(e,t){return"top"===e||"bottom"===e||-1===y6.indexOf(e)&&"x"===t}function y7(e,t){return function(r,i){return r[e]===i[e]?r[t]-i[t]:r[e]-i[e]}}function y9(e){let t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),fN(r&&r.onComplete,[e],t)}function ve(e){let t=e.chart,r=t.options.animation;fN(r&&r.onProgress,[e],t)}function vt(e){return gd()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}let vr={},vi=e=>{let t=vt(e);return Object.values(vr).filter(e=>e.canvas===t).pop()};function vn(e,t,r){return e.options.clip?e[r]:t[r]}class va{static defaults=mL;static instances=vr;static overrides=mI;static registry=yV;static version="4.4.3";static getChart=vi;static register(...e){yV.add(...e),vs()}static unregister(...e){yV.remove(...e),vs()}constructor(e,t){let r=this.config=new y3(t),i=vt(e),n=vi(i);if(n)throw Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||(!gd()||"undefined"!=typeof OffscreenCanvas&&i instanceof OffscreenCanvas?yb:yN)),this.platform.updateConfig(r);let s=this.platform.acquireContext(i,a.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;if(this.id=fk(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(...i){return t?(clearTimeout(r),r=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],vr[this.id]=this,!s||!o){console.error("Failed to create chart: can't acquire context from the given item");return}gj.listen(this,"complete",y9),gj.listen(this,"progress",ve),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:n}=this;return fE(e)?t&&n?n:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yV}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mK(this.canvas,this.ctx),this}stop(){return gj.stop(this),this}resize(e,t){gj.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let r=this.options,i=this.canvas,n=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,n),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,gw(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),fN(r.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){fj(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){let e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((e,t)=>(e[t]=!1,e),{}),n=[];t&&(n=n.concat(Object.keys(t).map(e=>{let r=t[e],i=yJ(e,r),n="r"===i,a="x"===i;return{options:r,dposition:n?"chartArea":a?"bottom":"left",dtype:n?"radialLinear":a?"category":"linear"}}))),fj(n,t=>{let n=t.options,a=n.id,s=yJ(a,n),o=fP(n.type,t.dtype);(void 0===n.position||y5(n.position,s)!==y5(t.dposition))&&(n.position=t.dposition),i[a]=!0;let l=null;a in r&&r[a].type===o?l=r[a]:r[(l=new(yV.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this})).id]=l,l.init(n,e)}),fj(i,(e,t)=>{e||delete r[t]}),fj(r,e=>{yy.configure(this,e,e.options),yy.addBox(this,e)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((e,t)=>e.index-t.index),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(y7("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,r)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e,t;let r=[],i=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=i.length;e<t;e++){let t=i[e],n=this.getDatasetMeta(e),a=t.type||this.config.type;if(n.type&&n.type!==a&&(this._destroyDatasetMeta(e),n=this.getDatasetMeta(e)),n.type=a,n.indexAxis=t.indexAxis||yW(a,this.options),n.order=t.order||0,n.index=e,n.label=""+t.label,n.visible=this.isDatasetVisible(e),n.controller)n.controller.updateIndex(e),n.controller.linkScales();else{let t=yV.getController(a),{datasetElementType:i,dataElementType:s}=mL.datasets[a];Object.assign(t,{dataElementType:yV.getElement(s),datasetElementType:i&&yV.getElement(i)}),n.controller=new t(this,e),r.push(n.controller)}}return this._updateMetasets(),r}_resetElements(){fj(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;let n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){let{controller:t}=this.getDatasetMeta(e),r=!i&&-1===n.indexOf(t);t.buildOrUpdateElements(r),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||fj(n,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(y7("z","_idx"));let{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){fj(this.scales,e=>{yy.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options;fW(new Set(Object.keys(this._listeners)),new Set(e.events))&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this;for(let{method:t,start:r,count:i}of this._getUniformDataChanges()||[])!function(e,t,r){for(let i of Object.keys(e)){let n=+i;if(n>=t){let a=e[i];delete e[i],(r>0||n>t)&&(e[n+r]=a)}}}(e,r,"_removeElements"===t?-i:i)}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,r=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=r(0);for(let e=1;e<t;e++)if(!fW(i,r(e)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;yy.update(this,this.width,this.height,e);let t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],fj(this.boxes,e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,fH(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(gj.has(this)?this.attached&&!gj.running(this)&&gj.start(this):(this.draw(),y9({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t,r;let i=this._sortedMetasets,n=[];for(t=0,r=i.length;t<r;++t){let r=i[t];(!e||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,r=e._clip,i=!r.disabled,n=function(e,t){let{xScale:r,yScale:i}=e;return r&&i?{left:vn(r,t,"left"),right:vn(r,t,"right"),top:vn(i,t,"top"),bottom:vn(i,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&mF(t,{left:!1===r.left?0:n.left-r.left,right:!1===r.right?this.width:n.right+r.right,top:!1===r.top?0:n.top-r.top,bottom:!1===r.bottom?this.height:n.bottom+r.bottom}),e.controller.draw(),i&&function(e){e.restore()}(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return m$(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){let n=yo.modes[t];return"function"==typeof n?n(this,e,r,i):[]}getDatasetMeta(e){let t=this.data.datasets[e],r=this._metasets,i=r.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=m8(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){let i=r?"show":"hide",n=this.getDatasetMeta(e),a=n.controller._resolveAnimations(void 0,i);fV(t)?(n.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(n,{visible:r}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),gj.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),mK(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete vr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,r=(r,i)=>{t.addEventListener(this,r,i),e[r]=i},i=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};fj(this.options.events,e=>r(e,i))}bindResponsiveEvents(){let e;this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(e,i)=>{r.addEventListener(this,e,i),t[e]=i},n=(e,i)=>{t[e]&&(r.removeEventListener(this,e,i),delete t[e])},a=(e,t)=>{this.canvas&&this.resize(e,t)},s=()=>{n("attach",s),this.attached=!0,this.resize(),i("resize",a),i("detach",e)};e=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),i("attach",s)},r.isAttached(this.canvas)?s():e()}unbindEvents(){fj(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},fj(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){let i,n,a;let s=r?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+s+"DatasetHoverStyle"](),n=0,a=e.length;n<a;++n){let t=(i=e[n])&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[s+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],r=e.map(({datasetIndex:e,index:t})=>{let r=this.getDatasetMeta(e);if(!r)throw Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[t],index:t}});fB(r,t)||(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,r){let i=this.options.hover,n=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=n(t,e),s=r?e:n(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(e,t){let r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,i))return;let n=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(n||r.changed)&&this.render(),this}_handleEvent(e,t,r){var i;let{_active:n=[],options:a}=this,s=this._getActiveElements(e,n,r,t),o="mouseup"===e.type||"click"===e.type||"contextmenu"===e.type,l=(i=this._lastEvent,r&&"mouseout"!==e.type?o?i:e:null);r&&(this._lastEvent=null,fN(a.onHover,[e,s,this],this),o&&fN(a.onClick,[e,s,this],this));let c=!fB(s,n);return(c||t)&&(this._active=s,this._updateHoverStyles(s,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,r,i){if("mouseout"===e.type)return[];if(!r)return t;let n=this.options.hover;return this.getElementsAtEventForMode(e,n.mode,n,i)}}function vs(){return fj(va.instances,e=>e._plugins.invalidate())}function vo(e,t,r,i){return{x:r+e*Math.cos(t),y:i+e*Math.sin(t)}}function vl(e,t,r,i,n,a){let{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+r-c,0),h=u>0?u+i+r+c:0,p=0,f=n-l;if(i){let e=d>0?d-i:0,t=((u>0?u-i:0)+e)/2;p=(f-(0!==t?f*t/(t+i):f))/2}let m=Math.max(.001,f*d-r/fG)/d,g=(f-m)/2,y=l+g+p,v=n-g-p,{outerStart:b,outerEnd:w,innerStart:S,innerEnd:_}=function(e,t,r,i){let n=mQ(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(r-t)/2,s=Math.min(a,i*t/2),o=e=>{let t=(r-Math.min(a,e))*i/2;return ma(e,0,Math.min(a,t))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:ma(n.innerStart,0,s),innerEnd:ma(n.innerEnd,0,s)}}(t,h,d,v-y),x=d-b,k=d-w,E=y+b/x,C=v-w/k,R=h+S,A=h+_,T=y+S/R,P=v-_/A;if(e.beginPath(),a){let t=(E+C)/2;if(e.arc(s,o,d,E,t),e.arc(s,o,d,t,C),w>0){let t=vo(k,C,s,o);e.arc(t.x,t.y,w,C,v+fZ)}let r=vo(A,v,s,o);if(e.lineTo(r.x,r.y),_>0){let t=vo(A,P,s,o);e.arc(t.x,t.y,_,v+fZ,P+Math.PI)}let i=(v-_/h+(y+S/h))/2;if(e.arc(s,o,h,v-_/h,i,!0),e.arc(s,o,h,i,y+S/h,!0),S>0){let t=vo(R,T,s,o);e.arc(t.x,t.y,S,T+Math.PI,y-fZ)}let n=vo(x,y,s,o);if(e.lineTo(n.x,n.y),b>0){let t=vo(x,E,s,o);e.arc(t.x,t.y,b,y-fZ,E)}}else{e.moveTo(s,o);let t=Math.cos(E)*d+s,r=Math.sin(E)*d+o;e.lineTo(t,r);let i=Math.cos(C)*d+s,n=Math.sin(C)*d+o;e.lineTo(i,n)}e.closePath()}class vc extends yj{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){let{angle:i,distance:n}=me(this.getProps(["x","y"],r),{x:e,y:t}),{startAngle:a,endAngle:s,innerRadius:o,outerRadius:l,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),u=(this.options.spacing+this.options.borderWidth)/2,d=fP(c,s-a)>=fJ||mn(i,a,s),h=ms(n,o+u,l+u);return d&&h}getCenterPoint(e){let{x:t,y:r,startAngle:i,endAngle:n,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(i+n)/2,u=(a+s+l+o)/2;return{x:t+Math.cos(c)*u,y:r+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:r}=this,i=(t.offset||0)/4,n=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>fJ?Math.floor(r/fJ):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*i,Math.sin(s)*i);let o=i*(1-Math.sin(Math.min(fG,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,i,n){let{fullCircles:a,startAngle:s,circumference:o}=t,l=t.endAngle;if(a){vl(e,t,r,i,l,n);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=s+(o%fJ||fJ))}vl(e,t,r,i,l,n),e.fill()}(e,this,o,n,a),function(e,t,r,i,n){let{fullCircles:a,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let f=t.endAngle;if(a){vl(e,t,r,i,f,n);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(f=s+(o%fJ||fJ))}p&&function(e,t,r){let{startAngle:i,pixelMargin:n,x:a,y:s,outerRadius:o,innerRadius:l}=t,c=n/o;e.beginPath(),e.arc(a,s,o,i-c,r+c),l>n?(c=n/l,e.arc(a,s,l,r+c,i-c,!0)):e.arc(a,s,n,r+fZ,i-fZ),e.closePath(),e.clip()}(e,t,f),a||(vl(e,t,r,i,f,n),e.stroke())}(e,this,o,n,a),e.restore()}}function vu(e,t,r=t){e.lineCap=fP(r.borderCapStyle,t.borderCapStyle),e.setLineDash(fP(r.borderDash,t.borderDash)),e.lineDashOffset=fP(r.borderDashOffset,t.borderDashOffset),e.lineJoin=fP(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=fP(r.borderWidth,t.borderWidth),e.strokeStyle=fP(r.borderColor,t.borderColor)}function vd(e,t,r){e.lineTo(r.x,r.y)}function vh(e,t,r={}){let i=e.length,{start:n=0,end:a=i-1}=r,{start:s,end:o}=t,l=Math.max(n,s),c=Math.min(a,o);return{count:i,start:l,loop:t.loop,ilen:c<l&&!(n<s&&a<s||n>o&&a>o)?i+c-l:c-l}}function vp(e,t,r,i){let n,a,s;let{points:o,options:l}=t,{count:c,start:u,loop:d,ilen:h}=vh(o,r,i),p=l.stepped?mV:l.tension||"monotone"===l.cubicInterpolationMode?mH:vd,{move:f=!0,reverse:m}=i||{};for(n=0;n<=h;++n)(a=o[(u+(m?h-n:n))%c]).skip||(f?(e.moveTo(a.x,a.y),f=!1):p(e,s,a,m,l.stepped),s=a);return d&&p(e,s,a=o[(u+(m?h:0))%c],m,l.stepped),!!d}function vf(e,t,r,i){let n,a,s,o,l,c;let u=t.points,{count:d,start:h,ilen:p}=vh(u,r,i),{move:f=!0,reverse:m}=i||{},g=0,y=0,v=e=>(h+(m?p-e:e))%d,b=()=>{o!==l&&(e.lineTo(g,l),e.lineTo(g,o),e.lineTo(g,c))};for(f&&(a=u[v(0)],e.moveTo(a.x,a.y)),n=0;n<=p;++n){if((a=u[v(n)]).skip)continue;let t=a.x,r=a.y,i=0|t;i===s?(r<o?o=r:r>l&&(l=r),g=(y*g+t)/++y):(b(),e.lineTo(t,r),s=i,y=0,o=l=r),c=r}b()}function vm(e){let t=e.options,r=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||r?vp:vf}let vg="function"==typeof Path2D;class vy extends yj{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){let i=r.spanGaps?this._loop:this._fullLoop;(function(e,t,r,i,n){let a,s,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){let r,i,n;let a=gc(t),s=e.length,o=Array(s).fill(0),l=Array(s),c=gl(e,0);for(r=0;r<s;++r)if(i=n,n=c,c=gl(e,r+1),n){if(c){let e=c[t]-n[t];o[r]=0!==e?(c[a]-n[a])/e:0}l[r]=i?c?f3(o[r-1])!==f3(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}(function(e,t,r){let i,n,a,s,o;let l=e.length,c=gl(e,0);for(let u=0;u<l-1;++u)if(o=c,c=gl(e,u+1),o&&c){if(f8(t[u],0,go)){r[u]=r[u+1]=0;continue}(s=Math.pow(i=r[u]/t[u],2)+Math.pow(n=r[u+1]/t[u],2))<=9||(a=3/Math.sqrt(s),r[u]=i*a*t[u],r[u+1]=n*a*t[u])}})(e,o,l),function(e,t,r="x"){let i,n,a;let s=gc(r),o=e.length,l=gl(e,0);for(let c=0;c<o;++c){if(n=a,a=l,l=gl(e,c+1),!a)continue;let o=a[r],u=a[s];n&&(i=(o-n[r])/3,a[`cp1${r}`]=o-i,a[`cp1${s}`]=u-i*t[c]),l&&(i=(l[r]-o)/3,a[`cp2${r}`]=o+i,a[`cp2${s}`]=u+i*t[c])}}(e,l,t)}(e,n);else{let r=i?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)l=function(e,t,r,i){let n=e.skip?t:e,a=r.skip?t:r,s=mt(t,n),o=mt(a,t),l=s/(s+o),c=o/(s+o);l=isNaN(l)?0:l,c=isNaN(c)?0:c;let u=i*l,d=i*c;return{previous:{x:t.x-u*(a.x-n.x),y:t.y-u*(a.y-n.y)},next:{x:t.x+d*(a.x-n.x),y:t.y+d*(a.y-n.y)}}}(r,o=e[a],e[Math.min(a+1,s-(i?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,r=o}t.capBezierPoints&&function(e,t){let r,i,n,a,s;let o=m$(e[0],t);for(r=0,i=e.length;r<i;++r)s=a,a=o,o=r<i-1&&m$(e[r+1],t),a&&(n=e[r],s&&(n.cp1x=gu(n.cp1x,t.left,t.right),n.cp1y=gu(n.cp1y,t.top,t.bottom)),o&&(n.cp2x=gu(n.cp2x,t.left,t.right),n.cp2y=gu(n.cp2y,t.top,t.bottom)))}(e,r)})(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){let r=e.points,i=e.options.spanGaps,n=r.length;if(!n)return[];let a=!!e._loop,{start:s,end:o}=function(e,t,r,i){let n=0,a=t-1;if(r&&!i)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,r&&(a+=n);a>n&&e[a%t].skip;)a--;return{start:n,end:a%=t}}(r,n,a,i);if(!0===i)return gO(e,[{start:s,end:o,loop:a}],r,t);let l=o<s?o+n:o,c=!!e._fullLoop&&0===s&&o===n-1;return gO(e,function(e,t,r,i){let n;let a=e.length,s=[],o=t,l=e[t];for(n=t+1;n<=r;++n){let r=e[n%a];r.skip||r.stop?l.skip||(i=!1,s.push({start:t%a,end:(n-1)%a,loop:i}),t=o=r.stop?n:null):(o=n,l.skip&&(t=n)),l=r}return null!==o&&s.push({start:t%a,end:o%a,loop:i}),s}(r,s,l,c),r,t)}(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){let r,i;let n=this.options,a=e[t],s=this.points,o=gP(this,{property:t,start:a,end:a});if(!o.length)return;let l=[],c=n.stepped?gk:n.tension||"monotone"===n.cubicInterpolationMode?gE:gx;for(r=0,i=o.length;r<i;++r){let{start:i,end:u}=o[r],d=s[i],h=s[u];if(d===h){l.push(d);continue}let p=Math.abs((a-d[t])/(h[t]-d[t])),f=c(d,h,p,n.stepped);f[t]=e[t],l.push(f)}return 1===l.length?l[0]:l}pathSegment(e,t,r){return vm(this)(e,this,t,r)}path(e,t,r){let i=this.segments,n=vm(this),a=this._loop;for(let s of(t=t||0,r=r||this.points.length-t,i))a&=n(e,this,s,{start:t,end:t+r-1});return!!a}draw(e,t,r,i){let n=this.options||{};(this.points||[]).length&&n.borderWidth&&(e.save(),function(e,t,r,i){if(vg&&!t.options.segment){let n;(n=t._path)||(n=t._path=new Path2D,t.path(n,r,i)&&n.closePath()),vu(e,t.options),e.stroke(n)}else!function(e,t,r,i){let{segments:n,options:a}=t,s=vm(t);for(let o of n)vu(e,a,o.style),e.beginPath(),s(e,t,o,{start:r,end:r+i-1})&&e.closePath(),e.stroke()}(e,t,r,i)}(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function vv(e,t,r,i){let n=e.options,{[r]:a}=e.getProps([r],i);return Math.abs(t-a)<n.radius+n.hitRadius}class vb extends yj{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){let i=this.options,{x:n,y:a}=this.getProps(["x","y"],r);return Math.pow(e-n,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return vv(this,e,"x",t)}inYRange(e,t){return vv(this,e,"y",t)}getCenterPoint(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0,r=(t=Math.max(t,t&&e.hoverRadius||0))&&e.borderWidth||0;return(t+r)*2}draw(e,t){let r=this.options;!this.skip&&!(r.radius<.1)&&m$(this,t,this.size(r)/2)&&(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,mq(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}function vw(e,t){let r,i,n,a,s;let{x:o,y:l,base:c,width:u,height:d}=e.getProps(["x","y","base","width","height"],t);return e.horizontal?(s=d/2,r=Math.min(o,c),i=Math.max(o,c),n=l-s,a=l+s):(r=o-(s=u/2),i=o+s,n=Math.min(l,c),a=Math.max(l,c)),{left:r,top:n,right:i,bottom:a}}function vS(e,t,r,i){return e?0:ma(t,r,i)}function v_(e,t,r,i){let n=null===t,a=null===r,s=e&&!(n&&a)&&vw(e,i);return s&&(n||ms(t,s.left,s.right))&&(a||ms(r,s.top,s.bottom))}function vx(e,t){e.rect(t.x,t.y,t.w,t.h)}function vk(e,t,r={}){let i=e.x!==r.x?-t:0,n=e.y!==r.y?-t:0,a=(e.x+e.w!==r.x+r.w?t:0)-i,s=(e.y+e.h!==r.y+r.h?t:0)-n;return{x:e.x+i,y:e.y+n,w:e.w+a,h:e.h+s,radius:e.radius}}class vE extends yj{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){var t;let{inflateAmount:r,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:s}=function(e){let t=vw(e),r=t.right-t.left,i=t.bottom-t.top,n=function(e,t,r){let i=e.options.borderWidth,n=e.borderSkipped,a=mZ(i);return{t:vS(n.top,a.top,0,r),r:vS(n.right,a.right,0,t),b:vS(n.bottom,a.bottom,0,r),l:vS(n.left,a.left,0,t)}}(e,r/2,i/2),a=function(e,t,r){let{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,a=m0(n),s=Math.min(t,r),o=e.borderSkipped,l=i||fR(n);return{topLeft:vS(!l||o.top||o.left,a.topLeft,0,s),topRight:vS(!l||o.top||o.right,a.topRight,0,s),bottomLeft:vS(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:vS(!l||o.bottom||o.right,a.bottomRight,0,s)}}(e,r/2,i/2);return{outer:{x:t.left,y:t.top,w:r,h:i,radius:a},inner:{x:t.left+n.l,y:t.top+n.t,w:r-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}(this),o=(t=s.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?mG:vx;e.save(),(s.w!==a.w||s.h!==a.h)&&(e.beginPath(),o(e,vk(s,r,a)),e.clip(),o(e,vk(a,-r,s)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,vk(a,r)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return v_(this,e,t,r)}inXRange(e,t){return v_(this,e,null,t)}inYRange(e,t){return v_(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:i,horizontal:n}=this.getProps(["x","y","base","horizontal"],e);return{x:n?(t+i)/2:t,y:n?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function vC(e,t,r,i){if(i)return;let n=t[e],a=r[e];return"angle"===e&&(n=mi(n),a=mi(a)),{property:e,start:n,end:a}}function vR(e,t,r){for(;t>e;t--){let e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function vA(e,t,r,i){return e&&t?i(e[r],t[r]):e?e[r]:t?t[r]:0}e=>e.replace("rgb(","rgba(").replace(")",", 0.5)");function vT(e,t,r,i){let n=t.interpolate(r,i);n&&e.lineTo(n.x,n.y)}new WeakMap;let vP={average(e){let t,r;if(!e.length)return!1;let i=new Set,n=0,a=0;for(t=0,r=e.length;t<r;++t){let r=e[t].element;if(r&&r.hasValue()){let e=r.tooltipPosition();i.add(e.x),n+=e.y,++a}}return{x:[...i].reduce((e,t)=>e+t)/i.size,y:n/a}},nearest(e,t){let r,i,n;if(!e.length)return!1;let a=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(r=0,i=e.length;r<i;++r){let i=e[r].element;if(i&&i.hasValue()){let e=mt(t,i.getCenterPoint());e<o&&(o=e,n=i)}}if(n){let e=n.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function vO(e,t){return t&&(fC(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function vI(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function vN(e,t){let r=e.chart.ctx,{body:i,footer:n,title:a}=e,{boxWidth:s,boxHeight:o}=t,l=m2(t.bodyFont),c=m2(t.titleFont),u=m2(t.footerFont),d=a.length,h=n.length,p=i.length,f=m1(t.padding),m=f.height,g=0,y=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);y+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y&&(m+=p*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(y-p)*l.lineHeight+(y-1)*t.bodySpacing),h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0,b=function(e){g=Math.max(g,r.measureText(e).width+v)};return r.save(),r.font=c.string,fj(e.title,b),r.font=l.string,fj(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?s+2+t.boxPadding:0,fj(i,e=>{fj(e.before,b),fj(e.lines,b),fj(e.after,b)}),v=0,r.font=u.string,fj(e.footer,b),r.restore(),{width:g+=f.width,height:m}}function vj(e,t,r){let i=r.yAlign||t.yAlign||function(e,t){let{y:r,height:i}=t;return r<i/2?"top":r>e.height-i/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||function(e,t,r,i){let{x:n,width:a}=r,{width:s,chartArea:{left:o,right:l}}=e,c="center";return"center"===i?c=n<=(o+l)/2?"left":"right":n<=a/2?c="left":n>=s-a/2&&(c="right"),function(e,t,r,i){let{x:n,width:a}=i,s=r.caretSize+r.caretPadding;if("left"===e&&n+a+s>t.width||"right"===e&&n-a-s<0)return!0}(c,e,t,r)&&(c="center"),c}(e,t,r,i),yAlign:i}}function vB(e,t,r,i){let{caretSize:n,caretPadding:a,cornerRadius:s}=e,{xAlign:o,yAlign:l}=r,c=n+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=m0(s),f=function(e,t){let{x:r,width:i}=e;return"right"===t?r-=i:"center"===t&&(r-=i/2),r}(t,o),m=function(e,t,r){let{y:i,height:n}=e;return"top"===t?i+=r:"bottom"===t?i-=n+r:i-=n/2,i}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(u,h)+n:"right"===o&&(f+=Math.max(d,p)+n),{x:ma(f,0,i.width-t.width),y:ma(m,0,i.height-t.height)}}function vU(e,t,r){let i=m1(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function vL(e,t){let r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}let vM={beforeTitle:fx,title(e){if(e.length>0){let t=e[0],r=t.chart.data.labels,i=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return r[t.dataIndex]}return""},afterTitle:fx,beforeBody:fx,beforeLabel:fx,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let r=e.formattedValue;return fE(r)||(t+=r),t},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:fx,afterBody:fx,beforeFooter:fx,footer:fx,afterFooter:fx};function vD(e,t,r,i){let n=e[t].call(r,i);return void 0===n?vM[t].call(r,i):n}class vK extends yj{static positioners=vP;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,n=new gM(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=m8(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){let{callbacks:r}=t,i=vD(r,"beforeTitle",this,e),n=vD(r,"title",this,e),a=vD(r,"afterTitle",this,e),s=[];return s=vO(s,vI(i)),s=vO(s,vI(n)),s=vO(s,vI(a))}getBeforeBody(e,t){return vO([],vI(vD(t.callbacks,"beforeBody",this,e)))}getBody(e,t){let{callbacks:r}=t,i=[];return fj(e,e=>{let t={before:[],lines:[],after:[]},n=vL(r,e);vO(t.before,vI(vD(n,"beforeLabel",this,e))),vO(t.lines,vD(n,"label",this,e)),vO(t.after,vI(vD(n,"afterLabel",this,e))),i.push(t)}),i}getAfterBody(e,t){return vO([],vI(vD(t.callbacks,"afterBody",this,e)))}getFooter(e,t){let{callbacks:r}=t,i=vD(r,"beforeFooter",this,e),n=vD(r,"footer",this,e),a=vD(r,"afterFooter",this,e),s=[];return s=vO(s,vI(i)),s=vO(s,vI(n)),s=vO(s,vI(a))}_createItems(e){let t,r;let i=this._active,n=this.chart.data,a=[],s=[],o=[],l=[];for(t=0,r=i.length;t<r;++t)l.push(function(e,t){let{element:r,datasetIndex:i,index:n}=t,a=e.getDatasetMeta(i).controller,{label:s,value:o}=a.getLabelAndValue(n);return{chart:e,label:s,parsed:a.getParsed(n),raw:e.data.datasets[i].data[n],formattedValue:o,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:r}}(this.chart,i[t]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),fj(l,t=>{let r=vL(e.callbacks,t);a.push(vD(r,"labelColor",this,t)),s.push(vD(r,"labelPointStyle",this,t)),o.push(vD(r,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){let r;let i=this.options.setContext(this.getContext()),n=this._active,a=[];if(n.length){let e=vP[i.position].call(this,n,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let t=this._size=vN(this,i),s=Object.assign({},e,t),o=vj(this.chart,i,s),l=vB(i,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){let n=this.getCaretPosition(e,r,i);t.lineTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineTo(n.x3,n.y3)}getCaretPosition(e,t,r){let i,n,a,s,o,l;let{xAlign:c,yAlign:u}=this,{caretSize:d,cornerRadius:h}=r,{topLeft:p,topRight:f,bottomLeft:m,bottomRight:g}=m0(h),{x:y,y:v}=e,{width:b,height:w}=t;return"center"===u?(o=v+w/2,"left"===c?(n=(i=y)-d,s=o+d,l=o-d):(n=(i=y+b)+d,s=o-d,l=o+d),a=i):(n="left"===c?y+Math.max(p,m)+d:"right"===c?y+b-Math.max(f,g)-d:this.caretX,"top"===u?(o=(s=v)-d,i=n-d,a=n+d):(o=(s=v+w)+d,i=n+d,a=n-d),l=s),{x1:i,x2:n,x3:a,y1:s,y2:o,y3:l}}drawTitle(e,t,r){let i,n,a;let s=this.title,o=s.length;if(o){let l=gC(r.rtl,this.x,this.width);for(a=0,e.x=vU(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",i=m2(r.titleFont),n=r.titleSpacing,t.fillStyle=r.titleColor,t.font=i.string;a<o;++a)t.fillText(s[a],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n,a+1===o&&(e.y+=r.titleMarginBottom-n)}}_drawColorBox(e,t,r,i,n){let a=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:o,boxWidth:l}=n,c=m2(n.bodyFont),u=vU(this,"left",n),d=i.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,p=t.y+h;if(n.usePointStyle){let t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},r=i.leftForLtr(d,l)+l/2,c=p+o/2;e.strokeStyle=n.multiKeyBackground,e.fillStyle=n.multiKeyBackground,mq(e,t,r,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,mq(e,t,r,c)}else{e.lineWidth=fR(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let t=i.leftForLtr(d,l),r=i.leftForLtr(i.xPlus(d,1),l-2),s=m0(a.borderRadius);Object.values(s).some(e=>0!==e)?(e.beginPath(),e.fillStyle=n.multiKeyBackground,mG(e,{x:t,y:p,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),mG(e,{x:r,y:p+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=n.multiKeyBackground,e.fillRect(t,p,l,o),e.strokeRect(t,p,l,o),e.fillStyle=a.backgroundColor,e.fillRect(r,p+1,l-2,o-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){let i,n,a,s,o,l,c;let{body:u}=this,{bodySpacing:d,bodyAlign:h,displayColors:p,boxHeight:f,boxWidth:m,boxPadding:g}=r,y=m2(r.bodyFont),v=y.lineHeight,b=0,w=gC(r.rtl,this.x,this.width),S=function(r){t.fillText(r,w.x(e.x+b),e.y+v/2),e.y+=v+d},_=w.textAlign(h);for(t.textAlign=h,t.textBaseline="middle",t.font=y.string,e.x=vU(this,_,r),t.fillStyle=r.bodyColor,fj(this.beforeBody,S),b=p&&"right"!==_?"center"===h?m/2+g:m+2+g:0,s=0,l=u.length;s<l;++s){for(i=u[s],n=this.labelTextColors[s],t.fillStyle=n,fj(i.before,S),a=i.lines,p&&a.length&&(this._drawColorBox(t,e,s,w,r),v=Math.max(y.lineHeight,f)),o=0,c=a.length;o<c;++o)S(a[o]),v=y.lineHeight;fj(i.after,S)}b=0,v=y.lineHeight,fj(this.afterBody,S),e.y-=d}drawFooter(e,t,r){let i,n;let a=this.footer,s=a.length;if(s){let o=gC(r.rtl,this.x,this.width);for(e.x=vU(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=o.textAlign(r.footerAlign),t.textBaseline="middle",i=m2(r.footerFont),t.fillStyle=r.footerColor,t.font=i.string,n=0;n<s;++n)t.fillText(a[n],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){let{xAlign:n,yAlign:a}=this,{x:s,y:o}=e,{width:l,height:c}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=m0(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(s+u,o),"top"===a&&this.drawCaret(e,t,r,i),t.lineTo(s+l-d,o),t.quadraticCurveTo(s+l,o,s+l,o+d),"center"===a&&"right"===n&&this.drawCaret(e,t,r,i),t.lineTo(s+l,o+c-p),t.quadraticCurveTo(s+l,o+c,s+l-p,o+c),"bottom"===a&&this.drawCaret(e,t,r,i),t.lineTo(s+h,o+c),t.quadraticCurveTo(s,o+c,s,o+c-h),"center"===a&&"left"===n&&this.drawCaret(e,t,r,i),t.lineTo(s,o+u),t.quadraticCurveTo(s,o,s+u,o),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,r=this.$animations,i=r&&r.x,n=r&&r.y;if(i||n){let r=vP[e.position].call(this,this._active,this._eventPosition);if(!r)return;let a=this._size=vN(this,e),s=Object.assign({},r,this._size),o=vj(t,e,s),l=vB(e,s,o,t);(i._to!==l.x||n._to!==l.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){var t,r,i,n;let a,s,o=this.options.setContext(this.getContext()),l=this.opacity;if(!l)return;this._updateAnimationTarget(o);let c={width:this.width,height:this.height},u={x:this.x,y:this.y};l=.001>Math.abs(l)?0:l;let d=m1(o.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;o.enabled&&h&&(e.save(),e.globalAlpha=l,this.drawBackground(u,e,c,o),t=e,("ltr"===(r=o.textDirection)||"rtl"===r)&&(s=[(a=t.canvas.style).getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",r,"important"),t.prevTextDirection=s),u.y+=d.top,this.drawTitle(u,e,o),this.drawBody(u,e,o),this.drawFooter(u,e,o),i=e,void 0!==(n=o.textDirection)&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",n[0],n[1])),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let r=this._active,i=e.map(({datasetIndex:e,index:t})=>{let r=this.chart.getDatasetMeta(e);if(!r)throw Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[t],index:t}}),n=!fB(r,i),a=this._positionChanged(i,t);(n||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,n=this._active||[],a=this._getActiveElements(e,n,t,r),s=this._positionChanged(a,e),o=t||!fB(a,n)||s;return o&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,r,i){let n=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));let a=this.chart.getElementsAtEventForMode(e,n.mode,n,r);return n.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:r,caretY:i,options:n}=this,a=vP[n.position].call(this,e,t);return!1!==a&&(r!==a.x||i!==a.y)}}let vq=(e,t,r,i)=>("string"==typeof t?(r=e.push(t)-1,i.unshift({index:r,label:t})):isNaN(t)&&(r=null),r),v$=(e,t)=>null===e?null:ma(Math.round(e),0,t);function vF(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class vz extends y${static id="category";static defaults={ticks:{callback:vF}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let e=this.getLabels();for(let{index:r,label:i}of t)e[r]===i&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(fE(e))return null;let r=this.getLabels();return v$(t=isFinite(t)&&r[t]===e?t:function(e,t,r,i){let n=e.indexOf(t);return -1===n?vq(e,t,r,i):n!==e.lastIndexOf(t)?r:n}(r,e,fP(t,e),this._addedLabels),r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:r,max:i}=this.getMinMax(!0);"ticks"!==this.options.bounds||(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){let e=this.min,t=this.max,r=this.options.offset,i=[],n=this.getLabels();n=0===e&&t===n.length-1?n:n.slice(e,t+1),this._valueRange=Math.max(n.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let r=e;r<=t;r++)i.push({value:r});return i}getLabelForValue(e){return vF.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function vV(e,t,{horizontal:r,minRotation:i}){let n=f7(i),a=.75*t*(""+e).length;return Math.min(t/((r?Math.sin(n):Math.cos(n))||.001),a)}class vH extends y${constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return fE(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:n}=this,a=e=>i=t?i:e,s=e=>n=r?n:e;if(e){let e=f3(i),t=f3(n);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(i===n){let t=0===n?1:Math.abs(.05*n);s(n+t),e||a(i-t)}this.min=i,this.max=n}getTickLimit(){let e;let{maxTicksLimit:t,stepSize:r}=this.options.ticks;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3):(e=this.computeTickLimit(),t=t||11),t&&(e=Math.min(t,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit(),i=function(e,t){let r,i,n,a;let s=[],{bounds:o,step:l,min:c,max:u,precision:d,count:h,maxTicks:p,maxDigits:f,includeBounds:m}=e,g=l||1,y=p-1,{min:v,max:b}=t,w=!fE(c),S=!fE(u),_=!fE(h),x=(b-v)/(f+1),k=f4((b-v)/y/g)*g;if(k<1e-14&&!w&&!S)return[{value:v},{value:b}];(a=Math.ceil(b/k)-Math.floor(v/k))>y&&(k=f4(a*k/y/g)*g),fE(d)||(k=Math.ceil(k*(r=Math.pow(10,d)))/r),"ticks"===o?(i=Math.floor(v/k)*k,n=Math.ceil(b/k)*k):(i=v,n=b),w&&S&&l&&function(e,t){let r=Math.round(e);return r-t<=e&&r+t>=e}((u-c)/l,k/1e3)?(a=Math.round(Math.min((u-c)/k,p)),k=(u-c)/a,i=c,n=u):_?(i=w?c:i,k=((n=S?u:n)-i)/(a=h-1)):a=f8(a=(n-i)/k,Math.round(a),k/1e3)?Math.round(a):Math.ceil(a);let E=Math.max(f9(k),f9(i));i=Math.round(i*(r=Math.pow(10,fE(d)?E:d)))/r,n=Math.round(n*r)/r;let C=0;for(w&&(m&&i!==c?(s.push({value:c}),i<c&&C++,f8(Math.round((i+C*k)*r)/r,c,vV(c,x,e))&&C++):i<c&&C++);C<a;++C){let e=Math.round((i+C*k)*r)/r;if(S&&e>u)break;s.push({value:e})}return S&&m&&n!==u?s.length&&f8(s[s.length-1].value,u,vV(u,x,e))?s[s.length-1].value=u:s.push({value:u}):S&&n!==u||s.push({value:n}),s}({maxTicks:r=Math.max(2,r),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&f5(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return mT(e,this.chart.options.locale,this.options.ticks.format)}}class vW extends vH{static id="linear";static defaults={ticks:{callback:mO.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=fA(e)?e:0,this.max=fA(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=f7(this.options.ticks.minRotation);return Math.ceil(t/Math.min(40,this._resolveTickFontOptions(0).lineHeight/((e?Math.sin(r):Math.cos(r))||.001)))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}let vG=e=>Math.floor(f2(e)),vJ=(e,t)=>Math.pow(10,vG(e)+t);function vY(e){return 1==e/Math.pow(10,vG(e))}function vX(e,t,r){let i=Math.pow(10,r);return Math.ceil(t/i)-Math.floor(e/i)}class vQ extends y${static id="logarithmic";static defaults={ticks:{callback:mO.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=vH.prototype.parse.apply(this,[e,t]);if(0===r){this._zero=!0;return}return fA(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=fA(e)?Math.max(0,e):null,this.max=fA(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!fA(this._userMin)&&(this.min=e===vJ(this.min,0)?vJ(this.min,-1):vJ(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,n=t=>r=e?r:t,a=e=>i=t?i:e;r===i&&(r<=0?(n(1),a(10)):(n(vJ(r,-1)),a(vJ(i,1)))),r<=0&&n(vJ(i,-1)),i<=0&&a(vJ(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,t=function(e,{min:t,max:r}){t=fT(e.min,t);let i=[],n=vG(t),a=function(e,t){let r=vG(t-e);for(;vX(e,t,r)>10;)r++;for(;10>vX(e,t,r);)r--;return Math.min(r,vG(e))}(t,r),s=a<0?Math.pow(10,Math.abs(a)):1,o=Math.pow(10,a),l=n>a?Math.pow(10,n):0,c=Math.round((t-l)*s)/s,u=Math.floor((t-l)/o/10)*o*10,d=Math.floor((c-u)/Math.pow(10,a)),h=fT(e.min,Math.round((l+u+d*Math.pow(10,a))*s)/s);for(;h<r;)i.push({value:h,major:vY(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(d=2,s=++a>=0?1:s),h=Math.round((l+u+d*Math.pow(10,a))*s)/s;let p=fT(e.max,h);return i.push({value:p,major:vY(p),significand:d}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&f5(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":mT(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=f2(e),this._valueRange=f2(this.max)-f2(e)}getPixelForValue(e){return((void 0===e||0===e)&&(e=this.min),null===e||isNaN(e))?NaN:this.getPixelForDecimal(e===this.min?0:(f2(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function vZ(e){let t=e.ticks;if(t.display&&e.display){let e=m1(t.backdropPadding);return fP(t.font&&t.font.size,mL.font.size)+e.height}return 0}function v0(e,t,r,i,n){return e===i||e===n?{start:t-r/2,end:t+r/2}:e<i||e>n?{start:t-r,end:t}:{start:t,end:t+r}}function v1(e,t,r,i){let{ctx:n}=e;if(r)n.arc(e.xCenter,e.yCenter,t,0,fJ);else{let r=e.getPointPosition(0,t);n.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=e.getPointPosition(a,t),n.lineTo(r.x,r.y)}}class v2 extends vH{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mO.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=m1(vZ(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=fA(e)&&!isNaN(e)?e:0,this.max=fA(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vZ(this.options))}generateTickLabels(e){vH.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{let r=fN(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let e=this.options;e.display&&e.pointLabels.display?function(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),i=[],n=[],a=e._pointLabels.length,s=e.options.pointLabels,o=s.centerPointLabels?fG/a:0;for(let u=0;u<a;u++){var l,c;let a=s.setContext(e.getPointLabelContext(u));n[u]=a.padding;let d=e.getPointPosition(u,e.drawingArea+n[u],o),h=m2(a.font),p=(l=e.ctx,c=fC(c=e._pointLabels[u])?c:[c],{w:function(e,t,r,i){let n,a,s,o,l;let c=(i=i||{}).data=i.data||{},u=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(c=i.data={},u=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let d=0,h=r.length;for(n=0;n<h;n++)if(null==(o=r[n])||fC(o)){if(fC(o))for(a=0,s=o.length;a<s;a++)null==(l=o[a])||fC(l)||(d=mM(e,c,u,d,l))}else d=mM(e,c,u,d,o);e.restore();let p=u.length/2;if(p>r.length){for(n=0;n<p;n++)delete c[u[n]];u.splice(0,p)}return d}(l,h.string,c),h:c.length*h.lineHeight});i[u]=p;let f=mi(e.getIndexAngle(u)+o),m=Math.round(180/fG*f);(function(e,t,r,i,n){let a=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r)),o=0,l=0;i.start<t.l?(o=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-o)):i.end>t.r&&(o=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),n.start<t.t?(l=(t.t-n.start)/s,e.t=Math.min(e.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/s,e.b=Math.max(e.b,t.b+l))})(r,t,f,v0(m,d.x,p.w,0,180),v0(m,d.y,p.h,90,270))}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){let i;let n=[],a=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,c={extra:vZ(s)/2,additionalAngle:o?fG/a:0};for(let s=0;s<a;s++){c.padding=r[s],c.size=t[s];let a=function(e,t,r){var i,n,a,s;let o=e.drawingArea,{extra:l,additionalAngle:c,padding:u,size:d}=r,h=e.getPointPosition(t,o+l+u,c),p=Math.round(180/fG*mi(h.angle+fZ)),f=(i=h.y,n=d.h,90===p||270===p?i-=n/2:(p>270||p<90)&&(i-=n),i),m=0===p||180===p?"center":p<180?"left":"right",g=(a=h.x,s=d.w,"right"===m?a-=s:"center"===m&&(a-=s/2),a);return{visible:!0,x:h.x,y:f,textAlign:m,left:g,top:f,right:g+d.w,bottom:f+d.h}}(e,s,c);n.push(a),"auto"===l&&(a.visible=function(e,t){if(!t)return!0;let{left:r,top:i,right:n,bottom:a}=e;return!(m$({x:r,y:i},t)||m$({x:r,y:a},t)||m$({x:n,y:i},t)||m$({x:n,y:a},t))}(a,i),a.visible&&(i=a))}return n}(e,i,n)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){return mi(fJ/(this._pointLabels.length||1)*e+f7(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(fE(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(fE(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let r=t[e];return m8(this.getContext(),{label:r,index:e,type:"pointLabel"})}}getPointPosition(e,t,r=0){let i=this.getIndexAngle(e)-fZ+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:i,bottom:n}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:n}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),v1(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e,t,r;let i=this.ctx,n=this.options,{angleLines:a,grid:s,border:o}=n,l=this._pointLabels.length;if(n.pointLabels.display&&function(e,t){let{ctx:r,options:{pointLabels:i}}=e;for(let n=t-1;n>=0;n--){let t=e._pointLabelItems[n];if(!t.visible)continue;let a=i.setContext(e.getPointLabelContext(n));!function(e,t,r){let{left:i,top:n,right:a,bottom:s}=r,{backdropColor:o}=t;if(!fE(o)){let r=m0(t.borderRadius),l=m1(t.backdropPadding);e.fillStyle=o;let c=i-l.left,u=n-l.top,d=a-i+l.width,h=s-n+l.height;Object.values(r).some(e=>0!==e)?(e.beginPath(),mG(e,{x:c,y:u,w:d,h:h,radius:r}),e.fill()):e.fillRect(c,u,d,h)}}(r,a,t);let s=m2(a.font),{x:o,y:l,textAlign:c}=t;mW(r,e._pointLabels[n],o,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,l),s.display&&this.ticks.forEach((e,r)=>{if(0!==r||0===r&&this.min<0){t=this.getDistanceFromCenterForValue(e.value);let i=this.getContext(r),n=s.setContext(i),a=o.setContext(i);!function(e,t,r,i,n){let a=e.ctx,s=t.circular,{color:o,lineWidth:l}=t;(s||i)&&o&&l&&!(r<0)&&(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(n.dash),a.lineDashOffset=n.dashOffset,a.beginPath(),v1(e,r,s,i),a.closePath(),a.stroke(),a.restore())}(this,n,t,l,a)}}),a.display){for(i.save(),e=l-1;e>=0;e--){let s=a.setContext(this.getPointLabelContext(e)),{color:o,lineWidth:l}=s;l&&o&&(i.lineWidth=l,i.strokeStyle=o,i.setLineDash(s.borderDash),i.lineDashOffset=s.borderDashOffset,t=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),r=this.getPointPosition(e,t),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(r.x,r.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){let e,t;let r=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;let a=this.getIndexAngle(0);r.save(),r.translate(this.xCenter,this.yCenter),r.rotate(a),r.textAlign="center",r.textBaseline="middle",this.ticks.forEach((a,s)=>{if(0===s&&this.min>=0&&!i.reverse)return;let o=n.setContext(this.getContext(s)),l=m2(o.font);if(e=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){r.font=l.string,t=r.measureText(a.label).width,r.fillStyle=o.backdropColor;let i=m1(o.backdropPadding);r.fillRect(-t/2-i.left,-e-l.size/2-i.top,t+i.width,l.size+i.height)}mW(r,a.label,0,-e,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),r.restore()}drawTitle(){}}let v3={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},v8=Object.keys(v3);function v4(e,t){return e-t}function v6(e,t){if(fE(t))return null;let r=e._adapter,{parser:i,round:n,isoWeekday:a}=e._parseOpts,s=t;return("function"==typeof i&&(s=i(s)),fA(s)||(s="string"==typeof i?r.parse(s,i):r.parse(s)),null===s)?null:(n&&(s="week"===n&&(f6(a)||!0===a)?r.startOf(s,"isoWeek",a):r.startOf(s,n)),+s)}function v5(e,t,r,i){let n=v8.length;for(let a=v8.indexOf(e);a<n-1;++a){let e=v3[v8[a]],n=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(n*e.size))<=i)return v8[a]}return v8[n-1]}function v7(e,t,r){if(r){if(r.length){let{lo:i,hi:n}=mo(r,t);e[r[i]>=t?r[i]:r[n]]=!0}}else e[t]=!0}function v9(e,t,r){let i,n;let a=[],s={},o=t.length;for(i=0;i<o;++i)s[n=t[i]]=i,a.push({value:n,major:!1});return 0!==o&&r?function(e,t,r,i){let n,a;let s=e._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;for(n=o;n<=l;n=+s.add(n,1,i))(a=r[n])>=0&&(t[a].major=!0);return t}(e,a,s,r):a}class be extends y${static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let r=e.time||(e.time={}),i=this._adapter=new yr._date(e.adapters.date);i.init(t),fK(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:v6(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,r=e.time.unit||"day",{min:i,max:n,minDefined:a,maxDefined:s}=this.getUserBounds();function o(e){a||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(n=Math.max(n,e.max))}a&&s||(o(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&o(this.getMinMax(!1))),i=fA(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),n=fA(n)&&!isNaN(n)?n:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,n-1),this.max=Math.max(i+1,n)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){let e=this.options,t=e.time,r=e.ticks,i="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let n=this.min,a=function(e,t,r){let i=0,n=e.length;for(;i<n&&e[i]<t;)i++;for(;n>i&&e[n-1]>r;)n--;return i>0||n<e.length?e.slice(i,n):e}(i,n,this.max);return this._unit=t.unit||(r.autoSkip?v5(t.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(e,t,r,i,n){for(let a=v8.length-1;a>=v8.indexOf(r);a--){let r=v8[a];if(v3[r].common&&e._adapter.diff(n,i,r)>=t-1)return r}return v8[r?v8.indexOf(r):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=v8.indexOf(e)+1,r=v8.length;t<r;++t)if(v3[v8[t]].common)return v8[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),v9(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,r,i=0,n=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,r=this.getDecimalForValue(e[e.length-1]),n=1===e.length?r:(r-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=ma(i,0,a),n=ma(n,0,a),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let e,t;let r=this._adapter,i=this.min,n=this.max,a=this.options,s=a.time,o=s.unit||v5(s.minUnit,i,n,this._getLabelCapacity(i)),l=fP(a.ticks.stepSize,1),c="week"===o&&s.isoWeekday,u=f6(c)||!0===c,d={},h=i;if(u&&(h=+r.startOf(h,"isoWeek",c)),h=+r.startOf(h,u?"day":o),r.diff(n,i,o)>1e5*l)throw Error(i+" and "+n+" are too far apart with stepSize of "+l+" "+o);let p="data"===a.ticks.source&&this.getDataTimestamps();for(e=h,t=0;e<n;e=+r.add(e,l,o),t++)v7(d,e,p);return(e===n||"ticks"===a.bounds||1===t)&&v7(d,e,p),Object.keys(d).sort(v4).map(e=>+e)}getLabelForValue(e){let t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){let r=this.options.time.displayFormats,i=this._unit,n=t||r[i];return this._adapter.format(e,n)}_tickFormatFunction(e,t,r,i){let n=this.options,a=n.ticks.callback;if(a)return fN(a,[e,t,r],this);let s=n.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],u=l&&s[l],d=r[t],h=l&&u&&d&&d.major;return this._adapter.format(e,i||(h?u:c))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)(i=e[t]).label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,r=this.ctx.measureText(e).width,i=f7(this.isHorizontal()?t.maxRotation:t.minRotation),n=Math.cos(i),a=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:r*n+s*a,h:r*a+s*n}}_getLabelCapacity(e){let t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,n=this._tickFormatFunction(e,0,v9(this,[e],this._majorUnit),i),a=this._getLabelSize(n),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)r=r.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){let e,t;let r=this._cache.labels||[];if(r.length)return r;let i=this.getLabels();for(e=0,t=i.length;e<t;++e)r.push(v6(this,i[e]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(e){return mh(e.sort(v4))}}function bt(e,t,r){let i,n,a,s,o=0,l=e.length-1;r?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=ml(e,"pos",t)),{pos:i,time:a}=e[o],{pos:n,time:s}=e[l]):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=ml(e,"time",t)),{time:i,pos:a}=e[o],{time:n,pos:s}=e[l]);let c=n-i;return c?a+(s-a)*(t-i)/c:a}class br extends be{static id="timeseries";static defaults=be.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=bt(t,this.min),this._tableRange=bt(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let t,r,i;let{min:n,max:a}=this,s=[],o=[];for(t=0,r=e.length;t<r;++t)(i=e[t])>=n&&i<=a&&s.push(i);if(s.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(t=0,r=s.length;t<r;++t)Math.round((s[t+1]+s[t-1])/2)!==(i=s[t])&&o.push({time:i,pos:t/(r-1)});return o}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e}getDecimalForValue(e){return(bt(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return bt(this._table,r*this._tableRange+this._minPos,!0)}}let bi=({participant:e,trackType:t="audioTrack",...r})=>{let i=u0(),[n,a]=(0,ud.useState)(null),{userId:s,sessionId:o}=e;return(0,ud.useEffect)(()=>{if(!i||!n)return;let e=i.bindAudioElement(n,o,t);return()=>{e?.()}},[i,o,n,t]),(0,uu.jsx)("audio",{autoPlay:!0,...r,ref:a,"data-user-id":s,"data-session-id":o,"data-track-type":t})},bn=e=>{let{participants:t,audioProps:r}=e;return(0,uu.jsx)(uu.Fragment,{children:t.map(e=>{if(e.isLocalParticipant)return null;let{publishedTracks:t,audioStream:i,screenShareAudioStream:n,sessionId:a}=e,s=t.includes(sn.TrackType.AUDIO)&&i&&(0,uu.jsx)(bi,{...r,trackType:"audioTrack",participant:e}),o=t.includes(sn.TrackType.SCREEN_SHARE_AUDIO)&&n&&(0,uu.jsx)(bi,{...r,trackType:"screenShareAudioTrack",participant:e});return(0,uu.jsxs)(ud.Fragment,{children:[s,o]},a)})})},ba=(0,ud.createContext)(void 0),bs=()=>(0,ud.useContext)(ba);(0,ud.createContext)(void 0);let bo=({placement:e,strategy:t,offset:r=10})=>{let{refs:i,x:n,y:a,update:s,elements:{domReference:o,floating:l}}=pG({placement:e,strategy:t,middleware:[hS(r),h_(),hx(),hk({padding:10,apply:({availableHeight:e,elements:t})=>{Object.assign(t.floating.style,{maxHeight:`${e}px`})}})]});return(0,ud.useEffect)(()=>{if(!o||!l)return;let e=hp(o,l,s);return()=>e()},[o,l,s]),{refs:i,x:n,y:a,domReference:o,floating:l,strategy:t}},bl=10,bc=(e,t=bl)=>{let[r,i]=(0,ud.useState)(null);return(0,ud.useEffect)(()=>{if(!e)return;let r=()=>e.scrollHeight>e.clientHeight?e.scrollTop<=t?i("top"):Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight)<=t?i("bottom"):void i("between"):i(null),n=new ResizeObserver(r);return n.observe(e),e.addEventListener("scroll",r),()=>{e.removeEventListener("scroll",r),n.disconnect()}},[e,t]),r},bu=(e,t=bl)=>{let[r,i]=(0,ud.useState)(null);return(0,ud.useEffect)(()=>{if(!e)return;let r=()=>e.scrollWidth>e.clientWidth?e.scrollLeft<=t?i("start"):Math.abs(e.scrollWidth-e.scrollLeft-e.clientWidth)<=t?i("end"):void i("between"):i(null),n=new ResizeObserver(r);return n.observe(e),e.addEventListener("scroll",r),()=>{e.removeEventListener("scroll",r),n.disconnect()}},[e,t]),r},bd=()=>{let e=u0(),{useIsCallRecordingInProgress:t}=dc(),r=t(),[i,n]=(0,ud.useState)(!1);return(0,ud.useEffect)(()=>{n(e=>!e&&e)},[r]),{toggleCallRecording:(0,ud.useCallback)(async()=>{try{n(!0),r?await e?.stopRecording():await e?.startRecording()}catch(e){console.error("Failed start recording",e)}},[e,r]),isAwaitingResponse:i,isCallRecordingInProgress:r}},bh=e=>{let t=u0(),{useHasPermissions:r}=dc(),i=r(e),[n,a]=(0,ud.useState)(!1);return(0,ud.useEffect)(()=>{i&&a(!1)},[i]),{requestPermission:(0,ud.useCallback)(async()=>{if(i)return!0;let r=!!t?.permissionsContext.canRequest(e);if(n||!r)return!1;a(!0);try{await t?.requestPermissions({permissions:[e]})}catch(e){throw a(!1),Error(`requestPermission failed: ${e}`)}return!1},[t,i,n,e]),hasPermission:i,canRequestPermission:!!t?.permissionsContext.canRequest(e),isAwaitingPermission:n}};!function(e){e.PORTAL="portal",e.MENU="menu"}(M||(M={}));let bp=(0,ud.createContext)({}),bf=()=>(0,ud.useContext)(bp),bm=({children:e,refs:t})=>{let r=(0,ud.useMemo)(()=>`str-video-portal-${Math.random().toString(36).substring(2,9)}`,[]);return(0,uu.jsxs)(uu.Fragment,{children:[(0,uu.jsx)("div",{id:r,className:"str-video__portal"}),(0,uu.jsx)(pF,{children:(0,uu.jsx)(pB,{id:r,children:(0,uu.jsx)("div",{className:"str-video__portal-content",ref:t.setFloating,children:e})})})]})},bg=({ToggleButton:e,placement:t="top-start",strategy:r="absolute",offset:i,visualType:n=M.MENU,children:a})=>{let[s,o]=(0,ud.useState)(!1),{floating:l,domReference:c,refs:u,x:d,y:h}=bo({placement:t,strategy:r,offset:i});return(0,ud.useEffect)(()=>{let e=e=>{!l&&c?.contains(e.target)?o(!0):l&&!l?.contains(e.target)&&o(!1)},t=e=>{"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||o(!1)};return document?.addEventListener("click",e,{capture:!0}),document?.addEventListener("keydown",t),()=>{document?.removeEventListener("click",e,{capture:!0}),document?.removeEventListener("keydown",t)}},[l,c]),(0,uu.jsxs)(uu.Fragment,{children:[s&&(0,uu.jsx)(bp.Provider,{value:{close:()=>o(!1)},children:n===M.PORTAL?(0,uu.jsx)(bm,{refs:u,children:a}):n===M.MENU?(0,uu.jsx)("div",{className:"str-video__menu-container",ref:u.setFloating,style:{position:r,top:h??0,left:d??0,overflowY:"auto"},children:a}):null}),(0,uu.jsx)(e,{menuShown:s,ref:u.setReference})]})},by=({children:e,onItemClick:t})=>{let r=(0,ud.useRef)(null);return(0,uu.jsx)("ul",{className:"str-video__generic-menu",ref:r,onClick:e=>{t&&e.target!==r.current&&r.current?.contains(e.target)&&t(e)},children:e})},bv=({children:e,...t})=>(0,uu.jsx)("li",{className:"str-video__generic-menu--item",children:(0,uu.jsx)("button",{...t,children:e})}),bb=({className:e,icon:t})=>(0,uu.jsx)("span",{className:(0,dd.Z)("str-video__icon",t&&`str-video__icon--${t}`,e)}),bw=(0,ud.forwardRef)(function(e,t){let{icon:r,enabled:i,variant:n,onClick:a,className:s,...o}=e;return(0,uu.jsx)("button",{className:(0,dd.Z)("str-video__call-controls__button",s,{[`str-video__call-controls__button--variant-${n}`]:n,"str-video__call-controls__button--enabled":i}),onClick:e=>{e.preventDefault(),a?.(e)},ref:t,...o,children:(0,uu.jsx)(bb,{icon:r})})}),bS=e=>null!==e&&!(0,ud.isValidElement)(e),b_=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(r,i)=>e.slice(t*i,t*i+t)),bx=(e,t)=>{if(e){if("function"==typeof e)return e(t);e.current=t}},bk=(0,ud.forwardRef)(function({caption:e,children:t,className:r,active:i,Menu:n,menuPlacement:a,menuOffset:s,title:o,ToggleMenuButton:l=bE,variant:c,onClick:u,...d},h){return(0,uu.jsxs)("div",{className:(0,dd.Z)("str-video__composite-button",r,{"str-video__composite-button--caption":e,"str-video__composite-button--menu":n}),title:o,ref:h,children:[(0,uu.jsxs)("div",{className:(0,dd.Z)("str-video__composite-button__button-group",{"str-video__composite-button__button-group--active":i,"str-video__composite-button__button-group--active-primary":i&&"primary"===c,"str-video__composite-button__button-group--active-secondary":i&&"secondary"===c}),children:[(0,uu.jsx)("button",{type:"button",className:"str-video__composite-button__button",onClick:e=>{e.preventDefault(),u?.(e)},...d,children:t}),n&&(0,uu.jsx)(bg,{offset:s,placement:a,ToggleButton:l,children:bS(n)?(0,uu.jsx)(n,{}):n})]}),e&&(0,uu.jsx)("div",{className:"str-video__composite-button__caption",children:e})]})}),bE=(0,ud.forwardRef)(function({menuShown:e},t){return(0,uu.jsx)(bw,{className:(0,dd.Z)("str-video__menu-toggle-button",{"str-video__menu-toggle-button--active":e}),icon:e?"caret-down":"caret-up",ref:t})}),bC=e=>{let{isVisible:t,message:r,children:i,visibilityTimeout:n,resetIsVisible:a,placement:s="top",iconClassName:o="str-video__notification__icon",close:l}=e,{refs:c,x:u,y:d,strategy:h}=bo({placement:s,strategy:"absolute"});return(0,ud.useEffect)(()=>{if(!t||!n||!a)return;let e=setTimeout(()=>{a()},n);return()=>clearTimeout(e)},[t,a,n]),(0,uu.jsxs)("div",{ref:c.setReference,children:[t&&(0,uu.jsxs)("div",{className:"str-video__notification",ref:c.setFloating,style:{position:h,top:d??0,left:u??0,overflowY:"auto"},children:[o&&(0,uu.jsx)("i",{className:o}),(0,uu.jsx)("span",{className:"str-video__notification__message",children:r}),l?(0,uu.jsx)("i",{className:"str-video__icon str-video__icon--close str-video__notification__close",onClick:l}):null]}),i]})},bR=e=>{let{permission:t,isAwaitingApproval:r,messageApproved:i,messageAwaitingApproval:n,messageRevoked:a,visibilityTimeout:s=3500,children:o}=e,{useHasPermissions:l}=dc(),c=l(t),u=(0,ud.useRef)(c),[d,h]=(0,ud.useState)();(0,ud.useEffect)(()=>{c&&!u.current?(h("granted"),u.current=!0):!c&&u.current&&(h("revoked"),u.current=!1)},[c]);let p=(0,ud.useCallback)(()=>h(void 0),[]);return r?(0,uu.jsx)(bC,{isVisible:r&&!c,message:n,children:o}):(0,uu.jsx)(bC,{isVisible:!!d,visibilityTimeout:s,resetIsVisible:p,message:"granted"===d?i:a,children:o})},bA=({children:e,text:t,placement:r})=>{let{useMicrophoneState:i}=dc(),{isSpeakingWhileMuted:n}=i(),{t:a}=u9(),s=t??a("You are muted. Unmute to speak.");return(0,uu.jsx)(bC,{message:s,isVisible:n,placement:r||"top-start",children:e})},bT=({className:e,type:t="spinner",text:r,tooltip:i})=>(0,uu.jsxs)("div",{className:(0,dd.Z)("str-video__loading-indicator",e),title:i,children:[(0,uu.jsx)("div",{className:(0,dd.Z)("str-video__loading-indicator__icon",t)}),r&&(0,uu.jsx)("p",{className:"str-video__loading-indicator-text",children:r})]});(0,ud.forwardRef)(function(e,t){return(0,uu.jsx)(bk,{ref:t,active:!0,variant:"secondary","data-testid":"recording-stop-button",children:(0,uu.jsx)(bb,{icon:"recording-off"})})});let bP=({caption:e})=>{let{t}=u9(),{toggleCallRecording:r,isAwaitingResponse:i,isCallRecordingInProgress:n}=bd(),a=e||t("Record call");return i&&(a=t(n?"Waiting for recording to stop...":"Waiting for recording to start...")),(0,uu.jsx)(du,{requiredGrants:[ak.START_RECORD_CALL,ak.STOP_RECORD_CALL],children:(0,uu.jsx)(bk,{active:n,caption:e,variant:"secondary","data-testid":n?"recording-stop-button":"recording-start-button",title:a,onClick:i?void 0:r,children:i?(0,uu.jsx)(bT,{}):(0,uu.jsx)(bb,{icon:n?"recording-on":"recording-off"})})})},bO={":like:":"\uD83D\uDC4D",":raise-hand:":"✋",":fireworks:":"\uD83C\uDF89",":dislike:":"\uD83D\uDC4E",":heart:":"❤️",":smile:":"\uD83D\uDE00"},bI=({participant:{reaction:e,sessionId:t},hideAfterTimeoutInMs:r=5500,emojiReactionMap:i=bO})=>{let n=u0();if((0,ud.useEffect)(()=>{if(!n||!e)return;let i=setTimeout(()=>{n.resetReaction(t)},r);return()=>{clearTimeout(i)}},[n,r,e,t]),!e)return null;let{emoji_code:a}=e;return(0,uu.jsx)("div",{className:"str-video__reaction",children:(0,uu.jsx)("span",{className:"str-video__reaction__emoji",children:a&&i[a]})})},bN=[{type:"reaction",emoji_code:":like:"},{type:"raised-hand",emoji_code:":raise-hand:"},{type:"reaction",emoji_code:":fireworks:"},{type:"reaction",emoji_code:":dislike:"},{type:"reaction",emoji_code:":heart:"},{type:"reaction",emoji_code:":smile:"}],bj=({reactions:e=bN})=>(0,uu.jsx)(du,{requiredGrants:[ak.CREATE_REACTION],children:(0,uu.jsx)(bg,{placement:"top",ToggleButton:bB,visualType:M.MENU,children:(0,uu.jsx)(bU,{reactions:e})})}),bB=(0,ud.forwardRef)(function({menuShown:e},t){let{t:r}=u9();return(0,uu.jsx)(bk,{ref:t,active:e,variant:"primary",title:r("Reactions"),children:(0,uu.jsx)(bb,{icon:"reactions"})})}),bU=({reactions:e,layout:t="horizontal"})=>{let r=u0();return(0,uu.jsx)("div",{className:(0,dd.Z)("str-video__reactions-menu",{"str-video__reactions-menu--horizontal":"horizontal"===t,"str-video__reactions-menu--vertical":"vertical"===t}),children:e.map(e=>(0,uu.jsx)("button",{type:"button",className:"str-video__reactions-menu__button",onClick:()=>{r?.sendReaction(e)},children:e.emoji_code&&bO[e.emoji_code]},e.emoji_code))})},bL=e=>{let{t}=u9(),{caption:r}=e,{useHasOngoingScreenShare:i,useScreenShareState:n,useCallSettings:a}=dc(),s=i(),{hasPermission:o,requestPermission:l,isAwaitingPermission:c}=bh(ak.SCREENSHARE),u=a(),d=u?.screensharing.enabled,{screenShare:h,isMute:p}=n(),f=!!p&&(s||!1===d);return(0,uu.jsx)(du,{requiredGrants:[ak.SCREENSHARE],children:(0,uu.jsx)(bR,{permission:ak.SCREENSHARE,isAwaitingApproval:c,messageApproved:t("You can now share your screen."),messageAwaitingApproval:t("Awaiting for an approval to share screen."),messageRevoked:t("You can no longer share your screen."),children:(0,uu.jsx)(bk,{active:s,caption:r,title:r||t("Share screen"),variant:"primary","data-testid":s?"screen-share-stop-button":"screen-share-start-button",disabled:f,onClick:async()=>{o?await h.toggle():await l()},children:(0,uu.jsx)(bb,{icon:s?"screen-share-on":"screen-share-off"})})})})},bM=(0,ud.createContext)({}),bD=e=>{let{children:t,icon:r,defaultSelectedLabel:i,defaultSelectedIndex:n,handleSelect:a}=e,[s,o]=(0,ud.useState)(!1),[l,c]=(0,ud.useState)(null),[u,d]=(0,ud.useState)(n),[h,p]=(0,ud.useState)(i),{refs:f,context:m}=pG({placement:"bottom-start",open:s,onOpenChange:o,whileElementsMounted:hp,middleware:[hx()]}),g=(0,ud.useRef)([]),y=(0,ud.useRef)([]),v=(0,ud.useCallback)(e=>{d(e),a(e||0),o(!1),null!==e&&p(y.current[e])},[a]),b=function(e,t){let{open:r,onOpenChange:i,elements:{domReference:n,floating:a}}=e,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:u=null,allowEscape:d=!1,loop:h=!1,nested:p=!1,rtl:f=!1,virtual:m=!1,focusItemOnOpen:g="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:v=!0,disabledIndices:b,orientation:w="vertical",cols:S=1,scrollItemIntoView:_=!0,virtualItemRef:x,itemSizes:k,dense:E=!1}=t,C=pd(),R=ph(),A=hX(l),T=ud.useRef(g),P=ud.useRef(null!=u?u:-1),O=ud.useRef(null),I=ud.useRef(!0),N=ud.useRef(A),j=ud.useRef(!!a),B=ud.useRef(!1),U=ud.useRef(!1),L=pf(b),M=pf(r),D=pf(_),K=pf(a),q=pf(u),[$,F]=ud.useState(),[z,V]=ud.useState(),H=hX(function(e,t,r){function i(e){m?(F(e.id),null==R||R.events.emit("virtualfocus",e),x&&(x.current=e)):h9(e,{preventScroll:!0,sync:!!(dT().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints&&dN())&&(pQ||B.current)})}void 0===r&&(r=!1);let n=e.current[t.current];n&&i(n),requestAnimationFrame(()=>{let a=e.current[t.current]||n;if(!a)return;n||i(a);let s=D.current;s&&G&&(r||!I.current)&&(null==a.scrollIntoView||a.scrollIntoView("boolean"==typeof s?{block:"nearest",inline:"nearest"}:s))})});pe(()=>{document.createElement("div").focus({get preventScroll(){return pQ=!0,!1}})},[]),pe(()=>{c&&(r&&a?T.current&&null!=u&&(U.current=!0,P.current=u,A(u)):j.current&&(P.current=-1,N.current(null)))},[c,r,a,u,A]),pe(()=>{if(c&&r&&a){if(null==o){if(B.current=!1,null==q.current&&(j.current&&(P.current=-1,H(s,P)),!j.current&&T.current&&(null!=O.current||!0===T.current&&null==O.current))){let e=0,t=()=>{null==s.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(P.current=null==O.current||p1(O.current,w,f)||p?h8(s,L.current):h4(s,L.current),O.current=null,A(P.current))};t()}}else h3(s,o)||(P.current=o,H(s,P,U.current),U.current=!1)}},[c,r,a,o,q,p,s,w,f,A,H,L]),pe(()=>{var e;if(!c||a||!R||m||!j.current)return;let t=R.nodesRef.current,r=null==(e=t.find(e=>e.id===C))||null==(e=e.context)?void 0:e.elements.floating,i=dR(dU(a)),n=t.some(e=>e.context&&dA(e.context.elements.floating,i));r&&!n&&I.current&&r.focus({preventScroll:!0})},[c,a,R,C,m]),pe(()=>{if(c&&R&&m&&!C)return R.events.on("virtualfocus",e),()=>{R.events.off("virtualfocus",e)};function e(e){V(e.id),x&&(x.current=e)}},[c,R,m,C,x]),pe(()=>{N.current=A,j.current=!!a}),pe(()=>{r||(O.current=null)},[r]);let W=null!=o,G=ud.useMemo(()=>{function e(e){if(!r)return;let t=s.current.indexOf(e);-1!==t&&A(t)}return{onFocus(t){let{currentTarget:r}=t;e(r)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...y&&{onMouseMove(t){let{currentTarget:r}=t;e(r)},onPointerLeave(e){let{pointerType:t}=e;I.current&&"touch"!==t&&(P.current=-1,H(s,P),A(null),m||h9(K.current,{preventScroll:!0}))}}}},[r,K,H,y,s,A,m]);return ud.useMemo(()=>{if(!c)return{};let e=L.current;function t(t){if(I.current=!1,B.current=!0,!M.current&&t.currentTarget===K.current)return;if(p&&p2(t.key,w,f)){dK(t),i(!1,t.nativeEvent,"list-navigation"),dy(n)&&!m&&n.focus();return}let a=P.current,o=h8(s,e),l=h4(s,e);if("Home"===t.key&&(dK(t),P.current=o,A(P.current)),"End"===t.key&&(dK(t),P.current=l,A(P.current)),S>1){var c;let r=k||Array.from({length:s.current.length},()=>({width:1,height:1})),i=function(e,t,r){let i=[],n=0;return e.forEach((e,a)=>{let{width:s,height:o}=e,l=!1;for(r&&(n=0);!l;){let e=[];for(let r=0;r<s;r++)for(let i=0;i<o;i++)e.push(n+r+i*t);n%t+s<=t&&e.every(e=>null==i[e])?(e.forEach(e=>{i[e]=a}),l=!0):n++}}),[...i]}(r,S,E),n=i.findIndex(t=>null!=t&&!h5(s.current,t,e)),a=i.reduce((t,r,i)=>null==r||h5(s.current,r,e)?t:i,-1);if(P.current=i[function(e,t){let{event:r,orientation:i,loop:n,cols:a,disabledIndices:s,minIndex:o,maxIndex:l,prevIndex:c,stopEvent:u=!1}=t,d=c;if(r.key===hQ){if(u&&dK(r),-1===c)d=l;else if(d=h6(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),n&&(c-a<o||d<0)){let e=c%a,t=l%a,r=l-(t-e);d=t===e?l:t>e?r:r-a}h3(e,d)&&(d=c)}if(r.key===hZ&&(u&&dK(r),-1===c?d=o:(d=h6(e,{startingIndex:c,amount:a,disabledIndices:s}),n&&c+a>l&&(d=h6(e,{startingIndex:c%a-a,amount:a,disabledIndices:s}))),h3(e,d)&&(d=c)),"both"===i){let t=dV(c/a);r.key===h1&&(u&&dK(r),c%a!=a-1?(d=h6(e,{startingIndex:c,disabledIndices:s}),n&&h2(d,a,t)&&(d=h6(e,{startingIndex:c-c%a-1,disabledIndices:s}))):n&&(d=h6(e,{startingIndex:c-c%a-1,disabledIndices:s})),h2(d,a,t)&&(d=c)),r.key===h0&&(u&&dK(r),c%a!=0?(d=h6(e,{startingIndex:c,decrement:!0,disabledIndices:s}),n&&h2(d,a,t)&&(d=h6(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s}))):n&&(d=h6(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s})),h2(d,a,t)&&(d=c));let i=dV(l/a)===t;h3(e,d)&&(d=n&&i?r.key===h0?l:h6(e,{startingIndex:c-c%a-1,disabledIndices:s}):c)}return d}({current:i.map(e=>null!=e?s.current[e]:null)},{event:t,orientation:w,loop:h,cols:S,disabledIndices:(c=[...e||s.current.map((e,t)=>h5(s.current,t)?t:void 0),void 0],i.flatMap((e,t)=>c.includes(e)?[t]:[])),minIndex:n,maxIndex:a,prevIndex:function(e,t,r,i,n){if(-1===e)return -1;let a=r.indexOf(e),s=t[e];switch(n){case"tl":return a;case"tr":if(!s)return a;return a+s.width-1;case"bl":if(!s)return a;return a+(s.height-1)*i;case"br":return r.lastIndexOf(e)}}(P.current>l?o:P.current,r,i,S,t.key===hZ?"bl":t.key===h1?"tr":"tl"),stopEvent:!0})],A(P.current),"both"===w)return}if(p0(t.key,w)){if(dK(t),r&&!m&&dR(t.currentTarget.ownerDocument)===t.currentTarget){P.current=p1(t.key,w,f)?o:l,A(P.current);return}p1(t.key,w,f)?h?P.current=a>=l?d&&a!==s.current.length?-1:o:h6(s,{startingIndex:a,disabledIndices:e}):P.current=Math.min(l,h6(s,{startingIndex:a,disabledIndices:e})):h?P.current=a<=o?d&&-1!==a?s.current.length:l:h6(s,{startingIndex:a,decrement:!0,disabledIndices:e}):P.current=Math.max(o,h6(s,{startingIndex:a,decrement:!0,disabledIndices:e})),h3(s,P.current)?A(null):A(P.current)}}function a(e){"auto"===g&&dO(e.nativeEvent)&&(T.current=!0)}let o=m&&r&&W&&{"aria-activedescendant":z||$},l=s.current.find(e=>(null==e?void 0:e.id)===$);return{reference:{...o,onKeyDown(n){var a,o,c,d,h,g;I.current=!1;let y=0===n.key.indexOf("Arrow"),b=(a=n.key,pZ(w,f?a===h0:a===h1,a===hZ)),S=p2(n.key,w,f),_=p0(n.key,w),k=(p?b:_)||"Enter"===n.key||""===n.key.trim();if(m&&r){let e,r;let i=null==R?void 0:R.nodesRef.current.find(e=>null==e.parentId),a=R&&i?(o=R.nodesRef.current,c=i.id,r=-1,function t(i,n){n>r&&(e=i,r=n),pg(o,i).forEach(e=>{t(e.id,n+1)})}(c,0),o.find(t=>t.id===e)):null;if(y&&a&&x){let e=new KeyboardEvent("keydown",{key:n.key,bubbles:!0});if(b||S){let t=(null==(d=a.context)?void 0:d.elements.domReference)===n.currentTarget,r=S&&!t?null==(h=a.context)?void 0:h.elements.domReference:b?l:null;r&&(dK(n),r.dispatchEvent(e),V(void 0))}if(_&&a.context&&a.context.open&&a.parentId&&n.currentTarget!==a.context.elements.domReference){dK(n),null==(g=a.context.elements.domReference)||g.dispatchEvent(e);return}}return t(n)}if(r||v||!y){if(k&&(O.current=p&&_?null:n.key),p){b&&(dK(n),r?(P.current=h8(s,e),A(P.current)):i(!0,n.nativeEvent,"list-navigation"));return}_&&(null!=u&&(P.current=u),dK(n),!r&&v?i(!0,n.nativeEvent,"list-navigation"):t(n),r&&A(P.current))}},onFocus(){r&&!m&&A(null)},onPointerDown:function(e){T.current=g,"auto"===g&&dI(e.nativeEvent)&&(T.current=!0)},onMouseDown:a,onClick:a},floating:{"aria-orientation":"both"===w?void 0:w,...!dq(n)&&o,onKeyDown:t,onPointerMove(){I.current=!0}},item:G}},[n,K,$,z,L,M,s,c,w,f,m,r,W,p,u,v,d,S,h,g,A,i,G,R,x,k,E])}(m,{listRef:g,activeIndex:l,selectedIndex:u,onNavigate:c}),w=function(e,t){var r;let{open:i,dataRef:n}=e,{listRef:a,activeIndex:s,onMatch:o,onTypingChange:l,enabled:c=!0,findMatch:u=null,resetMs:d=750,ignoreKeys:h=[],selectedIndex:p=null}=t,f=ud.useRef(),m=ud.useRef(""),g=ud.useRef(null!=(r=null!=p?p:s)?r:-1),y=ud.useRef(null),v=hX(o),b=hX(l),w=pf(u),S=pf(h);return pe(()=>{i&&(clearTimeout(f.current),y.current=null,m.current="")},[i]),pe(()=>{if(i&&""===m.current){var e;g.current=null!=(e=null!=p?p:s)?e:-1}},[i,p,s]),ud.useMemo(()=>{if(!c)return{};function e(e){e?n.current.typing||(n.current.typing=e,b(e)):n.current.typing&&(n.current.typing=e,b(e))}function t(e,t,r){let i=w.current?w.current(t,r):t.find(e=>(null==e?void 0:e.toLocaleLowerCase().indexOf(r.toLocaleLowerCase()))===0);return i?e.indexOf(i):-1}function r(r){let n=a.current;if(m.current.length>0&&" "!==m.current[0]&&(-1===t(n,n,m.current)?e(!1):" "===r.key&&dK(r)),null==n||S.current.includes(r.key)||1!==r.key.length||r.ctrlKey||r.metaKey||r.altKey)return;i&&" "!==r.key&&(dK(r),e(!0)),n.every(e=>{var t,r;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(r=e[1])?void 0:r.toLocaleLowerCase())})&&m.current===r.key&&(m.current="",g.current=y.current),m.current+=r.key,clearTimeout(f.current),f.current=setTimeout(()=>{m.current="",g.current=y.current,e(!1)},d);let s=g.current,o=t(n,[...n.slice((s||0)+1),...n.slice(0,(s||0)+1)],m.current);-1!==o?(v(o),y.current=o):" "!==r.key&&(m.current="",e(!1))}return{reference:{onKeyDown:r},floating:{onKeyDown:r,onKeyUp(t){" "===t.key&&e(!1)}}}},[c,i,n,a,d,S,w,v,b])}(m,{listRef:y,activeIndex:l,selectedIndex:u,onMatch:e=>{s?c(e):v(e)}}),{getReferenceProps:S,getFloatingProps:_,getItemProps:x}=function(e){void 0===e&&(e=[]);let t=e,r=ud.useCallback(t=>pX(t,e,"reference"),t),i=ud.useCallback(t=>pX(t,e,"floating"),t),n=ud.useCallback(t=>pX(t,e,"item"),e.map(e=>null==e?void 0:e.item));return ud.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:n}),[r,i,n])}([b,w,function(e,t){void 0===t&&(t={});let{open:r,onOpenChange:i,dataRef:n,elements:{domReference:a}}=e,{enabled:s=!0,event:o="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:u=!0}=t,d=ud.useRef(),h=ud.useRef(!1);return ud.useMemo(()=>s?{reference:{onPointerDown(e){d.current=e.pointerType},onMouseDown(e){0!==e.button||dB(d.current,!0)&&c||"click"===o||(r&&l&&(!n.current.openEvent||"mousedown"===n.current.openEvent.type)?i(!1,e.nativeEvent,"click"):(e.preventDefault(),i(!0,e.nativeEvent,"click")))},onClick(e){if("mousedown"===o&&d.current){d.current=void 0;return}dB(d.current,!0)&&c||(r&&l&&(!n.current.openEvent||"click"===n.current.openEvent.type)?i(!1,e.nativeEvent,"click"):i(!0,e.nativeEvent,"click"))},onKeyDown(e){d.current=void 0,e.defaultPrevented||!u||pz(e)||(" "!==e.key||dD(a)||(e.preventDefault(),h.current=!0),"Enter"===e.key&&(r&&l?i(!1,e.nativeEvent,"click"):i(!0,e.nativeEvent,"click")))},onKeyUp(e){!(e.defaultPrevented||!u||pz(e)||dD(a))&&" "===e.key&&h.current&&(h.current=!1,r&&l?i(!1,e.nativeEvent,"click"):i(!0,e.nativeEvent,"click"))}}}:{},[s,n,o,c,u,a,l,r,i])}(m),function(e,t){void 0===t&&(t={});let{open:r,onOpenChange:i,elements:{reference:n,domReference:a,floating:s},dataRef:o}=e,{enabled:l=!0,escapeKey:c=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:h=!1,referencePressEvent:p="pointerdown",ancestorScroll:f=!1,bubbles:m,capture:g}=t,y=ph(),v=hX("function"==typeof u?u:()=>!1),b="function"==typeof u?v:u,w=ud.useRef(!1),S=ud.useRef(!1),{escapeKey:_,outsidePress:x}=pW(m),{escapeKey:k,outsidePress:E}=pW(g),C=hX(e=>{var t;if(!r||!l||!c||"Escape"!==e.key)return;let n=null==(t=o.current.floatingContext)?void 0:t.nodeId,a=y?pg(y.nodesRef.current,n):[];if(!_&&(e.stopPropagation(),a.length>0)){let e=!0;if(a.forEach(t=>{var r;if(null!=(r=t.context)&&r.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}i(!1,"nativeEvent"in e?e.nativeEvent:e,"escape-key")}),R=hX(e=>{var t;let r=()=>{var t;C(e),null==(t=dM(e))||t.removeEventListener("keydown",r)};null==(t=dM(e))||t.addEventListener("keydown",r)}),A=hX(e=>{var t;let r=w.current;w.current=!1;let n=S.current;if(S.current=!1,"click"===d&&n||r||"function"==typeof b&&!b(e))return;let l=dM(e),c="["+pp("inert")+"]",u=dU(s).querySelectorAll(c),h=dg(l)?l:null;for(;h&&!d_(h);){let e=dE(h);if(d_(e)||!dg(e))break;h=e}if(u.length&&dg(l)&&!l.matches("html,body")&&!dA(l,s)&&Array.from(u).every(e=>!dA(h,e)))return;if(dy(l)&&s){let t=l.clientWidth>0&&l.scrollWidth>l.clientWidth,r=l.clientHeight>0&&l.scrollHeight>l.clientHeight,i=r&&e.offsetX>l.clientWidth;if(r&&"rtl"===dx(l).direction&&(i=e.offsetX<=l.offsetWidth-l.clientWidth),i||t&&e.offsetY>l.clientHeight)return}let p=null==(t=o.current.floatingContext)?void 0:t.nodeId,f=y&&pg(y.nodesRef.current,p).some(t=>{var r;return dL(e,null==(r=t.context)?void 0:r.elements.floating)});if(dL(e,s)||dL(e,a)||f)return;let m=y?pg(y.nodesRef.current,p):[];if(m.length>0){let e=!0;if(m.forEach(t=>{var r;if(null!=(r=t.context)&&r.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}i(!1,e,"outside-press")}),T=hX(e=>{var t;let r=()=>{var t;A(e),null==(t=dM(e))||t.removeEventListener(d,r)};null==(t=dM(e))||t.addEventListener(d,r)});return ud.useEffect(()=>{if(!r||!l)return;function e(e){i(!1,e,"ancestor-scroll")}o.current.__escapeKeyBubbles=_,o.current.__outsidePressBubbles=x;let t=dU(s);c&&t.addEventListener("keydown",k?R:C,k),b&&t.addEventListener(d,E?T:A,E);let u=[];return f&&(dg(a)&&(u=dC(a)),dg(s)&&(u=u.concat(dC(s))),!dg(n)&&n&&n.contextElement&&(u=u.concat(dC(n.contextElement)))),(u=u.filter(e=>{var r;return e!==(null==(r=t.defaultView)?void 0:r.visualViewport)})).forEach(t=>{t.addEventListener("scroll",e,{passive:!0})}),()=>{c&&t.removeEventListener("keydown",k?R:C,k),b&&t.removeEventListener(d,E?T:A,E),u.forEach(t=>{t.removeEventListener("scroll",e)})}},[o,s,a,n,c,b,d,r,i,f,l,_,x,C,k,R,A,E,T]),ud.useEffect(()=>{w.current=!1},[b,d]),ud.useMemo(()=>l?{reference:{onKeyDown:C,[pV[p]]:e=>{h&&i(!1,e.nativeEvent,"reference-press")}},floating:{onKeyDown:C,onMouseDown(){S.current=!0},onMouseUp(){S.current=!0},[pH[d]]:()=>{w.current=!0}}}:{},[l,h,d,p,i,C])}(m),function(e,t){var r;void 0===t&&(t={});let{open:i,floatingId:n}=e,{enabled:a=!0,role:s="dialog"}=t,o=null!=(r=p3.get(s))?r:s,l=pl(),c=null!=pd();return ud.useMemo(()=>{if(!a)return{};let e={id:n,...o&&{role:o}};return"tooltip"===o||"label"===s?{reference:{["aria-"+("label"===s?"labelledby":"describedby")]:i?n:void 0},floating:e}:{reference:{"aria-expanded":i?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":i?n:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:l},..."menu"===o&&c&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}},floating:{...e,..."menu"===o&&{"aria-labelledby":l}},item(e){let{active:t,selected:r}=e,i={role:"option",...t&&{id:n+"-option"}};switch(s){case"select":return{...i,"aria-selected":t&&r};case"combobox":return{...i,...t&&{"aria-selected":!0}}}return{}}}},[a,s,o,i,n,l,c])}(m,{role:"listbox"})]),k=(0,ud.useMemo)(()=>({activeIndex:l,selectedIndex:u,getItemProps:x,handleSelect:v}),[l,u,x,v]);return(0,uu.jsxs)("div",{className:"str-video__dropdown",children:[(0,uu.jsxs)("div",{className:"str-video__dropdown-selected",ref:f.setReference,tabIndex:0,...S(),children:[(0,uu.jsxs)("label",{className:"str-video__dropdown-selected__label",children:[r&&(0,uu.jsx)(bb,{className:"str-video__dropdown-selected__icon",icon:r}),h]}),(0,uu.jsx)(bb,{className:"str-video__dropdown-selected__chevron",icon:s?"chevron-up":"chevron-down"})]}),(0,uu.jsx)(bM.Provider,{value:k,children:s&&(0,uu.jsx)(pq,{context:m,modal:!1,children:(0,uu.jsx)("div",{className:"str-video__dropdown-list",ref:f.setFloating,..._(),children:(0,uu.jsx)(pi,{elementsRef:g,labelsRef:y,children:t})})})})]})},bK=e=>{let{selected:t,label:r,icon:i}=e,{getItemProps:n,handleSelect:a}=(0,ud.useContext)(bM),{ref:s,index:o}=function(e){void 0===e&&(e={});let{label:t}=e,{register:r,unregister:i,map:n,elementsRef:a,labelsRef:s}=ud.useContext(pr),[o,l]=ud.useState(null),c=ud.useRef(null),u=ud.useCallback(e=>{if(c.current=e,null!==o&&(a.current[o]=e,s)){var r;let i=void 0!==t;s.current[o]=i?t:null!=(r=null==e?void 0:e.textContent)?r:null}},[o,a,s,t]);return pe(()=>{let e=c.current;if(e)return r(e),()=>{i(e)}},[r,i]),pe(()=>{let e=c.current?n.get(c.current):null;null!=e&&l(e)},[n]),ud.useMemo(()=>({ref:u,index:null==o?-1:o}),[o,u])}();return(0,uu.jsxs)("div",{className:(0,dd.Z)("str-video__dropdown-option",{"str-video__dropdown-option--selected":t}),ref:s,...n({onClick:()=>a(o)}),children:[(0,uu.jsx)(bb,{className:"str-video__dropdown-icon",icon:i}),(0,uu.jsx)("span",{className:"str-video__dropdown-label",children:r})]})},bq=e=>{let{children:t,icon:r,handleSelect:i,defaultSelectedLabel:n,defaultSelectedIndex:a}=e;return(0,uu.jsx)(bD,{icon:r,handleSelect:i,defaultSelectedIndex:a,defaultSelectedLabel:n,children:t})},b$=({disabled:e,id:t,label:r,onChange:i,name:n,selected:a,defaultChecked:s,value:o})=>(0,uu.jsxs)("label",{className:(0,dd.Z)("str-video__device-settings__option",{"str-video__device-settings__option--selected":a,"str-video__device-settings__option--disabled":e}),htmlFor:t,children:[(0,uu.jsx)("input",{type:"radio",name:n,onChange:i,value:o,id:t,checked:a,defaultChecked:s,disabled:e}),r]}),bF=e=>{let{devices:t=[],selectedDeviceId:r,title:i,type:n,onChange:a}=e,s=r;return t.length>0&&!t.find(e=>e.deviceId===s)&&(s=t[0].deviceId),(0,uu.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[i&&(0,uu.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:i}),t.length?t.map(e=>(0,uu.jsx)(b$,{id:`${n}--${e.deviceId}`,value:e.deviceId,label:e.label,onChange:e=>{a?.(e.target.value)},name:n,selected:e.deviceId===s||1===t.length},e.deviceId)):(0,uu.jsx)(b$,{id:`${n}--default`,label:"Default",name:n,defaultChecked:!0,value:"default"})]})},bz=e=>{let{devices:t=[],selectedDeviceId:r,title:i,onChange:n,icon:a}=e,s=r;t.length>0&&!t.find(e=>e.deviceId===s)&&(s=t[0].deviceId);let o=t.findIndex(e=>e.deviceId===s),l=(0,ud.useCallback)(e=>{n?.(t[e].deviceId)},[t,n]);return(0,uu.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[(0,uu.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:i}),(0,uu.jsx)(bq,{icon:a,defaultSelectedIndex:o,defaultSelectedLabel:t[o]?.label,handleSelect:l,children:t.map(e=>(0,uu.jsx)(bK,{icon:a,label:e.label,selected:e.deviceId===s||1===t.length},e.deviceId))})]})},bV=e=>{let{visualType:t="list",icon:r,placeholder:i,...n}=e;return"list"===t?(0,uu.jsx)(bF,{...n}):(0,uu.jsx)(bz,{...n,icon:r,placeholder:i})},bH=({title:e,visualType:t})=>{let{useMicrophoneState:r}=dc(),{microphone:i,selectedDevice:n,devices:a}=r();return(0,uu.jsx)(bV,{devices:a||[],selectedDeviceId:n,type:"audioinput",onChange:async e=>{await i.select(e)},title:e,visualType:t,icon:"mic"})},bW=({title:e,visualType:t})=>{let{useSpeakerState:r}=dc(),{speaker:i,selectedDevice:n,devices:a,isDeviceSelectionSupported:s}=r();return s?(0,uu.jsx)(bV,{devices:a,type:"audiooutput",selectedDeviceId:n,onChange:e=>{i.select(e)},title:e,visualType:t,icon:"speaker"}):null},bG=({title:e,visualType:t})=>{let{useCameraState:r}=dc(),{camera:i,devices:n,selectedDevice:a}=r();return(0,uu.jsx)(bV,{devices:n||[],type:"videoinput",selectedDeviceId:a,onChange:async e=>{await i.select(e)},title:e,visualType:t,icon:"camera"})},bJ=({visualType:e=M.MENU})=>(0,uu.jsx)(bg,{placement:"bottom-end",ToggleButton:bX,visualType:e,children:(0,uu.jsx)(bY,{})}),bY=()=>{let{t:e}=u9();return(0,uu.jsxs)("div",{className:"str-video__device-settings",children:[(0,uu.jsx)(bG,{title:e("Select a Camera")}),(0,uu.jsx)(bH,{title:e("Select a Mic")}),(0,uu.jsx)(bW,{title:e("Select Speakers")})]})},bX=(0,ud.forwardRef)(function({menuShown:e},t){let{t:r}=u9();return(0,uu.jsx)(bw,{className:(0,dd.Z)("str-video__device-settings__button",{"str-video__device-settings__button--active":e}),title:r("Toggle device menu"),icon:"device-settings",ref:t})}),bQ=e=>{let{t}=u9(),{caption:r,Menu:i=(0,uu.jsx)(bH,{visualType:"list"}),menuPlacement:n="top",...a}=e,{hasPermission:s,requestPermission:o,isAwaitingPermission:l}=bh(ak.SEND_AUDIO),{useMicrophoneState:c}=dc(),{microphone:u,isMute:d,hasBrowserPermission:h}=c();return(0,uu.jsx)(du,{requiredGrants:[ak.SEND_AUDIO],children:(0,uu.jsx)(bR,{permission:ak.SEND_AUDIO,isAwaitingApproval:l,messageApproved:t("You can now speak."),messageAwaitingApproval:t("Awaiting for an approval to speak."),messageRevoked:t("You can no longer speak."),children:(0,uu.jsxs)(bk,{active:d,caption:r,title:s?h?r||t("Mic"):t("Check your browser mic permissions"):t("You have no permission to share your audio"),variant:"secondary",disabled:!h||!s,"data-testid":d?"audio-unmute-button":"audio-mute-button",onClick:async()=>{s?await u.toggle():await o()},Menu:i,menuPlacement:n,menuOffset:16,...a,children:[(0,uu.jsx)(bb,{icon:d?"mic-off":"mic"}),(!h||!s)&&(0,uu.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})},bZ=e=>{let{t}=u9(),{caption:r,Menu:i=(0,uu.jsx)(bG,{visualType:"list"}),menuPlacement:n="top",...a}=e,{hasPermission:s,requestPermission:o,isAwaitingPermission:l}=bh(ak.SEND_VIDEO),{useCameraState:c,useCallSettings:u}=dc(),{camera:d,isMute:h,hasBrowserPermission:p}=c(),f=u(),m=f?.video.enabled;return(0,uu.jsx)(du,{requiredGrants:[ak.SEND_VIDEO],children:(0,uu.jsx)(bR,{permission:ak.SEND_VIDEO,isAwaitingApproval:l,messageApproved:t("You can now share your video."),messageAwaitingApproval:t("Awaiting for an approval to share your video."),messageRevoked:t("You can no longer share your video."),children:(0,uu.jsxs)(bk,{active:h,caption:r,variant:"secondary",title:s?p?m?r||t("Video"):t("Video publishing is disabled by the system"):t("Check your browser video permissions"):t("You have no permission to share your video"),disabled:!p||!s||!m,"data-testid":h?"video-unmute-button":"video-mute-button",onClick:async()=>{s?await d.toggle():await o()},Menu:i,menuPlacement:n,menuOffset:16,...a,children:[(0,uu.jsx)(bb,{icon:h?"camera-off":"camera"}),(!p||!s||!m)&&(0,uu.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})};(0,ud.forwardRef)(function(e,t){let{t:r}=u9();return(0,uu.jsx)(bw,{icon:"call-end",variant:"danger",title:r("Leave call"),"data-testid":"leave-call-button",ref:t})});let b0=({disabled:e,onClick:t,onLeave:r})=>{let i=u0(),{t:n}=u9(),a=(0,ud.useCallback)(async e=>{t?t(e):i&&(await i.leave(),r?.())},[t,r,i]);return(0,uu.jsx)(bw,{disabled:e,icon:"call-end",variant:"danger",title:n("Leave call"),"data-testid":"cancel-call-button",onClick:a})},b1=({onLeave:e})=>(0,uu.jsxs)("div",{className:"str-video__call-controls",children:[(0,uu.jsx)(bP,{}),(0,uu.jsx)(bj,{}),(0,uu.jsx)(bL,{}),(0,uu.jsx)(bA,{children:(0,uu.jsx)(bQ,{})}),(0,uu.jsx)(bZ,{}),(0,uu.jsx)(b0,{onLeave:e})]});va.register(vz,vW,vy,vb),function(e){e.GOOD="Good",e.OK="Ok",e.BAD="Bad"}(D||(D={})),(0,ud.forwardRef)(function(e,t){let{t:r}=u9(),{caption:i,menuShown:n}=e;return(0,uu.jsx)(bk,{ref:t,active:n,caption:i,title:i||r("Statistics"),"data-testid":"stats-button",children:(0,uu.jsx)(bb,{icon:"stats"})})}),(0,ud.forwardRef)(function(e,t){return(0,uu.jsx)(bw,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),(0,ud.forwardRef)(function(e,t){return(0,uu.jsx)(bw,{enabled:e.menuShown,icon:"filter",ref:t})}),B.JOINING,B.RINGING,B.MIGRATING,B.RECONNECTING,B.RECONNECTING_FAILED,B.OFFLINE,B.IDLE,B.UNKNOWN,B.JOINED,B.LEFT,(0,ud.forwardRef)(function(e,t){let{permissionRequests:r,handleUpdatePermission:i,...n}=e,{t:a}=u9();return(0,uu.jsx)("div",{className:"str-video__permission-requests-list",ref:t,...n,children:r.map((e,t)=>{let{user:r,permissions:n}=e;return(0,uu.jsx)(ud.Fragment,{children:n.map(t=>(0,uu.jsxs)("div",{className:"str-video__permission-request",children:[(0,uu.jsx)("div",{className:"str-video__permission-request__message",children:b3(r.name||r.id,t,a)}),(0,uu.jsx)(b2,{className:"str-video__permission-request__button--allow",type:"button",onClick:i(e,"grant"),children:a("Allow")}),(0,uu.jsx)(b2,{className:"str-video__permission-request__button--reject",type:"button",onClick:i(e,"revoke"),children:a("Revoke")}),(0,uu.jsx)(b2,{className:"str-video__permission-request__button--reject",type:"button",onClick:i(e,"dismiss"),children:a("Dismiss")})]},t))},`${r.id}/${t}`)})})});let b2=e=>{let{className:t,...r}=e;return(0,uu.jsx)("button",{className:(0,dd.Z)("str-video__permission-request__button",t),...r})},b3=(e,t,r)=>{switch(t){case ak.SEND_AUDIO:return r("{{ userName }} is requesting to speak",{userName:e});case ak.SEND_VIDEO:return r("{{ userName }} is requesting to share their camera",{userName:e});case ak.SCREENSHARE:return r("{{ userName }} is requesting to present their screen",{userName:e});default:return r("{{ userName }} is requesting permission: {{ permission }}",{userName:e,permission:t})}},b8=({as:e="div",className:t,children:r,...i})=>(0,uu.jsx)(e,{...i,className:(0,dd.Z)("str-video",t),children:r}),b4=(0,ud.forwardRef)(function({participant:e,style:t},r){let{t:i}=u9(),[n,a]=(0,ud.useState)(!1),s=e.name||e.userId;return(0,uu.jsxs)("div",{className:"str-video__video-placeholder",style:t,ref:r,children:[(!e.image||n)&&(s?(0,uu.jsx)(b6,{name:s}):(0,uu.jsx)("div",{className:"str-video__video-placeholder__no-video-label",children:i("Video is disabled")})),e.image&&!n&&(0,uu.jsx)("img",{onError:()=>a(!0),alt:"video-placeholder",className:"str-video__video-placeholder__avatar",src:e.image})]})}),b6=e=>{let{name:t}=e,r=t.split(" ").slice(0,2).map(e=>e[0]).join("");return(0,uu.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:r})},b5=({trackType:e,participant:t,className:r,VideoPlaceholder:i=b4,refs:n,...a})=>{let{sessionId:s,videoStream:o,screenShareStream:l,publishedTracks:c,viewportVisibilityState:u,isLocalParticipant:d,userId:h}=t,p=u0(),[f,m]=(0,ud.useState)(null),[g,y]=(0,ud.useState)(!0),[v,b]=(0,ud.useState)(!0),w="videoTrack"===e?o:"screenShareTrack"===e?l:void 0;if((0,ud.useLayoutEffect)(()=>{if(!p||!f||"none"===e)return;let t=p.bindVideoElement(f,s,e);return()=>{t?.()}},[p,e,s,f]),(0,ud.useEffect)(()=>{if(!w||!f)return;let[e]=w.getVideoTracks();if(!e)return;let t=()=>{y(f.paused);let{width:t=0,height:r=0}=e.getSettings();b(t>=r)};return y(f.paused),f.addEventListener("play",t),f.addEventListener("pause",t),e.addEventListener("unmute",t),()=>{f.removeEventListener("play",t),f.removeEventListener("pause",t),e.removeEventListener("unmute",t),y(!0)}},[w,f]),!p)return null;let S="videoTrack"===e?c.includes(sn.TrackType.VIDEO):"screenShareTrack"===e&&c.includes(sn.TrackType.SCREEN_SHARE),_="none"===e||u?.[e]===N.INVISIBLE,x=!S||_,k=d&&"videoTrack"===e,E="screenShareTrack"===e;return(0,uu.jsxs)(uu.Fragment,{children:[!x&&(0,uu.jsx)("video",{...a,className:(0,dd.Z)("str-video__video",r,{"str-video__video--not-playing":g,"str-video__video--tall":!v,"str-video__video--mirror":k,"str-video__video--screen-share":E}),"data-user-id":h,"data-session-id":s,ref:e=>{m(e),n?.setVideoElement?.(e)}}),(x||g)&&i&&(0,uu.jsx)(i,{style:{position:"absolute"},participant:t,ref:n?.setVideoPlaceholderElement})]})},b7=(0,ud.forwardRef)(function({stream:e,...t},r){let[i,n]=(0,ud.useState)(null);return(0,ud.useEffect)(()=>{if(i&&e&&e!==i.srcObject)return i.srcObject=e,(cm.isSafari()||cm.isFirefox())&&setTimeout(()=>{i.srcObject=e,i.play().catch(e=>{console.error("Failed to play stream",e)})},0),()=>{i.pause(),i.srcObject=null}},[e,i]),(0,uu.jsx)("video",{autoPlay:!0,playsInline:!0,...t,ref:e=>{bx(r,e),n(e)}})}),b9=()=>{let{t:e}=u9();return(0,uu.jsx)("div",{className:"str_video__video-preview__disabled-video-preview",children:e("Video is disabled")})},we=()=>{let{t:e}=u9();return(0,uu.jsx)("div",{className:"str_video__video-preview__no-camera-preview",children:e("No camera found")})},wt=({className:e,mirror:t=!0,DisabledVideoPreview:r=b9,NoCameraPreview:i=we,StartingCameraPreview:n=bT})=>{let a;let{useCameraState:s}=dc(),{devices:o,status:l,isMute:c,mediaStream:u}=s();if(c&&o?.length===0)a=(0,uu.jsx)(i,{});else if("enabled"===l){let e=!u;a=(0,uu.jsxs)(uu.Fragment,{children:[u&&(0,uu.jsx)(b7,{stream:u,className:(0,dd.Z)("str-video__video-preview",{"str-video__video-preview--mirror":t,"str-video__video-preview--loading":e})}),e&&(0,uu.jsx)(n,{})]})}else a=(0,uu.jsx)(r,{});return(0,uu.jsx)("div",{className:(0,dd.Z)("str-video__video-preview-container",e),children:a})},wr=()=>{let{participant:e,participantViewElement:t,videoElement:r}=bs(),[i,n]=(0,ud.useState)(!!document.fullscreenElement),[a,s]=(0,ud.useState)(document.pictureInPictureElement),o=u0(),{t:l}=u9(),{pin:c,publishedTracks:u,sessionId:d,userId:h}=e,p=u.includes(sn.TrackType.AUDIO),f=u.includes(sn.TrackType.VIDEO),m=u.includes(sn.TrackType.SCREEN_SHARE),g=u.includes(sn.TrackType.SCREEN_SHARE_AUDIO),y=e=>()=>{o?.updateUserPermissions({user_id:h,grant_permissions:[e]})},v=e=>()=>{o?.updateUserPermissions({user_id:h,revoke_permissions:[e]})};(0,ud.useEffect)(()=>{let e=()=>{n(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,ud.useEffect)(()=>{if(!r)return;let e=()=>{s(document.pictureInPictureElement)};return r.addEventListener("enterpictureinpicture",e),r.addEventListener("leavepictureinpicture",e),()=>{r.removeEventListener("enterpictureinpicture",e),r.removeEventListener("leavepictureinpicture",e)}},[r]);let{close:b}=bf()||{};return(0,uu.jsxs)(by,{onItemClick:b,children:[(0,uu.jsxs)(bv,{onClick:()=>{c?o?.unpin(d):o?.pin(d)},disabled:c&&!c.isLocalPin,children:[(0,uu.jsx)(bb,{icon:"pin"}),l(c?"Unpin":"Pin")]}),(0,uu.jsxs)(du,{requiredGrants:[ak.PIN_FOR_EVERYONE],children:[(0,uu.jsxs)(bv,{onClick:()=>{o?.pinForEveryone({user_id:h,session_id:d}).catch(e=>{console.error(`Failed to pin participant ${h}`,e)})},disabled:c&&!c.isLocalPin,children:[(0,uu.jsx)(bb,{icon:"pin"}),l("Pin for everyone")]}),(0,uu.jsxs)(bv,{onClick:()=>{o?.unpinForEveryone({user_id:h,session_id:d}).catch(e=>{console.error(`Failed to unpin participant ${h}`,e)})},disabled:!c||c.isLocalPin,children:[(0,uu.jsx)(bb,{icon:"pin"}),l("Unpin for everyone")]})]}),(0,uu.jsx)(du,{requiredGrants:[ak.BLOCK_USERS],children:(0,uu.jsxs)(bv,{onClick:()=>o?.blockUser(h),children:[(0,uu.jsx)(bb,{icon:"not-allowed"}),l("Block")]})}),(0,uu.jsxs)(du,{requiredGrants:[ak.MUTE_USERS],children:[f&&(0,uu.jsxs)(bv,{onClick:()=>o?.muteUser(h,"video"),children:[(0,uu.jsx)(bb,{icon:"camera-off-outline"}),l("Turn off video")]}),m&&(0,uu.jsxs)(bv,{onClick:()=>o?.muteUser(h,"screenshare"),children:[(0,uu.jsx)(bb,{icon:"screen-share-off"}),l("Turn off screen share")]}),p&&(0,uu.jsxs)(bv,{onClick:()=>o?.muteUser(h,"audio"),children:[(0,uu.jsx)(bb,{icon:"no-audio"}),l("Mute audio")]}),g&&(0,uu.jsxs)(bv,{onClick:()=>o?.muteUser(h,"screenshare_audio"),children:[(0,uu.jsx)(bb,{icon:"no-audio"}),l("Mute screen share audio")]})]}),t&&(0,uu.jsx)(bv,{onClick:()=>i?document.exitFullscreen().catch(console.error):t?.requestFullscreen().catch(console.error),children:l("{{ direction }} fullscreen",{direction:l(i?"Leave":"Enter")})}),r&&document.pictureInPictureEnabled&&(0,uu.jsx)(bv,{onClick:()=>r&&a!==r?r.requestPictureInPicture().catch(console.error):document.exitPictureInPicture().catch(console.error),children:l("{{ direction }} picture-in-picture",{direction:l(a===r?"Leave":"Enter")})}),(0,uu.jsxs)(du,{requiredGrants:[ak.UPDATE_CALL_PERMISSIONS],children:[(0,uu.jsx)(bv,{onClick:y(ak.SEND_AUDIO),children:l("Allow audio")}),(0,uu.jsx)(bv,{onClick:y(ak.SEND_VIDEO),children:l("Allow video")}),(0,uu.jsx)(bv,{onClick:y(ak.SCREENSHARE),children:l("Allow screen sharing")}),(0,uu.jsx)(bv,{onClick:v(ak.SEND_AUDIO),children:l("Disable audio")}),(0,uu.jsx)(bv,{onClick:v(ak.SEND_VIDEO),children:l("Disable video")}),(0,uu.jsx)(bv,{onClick:v(ak.SCREENSHARE),children:l("Disable screen sharing")})]})]})},wi=({trackedElement:e,dynascaleManager:t,sessionId:r,trackType:i})=>{let n=u0(),a=t??n?.dynascaleManager;(0,ud.useEffect)(()=>{if(!e||!a||!n||"none"===i)return;let t=a.trackElementVisibility(e,r,i);return()=>{t()}},[e,a,n,r,i])},wn=(0,ud.forwardRef)(function(e,t){return(0,uu.jsx)(bw,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),wa=()=>{let e=u0(),{t}=u9();return(0,uu.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,uu.jsx)(bb,{icon:"screen-share-off"}),(0,uu.jsx)("span",{className:"str-video__screen-share-overlay__title",children:t("You are presenting your screen")}),(0,uu.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,uu.jsx)(bb,{icon:"close"})," ",t("Stop Screen Sharing")]})]})},ws=({indicatorsVisible:e=!0,menuPlacement:t="bottom-start",showMenuButton:r=!0,ParticipantActionsContextMenu:i=wr})=>{let{participant:n,trackType:a}=bs(),{publishedTracks:s}=n,o=s.includes(sn.TrackType.SCREEN_SHARE);return n.isLocalParticipant&&o&&"screenShareTrack"===a?(0,uu.jsxs)(uu.Fragment,{children:[(0,uu.jsx)(wa,{}),(0,uu.jsx)(wo,{indicatorsVisible:e})]}):(0,uu.jsxs)(uu.Fragment,{children:[r&&(0,uu.jsx)(bg,{strategy:"fixed",placement:t,ToggleButton:wn,children:(0,uu.jsx)(i,{})}),(0,uu.jsx)(bI,{participant:n}),(0,uu.jsx)(wo,{indicatorsVisible:e})]})},wo=({indicatorsVisible:e=!0})=>{let{participant:t}=bs(),{isLocalParticipant:r,connectionQuality:i,publishedTracks:n,pin:a,sessionId:s,name:o,userId:l}=t,c=u0(),{t:u}=u9(),d=!!i&&sn.ConnectionQuality[i].toLowerCase(),h=n.includes(sn.TrackType.AUDIO),p=n.includes(sn.TrackType.VIDEO),f=!!a&&a.isLocalPin;return(0,uu.jsxs)(uu.Fragment,{children:[(0,uu.jsx)("div",{className:"str-video__participant-details",children:(0,uu.jsxs)("span",{className:"str-video__participant-details__name",children:[o||l,e&&!h&&(0,uu.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),e&&!p&&(0,uu.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),e&&f&&(0,uu.jsx)("span",{title:u("Unpin"),onClick:()=>c?.unpin(s),className:"str-video__participant-details__name--pinned"}),e&&(0,uu.jsx)(wl,{})]})}),e&&(0,uu.jsx)(bC,{isVisible:r&&i===sn.ConnectionQuality.POOR,message:u("Poor connection quality"),children:d&&(0,uu.jsx)("span",{className:(0,dd.Z)("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${d}`),title:d})})]})},wl=()=>{let{participant:e}=bs(),{isSpeaking:t,isDominantSpeaker:r}=e;return(0,uu.jsxs)("span",{className:(0,dd.Z)("str-video__speech-indicator",t&&"str-video__speech-indicator--speaking",r&&"str-video__speech-indicator--dominant"),children:[(0,uu.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,uu.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,uu.jsx)("span",{className:"str-video__speech-indicator__bar"})]})},wc=(0,ud.forwardRef)(function({participant:e,trackType:t="videoTrack",muteAudio:r,refs:{setVideoElement:i,setVideoPlaceholderElement:n}={},className:a,VideoPlaceholder:s,ParticipantViewUI:o=ws},l){let{isLocalParticipant:c,isSpeaking:u,isDominantSpeaker:d,publishedTracks:h,sessionId:p}=e,f=h.includes(sn.TrackType.AUDIO),m=h.includes(sn.TrackType.VIDEO),g=h.includes(sn.TrackType.SCREEN_SHARE_AUDIO),[y,v]=(0,ud.useState)(null),[b,w]=(0,ud.useState)(null),[S,_]=(0,ud.useState)(null);wi({sessionId:p,trackedElement:y,trackType:t});let x=(0,ud.useMemo)(()=>({participant:e,participantViewElement:y,videoElement:b,videoPlaceholderElement:S,trackType:t}),[b,S,e,y,t]),k=(0,ud.useMemo)(()=>({setVideoElement:e=>{i?.(e),w(e)},setVideoPlaceholderElement:e=>{n?.(e),_(e)}}),[i,n]);return(0,uu.jsx)("div",{"data-testid":"participant-view",ref:e=>{bx(l,e),v(e)},className:(0,dd.Z)("str-video__participant-view",d&&"str-video__participant-view--dominant-speaker",u&&"str-video__participant-view--speaking",!m&&"str-video__participant-view--no-video",!f&&"str-video__participant-view--no-audio",a),children:(0,uu.jsxs)(ba.Provider,{value:x,children:[!c&&!r&&(0,uu.jsxs)(uu.Fragment,{children:[f&&(0,uu.jsx)(bi,{participant:e,trackType:"audioTrack"}),g&&(0,uu.jsx)(bi,{participant:e,trackType:"screenShareAudioTrack"})]}),(0,uu.jsx)(b5,{VideoPlaceholder:s,participant:e,trackType:t,refs:k,autoPlay:!0}),bS(o)?(0,uu.jsx)(o,{}):o]})})}),wu=e=>{let{call:t,children:r}=e;return(0,uu.jsx)(uZ.Provider,{value:t,children:r})},wd={en:{Joining:"Joining",Mic:"Mic","No internet connection":"No internet connection","Re-connecting":"Re-connecting",Ringing:"Ringing","Screen Share":"Screen Share","Select a Camera":"Select a Camera","Select a Mic":"Select a Mic","Select Speakers":"Select Speakers",Speakers:"Speakers",Video:"Video","You are muted. Unmute to speak.":"You are muted. Unmute to speak.",Live:"Live","You can now speak.":"You can now speak.","Awaiting for an approval to speak.":"Awaiting for an approval to speak.","You can no longer speak.":"You can no longer speak.","You can now share your video.":"You can now share your video.","Awaiting for an approval to share your video.":"Awaiting for an approval to share your video.","You can no longer share your video.":"You can no longer share your video.","Waiting for recording to stop...":"Waiting for recording to stop...","Waiting for recording to start...":"Waiting for recording to start...","Record call":"Record call",Reactions:"Reactions",Statistics:"Statistics","You can now share your screen.":"You can now share your screen.","Awaiting for an approval to share screen.":"Awaiting for an approval to share screen.","You can no longer share your screen.":"You can no longer share your screen.","Share screen":"Share screen","Incoming Call...":"Incoming Call...","Calling...":"Calling...","Mute All":"Mute All",Invite:"Invite",Join:"Join",You:"You",Me:"Me",Unknown:"Unknown","Toggle device menu":"Toggle device menu","Call Recordings":"Call Recordings",Refresh:"Refresh","Check your browser video permissions":"Check your browser video permissions","Video publishing is disabled by the system":"Video publishing is disabled by the system","You have no permission to share your video":"You have no permission to share your video","You have no permission to share your audio":"You have no permission to share your audio","You are presenting your screen":"You are presenting your screen","Stop Screen Sharing":"Stop Screen Sharing",Allow:"Allow",Revoke:"Revoke",Dismiss:"Dismiss","Microphone on":"Microphone on","Microphone off":"Microphone off","Camera on":"Camera on","Camera off":"Camera off","No camera found":"No camera found","Video is disabled":"Video is disabled",Pinned:"Pinned",Unpin:"Unpin",Pin:"Pin","Pin for everyone":"Pin for everyone","Unpin for everyone":"Unpin for everyone",Block:"Block","Turn off video":"Turn off video","Turn off screen share":"Turn off screen share","Mute audio":"Mute audio","Mute screen share audio":"Mute screen share audio","Allow audio":"Allow audio","Allow video":"Allow video","Allow screen sharing":"Allow screen sharing","Disable audio":"Disable audio","Disable video":"Disable video","Disable screen sharing":"Disable screen sharing",Enter:"Enter",Leave:"Leave","Leave call":"Leave call","End call for all":"End call for all","{{ direction }} fullscreen":"{{ direction }} fullscreen","{{ direction }} picture-in-picture":"{{ direction }} picture-in-picture","Dominant Speaker":"Dominant Speaker","Poor connection quality":"Poor connection quality. Please check your internet connection.",Participants:"Participants",Anonymous:", and ({{ count }}) anonymous","No participants found":"No participants found","Participants ({{ numberOfParticipants }})":"Participants ({{ numberOfParticipants }})","{{ userName }} is sharing their screen":"{{ userName }} is sharing their screen","{{ userName }} is requesting to speak":"{{ userName }} is requesting to speak","{{ userName }} is requesting to share their camera":"{{ userName }} is requesting to share their camera","{{ userName }} is requesting to present their screen":"{{ userName }} is requesting to present their screen","{{ userName }} is requesting permission: {{ permission }}":"{{ userName }} is requesting permission: {{ permission }}"}},wh=e=>(0,uu.jsx)(dt,{translationsOverrides:wd,...e}),wp=e=>{(0,ud.useEffect)(()=>{if(e)return e.setSortParticipantsBy(lw),()=>{wm(e)}},[e])},wf=(e,t)=>{(0,ud.useEffect)(()=>{if(e)return t?e.setSortParticipantsBy(li(lo,wg)):e.setSortParticipantsBy(lb),()=>{wm(e)}},[e,t])},wm=e=>{let t=cS.get(e.type);e.setSortParticipantsBy(t.options.sortParticipantsBy||lv)},wg=(e,t)=>e.isLocalParticipant?1:t.isLocalParticipant?-1:0,wy=16,wv=({group:e,VideoPlaceholder:t,ParticipantViewUI:r})=>(0,uu.jsx)("div",{className:(0,dd.Z)("str-video__paginated-grid-layout__group",{"str-video__paginated-grid-layout--one":1===e.length,"str-video__paginated-grid-layout--two-four":e.length>=2&&e.length<=4,"str-video__paginated-grid-layout--five-nine":e.length>=5&&e.length<=9}),children:e.map(e=>(0,uu.jsx)(wc,{participant:e,muteAudio:!0,VideoPlaceholder:t,ParticipantViewUI:r},e.sessionId))}),wb=({groupSize:e=wy,excludeLocalParticipant:t=!1,pageArrowsVisible:r=!0,VideoPlaceholder:i,ParticipantViewUI:n=ws})=>{let[a,s]=(0,ud.useState)(0),[o,l]=(0,ud.useState)(null),c=u0(),{useParticipants:u,useRemoteParticipants:d}=dc(),h=u(),p=d();wp(c),(0,ud.useEffect)(()=>{if(!o||!c)return;let e=c.setViewport(o);return()=>e()},[o,c]);let f=(0,ud.useMemo)(()=>b_(t?p:h,e),[t,p,h,e]),m=f.length;(0,ud.useEffect)(()=>{a>m-1&&s(Math.max(0,m-1))},[a,m]);let g=f[a];return c?(0,uu.jsxs)("div",{className:"str-video__paginated-grid-layout__wrapper",ref:l,children:[(0,uu.jsx)(bn,{participants:p}),(0,uu.jsxs)("div",{className:"str-video__paginated-grid-layout",children:[r&&m>1&&(0,uu.jsx)(bw,{icon:"caret-left",disabled:0===a,onClick:()=>s(e=>Math.max(0,e-1))}),g&&(0,uu.jsx)(wv,{group:f[a],VideoPlaceholder:i,ParticipantViewUI:n}),r&&m>1&&(0,uu.jsx)(bw,{disabled:a===m-1,icon:"caret-right",onClick:()=>s(e=>Math.min(m-1,e+1))})]})]}):null},ww=(e,t,r)=>{let[i,n]=(0,ud.useState)({vertical:"number"==typeof r?r:null,horizontal:"number"==typeof r?r:null});return(0,ud.useEffect)(()=>{if(!t||!e||"number"==typeof r||void 0===r)return;let i=null,a=null,s=new ResizeObserver((r,s)=>{if(r.length>1){let e=t.firstChild;e&&(a=e.clientHeight,i=e.clientWidth,s.unobserve(t))}if(null===a||null===i)return;let o=Math.floor(e.clientHeight/a),l=Math.floor(e.clientWidth/i);n(e=>e.vertical!==o||e.horizontal!==l?{vertical:o,horizontal:l}:e)});return s.observe(e),s.observe(t),()=>{s.disconnect()}},[t,r,e]),i},wS=()=>(0,uu.jsx)(ws,{menuPlacement:"top-end"}),w_=()=>(0,uu.jsx)(ws,{}),wx=({ParticipantViewUIBar:e=wS,ParticipantViewUISpotlight:t=w_,VideoPlaceholder:r,participantsBarPosition:i="bottom",participantsBarLimit:n})=>{let a=u0(),{useParticipants:s,useRemoteParticipants:o}=dc(),[l,...c]=s(),u=o(),[d,h]=(0,ud.useState)(null),[p,f]=(0,ud.useState)(null),[m,g]=(0,ud.useState)(null),y=wC(l),v=ww(m,p,n),b="left"===i||"right"===i,w="top"===i||"bottom"===i;(0,ud.useEffect)(()=>{if(!d||!a)return;let e=a.setViewport(d);return()=>e()},[d,a]),wf(a,1===c.length);let S=c,_=b?v.vertical:v.horizontal;return(void 0!==n&&null!==_&&(S=c.slice(0,_-(y?1:0))),a)?(0,uu.jsxs)("div",{className:"str-video__speaker-layout__wrapper",children:[(0,uu.jsx)(bn,{participants:u}),(0,uu.jsxs)("div",{className:(0,dd.Z)("str-video__speaker-layout",i&&`str-video__speaker-layout--variant-${i}`),children:[(0,uu.jsx)("div",{className:"str-video__speaker-layout__spotlight",children:l&&(0,uu.jsx)(wc,{participant:l,muteAudio:!0,trackType:y?"screenShareTrack":"videoTrack",ParticipantViewUI:t,VideoPlaceholder:r})}),S.length>0&&i&&(0,uu.jsxs)("div",{ref:g,className:"str-video__speaker-layout__participants-bar-buttons-wrapper",children:[(0,uu.jsx)("div",{className:"str-video__speaker-layout__participants-bar-wrapper",ref:h,children:(0,uu.jsxs)("div",{ref:f,className:"str-video__speaker-layout__participants-bar",children:[y&&(0,uu.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,uu.jsx)(wc,{participant:l,ParticipantViewUI:e,VideoPlaceholder:r,muteAudio:!0})},l.sessionId),S.map(t=>(0,uu.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,uu.jsx)(wc,{participant:t,ParticipantViewUI:e,VideoPlaceholder:r,muteAudio:!0})},t.sessionId))]})}),b&&(0,uu.jsx)(wE,{scrollWrapper:d}),w&&(0,uu.jsx)(wk,{scrollWrapper:d})]})]})]}):null},wk=({scrollWrapper:e})=>{let t=bu(e);return(0,uu.jsxs)(uu.Fragment,{children:[t&&"start"!==t&&(0,uu.jsx)(bw,{onClick:()=>{e?.scrollBy({left:-150,behavior:"smooth"})},icon:"caret-left",className:"str-video__speaker-layout__participants-bar--button-left"}),t&&"end"!==t&&(0,uu.jsx)(bw,{onClick:()=>{e?.scrollBy({left:150,behavior:"smooth"})},icon:"caret-right",className:"str-video__speaker-layout__participants-bar--button-right"})]})},wE=({scrollWrapper:e})=>{let t=bc(e);return(0,uu.jsxs)(uu.Fragment,{children:[t&&"top"!==t&&(0,uu.jsx)(bw,{onClick:()=>{e?.scrollBy({top:-150,behavior:"smooth"})},icon:"caret-up",className:"str-video__speaker-layout__participants-bar--button-top"}),t&&"bottom"!==t&&(0,uu.jsx)(bw,{onClick:()=>{e?.scrollBy({top:150,behavior:"smooth"})},icon:"caret-down",className:"str-video__speaker-layout__participants-bar--button-bottom"})]})},wC=e=>!!e?.publishedTracks.includes(sn.TrackType.SCREEN_SHARE),[wR,wA,wT]="0.5.12".split(".");a={type:sn.SdkType.REACT,major:wR,minor:wA,patch:wT}},54656:(e,t,r)=>{e.exports={parallel:r(23480),serial:r(47186),serialOrdered:r(74345)}},49105:e=>{e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}};function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}},66779:(e,t,r)=>{var i=r(94788);e.exports=function(e){var t=!1;return i(function(){t=!0}),function(r,n){t?e(r,n):i(function(){e(r,n)})}}},94788:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},93354:(e,t,r)=>{var i=r(66779),n=r(49105);e.exports=function(e,t,r,a){var s,o,l=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[l]=(s=e[l],o=function(e,t){l in r.jobs&&(delete r.jobs[l],e?n(r):r.results[l]=t,a(e,r.results))},2==t.length?t(s,i(o)):t(s,l,i(o)))}},19780:e=>{e.exports=function(e,t){var r=!Array.isArray(e),i={index:0,keyedList:r||t?Object.keys(e):null,jobs:{},results:r?{}:[],size:r?Object.keys(e).length:e.length};return t&&i.keyedList.sort(r?t:function(r,i){return t(e[r],e[i])}),i}},136:(e,t,r)=>{var i=r(49105),n=r(66779);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,i(this),n(e)(null,this.results))}},23480:(e,t,r)=>{var i=r(93354),n=r(19780),a=r(136);e.exports=function(e,t,r){for(var s=n(e);s.index<(s.keyedList||e).length;)i(e,t,s,function(e,t){if(e){r(e,t);return}if(0===Object.keys(s.jobs).length){r(null,s.results);return}}),s.index++;return a.bind(s,r)}},47186:(e,t,r)=>{var i=r(74345);e.exports=function(e,t,r){return i(e,t,null,r)}},74345:(e,t,r)=>{var i=r(93354),n=r(19780),a=r(136);function s(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,r,s){var o=n(e,r);return i(e,t,o,function r(n,a){if(n){s(n,a);return}if(o.index++,o.index<(o.keyedList||e).length){i(e,t,o,r);return}s(null,o.results)}),a.bind(o,s)},e.exports.ascending=s,e.exports.descending=function(e,t){return -1*s(e,t)}},93675:(e,t,r)=>{var i=r(11252),n=r(73837),a=r(71017),s=r(13685),o=r(95687),l=r(57310).parse,c=r(57147),u=r(12781).Stream,d=r(63830),h=r(54656),p=r(51054);function f(e){if(!(this instanceof f))return new f(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],i.call(this),e=e||{})this[t]=e[t]}e.exports=f,n.inherits(f,i),f.LINE_BREAK="\r\n",f.DEFAULT_CONTENT_TYPE="application/octet-stream",f.prototype.append=function(e,t,r){"string"==typeof(r=r||{})&&(r={filename:r});var a=i.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),n.isArray(t)){this._error(Error("Arrays are not supported."));return}var s=this._multiPartHeader(e,t,r),o=this._multiPartFooter();a(s),a(t),a(o),this._trackLength(s,t,r)},f.prototype._trackLength=function(e,t,r){var i=0;null!=r.knownLength?i+=+r.knownLength:Buffer.isBuffer(t)?i=t.length:"string"==typeof t&&(i=Buffer.byteLength(t)),this._valueLength+=i,this._overheadLength+=Buffer.byteLength(e)+f.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof u)&&(r.knownLength||this._valuesToMeasure.push(t))},f.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?void 0!=e.end&&e.end!=1/0&&void 0!=e.start?t(null,e.end+1-(e.start?e.start:0)):c.stat(e.path,function(r,i){if(r){t(r);return}t(null,i.size-(e.start?e.start:0))}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(r){e.pause(),t(null,+r.headers["content-length"])}),e.resume()):t("Unknown stream")},f.prototype._multiPartHeader=function(e,t,r){if("string"==typeof r.header)return r.header;var i,n=this._getContentDisposition(t,r),a=this._getContentType(t,r),s="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(n||[]),"Content-Type":[].concat(a||[])};for(var l in"object"==typeof r.header&&p(o,r.header),o)if(o.hasOwnProperty(l)){if(null==(i=o[l]))continue;Array.isArray(i)||(i=[i]),i.length&&(s+=l+": "+i.join("; ")+f.LINE_BREAK)}return"--"+this.getBoundary()+f.LINE_BREAK+s+f.LINE_BREAK},f.prototype._getContentDisposition=function(e,t){var r,i;return"string"==typeof t.filepath?r=a.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?r=a.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(r=a.basename(e.client._httpMessage.path||"")),r&&(i='filename="'+r+'"'),i},f.prototype._getContentType=function(e,t){var r=t.contentType;return!r&&e.name&&(r=d.lookup(e.name)),!r&&e.path&&(r=d.lookup(e.path)),!r&&e.readable&&e.hasOwnProperty("httpVersion")&&(r=e.headers["content-type"]),!r&&(t.filepath||t.filename)&&(r=d.lookup(t.filepath||t.filename)),r||"object"!=typeof e||(r=f.DEFAULT_CONTENT_TYPE),r},f.prototype._multiPartFooter=function(){return(function(e){var t=f.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}).bind(this)},f.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+f.LINE_BREAK},f.prototype.getHeaders=function(e){var t,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(r[t.toLowerCase()]=e[t]);return r},f.prototype.setBoundary=function(e){this._boundary=e},f.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},f.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),r=0,i=this._streams.length;r<i;r++)"function"!=typeof this._streams[r]&&(e=Buffer.isBuffer(this._streams[r])?Buffer.concat([e,this._streams[r]]):Buffer.concat([e,Buffer.from(this._streams[r])]),("string"!=typeof this._streams[r]||this._streams[r].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(f.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},f.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},f.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),e},f.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},f.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}h.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,i){if(r){e(r);return}i.forEach(function(e){t+=e}),e(null,t)})},f.prototype.submit=function(e,t){var r,i,n={method:"post"};return"string"==typeof e?i=p({port:(e=l(e)).port,path:e.pathname,host:e.hostname,protocol:e.protocol},n):(i=p(e,n)).port||(i.port="https:"==i.protocol?443:80),i.headers=this.getHeaders(e.headers),r="https:"==i.protocol?o.request(i):s.request(i),this.getLength((function(e,i){if(e&&"Unknown stream"!==e){this._error(e);return}if(i&&r.setHeader("Content-Length",i),this.pipe(r),t){var n,a=function(e,i){return r.removeListener("error",a),r.removeListener("response",n),t.call(this,e,i)};n=a.bind(this,null),r.on("error",a),r.on("response",n)}}).bind(this)),r},f.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},f.prototype.toString=function(){return"[object FormData]"}},51054:e=>{e.exports=function(e,t){return Object.keys(t).forEach(function(r){e[r]=e[r]||t[r]}),e}},76655:(e,t)=>{"use strict";t.JQ=function(e){for(var t,i=e.length,n=i%3,a=[],s=0,o=i-n;s<o;s+=16383)a.push(function(e,t,i){for(var n,a=[],s=t;s<i;s+=3)a.push(r[(n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===n?a.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===n&&a.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],i=[],n=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a=0,s=n.length;a<s;++a)r[a]=n[a],i[n.charCodeAt(a)]=a;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},71364:(e,t,r)=>{"use strict";var i=r(14300).Buffer,n=r(14300).SlowBuffer;function a(e,t){if(!i.isBuffer(e)||!i.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}e.exports=a,a.install=function(){i.prototype.equal=n.prototype.equal=function(e){return a(this,e)}};var s=i.prototype.equal,o=n.prototype.equal;a.restore=function(){i.prototype.equal=s,n.prototype.equal=o}},11252:(e,t,r)=>{var i=r(73837),n=r(12781).Stream,a=r(890);function s(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=s,i.inherits(s,n),s.create=function(e){var t=new this;for(var r in e=e||{})t[r]=e[r];return t},s.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},s.prototype.append=function(e){if(s.isStreamLike(e)){if(!(e instanceof a)){var t=a.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},s.prototype.pipe=function(e,t){return n.prototype.pipe.call(this,e,t),this.resume(),e},s.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},s.prototype._realGetNext=function(){var e=this._streams.shift();if(void 0===e){this.end();return}if("function"!=typeof e){this._pipeNext(e);return}e((function(e){s.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}).bind(this))},s.prototype._pipeNext=function(e){if(this._currentStream=e,s.isStreamLike(e)){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}this.write(e),this._getNext()},s.prototype._handleErrors=function(e){var t=this;e.on("error",function(e){t._emitError(e)})},s.prototype.write=function(e){this.emit("data",e)},s.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},s.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},s.prototype.end=function(){this._reset(),this.emit("end")},s.prototype.destroy=function(){this._reset(),this.emit("close")},s.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},s.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(e))}},s.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},s.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},60510:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let i=0,n=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(n=i))}),t.splice(n,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(60506)(t);let{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},60506:(e,t,r)=>{e.exports=function(e){function t(e){let r,n,a;let s=null;function o(...e){if(!o.enabled)return;let i=Number(new Date),n=i-(r||i);o.diff=n,o.prev=r,o.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";a++;let n=t.formatters[i];if("function"==typeof n){let t=e[a];r=n.call(o,t),e.splice(a,1),a--}return r}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=i,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(n!==t.namespaces&&(n=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function i(e,r){let i=t(this.namespace+(void 0===r?":":r)+e);return i.log=this.log,i}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(n),...t.skips.map(n).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let i=("string"==typeof e?e:"").split(/[\s,]+/),n=i.length;for(r=0;r<n;r++)i[r]&&("-"===(e=i[r].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let r,i;if("*"===e[e.length-1])return!0;for(r=0,i=t.skips.length;r<i;r++)if(t.skips[r].test(e))return!1;for(r=0,i=t.names.length;r<i;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(58476),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},62056:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=r(60510):e.exports=r(12086)},12086:(e,t,r)=>{let i=r(76224),n=r(73837);t.init=function(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let i=0;i<r.length;i++)e.inspectOpts[r[i]]=t.inspectOpts[r[i]]},t.log=function(...e){return process.stderr.write(n.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){let{namespace:i,useColors:n}=this;if(n){let t=this.color,n="\x1b[3"+(t<8?t:"8;5;"+t),a=`  ${n};1m${i} \u001B[0m`;r[0]=a+r[0].split("\n").join("\n"+a),r.push(n+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else r[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+i+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:i.isatty(process.stderr.fd)},t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=r(60125);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[r]=i,e},{}),e.exports=r(60506)(t);let{formatters:a}=e.exports;a.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)}},890:(e,t,r)=>{var i=r(12781).Stream,n=r(73837);function a(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=a,n.inherits(a,i),a.create=function(e,t){var r=new this;for(var i in t=t||{})r[i]=t[i];r.source=e;var n=e.emit;return e.emit=function(){return r._handleEmit(arguments),n.apply(e,arguments)},e.on("error",function(){}),r.pauseStream&&e.pause(),r},Object.defineProperty(a.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),a.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},a.prototype.resume=function(){this._released||this.release(),this.source.resume()},a.prototype.pause=function(){this.source.pause()},a.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(e){this.emit.apply(this,e)}).bind(this)),this._bufferedEvents=[]},a.prototype.pipe=function(){var e=i.prototype.pipe.apply(this,arguments);return this.resume(),e},a.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}"data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)},a.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(e))}}},99810:(e,t,r)=>{"use strict";var i=r(5299).Buffer,n=r(69754);function a(e){if(i.isBuffer(e))return e;if("string"==typeof e)return i.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,r){for(var i=0;t+i<r&&0===e[t+i];)++i;return e[t+i]>=128&&--i,i}e.exports={derToJose:function(e,t){e=a(e);var r=n(t),s=r+1,o=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),o-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(o-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(o-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(o-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var d=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var h=e[l++];if(o-l!==h)throw Error('"s" specified length of "'+h+'", expected "'+(o-l)+'"');if(s<h)throw Error('"s" specified length of "'+h+'", max of "'+s+'" is acceptable');var p=l;if((l+=h)!==o)throw Error('Expected to consume entire buffer, but "'+(o-l)+'" bytes remain');var f=r-u,m=r-h,g=i.allocUnsafe(f+u+m+h);for(l=0;l<f;++l)g[l]=0;e.copy(g,l,d+Math.max(-f,0),d+u),l=r;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,p+Math.max(-m,0),p+h),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=a(e);var r=n(t),o=e.length;if(o!==2*r)throw TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+o+'"');var l=s(e,0,r),c=s(e,r,e.length),u=r-l,d=r-c,h=2+u+1+1+d,p=h<128,f=i.allocUnsafe((p?2:3)+h),m=0;return f[m++]=48,p?f[m++]=h:(f[m++]=129,f[m++]=255&h),f[m++]=2,f[m++]=u,l<0?(f[m++]=0,m+=e.copy(f,m,0,r)):m+=e.copy(f,m,l,r),f[m++]=2,f[m++]=d,c<0?(f[m++]=0,e.copy(f,m,r)):e.copy(f,m,r+c),f}}},69754:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},82920:(e,t,r)=>{var i;e.exports=function(){if(!i){try{i=r(62056)("follow-redirects")}catch(e){}"function"!=typeof i&&(i=function(){})}i.apply(null,arguments)}},42136:(e,t,r)=>{var i=r(57310),n=i.URL,a=r(13685),s=r(95687),o=r(12781).Writable,l=r(39491),c=r(82920),u=!1;try{l(new n)}catch(e){u="ERR_INVALID_URL"===e.code}var d=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],h=["abort","aborted","connect","error","socket","timeout"],p=Object.create(null);h.forEach(function(e){p[e]=function(t,r,i){this._redirectable.emit(e,t,r,i)}});var f=R("ERR_INVALID_URL","Invalid URL",TypeError),m=R("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),g=R("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",m),y=R("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),v=R("ERR_STREAM_WRITE_AFTER_END","write after end"),b=o.prototype.destroy||_;function w(e,t){o.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){try{r._processResponse(e)}catch(e){r.emit("error",e instanceof m?e:new m({cause:e}))}},this._performRequest()}function S(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(i){var a=i+":",s=r[a]=e[i],o=t[i]=Object.create(s);Object.defineProperties(o,{request:{value:function(e,i,s){var o;return(o=e,n&&o instanceof n)?e=E(e):T(e)?e=E(x(e)):(s=i,i=k(e),e={protocol:a}),P(i)&&(s=i,i=null),(i=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,i)).nativeProtocols=r,T(i.host)||T(i.hostname)||(i.hostname="::1"),l.equal(i.protocol,a,"protocol mismatch"),c("options",i),new w(i,s)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var i=o.request(e,t,r);return i.end(),i},configurable:!0,enumerable:!0,writable:!0}})}),t}function _(){}function x(e){var t;if(u)t=new n(e);else if(!T((t=k(i.parse(e))).protocol))throw new f({input:e});return t}function k(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname)||/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new f({input:e.href||e});return e}function E(e,t){var r=t||{};for(var i of d)r[i]=e[i];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),""!==r.port&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function C(e,t){var r;for(var i in t)e.test(i)&&(r=t[i],delete t[i]);return null==r?void 0:String(r).trim()}function R(e,t,r){function i(r){Error.captureStackTrace(this,this.constructor),Object.assign(this,r||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return i.prototype=new(r||Error),Object.defineProperties(i.prototype,{constructor:{value:i,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),i}function A(e,t){for(var r of h)e.removeListener(r,p[r]);e.on("error",_),e.destroy(t)}function T(e){return"string"==typeof e||e instanceof String}function P(e){return"function"==typeof e}w.prototype=Object.create(o.prototype),w.prototype.abort=function(){A(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},w.prototype.destroy=function(e){return A(this._currentRequest,e),b.call(this,e),this},w.prototype.write=function(e,t,r){if(this._ending)throw new v;if(!T(e)&&!("object"==typeof e&&"length"in e))throw TypeError("data should be a string, Buffer or Uint8Array");if(P(t)&&(r=t,t=null),0===e.length){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new y),this.abort())},w.prototype.end=function(e,t,r){if(P(e)?(r=e,e=t=null):P(t)&&(r=t,t=null),e){var i=this,n=this._currentRequest;this.write(e,t,function(){i._ended=!0,n.end(null,null,r)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},w.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},w.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},w.prototype.setTimeout=function(e,t){var r=this;function i(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function n(t){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),a()},e),i(t)}function a(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",a),r.removeListener("error",a),r.removeListener("response",a),r.removeListener("close",a),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",n)}return t&&this.on("timeout",t),this.socket?n(this.socket):this._currentRequest.once("socket",n),this.on("socket",i),this.on("abort",a),this.on("error",a),this.on("response",a),this.on("close",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){w.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(w.prototype,e,{get:function(){return this._currentRequest[e]}})}),w.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},w.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw TypeError("Unsupported protocol "+e);if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var a of(n._redirectable=this,h))n.on(a,p[a]);if(this._currentUrl=/^\//.test(this._options.path)?i.format(this._options):this._options.path,this._isRedirect){var s=0,o=this,l=this._requestBodyBuffers;!function e(t){if(n===o._currentRequest){if(t)o.emit("error",t);else if(s<l.length){var r=l[s++];n.finished||n.write(r.data,r.encoding,e)}else o._ended&&n.end()}}()}},w.prototype._processResponse=function(e){var t,r,a,s=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:s});var o=e.headers.location;if(!o||!1===this._options.followRedirects||s<300||s>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(A(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new g;var d=this._options.beforeRedirect;d&&(a=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var h=this._options.method;(301!==s&&302!==s||"POST"!==this._options.method)&&(303!==s||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],C(/^content-/i,this._options.headers));var p=C(/^host$/i,this._options.headers),f=x(this._currentUrl),m=p||f.host,y=/^\w+:/.test(o)?this._currentUrl:i.format(Object.assign(f,{host:m})),v=u?new n(o,y):x(i.resolve(y,o));if(c("redirecting to",v.href),this._isRedirect=!0,E(v,this._options),(v.protocol===f.protocol||"https:"===v.protocol)&&(v.host===m||(l(T(t=v.host)&&T(m)),(r=t.length-m.length-1)>0&&"."===t[r]&&t.endsWith(m)))||C(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),P(d)){var b={headers:e.headers,statusCode:s},w={url:y,method:h,headers:a};d(this._options,b,w),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=S({http:a,https:s}),e.exports.wrap=S},70814:e=>{"use strict";e.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(r+e),n=t.indexOf("--");return -1!==i&&(-1===n||i<n)}},95357:(e,t,r)=>{"use strict";e.exports=r(42659)},83880:(e,t,r)=>{var i=r(75945);e.exports=function(e,t){t=t||{};var r=i.decode(e,t);if(!r)return null;var n=r.payload;if("string"==typeof n)try{var a=JSON.parse(n);null!==a&&"object"==typeof a&&(n=a)}catch(e){}return!0===t.complete?{header:r.header,payload:n,signature:r.signature}:n}},89835:(e,t,r)=>{e.exports={decode:r(83880),verify:r(7738),sign:r(70939),JsonWebTokenError:r(72658),NotBeforeError:r(46951),TokenExpiredError:r(17118)}},72658:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},46951:(e,t,r)=>{var i=r(72658),n=function(e,t){i.call(this,e),this.name="NotBeforeError",this.date=t};n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},17118:(e,t,r)=>{var i=r(72658),n=function(e,t){i.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},13855:(e,t,r)=>{let i=r(86952);e.exports=i.satisfies(process.version,">=15.7.0")},27771:(e,t,r)=>{var i=r(86952);e.exports=i.satisfies(process.version,"^6.12.0 || >=8.0.0")},60875:(e,t,r)=>{let i=r(86952);e.exports=i.satisfies(process.version,">=16.9.0")},40425:(e,t,r)=>{var i=r(58476);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var n=i(e);if(void 0===n)return;return Math.floor(r+n/1e3)}if("number"==typeof e)return r+e}},92964:(e,t,r)=>{let i=r(13855),n=r(60875),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let o=a[r];if(!o)throw Error(`Unknown key type "${r}".`);if(!o.includes(e))throw Error(`"alg" parameter for "${r}" key type must be one of: ${o.join(", ")}.`);if(i)switch(r){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(n){let r=parseInt(e.slice(-3),10),{hashAlgorithm:i,mgf1HashAlgorithm:n,saltLength:a}=t.asymmetricKeyDetails;if(i!==`sha${r}`||n!==i)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==a&&a>r>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},70939:(e,t,r)=>{let i=r(40425),n=r(27771),a=r(92964),s=r(75945),o=r(87127),l=r(89113),c=r(16919),u=r(7124),d=r(23632),h=r(40075),p=r(91453),{KeyObject:f,createSecretKey:m,createPrivateKey:g}=r(6113),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];n&&y.splice(3,0,"PS256","PS384","PS512");let v={expiresIn:{isValid:function(e){return c(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function w(e,t,r,i){if(!d(r))throw Error('Expected "'+i+'" to be a plain object.');Object.keys(r).forEach(function(n){let a=e[n];if(!a){if(!t)throw Error('"'+n+'" is not allowed in "'+i+'"');return}if(!a.isValid(r[n]))throw Error(a.message)})}let S={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},_=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,n){var o,l;"function"==typeof r?(n=r,r={}):r=r||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:r.algorithm||"HS256",typ:c?"JWT":void 0,kid:r.keyid},r.header);function d(e){if(n)return n(e);throw e}if(!t&&"none"!==r.algorithm)return d(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof f))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return d(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return d(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return d(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return d(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return d(Error("payload is required"));if(c){try{o=e,w(b,!0,o,"payload")}catch(e){return d(e)}r.mutatePayload||(e=Object.assign({},e))}else{let t=_.filter(function(e){return void 0!==r[e]});if(t.length>0)return d(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return d(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return d(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=r,w(v,!1,l,"options")}catch(e){return d(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{a(u.alg,t)}catch(e){return d(e)}let h=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:c&&(e.iat=h),void 0!==r.notBefore){try{e.nbf=i(r.notBefore,h)}catch(e){return d(e)}if(void 0===e.nbf)return d(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=i(r.expiresIn,h)}catch(e){return d(e)}if(void 0===e.exp)return d(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(S).forEach(function(t){let i=S[t];if(void 0!==r[t]){if(void 0!==e[i])return d(Error('Bad "options.'+t+'" option. The payload already has an "'+i+'" property.'));e[i]=r[t]}});let y=r.encoding||"utf8";if("function"==typeof n)n=n&&p(n),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",n).once("done",function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return n(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));n(null,e)});else{let i=s.sign({header:u,payload:e,secret:t,encoding:y});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&i.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return i}}},7738:(e,t,r)=>{let i=r(72658),n=r(46951),a=r(17118),s=r(83880),o=r(40425),l=r(92964),c=r(27771),u=r(75945),{KeyObject:d,createSecretKey:h,createPublicKey:p}=r(6113),f=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(f.splice(f.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){let v,b,w;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),v=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return v(new i("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return v(new i("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return v(new i("allowInvalidAsymmetricKeyTypes must be a boolean"));let S=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return v(new i("jwt must be provided"));if("string"!=typeof e)return v(new i("jwt must be a string"));let _=e.split(".");if(3!==_.length)return v(new i("jwt malformed"));try{b=s(e,{complete:!0})}catch(e){return v(e)}if(!b)return v(new i("invalid token"));let x=b.header;if("function"==typeof t){if(!c)return v(new i("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,r){return r(null,t)};return w(x,function(t,s){let c;if(t)return v(new i("error in secret or public key callback: "+t.message));let w=""!==_[2].trim();if(!w&&s)return v(new i("jwt signature is required"));if(w&&!s)return v(new i("secret or public key must be provided"));if(!w&&!r.algorithms)return v(new i('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof d))try{s=p(s)}catch(e){try{s=h("string"==typeof s?Buffer.from(s):s)}catch(e){return v(new i("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===s.type?r.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?r.algorithms=g:"ec"===s.asymmetricKeyType?r.algorithms=m:r.algorithms=f),-1===r.algorithms.indexOf(b.header.alg))return v(new i("invalid algorithm"));if(x.alg.startsWith("HS")&&"secret"!==s.type)return v(new i(`secretOrPublicKey must be a symmetric key when using ${x.alg}`));if(/^(?:RS|PS|ES)/.test(x.alg)&&"public"!==s.type)return v(new i(`secretOrPublicKey must be an asymmetric key when using ${x.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{l(x.alg,s)}catch(e){return v(e)}try{c=u.verify(e,b.header.alg,s)}catch(e){return v(e)}if(!c)return v(new i("invalid signature"));let k=b.payload;if(void 0!==k.nbf&&!r.ignoreNotBefore){if("number"!=typeof k.nbf)return v(new i("invalid nbf value"));if(k.nbf>S+(r.clockTolerance||0))return v(new n("jwt not active",new Date(1e3*k.nbf)))}if(void 0!==k.exp&&!r.ignoreExpiration){if("number"!=typeof k.exp)return v(new i("invalid exp value"));if(S>=k.exp+(r.clockTolerance||0))return v(new a("jwt expired",new Date(1e3*k.exp)))}if(r.audience){let e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(k.aud)?k.aud:[k.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return v(new i("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&k.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(k.iss)))return v(new i("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&k.sub!==r.subject)return v(new i("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&k.jti!==r.jwtid)return v(new i("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&k.nonce!==r.nonce)return v(new i("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof k.iat)return v(new i("iat required when maxAge is specified"));let e=o(r.maxAge,k.iat);if(void 0===e)return v(new i('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(S>=e+(r.clockTolerance||0))return v(new a("maxAge exceeded",new Date(1e3*e)))}return!0===r.complete?v(null,{header:x,payload:k,signature:b.signature}):v(null,k)})}},14916:(e,t,r)=>{var i=r(71364),n=r(5299).Buffer,a=r(6113),s=r(99810),o=r(73837),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof a.createPublicKey;function d(e){if(!n.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function h(e){if(!n.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function p(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(o.format.bind(o,e).apply(null,t))}function g(e){var t;return t=e,n.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){(function(e){if(!n.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(r),t=g(t);var i=a.createHmac("sha"+e,r);return p((i.update(t),i.digest("base64")))}}function v(e){return function(t,r,a){var s=y(e)(t,a);return i(n.from(r),n.from(s))}}function b(e){return function(t,r){h(r),t=g(t);var i=a.createSign("RSA-SHA"+e);return p((i.update(t),i.sign(r,"base64")))}}function w(e){return function(t,r,i){d(i),t=g(t),r=f(r);var n=a.createVerify("RSA-SHA"+e);return n.update(t),n.verify(i,r,"base64")}}function S(e){return function(t,r){h(r),t=g(t);var i=a.createSign("RSA-SHA"+e);return p((i.update(t),i.sign({key:r,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,r,i){d(i),t=g(t),r=f(r);var n=a.createVerify("RSA-SHA"+e);return n.update(t),n.verify({key:i,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function x(e){var t=b(e);return function(){var r=t.apply(null,arguments);return s.derToJose(r,"ES"+e)}}function k(e){var t=w(e);return function(r,i,n){return t(r,i=s.joseToDer(i,"ES"+e).toString("base64"),n)}}function E(){return function(){return""}}function C(){return function(e,t){return""===t}}u&&(c+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var r=(t[1]||t[3]).toLowerCase(),i=t[2];return{sign:({hs:y,rs:b,ps:S,es:x,none:E})[r](i),verify:({hs:v,rs:w,ps:_,es:k,none:C})[r](i)}}},75945:(e,t,r)=>{var i=r(55562),n=r(46612);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=i.sign,t.verify=n.verify,t.decode=n.decode,t.isValid=n.isValid,t.createSign=function(e){return new i(e)},t.createVerify=function(e){return new n(e)}},78450:(e,t,r)=>{var i=r(5299).Buffer,n=r(12781);function a(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=i.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=i.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}r(73837).inherits(a,n),a.prototype.write=function(e){this.buffer=i.concat([this.buffer,i.from(e)]),this.emit("data",e)},a.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=a},55562:(e,t,r)=>{var i=r(5299).Buffer,n=r(78450),a=r(14916),s=r(12781),o=r(55047),l=r(73837);function c(e,t){return i.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,r,i,n=e.header,s=e.payload,u=e.secret||e.privateKey,d=e.encoding,h=a(n.alg),p=(t=(t=d)||"utf8",r=c(o(n),"binary"),i=c(o(s),t),l.format("%s.%s",r,i)),f=h.sign(p,u);return l.format("%s.%s",p,f)}function d(e){var t=new n(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new n(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(d,s),d.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.sign=u,e.exports=d},55047:(e,t,r)=>{var i=r(14300).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||i.isBuffer(e)?e.toString():JSON.stringify(e)}},46612:(e,t,r)=>{var i=r(5299).Buffer,n=r(78450),a=r(14916),s=r(12781),o=r(55047),l=r(73837),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(i.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function h(e){return c.test(e)&&!!u(e)}function p(e,t,r){if(!t){var i=Error("Missing algorithm parameter for jws.verify");throw i.code="MISSING_ALGORITHM",i}var n=d(e=o(e)),s=e.split(".",2).join(".");return a(t).verify(s,n,r)}function f(e,t){if(t=t||{},!h(e=o(e)))return null;var r,n,a=u(e);if(!a)return null;var s=(r=r||"utf8",n=e.split(".")[1],i.from(n,"base64").toString(r));return("JWT"===a.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:a,payload:s,signature:d(e)}}function m(e){var t=new n((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new n(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=p(this.signature.buffer,this.algorithm,this.key.buffer),t=f(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=f,m.isValid=h,m.verify=p,e.exports=m},87127:e=>{var t,r,i=1/0,n=0/0,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function d(e){return e!=e}var h=Object.prototype,p=h.hasOwnProperty,f=h.toString,m=h.propertyIsEnumerable,g=(t=Object.keys,r=Object,function(e){return t(r(e))}),y=Math.max,v=Array.isArray;function b(e){var t,r;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(r=w(e)?f.call(e):"")||"[object GeneratorFunction]"==r)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){return!!e&&"object"==typeof e}e.exports=function(e,t,r,_){e=b(e)?e:(x=e)?function(e,t){for(var r=-1,i=e?e.length:0,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}(b(x)?function(e,t){var r,i=v(e)||S(e)&&b(e)&&p.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==f.call(e))?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],n=i.length,a=!!n;for(var s in e)p.call(e,s)&&!(a&&("length"==s||(r=null==(r=n)?9007199254740991:r)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<r))&&i.push(s);return i}(x):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||h))return g(e);var t,r=[];for(var i in Object(e))p.call(e,i)&&"constructor"!=i&&r.push(i);return r}(x),function(e){return x[e]}):[],r=r&&!_?(C=(E=(k=r)?(k=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||S(t)&&"[object Symbol]"==f.call(t))return n;if(w(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=w(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var i=o.test(e);return i||l.test(e)?u(e.slice(2),i?2:8):s.test(e)?n:+e}(k))===i||k===-i?(k<0?-1:1)*17976931348623157e292:k==k?k:0:0===k?k:0)%1,E==E?C?E-C:E:0):0;var x,k,E,C,R,A=e.length;return r<0&&(r=y(A+r,0)),"string"==typeof(R=e)||!v(R)&&S(R)&&"[object String]"==f.call(R)?r<=A&&e.indexOf(t,r)>-1:!!A&&function(e,t,r){if(t!=t)return function(e,t,r,i){for(var n=e.length,a=r+(i?1:-1);i?a--:++a<n;)if(t(e[a],a,e))return a;return -1}(e,d,r);for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return -1}(e,t,r)>-1}},89113:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},16919:e=>{var t=1/0,r=0/0,i=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,d,h;return"number"==typeof e&&e==(h=(d=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):n.test(e)?r:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,d==d?h?d-h:d:0)}},7124:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},23632:e=>{var t,r,i=Object.prototype,n=Function.prototype.toString,a=i.hasOwnProperty,s=n.call(Object),o=i.toString,l=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var r=a.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&n.call(r)==s}},40075:e=>{var t=Object.prototype.toString,r=Array.isArray;e.exports=function(e){var i;return"string"==typeof e||!r(e)&&!!(i=e)&&"object"==typeof i&&"[object String]"==t.call(e)}},91453:e=>{var t=1/0,r=0/0,i=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var d,h,p,f;if("function"!=typeof u)throw TypeError("Expected a function");return f=(p=(h=e)?(h=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):n.test(e)?r:+e}(h))===t||h===-t?(h<0?-1:1)*17976931348623157e292:h==h?h:0:0===h?h:0)%1,e=p==p?f?p-f:p:0,function(){return--e>0&&(d=u.apply(this,arguments)),e<=1&&(u=void 0),d}}(2,e)}},69224:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(3729),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),s=(e,t)=>{let r=(0,i.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,...d},h)=>(0,i.createElement)("svg",{ref:h,...n,width:s,height:s,stroke:r,strokeWidth:l?24*Number(o)/Number(s):o,className:["lucide",`lucide-${a(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r}},42739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r(69224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},68818:(e,t,r)=>{/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=r(40572)},63830:(e,t,r)=>{"use strict";/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var i=r(68818),n=r(71017).extname,a=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;function o(e){if(!e||"string"!=typeof e)return!1;var t=a.exec(e),r=t&&i[t[1].toLowerCase()];return r&&r.charset?r.charset:!!(t&&s.test(t[1]))&&"UTF-8"}t.charset=o,t.charsets={lookup:o},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var r=-1===e.indexOf("/")?t.lookup(e):e;if(!r)return!1;if(-1===r.indexOf("charset")){var i=t.charset(r);i&&(r+="; charset="+i.toLowerCase())}return r},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var r=a.exec(e),i=r&&t.extensions[r[1].toLowerCase()];return!!i&&!!i.length&&i[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var r=n("x."+e).toLowerCase().substr(1);return!!r&&(t.types[r]||!1)},t.types=Object.create(null),function(e,t){var r=["nginx","apache",void 0,"iana"];Object.keys(i).forEach(function(n){var a=i[n],s=a.extensions;if(s&&s.length){e[n]=s;for(var o=0;o<s.length;o++){var l=s[o];if(t[l]){var c=r.indexOf(i[t[l]].source),u=r.indexOf(a.source);if("application/octet-stream"!==t[l]&&(c>u||c===u&&"application/"===t[l].substr(0,12)))continue}t[l]=n}}})}(t.extensions,t.types)},58476:e=>{function t(e,t,r,i){return Math.round(e/r)+" "+i+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var i,n,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===a&&isFinite(e))return r.long?(i=Math.abs(e))>=864e5?t(e,i,864e5,"day"):i>=36e5?t(e,i,36e5,"hour"):i>=6e4?t(e,i,6e4,"minute"):i>=1e3?t(e,i,1e3,"second"):e+" ms":(n=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":n>=36e5?Math.round(e/36e5)+"h":n>=6e4?Math.round(e/6e4)+"m":n>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8428:(e,t,r)=>{"use strict";var i=r(14767);r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}})},28371:(e,t,r)=>{"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let i=r(13664);function n(e){let{createServerReference:t}=r(82228);return t(e,i.callServer)}},88928:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addBasePath",{enumerable:!0,get:function(){return a}});let i=r(71870),n=r(19847);function a(e,t){return(0,n.normalizePathTrailingSlash)((0,i.addPathPrefix)(e,""))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},41314:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return i}}),r(19847);let i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},13664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"callServer",{enumerable:!0,get:function(){return n}});let i=r(2583);async function n(e,t){let r=(0,i.getServerActionDispatcher)();if(!r)throw Error("Invariant: missing action dispatcher.");return new Promise((i,n)=>{r({actionId:e,actionArgs:t,resolve:i,reject:n})})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AppRouterAnnouncer",{enumerable:!0,get:function(){return s}});let i=r(3729),n=r(81202),a="next-route-announcer";function s(e){let{tree:t}=e,[r,s]=(0,i.useState)(null);(0,i.useEffect)(()=>(s(function(){var e;let t=document.getElementsByName(a)[0];if(null==t?void 0:null==(e=t.shadowRoot)?void 0:e.childNodes[0])return t.shadowRoot.childNodes[0];{let e=document.createElement(a);e.style.cssText="position:absolute";let t=document.createElement("div");return t.ariaLive="assertive",t.id="__next-route-announcer__",t.role="alert",t.style.cssText="position:absolute;border:0;height:1px;margin:-1px;padding:0;width:1px;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;word-wrap:normal",e.attachShadow({mode:"open"}).appendChild(t),document.body.appendChild(e),t}}()),()=>{let e=document.getElementsByTagName(a)[0];(null==e?void 0:e.isConnected)&&document.body.removeChild(e)}),[]);let[o,l]=(0,i.useState)(""),c=(0,i.useRef)();return(0,i.useEffect)(()=>{let e="";if(document.title)e=document.title;else{let t=document.querySelector("h1");t&&(e=t.innerText||t.textContent||"")}void 0!==c.current&&c.current!==e&&l(e),c.current=e},[t]),r?(0,n.createPortal)(o,r):null}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},15048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RSC_HEADER:function(){return r},ACTION:function(){return i},NEXT_ROUTER_STATE_TREE:function(){return n},NEXT_ROUTER_PREFETCH_HEADER:function(){return a},NEXT_URL:function(){return s},RSC_CONTENT_TYPE_HEADER:function(){return o},RSC_VARY_HEADER:function(){return l},FLIGHT_PARAMETERS:function(){return c},NEXT_RSC_UNION_QUERY:function(){return u},NEXT_DID_POSTPONE_HEADER:function(){return d}});let r="RSC",i="Next-Action",n="Next-Router-State-Tree",a="Next-Router-Prefetch",s="Next-Url",o="text/x-component",l=r+", "+n+", "+a+", "+s,c=[[r],[n],[a]],u="_rsc",d="x-nextjs-postponed";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2583:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getServerActionDispatcher:function(){return k},urlToUrlWithoutFlightMarker:function(){return C},createEmptyCacheNode:function(){return T},default:function(){return N}});let i=r(80056),n=r(95344),a=i._(r(3729)),s=r(46860),o=r(8085),l=r(47475),c=r(78486),u=r(14954),d=r(26840),h=r(87995),p=r(56338),f=r(88928),m=r(23371),g=r(87046),y=r(7550),v=r(63664),b=r(15048),w=r(22874),S=r(96411),_=null,x=null;function k(){return x}let E={};function C(e){let t=new URL(e,location.origin);return t.searchParams.delete(b.NEXT_RSC_UNION_QUERY),t}function R(e){return e.origin!==window.location.origin}function A(e){let{appRouterState:t,sync:r}=e;return(0,a.useInsertionEffect)(()=>{let{tree:e,pushRef:i,canonicalUrl:n}=t,a={...i.preserveCustomHistoryState?window.history.state:{},__NA:!0,__PRIVATE_NEXTJS_INTERNALS_TREE:e};i.pendingPush&&(0,l.createHrefFromUrl)(new URL(window.location.href))!==n?(i.pendingPush=!1,window.history.pushState(a,"",n)):window.history.replaceState(a,"",n),r(t)},[t,r]),null}function T(){return{lazyData:null,rsc:null,prefetchRsc:null,parallelRoutes:new Map,lazyDataResolved:!1}}function P(e){null==e&&(e={});let t=window.history.state,r=null==t?void 0:t.__NA;r&&(e.__NA=r);let i=null==t?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE;return i&&(e.__PRIVATE_NEXTJS_INTERNALS_TREE=i),e}function O(e){let{headCacheNode:t}=e,r=null!==t?t.head:null,i=null!==t?t.prefetchHead:null,n=null!==i?i:r;return(0,a.useDeferredValue)(r,n)}function I(e){let t,{buildId:r,initialHead:i,initialTree:l,initialCanonicalUrl:d,initialSeedData:b,assetPrefix:k,missingSlots:C}=e,T=(0,a.useMemo)(()=>(0,h.createInitialRouterState)({buildId:r,initialSeedData:b,initialCanonicalUrl:d,initialTree:l,initialParallelRoutes:_,isServer:!0,location:null,initialHead:i}),[r,b,d,l,i]),[I,N,j]=(0,u.useReducerWithReduxDevtools)(T);(0,a.useEffect)(()=>{_=null},[]);let{canonicalUrl:B}=(0,u.useUnwrapState)(I),{searchParams:U,pathname:L}=(0,a.useMemo)(()=>{let e=new URL(B,"http://n");return{searchParams:e.searchParams,pathname:(0,S.hasBasePath)(e.pathname)?(0,w.removeBasePath)(e.pathname):e.pathname}},[B]),M=(0,a.useCallback)((e,t,r)=>{(0,a.startTransition)(()=>{N({type:o.ACTION_SERVER_PATCH,flightData:t,previousTree:e,overrideCanonicalUrl:r})})},[N]),D=(0,a.useCallback)((e,t,r)=>{let i=new URL((0,f.addBasePath)(e),location.href);return N({type:o.ACTION_NAVIGATE,url:i,isExternalUrl:R(i),locationSearch:location.search,shouldScroll:null==r||r,navigateType:t})},[N]);x=(0,a.useCallback)(e=>{(0,a.startTransition)(()=>{N({...e,type:o.ACTION_SERVER_ACTION})})},[N]);let K=(0,a.useMemo)(()=>({back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(e,t)=>{if((0,p.isBot)(window.navigator.userAgent))return;let r=new URL((0,f.addBasePath)(e),window.location.href);R(r)||(0,a.startTransition)(()=>{var e;N({type:o.ACTION_PREFETCH,url:r,kind:null!=(e=null==t?void 0:t.kind)?e:o.PrefetchKind.FULL})})},replace:(e,t)=>{void 0===t&&(t={}),(0,a.startTransition)(()=>{var r;D(e,"replace",null==(r=t.scroll)||r)})},push:(e,t)=>{void 0===t&&(t={}),(0,a.startTransition)(()=>{var r;D(e,"push",null==(r=t.scroll)||r)})},refresh:()=>{(0,a.startTransition)(()=>{N({type:o.ACTION_REFRESH,origin:window.location.origin})})},fastRefresh:()=>{throw Error("fastRefresh can only be used in development mode. Please use refresh instead.")}}),[N,D]);(0,a.useEffect)(()=>{window.next&&(window.next.router=K)},[K]),(0,a.useEffect)(()=>{function e(e){var t;e.persisted&&(null==(t=window.history.state)?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE)&&N({type:o.ACTION_RESTORE,url:new URL(window.location.href),tree:window.history.state.__PRIVATE_NEXTJS_INTERNALS_TREE})}return window.addEventListener("pageshow",e),()=>{window.removeEventListener("pageshow",e)}},[N]);let{pushRef:q}=(0,u.useUnwrapState)(I);if(q.mpaNavigation){if(E.pendingMpaPath!==B){let e=window.location;q.pendingPush?e.assign(B):e.replace(B),E.pendingMpaPath=B}(0,a.use)((0,v.createInfinitePromise)())}(0,a.useEffect)(()=>{let e=window.history.pushState.bind(window.history),t=window.history.replaceState.bind(window.history),r=e=>{var t;let r=window.location.href,i=null==(t=window.history.state)?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE;(0,a.startTransition)(()=>{N({type:o.ACTION_RESTORE,url:new URL(null!=e?e:r,r),tree:i})})};window.history.pushState=function(t,i,n){return(null==t?void 0:t.__NA)||(null==t?void 0:t._N)||(t=P(t),n&&r(n)),e(t,i,n)},window.history.replaceState=function(e,i,n){return(null==e?void 0:e.__NA)||(null==e?void 0:e._N)||(e=P(e),n&&r(n)),t(e,i,n)};let i=e=>{let{state:t}=e;if(t){if(!t.__NA){window.location.reload();return}(0,a.startTransition)(()=>{N({type:o.ACTION_RESTORE,url:new URL(window.location.href),tree:t.__PRIVATE_NEXTJS_INTERNALS_TREE})})}};return window.addEventListener("popstate",i),()=>{window.history.pushState=e,window.history.replaceState=t,window.removeEventListener("popstate",i)}},[N]);let{cache:$,tree:F,nextUrl:z,focusAndScrollRef:V}=(0,u.useUnwrapState)(I),H=(0,a.useMemo)(()=>(0,y.findHeadInCache)($,F[1]),[$,F]);if(null!==H){let[e,r]=H;t=(0,n.jsx)(O,{headCacheNode:e},r)}else t=null;let W=(0,n.jsxs)(g.RedirectBoundary,{children:[t,$.rsc,(0,n.jsx)(m.AppRouterAnnouncer,{tree:F})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A,{appRouterState:(0,u.useUnwrapState)(I),sync:j}),(0,n.jsx)(c.PathnameContext.Provider,{value:L,children:(0,n.jsx)(c.SearchParamsContext.Provider,{value:U,children:(0,n.jsx)(s.GlobalLayoutRouterContext.Provider,{value:{buildId:r,changeByServerResponse:M,tree:F,focusAndScrollRef:V,nextUrl:z},children:(0,n.jsx)(s.AppRouterContext.Provider,{value:K,children:(0,n.jsx)(s.LayoutRouterContext.Provider,{value:{childNodes:$.parallelRoutes,tree:F,url:B},children:W})})})})})]})}function N(e){let{globalErrorComponent:t,...r}=e;return(0,n.jsx)(d.ErrorBoundary,{errorComponent:t,children:(0,n.jsx)(I,{...r})})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bailoutToClientRendering",{enumerable:!0,get:function(){return a}});let i=r(63689),n=r(94749);function a(e){let t=n.staticGenerationAsyncStorage.getStore();if((null==t||!t.forceStatic)&&(null==t?void 0:t.isStaticGeneration))throw new i.BailoutToCSRError(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},18446:(e,t,r)=>{"use strict";function i(e){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clientHookInServerComponentError",{enumerable:!0,get:function(){return i}}),r(39694),r(3729),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ErrorBoundaryHandler:function(){return u},GlobalError:function(){return d},default:function(){return h},ErrorBoundary:function(){return p}});let i=r(39694),n=r(95344),a=i._(r(3729)),s=r(14767),o=r(47796),l={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function c(e){let{error:t}=e;if("function"==typeof fetch.__nextGetStaticStore){var r;let e=null==(r=fetch.__nextGetStaticStore())?void 0:r.getStore();if((null==e?void 0:e.isRevalidate)||(null==e?void 0:e.isStaticGeneration))throw console.error(t),t}return null}class u extends a.default.Component{static getDerivedStateFromError(e){if((0,o.isNextRouterError)(e))throw e;return{error:e}}static getDerivedStateFromProps(e,t){return e.pathname!==t.previousPathname&&t.error?{error:null,previousPathname:e.pathname}:{error:t.error,previousPathname:e.pathname}}render(){return this.state.error?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,(0,n.jsx)(this.props.errorComponent,{error:this.state.error,reset:this.reset})]}):this.props.children}constructor(e){super(e),this.reset=()=>{this.setState({error:null})},this.state={error:null,previousPathname:this.props.pathname}}}function d(e){let{error:t}=e,r=null==t?void 0:t.digest;return(0,n.jsxs)("html",{id:"__next_error__",children:[(0,n.jsx)("head",{}),(0,n.jsxs)("body",{children:[(0,n.jsx)(c,{error:t}),(0,n.jsx)("div",{style:l.error,children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:l.text,children:"Application error: a "+(r?"server":"client")+"-side exception has occurred (see the "+(r?"server logs":"browser console")+" for more information)."}),r?(0,n.jsx)("p",{style:l.text,children:"Digest: "+r}):null]})})]})]})}let h=d;function p(e){let{errorComponent:t,errorStyles:r,errorScripts:i,children:a}=e,o=(0,s.usePathname)();return t?(0,n.jsx)(u,{pathname:o,errorComponent:t,errorStyles:r,errorScripts:i,children:a}):(0,n.jsx)(n.Fragment,{children:a})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3082:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return i},isDynamicServerError:function(){return n}});let r="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},63664:(e,t)=>{"use strict";let r;function i(){return r||(r=new Promise(()=>{})),r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createInfinitePromise",{enumerable:!0,get:function(){return i}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47796:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return a}});let i=r(70226),n=r(72792);function a(e){return e&&e.digest&&((0,n.isRedirectError)(e)||(0,i.isNotFoundError)(e))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},38771:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return _}}),r(39694);let i=r(80056),n=r(95344),a=i._(r(3729));r(81202);let s=r(46860),o=r(47013),l=r(63664),c=r(26840),u=r(24287),d=r(51586),h=r(87046),p=r(13225),f=r(13717),m=r(75325),g=["bottom","height","left","right","top","width","x","y"];function y(e,t){let r=e.getBoundingClientRect();return r.top>=0&&r.top<=t}class v extends a.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...e){super(...e),this.handlePotentialScroll=()=>{let{focusAndScrollRef:e,segmentPath:t}=this.props;if(e.apply){if(0!==e.segmentPaths.length&&!e.segmentPaths.some(e=>t.every((t,r)=>(0,u.matchSegment)(t,e[r]))))return;let r=null,i=e.hashFragment;if(i&&(r=function(e){var t;return"top"===e?document.body:null!=(t=document.getElementById(e))?t:document.getElementsByName(e)[0]}(i)),!r&&(r=null),!(r instanceof Element))return;for(;!(r instanceof HTMLElement)||function(e){if(["sticky","fixed"].includes(getComputedStyle(e).position))return!0;let t=e.getBoundingClientRect();return g.every(e=>0===t[e])}(r);){if(null===r.nextElementSibling)return;r=r.nextElementSibling}e.apply=!1,e.hashFragment=null,e.segmentPaths=[],(0,d.handleSmoothScroll)(()=>{if(i){r.scrollIntoView();return}let e=document.documentElement,t=e.clientHeight;!y(r,t)&&(e.scrollTop=0,y(r,t)||r.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:e.onlyHashChange}),e.onlyHashChange=!1,r.focus()}}}}function b(e){let{segmentPath:t,children:r}=e,i=(0,a.useContext)(s.GlobalLayoutRouterContext);if(!i)throw Error("invariant global layout router not mounted");return(0,n.jsx)(v,{segmentPath:t,focusAndScrollRef:i.focusAndScrollRef,children:r})}function w(e){let{parallelRouterKey:t,url:r,childNodes:i,segmentPath:c,tree:d,cacheKey:h}=e,p=(0,a.useContext)(s.GlobalLayoutRouterContext);if(!p)throw Error("invariant global layout router not mounted");let{buildId:f,changeByServerResponse:m,tree:g}=p,y=i.get(h);if(void 0===y){let e={lazyData:null,rsc:null,prefetchRsc:null,head:null,parallelRoutes:new Map,lazyDataResolved:!1};y=e,i.set(h,e)}let v=null!==y.prefetchRsc?y.prefetchRsc:y.rsc,b=(0,a.useDeferredValue)(y.rsc,v),w="object"==typeof b&&null!==b&&"function"==typeof b.then?(0,a.use)(b):b;if(!w){let e=y.lazyData;if(null===e){let t=function e(t,r){if(t){let[i,n]=t,a=2===t.length;if((0,u.matchSegment)(r[0],i)&&r[1].hasOwnProperty(n)){if(a){let t=e(void 0,r[1][n]);return[r[0],{...r[1],[n]:[t[0],t[1],t[2],"refetch"]}]}return[r[0],{...r[1],[n]:e(t.slice(2),r[1][n])}]}}return r}(["",...c],g);y.lazyData=e=(0,o.fetchServerResponse)(new URL(r,location.origin),t,p.nextUrl,f),y.lazyDataResolved=!1}let[t,i]=(0,a.use)(e);y.lazyDataResolved||(setTimeout(()=>{(0,a.startTransition)(()=>{m(g,t,i)})}),y.lazyDataResolved=!0),(0,a.use)((0,l.createInfinitePromise)())}return(0,n.jsx)(s.LayoutRouterContext.Provider,{value:{tree:d[1][t],childNodes:y.parallelRoutes,url:r},children:w})}function S(e){let{children:t,loading:r,loadingStyles:i,loadingScripts:s,hasLoading:o}=e;return o?(0,n.jsx)(a.Suspense,{fallback:(0,n.jsxs)(n.Fragment,{children:[i,s,r]}),children:t}):(0,n.jsx)(n.Fragment,{children:t})}function _(e){let{parallelRouterKey:t,segmentPath:r,error:i,errorStyles:o,errorScripts:l,templateStyles:u,templateScripts:d,loading:g,loadingStyles:y,loadingScripts:v,hasLoading:_,template:x,notFound:k,notFoundStyles:E,styles:C}=e,R=(0,a.useContext)(s.LayoutRouterContext);if(!R)throw Error("invariant expected layout router to be mounted");let{childNodes:A,tree:T,url:P}=R,O=A.get(t);O||(O=new Map,A.set(t,O));let I=T[1][t][0],N=(0,f.getSegmentValue)(I),j=[I];return(0,n.jsxs)(n.Fragment,{children:[C,j.map(e=>{let a=(0,f.getSegmentValue)(e),C=(0,m.createRouterCacheKey)(e);return(0,n.jsxs)(s.TemplateContext.Provider,{value:(0,n.jsx)(b,{segmentPath:r,children:(0,n.jsx)(c.ErrorBoundary,{errorComponent:i,errorStyles:o,errorScripts:l,children:(0,n.jsx)(S,{hasLoading:_,loading:g,loadingStyles:y,loadingScripts:v,children:(0,n.jsx)(p.NotFoundBoundary,{notFound:k,notFoundStyles:E,children:(0,n.jsx)(h.RedirectBoundary,{children:(0,n.jsx)(w,{parallelRouterKey:t,url:P,tree:T,childNodes:O,segmentPath:r,cacheKey:C,isActive:N===a})})})})})}),children:[u,d,x]},(0,m.createRouterCacheKey)(e,!0))})]})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},24287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{matchSegment:function(){return n},canSegmentBeOverridden:function(){return a}});let i=r(54269),n=(e,t)=>"string"==typeof e?"string"==typeof t&&e===t:"string"!=typeof t&&e[0]===t[0]&&e[1]===t[1],a=(e,t)=>{var r;return!Array.isArray(e)&&!!Array.isArray(t)&&(null==(r=(0,i.getSegmentParam)(e))?void 0:r.param)===t[0]};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},14767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return f},useSearchParams:function(){return m},usePathname:function(){return g},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return c.useServerInsertedHTML},useRouter:function(){return y},useParams:function(){return v},useSelectedLayoutSegments:function(){return b},useSelectedLayoutSegment:function(){return w},redirect:function(){return u.redirect},permanentRedirect:function(){return u.permanentRedirect},RedirectType:function(){return u.RedirectType},notFound:function(){return d.notFound}});let i=r(3729),n=r(46860),a=r(78486),s=r(18446),o=r(13717),l=r(19457),c=r(69505),u=r(72792),d=r(70226),h=Symbol("internal for urlsearchparams readonly");function p(){return Error("ReadonlyURLSearchParams cannot be modified")}class f{[Symbol.iterator](){return this[h][Symbol.iterator]()}append(){throw p()}delete(){throw p()}set(){throw p()}sort(){throw p()}constructor(e){this[h]=e,this.entries=e.entries.bind(e),this.forEach=e.forEach.bind(e),this.get=e.get.bind(e),this.getAll=e.getAll.bind(e),this.has=e.has.bind(e),this.keys=e.keys.bind(e),this.values=e.values.bind(e),this.toString=e.toString.bind(e),this.size=e.size}}function m(){(0,s.clientHookInServerComponentError)("useSearchParams");let e=(0,i.useContext)(a.SearchParamsContext),t=(0,i.useMemo)(()=>e?new f(e):null,[e]);{let{bailoutToClientRendering:e}=r(64586);e("useSearchParams()")}return t}function g(){return(0,s.clientHookInServerComponentError)("usePathname"),(0,i.useContext)(a.PathnameContext)}function y(){(0,s.clientHookInServerComponentError)("useRouter");let e=(0,i.useContext)(n.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function v(){(0,s.clientHookInServerComponentError)("useParams");let e=(0,i.useContext)(n.GlobalLayoutRouterContext),t=(0,i.useContext)(a.PathParamsContext);return(0,i.useMemo)(()=>(null==e?void 0:e.tree)?function e(t,r){for(let i of(void 0===r&&(r={}),Object.values(t[1]))){let t=i[0],n=Array.isArray(t),a=n?t[1]:t;!a||a.startsWith(l.PAGE_SEGMENT_KEY)||(n&&("c"===t[2]||"oc"===t[2])?r[t[0]]=t[1].split("/"):n&&(r[t[0]]=t[1]),r=e(i,r))}return r}(e.tree):t,[null==e?void 0:e.tree,t])}function b(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:t}=(0,i.useContext)(n.LayoutRouterContext);return function e(t,r,i,n){let a;if(void 0===i&&(i=!0),void 0===n&&(n=[]),i)a=t[1][r];else{var s;let e=t[1];a=null!=(s=e.children)?s:Object.values(e)[0]}if(!a)return n;let c=a[0],u=(0,o.getSegmentValue)(c);return!u||u.startsWith(l.PAGE_SEGMENT_KEY)?n:(n.push(u),e(a,r,!1,n))}(t,e)}function w(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegment");let t=b(e);return 0===t.length?null:t[0]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},13225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NotFoundBoundary",{enumerable:!0,get:function(){return u}});let i=r(80056),n=r(95344),a=i._(r(3729)),s=r(14767),o=r(70226);r(70837);let l=r(46860);class c extends a.default.Component{componentDidCatch(){}static getDerivedStateFromError(e){if((0,o.isNotFoundError)(e))return{notFoundTriggered:!0};throw e}static getDerivedStateFromProps(e,t){return e.pathname!==t.previousPathname&&t.notFoundTriggered?{notFoundTriggered:!1,previousPathname:e.pathname}:{notFoundTriggered:t.notFoundTriggered,previousPathname:e.pathname}}render(){return this.state.notFoundTriggered?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{name:"robots",content:"noindex"}),!1,this.props.notFoundStyles,this.props.notFound]}):this.props.children}constructor(e){super(e),this.state={notFoundTriggered:!!e.asNotFound,previousPathname:e.pathname}}}function u(e){let{notFound:t,notFoundStyles:r,asNotFound:i,children:o}=e,u=(0,s.usePathname)(),d=(0,a.useContext)(l.MissingSlotContext);return t?(0,n.jsx)(c,{pathname:u,notFound:t,notFoundStyles:r,asNotFound:i,missingSlots:d,children:o}):(0,n.jsx)(n.Fragment,{children:o})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{notFound:function(){return i},isNotFoundError:function(){return n}});let r="NEXT_NOT_FOUND";function i(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},92051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PromiseQueue",{enumerable:!0,get:function(){return c}});let i=r(69996),n=r(67074);var a=n._("_maxConcurrency"),s=n._("_runningCount"),o=n._("_queue"),l=n._("_processNext");class c{enqueue(e){let t,r;let n=new Promise((e,i)=>{t=e,r=i}),a=async()=>{try{i._(this,s)[s]++;let r=await e();t(r)}catch(e){r(e)}finally{i._(this,s)[s]--,i._(this,l)[l]()}};return i._(this,o)[o].push({promiseFn:n,task:a}),i._(this,l)[l](),n}bump(e){let t=i._(this,o)[o].findIndex(t=>t.promiseFn===e);if(t>-1){let e=i._(this,o)[o].splice(t,1)[0];i._(this,o)[o].unshift(e),i._(this,l)[l](!0)}}constructor(e=5){Object.defineProperty(this,l,{value:u}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,o,{writable:!0,value:void 0}),i._(this,a)[a]=e,i._(this,s)[s]=0,i._(this,o)[o]=[]}}function u(e){if(void 0===e&&(e=!1),(i._(this,s)[s]<i._(this,a)[a]||e)&&i._(this,o)[o].length>0){var t;null==(t=i._(this,o)[o].shift())||t.task()}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},87046:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectErrorBoundary:function(){return c},RedirectBoundary:function(){return u}});let i=r(80056),n=r(95344),a=i._(r(3729)),s=r(14767),o=r(72792);function l(e){let{redirect:t,reset:r,redirectType:i}=e,n=(0,s.useRouter)();return(0,a.useEffect)(()=>{a.default.startTransition(()=>{i===o.RedirectType.push?n.push(t,{}):n.replace(t,{}),r()})},[t,i,r,n]),null}class c extends a.default.Component{static getDerivedStateFromError(e){if((0,o.isRedirectError)(e))return{redirect:(0,o.getURLFromRedirectError)(e),redirectType:(0,o.getRedirectTypeFromError)(e)};throw e}render(){let{redirect:e,redirectType:t}=this.state;return null!==e&&null!==t?(0,n.jsx)(l,{redirect:e,redirectType:t,reset:()=>this.setState({redirect:null})}):this.props.children}constructor(e){super(e),this.state={redirect:null,redirectType:null}}}function u(e){let{children:t}=e,r=(0,s.useRouter)();return(0,n.jsx)(c,{router:r,children:t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},17761:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72792:(e,t,r)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return i},getRedirectError:function(){return l},redirect:function(){return c},permanentRedirect:function(){return u},isRedirectError:function(){return d},getURLFromRedirectError:function(){return h},getRedirectTypeFromError:function(){return p},getRedirectStatusCodeFromError:function(){return f}});let n=r(55403),a=r(47849),s=r(17761),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let i=Error(o);i.digest=o+";"+t+";"+e+";"+r+";";let a=n.requestAsyncStorage.getStore();return a&&(i.mutableCookies=a.mutableCookies),i}function c(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,i,n]=e.digest.split(";",4),a=Number(n);return t===o&&("replace"===r||"push"===r)&&"string"==typeof i&&!isNaN(a)&&a in s.RedirectStatusCode}function h(e){return d(e)?e.digest.split(";",3)[2]:null}function p(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(i||(i={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9295:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let i=r(80056),n=r(95344),a=i._(r(3729)),s=r(46860);function o(){let e=(0,a.useContext)(s.TemplateContext);return(0,n.jsx)(n.Fragment,{children:e})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"applyFlightData",{enumerable:!0,get:function(){return a}});let i=r(67234),n=r(56408);function a(e,t,r,a){void 0===a&&(a=!1);let[s,o,l]=r.slice(-3);if(null===o)return!1;if(3===r.length){let r=o[2];t.rsc=r,t.prefetchRsc=null,(0,i.fillLazyItemsTillLeafWithHead)(t,e,s,o,l,a)}else t.rsc=e.rsc,t.prefetchRsc=e.prefetchRsc,t.parallelRoutes=new Map(e.parallelRoutes),(0,n.fillCacheWithNewSubTreeData)(t,e,r,a);return!0}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{applyRouterStatePatchToFullTree:function(){return o},applyRouterStatePatchToTreeSkipDefault:function(){return l}});let i=r(19457),n=r(24287);function a(e,t,r){void 0===r&&(r=!1);let[s,o]=e,[l,c]=t;if(!r&&l===i.DEFAULT_SEGMENT_KEY&&s!==i.DEFAULT_SEGMENT_KEY)return e;if((0,n.matchSegment)(s,l)){let t={};for(let e in o)void 0!==c[e]?t[e]=a(o[e],c[e],r):t[e]=o[e];for(let e in c)t[e]||(t[e]=c[e]);let i=[s,t];return e[2]&&(i[2]=e[2]),e[3]&&(i[3]=e[3]),e[4]&&(i[4]=e[4]),i}return t}function s(e,t,r,i){let o;void 0===i&&(i=!1);let[l,c,,,u]=t;if(1===e.length)return a(t,r,i);let[d,h]=e;if(!(0,n.matchSegment)(d,l))return null;if(2===e.length)o=a(c[h],r,i);else if(null===(o=s(e.slice(2),c[h],r,i)))return null;let p=[e[0],{...c,[h]:o}];return u&&(p[4]=!0),p}function o(e,t,r){return s(e,t,r,!0)}function l(e,t,r){return s(e,t,r,!1)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},95684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{extractPathFromFlightRouterState:function(){return c},computeChangedPath:function(){return u}});let i=r(45767),n=r(19457),a=r(24287),s=e=>"/"===e[0]?e.slice(1):e,o=e=>"string"==typeof e?e:e[1];function l(e){return e.reduce((e,t)=>""===(t=s(t))||(0,n.isGroupSegment)(t)?e:e+"/"+t,"")||"/"}function c(e){var t;let r=Array.isArray(e[0])?e[0][1]:e[0];if(r===n.DEFAULT_SEGMENT_KEY||i.INTERCEPTION_ROUTE_MARKERS.some(e=>r.startsWith(e)))return;if(r.startsWith(n.PAGE_SEGMENT_KEY))return"";let a=[r],s=null!=(t=e[1])?t:{},o=s.children?c(s.children):void 0;if(void 0!==o)a.push(o);else for(let[e,t]of Object.entries(s)){if("children"===e)continue;let r=c(t);void 0!==r&&a.push(r)}return l(a)}function u(e,t){let r=function e(t,r){let[n,s]=t,[l,u]=r,d=o(n),h=o(l);if(i.INTERCEPTION_ROUTE_MARKERS.some(e=>d.startsWith(e)||h.startsWith(e)))return"";if(!(0,a.matchSegment)(n,l)){var p;return null!=(p=c(r))?p:""}for(let t in s)if(u[t]){let r=e(s[t],u[t]);if(null!==r)return o(l)+"/"+r}return null}(e,t);return null==r||"/"===r?r:l(r.split("/"))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47475:(e,t)=>{"use strict";function r(e,t){return void 0===t&&(t=!0),e.pathname+e.search+(t?e.hash:"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createHrefFromUrl",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},87995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createInitialRouterState",{enumerable:!0,get:function(){return s}});let i=r(47475),n=r(67234),a=r(95684);function s(e){var t;let{buildId:r,initialTree:s,initialSeedData:o,initialCanonicalUrl:l,initialParallelRoutes:c,isServer:u,location:d,initialHead:h}=e,p={lazyData:null,rsc:o[2],prefetchRsc:null,parallelRoutes:u?new Map:c};return(null===c||0===c.size)&&(0,n.fillLazyItemsTillLeafWithHead)(p,void 0,s,o,h),{buildId:r,tree:s,cache:p,prefetchCache:new Map,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:{apply:!1,onlyHashChange:!1,hashFragment:null,segmentPaths:[]},canonicalUrl:d?(0,i.createHrefFromUrl)(d):l,nextUrl:null!=(t=(0,a.extractPathFromFlightRouterState)(s)||(null==d?void 0:d.pathname))?t:null}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},75325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createRouterCacheKey",{enumerable:!0,get:function(){return n}});let i=r(19457);function n(e,t){return(void 0===t&&(t=!1),Array.isArray(e))?(e[0]+"|"+e[1]+"|"+e[2]).toLowerCase():t&&e.startsWith(i.PAGE_SEGMENT_KEY)?i.PAGE_SEGMENT_KEY:e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fetchServerResponse",{enumerable:!0,get:function(){return u}});let i=r(15048),n=r(2583),a=r(13664),s=r(8085),o=r(65344),{createFromFetch:l}=r(82228);function c(e){return[(0,n.urlToUrlWithoutFlightMarker)(e).toString(),void 0]}async function u(e,t,r,u,d){let h={[i.RSC_HEADER]:"1",[i.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(t))};d===s.PrefetchKind.AUTO&&(h[i.NEXT_ROUTER_PREFETCH_HEADER]="1"),r&&(h[i.NEXT_URL]=r);let p=(0,o.hexHash)([h[i.NEXT_ROUTER_PREFETCH_HEADER]||"0",h[i.NEXT_ROUTER_STATE_TREE],h[i.NEXT_URL]].join(","));try{let t=new URL(e);t.searchParams.set(i.NEXT_RSC_UNION_QUERY,p);let r=await fetch(t,{credentials:"same-origin",headers:h}),s=(0,n.urlToUrlWithoutFlightMarker)(r.url),o=r.redirected?s:void 0,d=r.headers.get("content-type")||"",f=!!r.headers.get(i.NEXT_DID_POSTPONE_HEADER);if(d!==i.RSC_CONTENT_TYPE_HEADER||!r.ok)return e.hash&&(s.hash=e.hash),c(s.toString());let[m,g]=await l(Promise.resolve(r),{callServer:a.callServer});if(u!==m)return c(r.url);return[g,o,f]}catch(t){return console.error("Failed to fetch RSC payload for "+e+". Falling back to browser navigation.",t),[e.toString(),void 0]}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},77676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fillCacheWithDataProperty",{enumerable:!0,get:function(){return function e(t,r,n,a){let s=n.length<=2,[o,l]=n,c=(0,i.createRouterCacheKey)(l),u=r.parallelRoutes.get(o),d=t.parallelRoutes.get(o);d&&d!==u||(d=new Map(u),t.parallelRoutes.set(o,d));let h=null==u?void 0:u.get(c),p=d.get(c);if(s){p&&p.lazyData&&p!==h||d.set(c,{lazyData:a(),rsc:null,prefetchRsc:null,parallelRoutes:new Map});return}if(!p||!h){p||d.set(c,{lazyData:a(),rsc:null,prefetchRsc:null,parallelRoutes:new Map});return}return p===h&&(p={lazyData:p.lazyData,rsc:p.rsc,prefetchRsc:p.prefetchRsc,parallelRoutes:new Map(p.parallelRoutes)},d.set(c,p)),e(p,h,n.slice(2),a)}}});let i=r(75325);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},56408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fillCacheWithNewSubTreeData",{enumerable:!0,get:function(){return function e(t,r,s,o){let l=s.length<=5,[c,u]=s,d=(0,a.createRouterCacheKey)(u),h=r.parallelRoutes.get(c);if(!h)return;let p=t.parallelRoutes.get(c);p&&p!==h||(p=new Map(h),t.parallelRoutes.set(c,p));let f=h.get(d),m=p.get(d);if(l){if(!m||!m.lazyData||m===f){let e=s[3];m={lazyData:null,rsc:e[2],prefetchRsc:null,parallelRoutes:f?new Map(f.parallelRoutes):new Map},f&&(0,i.invalidateCacheByRouterState)(m,f,s[2]),(0,n.fillLazyItemsTillLeafWithHead)(m,f,s[2],e,s[4],o),p.set(d,m)}return}m&&f&&(m===f&&(m={lazyData:m.lazyData,rsc:m.rsc,prefetchRsc:m.prefetchRsc,parallelRoutes:new Map(m.parallelRoutes)},p.set(d,m)),e(m,f,s.slice(2),o))}}});let i=r(20250),n=r(67234),a=r(75325);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},67234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fillLazyItemsTillLeafWithHead",{enumerable:!0,get:function(){return function e(t,r,n,a,s,o){if(0===Object.keys(n[1]).length){t.head=s;return}for(let l in n[1]){let c;let u=n[1][l],d=u[0],h=(0,i.createRouterCacheKey)(d),p=null!==a&&void 0!==a[1][l]?a[1][l]:null;if(r){let i=r.parallelRoutes.get(l);if(i){let r,n=new Map(i),a=n.get(h);r=null!==p?{lazyData:null,rsc:p[2],prefetchRsc:null,parallelRoutes:new Map(null==a?void 0:a.parallelRoutes)}:o&&a?{lazyData:a.lazyData,rsc:a.rsc,prefetchRsc:a.prefetchRsc,parallelRoutes:new Map(a.parallelRoutes)}:{lazyData:null,rsc:null,prefetchRsc:null,parallelRoutes:new Map(null==a?void 0:a.parallelRoutes)},n.set(h,r),e(r,a,u,p||null,s,o),t.parallelRoutes.set(l,n);continue}}c=null!==p?{lazyData:null,rsc:p[2],prefetchRsc:null,parallelRoutes:new Map}:{lazyData:null,rsc:null,prefetchRsc:null,parallelRoutes:new Map};let f=t.parallelRoutes.get(l);f?f.set(h,c):t.parallelRoutes.set(l,new Map([[h,c]])),e(c,void 0,u,p,s,o)}}}});let i=r(75325);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},80696:(e,t)=>{"use strict";var r;function i(e){let{kind:t,prefetchTime:r,lastUsedTime:i}=e;return Date.now()<(null!=i?i:r)+3e4?i?"reusable":"fresh":"auto"===t&&Date.now()<r+3e5?"stale":"full"===t&&Date.now()<r+3e5?"reusable":"expired"}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PrefetchCacheEntryStatus:function(){return r},getPrefetchEntryCacheStatus:function(){return i}}),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},44080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleMutable",{enumerable:!0,get:function(){return a}});let i=r(95684);function n(e){return void 0!==e}function a(e,t){var r,a,s;let o=null==(a=t.shouldScroll)||a,l=e.nextUrl;if(n(t.patchedTree)){let r=(0,i.computeChangedPath)(e.tree,t.patchedTree);r?l=r:l||(l=e.canonicalUrl)}return{buildId:e.buildId,canonicalUrl:n(t.canonicalUrl)?t.canonicalUrl===e.canonicalUrl?e.canonicalUrl:t.canonicalUrl:e.canonicalUrl,pushRef:{pendingPush:n(t.pendingPush)?t.pendingPush:e.pushRef.pendingPush,mpaNavigation:n(t.mpaNavigation)?t.mpaNavigation:e.pushRef.mpaNavigation,preserveCustomHistoryState:n(t.preserveCustomHistoryState)?t.preserveCustomHistoryState:e.pushRef.preserveCustomHistoryState},focusAndScrollRef:{apply:!!o&&(!!n(null==t?void 0:t.scrollableSegments)||e.focusAndScrollRef.apply),onlyHashChange:!!t.hashFragment&&e.canonicalUrl.split("#",1)[0]===(null==(r=t.canonicalUrl)?void 0:r.split("#",1)[0]),hashFragment:o?t.hashFragment&&""!==t.hashFragment?decodeURIComponent(t.hashFragment.slice(1)):e.focusAndScrollRef.hashFragment:null,segmentPaths:o?null!=(s=null==t?void 0:t.scrollableSegments)?s:e.focusAndScrollRef.segmentPaths:[]},cache:t.cache?t.cache:e.cache,prefetchCache:t.prefetchCache?t.prefetchCache:e.prefetchCache,tree:n(t.patchedTree)?t.patchedTree:e.tree,nextUrl:l}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleSegmentMismatch",{enumerable:!0,get:function(){return n}});let i=r(69643);function n(e,t,r){return(0,i.handleExternalUrl)(e,{},e.canonicalUrl,!0)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},32293:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"invalidateCacheBelowFlightSegmentPath",{enumerable:!0,get:function(){return function e(t,r,n){let a=n.length<=2,[s,o]=n,l=(0,i.createRouterCacheKey)(o),c=r.parallelRoutes.get(s);if(!c)return;let u=t.parallelRoutes.get(s);if(u&&u!==c||(u=new Map(c),t.parallelRoutes.set(s,u)),a){u.delete(l);return}let d=c.get(l),h=u.get(l);h&&d&&(h===d&&(h={lazyData:h.lazyData,rsc:h.rsc,prefetchRsc:h.prefetchRsc,parallelRoutes:new Map(h.parallelRoutes)},u.set(l,h)),e(h,d,n.slice(2)))}}});let i=r(75325);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},20250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"invalidateCacheByRouterState",{enumerable:!0,get:function(){return n}});let i=r(75325);function n(e,t,r){for(let n in r[1]){let a=r[1][n][0],s=(0,i.createRouterCacheKey)(a),o=t.parallelRoutes.get(n);if(o){let t=new Map(o);t.delete(s),e.parallelRoutes.set(n,t)}}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},53694:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return function e(t,r){let i=t[0],n=r[0];if(Array.isArray(i)&&Array.isArray(n)){if(i[0]!==n[0]||i[2]!==n[2])return!0}else if(i!==n)return!0;if(t[4])return!r[4];if(r[4])return!0;let a=Object.values(t[1])[0],s=Object.values(r[1])[0];return!a||!s||e(a,s)}}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},13026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{updateCacheNodeOnNavigation:function(){return function e(t,r,o,c,u,d){let h=r[1],p=o[1],f=c[1],m=t.parallelRoutes,g=new Map(m),y={},v=null;for(let t in p){let r;let o=p[t],c=h[t],b=m.get(t),w=f[t],S=o[0],_=(0,a.createRouterCacheKey)(S),x=void 0!==c?c[0]:void 0,k=void 0!==b?b.get(_):void 0;if(null!==(r=S===i.PAGE_SEGMENT_KEY?s(o,void 0!==w?w:null,u,d):S===i.DEFAULT_SEGMENT_KEY?void 0!==c?{route:c,node:null,children:null}:s(o,void 0!==w?w:null,u,d):void 0!==x&&(0,n.matchSegment)(S,x)&&void 0!==k&&void 0!==c?null!=w?e(k,c,o,w,u,d):function(e){let t=l(e,null,null,!1);return{route:e,node:t,children:null}}(o):s(o,void 0!==w?w:null,u,d))){null===v&&(v=new Map),v.set(t,r);let e=r.node;if(null!==e){let r=new Map(b);r.set(_,e),g.set(t,r)}y[t]=r.route}else y[t]=o}if(null===v)return null;let b={lazyData:null,rsc:t.rsc,prefetchRsc:t.prefetchRsc,head:t.head,prefetchHead:t.prefetchHead,parallelRoutes:g};return{route:function(e,t){let r=[e[0],t];return 2 in e&&(r[2]=e[2]),3 in e&&(r[3]=e[3]),4 in e&&(r[4]=e[4]),r}(o,y),node:b,children:v}}},listenForDynamicRequest:function(){return o},abortTask:function(){return c},updateCacheNodeOnPopstateRestoration:function(){return function e(t,r){let i=r[1],n=t.parallelRoutes,s=new Map(n);for(let t in i){let r=i[t],o=r[0],l=(0,a.createRouterCacheKey)(o),c=n.get(t);if(void 0!==c){let i=c.get(l);if(void 0!==i){let n=e(i,r),a=new Map(c);a.set(l,n),s.set(t,a)}}}let o=t.rsc,l=h(o)&&"pending"===o.status;return{lazyData:null,rsc:o,head:t.head,prefetchHead:l?t.prefetchHead:null,prefetchRsc:l?t.prefetchRsc:null,parallelRoutes:s}}}});let i=r(19457),n=r(24287),a=r(75325);function s(e,t,r,i){let n=l(e,t,r,i);return{route:e,node:n,children:null}}function o(e,t){t.then(t=>{for(let r of t[0]){let t=r.slice(0,-3),i=r[r.length-3],s=r[r.length-2],o=r[r.length-1];"string"!=typeof t&&function(e,t,r,i,s){let o=e;for(let e=0;e<t.length;e+=2){let r=t[e],i=t[e+1],a=o.children;if(null!==a){let e=a.get(r);if(void 0!==e){let t=e.route[0];if((0,n.matchSegment)(i,t)){o=e;continue}}}return}(function e(t,r,i,s){let o=t.children,l=t.node;if(null===o){null!==l&&(function e(t,r,i,s,o){let l=r[1],c=i[1],d=s[1],p=t.parallelRoutes;for(let t in l){let r=l[t],i=c[t],s=d[t],h=p.get(t),f=r[0],m=(0,a.createRouterCacheKey)(f),g=void 0!==h?h.get(m):void 0;void 0!==g&&(void 0!==i&&(0,n.matchSegment)(f,i[0])&&null!=s?e(g,r,i,s,o):u(r,g,null))}let f=t.rsc,m=s[2];null===f?t.rsc=m:h(f)&&f.resolve(m);let g=t.head;h(g)&&g.resolve(o)}(l,t.route,r,i,s),t.node=null);return}let c=r[1],d=i[1];for(let t in r){let r=c[t],i=d[t],a=o.get(t);if(void 0!==a){let t=a.route[0];if((0,n.matchSegment)(r[0],t)&&null!=i)return e(a,r,i,s)}}})(o,r,i,s)}(e,t,i,s,o)}c(e,null)},t=>{c(e,t)})}function l(e,t,r,i){let n=e[1],s=null!==t?t[1]:null,o=new Map;for(let e in n){let t=n[e],c=null!==s?s[e]:null,u=t[0],d=(0,a.createRouterCacheKey)(u),h=l(t,void 0===c?null:c,r,i),p=new Map;p.set(d,h),o.set(e,p)}let c=0===o.size,u=null!==t?t[2]:null;return{lazyData:null,parallelRoutes:o,prefetchRsc:i||void 0===u?null:u,prefetchHead:!i&&c?r:null,rsc:p(),head:c?p():null}}function c(e,t){let r=e.node;if(null===r)return;let i=e.children;if(null===i)u(e.route,r,t);else for(let e of i.values())c(e,t);e.node=null}function u(e,t,r){let i=e[1],n=t.parallelRoutes;for(let e in i){let t=i[e],s=n.get(e);if(void 0===s)continue;let o=t[0],l=(0,a.createRouterCacheKey)(o),c=s.get(l);void 0!==c&&u(t,c,r)}let s=t.rsc;h(s)&&(null===r?s.resolve(null):s.reject(r));let o=t.head;h(o)&&o.resolve(null)}let d=Symbol();function h(e){return e&&e.tag===d}function p(){let e,t;let r=new Promise((r,i)=>{e=r,t=i});return r.status="pending",r.resolve=t=>{"pending"===r.status&&(r.status="fulfilled",r.value=t,e(t))},r.reject=e=>{"pending"===r.status&&(r.status="rejected",r.reason=e,t(e))},r.tag=d,r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},94813:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createPrefetchCacheKey",{enumerable:!0,get:function(){return s}});let i=r(71870),n=r(86050),a=r(47475);function s(e,t){let r=(0,a.createHrefFromUrl)(e,!1);return t&&!(0,n.pathHasPrefix)(r,t)?(0,i.addPathPrefix)(r,""+t+"%"):r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},52298:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fastRefreshReducer",{enumerable:!0,get:function(){return i}}),r(47013),r(47475),r(71697),r(53694),r(69643),r(44080),r(69543),r(2583),r(71418);let i=function(e,t){return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7550:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"findHeadInCache",{enumerable:!0,get:function(){return n}});let i=r(75325);function n(e,t){return function e(t,r,n){if(0===Object.keys(r).length)return[t,n];for(let a in r){let[s,o]=r[a],l=t.parallelRoutes.get(a);if(!l)continue;let c=(0,i.createRouterCacheKey)(s),u=l.get(c);if(!u)continue;let d=e(u,o,n+"/"+c);if(d)return d}return null}(e,t,"")}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},13717:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69643:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleExternalUrl:function(){return b},navigateReducer:function(){return S}});let i=r(47013),n=r(47475),a=r(32293),s=r(77676),o=r(71697),l=r(37528),c=r(53694),u=r(8085),d=r(44080),h=r(69543),p=r(80696),f=r(22574),m=r(7772),g=r(2583),y=r(19457),v=(r(13026),r(94813));function b(e,t,r,i){return t.mpaNavigation=!0,t.canonicalUrl=r,t.pendingPush=i,t.scrollableSegments=void 0,(0,d.handleMutable)(e,t)}function w(e){let t=[],[r,i]=e;if(0===Object.keys(i).length)return[[r]];for(let[e,n]of Object.entries(i))for(let i of w(n))""===r?t.push([e,...i]):t.push([r,e,...i]);return t}let S=function(e,t){let{url:r,isExternalUrl:S,navigateType:_,shouldScroll:x}=t,k={},{hash:E}=r,C=(0,n.createHrefFromUrl)(r),R="push"===_;if((0,f.prunePrefetchCache)(e.prefetchCache),k.preserveCustomHistoryState=!1,S)return b(e,k,r.toString(),R);let A=(0,v.createPrefetchCacheKey)(r,e.nextUrl),T=e.prefetchCache.get(A);if(!T){let t={data:(0,i.fetchServerResponse)(r,e.tree,e.nextUrl,e.buildId,void 0),kind:u.PrefetchKind.TEMPORARY,prefetchTime:Date.now(),treeAtTimeOfPrefetch:e.tree,lastUsedTime:null};e.prefetchCache.set(A,t),T=t}let P=(0,p.getPrefetchEntryCacheStatus)(T),{treeAtTimeOfPrefetch:O,data:I}=T;return m.prefetchQueue.bump(I),I.then(t=>{let[u,f,m]=t;if(T&&!T.lastUsedTime&&(T.lastUsedTime=Date.now()),"string"==typeof u)return b(e,k,u,R);let v=e.tree,S=e.cache,_=[];for(let t of u){let n=t.slice(0,-4),u=t.slice(-3)[0],d=["",...n],f=(0,o.applyRouterStatePatchToTreeSkipDefault)(d,v,u);if(null===f&&(f=(0,o.applyRouterStatePatchToTreeSkipDefault)(d,O,u)),null!==f){if((0,c.isNavigatingToNewRootLayout)(v,f))return b(e,k,C,R);let o=(0,g.createEmptyCacheNode)(),x=(0,h.applyFlightData)(S,o,t,(null==T?void 0:T.kind)==="auto"&&P===p.PrefetchCacheEntryStatus.reusable);for(let t of((!x&&P===p.PrefetchCacheEntryStatus.stale||m)&&(x=function(e,t,r,i,n){let a=!1;for(let o of(e.rsc=t.rsc,e.prefetchRsc=t.prefetchRsc,e.parallelRoutes=new Map(t.parallelRoutes),w(i).map(e=>[...r,...e])))(0,s.fillCacheWithDataProperty)(e,t,o,n),a=!0;return a}(o,S,n,u,()=>(0,i.fetchServerResponse)(r,v,e.nextUrl,e.buildId))),(0,l.shouldHardNavigate)(d,v)?(o.rsc=S.rsc,o.prefetchRsc=S.prefetchRsc,(0,a.invalidateCacheBelowFlightSegmentPath)(o,S,n),k.cache=o):x&&(k.cache=o),S=o,v=f,w(u))){let e=[...n,...t];e[e.length-1]!==y.DEFAULT_SEGMENT_KEY&&_.push(e)}}}return k.patchedTree=v,k.canonicalUrl=f?(0,n.createHrefFromUrl)(f):C,k.pendingPush=R,k.scrollableSegments=_,k.hashFragment=E,k.shouldScroll=x,(0,d.handleMutable)(e,k)},()=>e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{prefetchQueue:function(){return c},prefetchReducer:function(){return u}});let i=r(47013),n=r(8085),a=r(22574),s=r(15048),o=r(92051),l=r(94813),c=new o.PromiseQueue(5);function u(e,t){(0,a.prunePrefetchCache)(e.prefetchCache);let{url:r}=t;r.searchParams.delete(s.NEXT_RSC_UNION_QUERY);let o=(0,l.createPrefetchCacheKey)(r,e.nextUrl),u=e.prefetchCache.get(o);if(u&&(u.kind===n.PrefetchKind.TEMPORARY&&e.prefetchCache.set(o,{...u,kind:t.kind}),!(u.kind===n.PrefetchKind.AUTO&&t.kind===n.PrefetchKind.FULL)))return e;let d=c.enqueue(()=>(0,i.fetchServerResponse)(r,e.tree,e.nextUrl,e.buildId,t.kind));return e.prefetchCache.set(o,{treeAtTimeOfPrefetch:e.tree,data:d,kind:t.kind,prefetchTime:Date.now(),lastUsedTime:null}),e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"prunePrefetchCache",{enumerable:!0,get:function(){return n}});let i=r(80696);function n(e){for(let[t,r]of e)(0,i.getPrefetchEntryCacheStatus)(r)===i.PrefetchCacheEntryStatus.expired&&e.delete(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},17787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"refreshReducer",{enumerable:!0,get:function(){return h}});let i=r(47013),n=r(47475),a=r(71697),s=r(53694),o=r(69643),l=r(44080),c=r(67234),u=r(2583),d=r(71418);function h(e,t){let{origin:r}=t,h={},p=e.canonicalUrl,f=e.tree;h.preserveCustomHistoryState=!1;let m=(0,u.createEmptyCacheNode)();return m.lazyData=(0,i.fetchServerResponse)(new URL(p,r),[f[0],f[1],f[2],"refetch"],e.nextUrl,e.buildId),m.lazyData.then(r=>{let[i,u]=r;if("string"==typeof i)return(0,o.handleExternalUrl)(e,h,i,e.pushRef.pendingPush);for(let r of(m.lazyData=null,i)){if(3!==r.length)return console.log("REFRESH FAILED"),e;let[i]=r,l=(0,a.applyRouterStatePatchToFullTree)([""],f,i);if(null===l)return(0,d.handleSegmentMismatch)(e,t,i);if((0,s.isNavigatingToNewRootLayout)(f,l))return(0,o.handleExternalUrl)(e,h,p,e.pushRef.pendingPush);let g=u?(0,n.createHrefFromUrl)(u):void 0;u&&(h.canonicalUrl=g);let[y,v]=r.slice(-2);if(null!==y){let e=y[2];m.rsc=e,m.prefetchRsc=null,(0,c.fillLazyItemsTillLeafWithHead)(m,void 0,i,y,v),h.cache=m,h.prefetchCache=new Map}h.patchedTree=l,h.canonicalUrl=p,f=l}return(0,l.handleMutable)(e,h)},()=>e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},25206:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"restoreReducer",{enumerable:!0,get:function(){return a}});let i=r(47475),n=r(95684);function a(e,t){var r;let{url:a,tree:s}=t,o=(0,i.createHrefFromUrl)(a),l=s||e.tree,c=e.cache;return{buildId:e.buildId,canonicalUrl:o,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:e.focusAndScrollRef,cache:c,prefetchCache:e.prefetchCache,tree:l,nextUrl:null!=(r=(0,n.extractPathFromFlightRouterState)(l))?r:a.pathname}}r(13026),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serverActionReducer",{enumerable:!0,get:function(){return v}});let i=r(13664),n=r(15048),a=r(88928),s=r(47475),o=r(69643),l=r(71697),c=r(53694),u=r(44080),d=r(67234),h=r(2583),p=r(95684),f=r(71418),{createFromFetch:m,encodeReply:g}=r(82228);async function y(e,t){let r,{actionId:s,actionArgs:o}=t,l=await g(o),c=(0,p.extractPathFromFlightRouterState)(e.tree),u=e.nextUrl&&e.nextUrl!==c,d=await fetch("",{method:"POST",headers:{Accept:n.RSC_CONTENT_TYPE_HEADER,[n.ACTION]:s,[n.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(e.tree)),...u?{[n.NEXT_URL]:e.nextUrl}:{}},body:l}),h=d.headers.get("x-action-redirect");try{let e=JSON.parse(d.headers.get("x-action-revalidated")||"[[],0,0]");r={paths:e[0]||[],tag:!!e[1],cookie:e[2]}}catch(e){r={paths:[],tag:!1,cookie:!1}}let f=h?new URL((0,a.addBasePath)(h),new URL(e.canonicalUrl,window.location.href)):void 0;if(d.headers.get("content-type")===n.RSC_CONTENT_TYPE_HEADER){let e=await m(Promise.resolve(d),{callServer:i.callServer});if(h){let[,t]=null!=e?e:[];return{actionFlightData:t,redirectLocation:f,revalidatedParts:r}}let[t,[,n]]=null!=e?e:[];return{actionResult:t,actionFlightData:n,redirectLocation:f,revalidatedParts:r}}return{redirectLocation:f,revalidatedParts:r}}function v(e,t){let{resolve:r,reject:i}=t,n={},a=e.canonicalUrl,p=e.tree;return n.preserveCustomHistoryState=!1,n.inFlightServerAction=y(e,t),n.inFlightServerAction.then(i=>{let{actionResult:m,actionFlightData:g,redirectLocation:y}=i;if(y&&(e.pushRef.pendingPush=!0,n.pendingPush=!0),!g)return(r(m),y)?(0,o.handleExternalUrl)(e,n,y.href,e.pushRef.pendingPush):e;if("string"==typeof g)return(0,o.handleExternalUrl)(e,n,g,e.pushRef.pendingPush);for(let r of(n.inFlightServerAction=null,g)){if(3!==r.length)return console.log("SERVER ACTION APPLY FAILED"),e;let[i]=r,s=(0,l.applyRouterStatePatchToFullTree)([""],p,i);if(null===s)return(0,f.handleSegmentMismatch)(e,t,i);if((0,c.isNavigatingToNewRootLayout)(p,s))return(0,o.handleExternalUrl)(e,n,a,e.pushRef.pendingPush);let[u,m]=r.slice(-2),g=null!==u?u[2]:null;if(null!==g){let e=(0,h.createEmptyCacheNode)();e.rsc=g,e.prefetchRsc=null,(0,d.fillLazyItemsTillLeafWithHead)(e,void 0,i,u,m),n.cache=e,n.prefetchCache=new Map}n.patchedTree=s,n.canonicalUrl=a,p=s}if(y){let e=(0,s.createHrefFromUrl)(y,!1);n.canonicalUrl=e}return r(m),(0,u.handleMutable)(e,n)},t=>(i(t.reason),e))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},57910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serverPatchReducer",{enumerable:!0,get:function(){return d}});let i=r(47475),n=r(71697),a=r(53694),s=r(69643),o=r(69543),l=r(44080),c=r(2583),u=r(71418);function d(e,t){let{flightData:r,overrideCanonicalUrl:d}=t,h={};if(h.preserveCustomHistoryState=!1,"string"==typeof r)return(0,s.handleExternalUrl)(e,h,r,e.pushRef.pendingPush);let p=e.tree,f=e.cache;for(let l of r){let r=l.slice(0,-4),[m]=l.slice(-3,-2),g=(0,n.applyRouterStatePatchToTreeSkipDefault)(["",...r],p,m);if(null===g)return(0,u.handleSegmentMismatch)(e,t,m);if((0,a.isNavigatingToNewRootLayout)(p,g))return(0,s.handleExternalUrl)(e,h,e.canonicalUrl,e.pushRef.pendingPush);let y=d?(0,i.createHrefFromUrl)(d):void 0;y&&(h.canonicalUrl=y);let v=(0,c.createEmptyCacheNode)();(0,o.applyFlightData)(f,v,l),h.patchedTree=g,h.cache=v,f=v,p=g}return(0,l.handleMutable)(e,h)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8085:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PrefetchKind:function(){return r},ACTION_REFRESH:function(){return i},ACTION_NAVIGATE:function(){return n},ACTION_RESTORE:function(){return a},ACTION_SERVER_PATCH:function(){return s},ACTION_PREFETCH:function(){return o},ACTION_FAST_REFRESH:function(){return l},ACTION_SERVER_ACTION:function(){return c},isThenable:function(){return u}});let i="refresh",n="navigate",a="restore",s="server-patch",o="prefetch",l="fast-refresh",c="server-action";function u(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"})(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},73479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return i}}),r(8085),r(69643),r(57910),r(25206),r(17787),r(7772),r(52298),r(9501);let i=function(e,t){return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"shouldHardNavigate",{enumerable:!0,get:function(){return function e(t,r){let[n,a]=r,[s,o]=t;return(0,i.matchSegment)(s,n)?!(t.length<=2)&&e(t.slice(2),a[o]):!!Array.isArray(s)}}});let i=r(24287);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},25517:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createSearchParamsBailoutProxy",{enumerable:!0,get:function(){return n}});let i=r(1396);function n(){return new Proxy({},{get(e,t){"string"==typeof t&&(0,i.staticGenerationBailout)("searchParams."+t)}})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1396:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isStaticGenBailoutError:function(){return o},staticGenerationBailout:function(){return c}});let i=r(3082),n=r(94749),a="NEXT_STATIC_GEN_BAILOUT";class s extends Error{constructor(...e){super(...e),this.code=a}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===a}function l(e,t){let{dynamic:r,link:i}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(i?" See more info here: "+i:"")}let c=(e,t)=>{let{dynamic:r,link:a}=void 0===t?{}:t,o=n.staticGenerationAsyncStorage.getStore();if(!o)return!1;if(o.forceStatic)return!0;if(o.dynamicShouldError)throw new s(l(e,{link:a,dynamic:null!=r?r:"error"}));let c=l(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==o.postpone||o.postpone.call(o,e),o.revalidate=0,o.isStaticGeneration){let t=new i.DynamicServerError(c);throw o.dynamicUsageDescription=e,o.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}}),r(39694);let i=r(95344);r(3729);let n=r(25517);function a(e){let{Component:t,propsForComponent:r,isStaticGeneration:a}=e;if(a){let e=(0,n.createSearchParamsBailoutProxy)();return(0,i.jsx)(t,{searchParams:e,...r})}return(0,i.jsx)(t,{...r})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},14954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{useUnwrapState:function(){return s},useReducerWithReduxDevtools:function(){return o}});let i=r(80056)._(r(3729)),n=r(8085);function a(e){if(e instanceof Map){let t={};for(let[r,i]of e.entries()){if("function"==typeof i){t[r]="fn()";continue}if("object"==typeof i&&null!==i){if(i.$$typeof){t[r]=i.$$typeof.toString();continue}if(i._bundlerConfig){t[r]="FlightData";continue}}t[r]=a(i)}return t}if("object"==typeof e&&null!==e){let t={};for(let r in e){let i=e[r];if("function"==typeof i){t[r]="fn()";continue}if("object"==typeof i&&null!==i){if(i.$$typeof){t[r]=i.$$typeof.toString();continue}if(i.hasOwnProperty("_bundlerConfig")){t[r]="FlightData";continue}}t[r]=a(i)}return t}return Array.isArray(e)?e.map(a):e}function s(e){return(0,n.isThenable)(e)?(0,i.use)(e):e}r(34087);let o=function(e){return[e,()=>{},()=>{}]};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},73055:(e,t,r)=>{"use strict";function i(e,t,r,i){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return i}}),r(19847),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},96411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasBasePath",{enumerable:!0,get:function(){return n}});let i=r(86050);function n(e){return(0,i.pathHasPrefix)(e,"")}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return v}});let i=r(39694),n=r(95344),a=i._(r(3729)),s=r(26656),o=r(76737),l=r(92421),c=r(10853),u=r(41314),d=r(66150),h=r(46860),p=r(3470),f=r(73055),m=r(88928),g=r(8085);function y(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let v=a.default.forwardRef(function(e,t){let r,i;let{href:l,as:v,children:b,prefetch:w=null,passHref:S,replace:_,shallow:x,scroll:k,locale:E,onClick:C,onMouseEnter:R,onTouchStart:A,legacyBehavior:T=!1,...P}=e;r=b,T&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let O=a.default.useContext(d.RouterContext),I=a.default.useContext(h.AppRouterContext),N=null!=O?O:I,j=!O,B=!1!==w,U=null===w?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:L,as:M}=a.default.useMemo(()=>{if(!O){let e=y(l);return{href:e,as:v?y(v):e}}let[e,t]=(0,s.resolveHref)(O,l,!0);return{href:e,as:v?(0,s.resolveHref)(O,v):t||e}},[O,l,v]),D=a.default.useRef(L),K=a.default.useRef(M);T&&(i=a.default.Children.only(r));let q=T?i&&"object"==typeof i&&i.ref:t,[$,F,z]=(0,p.useIntersection)({rootMargin:"200px"}),V=a.default.useCallback(e=>{(K.current!==M||D.current!==L)&&(z(),K.current=M,D.current=L),$(e),q&&("function"==typeof q?q(e):"object"==typeof q&&(q.current=e))},[M,q,L,z,$]);a.default.useEffect(()=>{},[M,L,F,E,B,null==O?void 0:O.locale,N,j,U]);let H={ref:V,onClick(e){T||"function"!=typeof C||C(e),T&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),N&&!e.defaultPrevented&&function(e,t,r,i,n,s,l,c,u){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,o.isLocalURL)(r)))return;e.preventDefault();let h=()=>{let e=null==l||l;"beforePopState"in t?t[n?"replace":"push"](r,i,{shallow:s,locale:c,scroll:e}):t[n?"replace":"push"](i||r,{scroll:e})};u?a.default.startTransition(h):h()}(e,N,L,M,_,x,k,E,j)},onMouseEnter(e){T||"function"!=typeof R||R(e),T&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e)},onTouchStart(e){T||"function"!=typeof A||A(e),T&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e)}};if((0,c.isAbsoluteUrl)(M))H.href=M;else if(!T||S||"a"===i.type&&!("href"in i.props)){let e=void 0!==E?E:null==O?void 0:O.locale,t=(null==O?void 0:O.isLocaleDomain)&&(0,f.getDomainLocale)(M,e,null==O?void 0:O.locales,null==O?void 0:O.domainLocales);H.href=t||(0,m.addBasePath)((0,u.addLocale)(M,e,null==O?void 0:O.defaultLocale))}return T?a.default.cloneElement(i,H):(0,n.jsx)("a",{...P,...H,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19847:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return a}});let i=r(74310),n=r(12244),a=e=>{if(!e.startsWith("/"))return e;let{pathname:t,query:r,hash:a}=(0,n.parsePath)(e);return""+(0,i.removeTrailingSlash)(t)+r+a};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22874:(e,t,r)=>{"use strict";function i(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeBasePath",{enumerable:!0,get:function(){return i}}),r(96411),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},66252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{requestIdleCallback:function(){return r},cancelIdleCallback:function(){return i}});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return d}});let i=r(77043),n=r(92421),a=r(60663),s=r(10853),o=r(19847),l=r(76737),c=r(44831),u=r(78729);function d(e,t,r){let d;let h="string"==typeof t?t:(0,n.formatWithValidation)(t),p=h.match(/^[a-zA-Z]{1,}:\/\//),f=p?h.slice(p[0].length):h;if((f.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+h+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,s.normalizeRepeatedSlashes)(f);h=(p?p[0]:"")+t}if(!(0,l.isLocalURL)(h))return r?[h]:h;try{d=new URL(h.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){d=new URL("/","http://n")}try{let e=new URL(h,d);e.pathname=(0,o.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&r){let r=(0,i.searchParamsToUrlQuery)(e.searchParams),{result:s,params:o}=(0,u.interpolateAs)(e.pathname,e.pathname,r);s&&(t=(0,n.formatWithValidation)({pathname:s,hash:e.hash,query:(0,a.omit)(r,o)}))}let s=e.origin===d.origin?e.href.slice(e.origin.length):e.href;return r?[s,t||s]:s}catch(e){return r?[h]:h}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let i=r(3729),n=r(66252),a="function"==typeof IntersectionObserver,s=new Map,o=[];function l(e){let{rootRef:t,rootMargin:r,disabled:l}=e,c=l||!a,[u,d]=(0,i.useState)(!1),h=(0,i.useRef)(null),p=(0,i.useCallback)(e=>{h.current=e},[]);return(0,i.useEffect)(()=>{if(a){if(c||u)return;let e=h.current;if(e&&e.tagName)return function(e,t,r){let{id:i,observer:n,elements:a}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},i=o.find(e=>e.root===r.root&&e.margin===r.margin);if(i&&(t=s.get(i)))return t;let n=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:n},o.push(r),s.set(r,t),t}(r);return a.set(e,t),n.observe(e),function(){if(a.delete(e),n.unobserve(e),0===a.size){n.disconnect(),s.delete(i);let e=o.findIndex(e=>e.root===i.root&&e.margin===i.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!u){let e=(0,n.requestIdleCallback)(()=>d(!0));return()=>(0,n.cancelIdleCallback)(e)}},[c,r,t,u,h.current]),[p,u,(0,i.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},54269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentParam",{enumerable:!0,get:function(){return n}});let i=r(45767);function n(e){let t=i.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t));return(t&&(e=e.slice(t.length)),e.startsWith("[[...")&&e.endsWith("]]"))?{type:"optional-catchall",param:e.slice(5,-2)}:e.startsWith("[...")&&e.endsWith("]")?{type:"catchall",param:e.slice(4,-1)}:e.startsWith("[")&&e.endsWith("]")?{type:"dynamic",param:e.slice(1,-1)}:null}},45767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return n},isInterceptionRouteAppPath:function(){return a},extractInterceptionRouteInformation:function(){return s}});let i=r(77655),n=["(..)(..)","(.)","(..)","(...)"];function a(e){return void 0!==e.split("/").find(e=>n.find(t=>e.startsWith(t)))}function s(e){let t,r,a;for(let i of e.split("/"))if(r=n.find(e=>i.startsWith(e))){[t,a]=e.split(r,2);break}if(!t||!r||!a)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,i.normalizeAppPath)(t),r){case"(.)":a="/"===t?`/${a}`:t+"/"+a;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);a=t.split("/").slice(0,-1).concat(a).join("/");break;case"(...)":a="/"+a;break;case"(..)(..)":let s=t.split("/");if(s.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);a=s.slice(0,-2).concat(a).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:a}}},16372:(e,t,r)=>{"use strict";e.exports=r(20399)},46860:(e,t,r)=>{"use strict";e.exports=r(16372).vendored.contexts.AppRouterContext},78486:(e,t,r)=>{"use strict";e.exports=r(16372).vendored.contexts.HooksClientContext},66150:(e,t,r)=>{"use strict";e.exports=r(16372).vendored.contexts.RouterContext},69505:(e,t,r)=>{"use strict";e.exports=r(16372).vendored.contexts.ServerInsertedHtml},81202:(e,t,r)=>{"use strict";e.exports=r(16372).vendored["react-ssr"].ReactDOM},95344:(e,t,r)=>{"use strict";e.exports=r(16372).vendored["react-ssr"].ReactJsxRuntime},82228:(e,t,r)=>{"use strict";e.exports=r(16372).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},3729:(e,t,r)=>{"use strict";e.exports=r(16372).vendored["react-ssr"].React},77866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return n}});let r=/[|\\{}()[\]^$+*?.-]/,i=/[|\\{}()[\]^$+*?.-]/g;function n(e){return r.test(e)?e.replace(i,"\\$&"):e}},65344:(e,t)=>{"use strict";function r(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)&4294967295;return t>>>0}function i(e){return r(e).toString(36).slice(0,5)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{djb2Hash:function(){return r},hexHash:function(){return i}})},63689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return n}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},8092:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},34087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ActionQueueContext:function(){return o},createMutableActionQueue:function(){return u}});let i=r(80056),n=r(8085),a=r(73479),s=i._(r(3729)),o=s.default.createContext(null);function l(e,t){null!==e.pending&&(e.pending=e.pending.next,null!==e.pending&&c({actionQueue:e,action:e.pending,setState:t}))}async function c(e){let{actionQueue:t,action:r,setState:i}=e,a=t.state;if(!a)throw Error("Invariant: Router state not initialized");t.pending=r;let s=r.payload,o=t.action(a,s);function c(e){if(r.discarded){t.needsRefresh&&null===t.pending&&(t.needsRefresh=!1,t.dispatch({type:n.ACTION_REFRESH,origin:window.location.origin},i));return}t.state=e,t.devToolsInstance&&t.devToolsInstance.send(s,e),l(t,i),r.resolve(e)}(0,n.isThenable)(o)?o.then(c,e=>{l(t,i),r.reject(e)}):c(o)}function u(){let e={state:null,dispatch:(t,r)=>(function(e,t,r){let i={resolve:r,reject:()=>{}};if(t.type!==n.ACTION_RESTORE){let e=new Promise((e,t)=>{i={resolve:e,reject:t}});(0,s.startTransition)(()=>{r(e)})}let a={payload:t,next:null,resolve:i.resolve,reject:i.reject};null===e.pending?(e.last=a,c({actionQueue:e,action:a,setState:r})):t.type===n.ACTION_NAVIGATE?(e.pending.discarded=!0,e.last=a,e.pending.payload.type===n.ACTION_SERVER_ACTION&&(e.needsRefresh=!0),c({actionQueue:e,action:a,setState:r})):(null!==e.last&&(e.last.next=a),e.last=a)})(e,t,r),action:async(e,t)=>{if(null===e)throw Error("Invariant: Router state not initialized");return(0,a.reducer)(e,t)},pending:null,last:null};return e}},71870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return n}});let i=r(12244);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=(0,i.parsePath)(e);return""+t+r+n+a}},77655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return a},normalizeRscURL:function(){return s}});let i=r(8092),n=r(19457);function a(e){return(0,i.ensureLeadingSlash)(e.split("/").reduce((e,t,r,i)=>!t||(0,n.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===i.length-1?e:e+"/"+t,""))}function s(e){return e.replace(/\.rsc($|\?)/,"$1")}},92421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return a},urlObjectKeys:function(){return s},formatWithValidation:function(){return o}});let i=r(80056)._(r(77043)),n=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,a=e.protocol||"",s=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(i.urlQueryToSearchParams(l)));let u=e.search||l&&"?"+l||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||n.test(a))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),""+a+c+(s=s.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+o}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function o(e){return a(e)}},51586:(e,t)=>{"use strict";function r(e,t){if(void 0===t&&(t={}),t.onlyHashChange){e();return}let r=document.documentElement,i=r.style.scrollBehavior;r.style.scrollBehavior="auto",t.dontForceLayout||r.getClientRects(),e(),r.style.scrollBehavior=i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleSmoothScroll",{enumerable:!0,get:function(){return r}})},44831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRoutes:function(){return i.getSortedRoutes},isDynamicRoute:function(){return n.isDynamicRoute}});let i=r(46177),n=r(25508)},78729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return a}});let i=r(82694),n=r(76603);function a(e,t,r){let a="",s=(0,n.getRouteRegex)(e),o=s.groups,l=(t!==e?(0,i.getRouteMatcher)(s)(t):"")||r;a=e;let c=Object.keys(o);return c.every(e=>{let t=l[e]||"",{repeat:r,optional:i}=o[e],n="["+(r?"...":"")+e+"]";return i&&(n=(t?"":"/")+"["+n+"]"),r&&!Array.isArray(t)&&(t=[t]),(i||e in l)&&(a=a.replace(n,r?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(a=""),{params:c,result:a}}},56338:(e,t)=>{"use strict";function r(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isBot",{enumerable:!0,get:function(){return r}})},25508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return a}});let i=r(45767),n=/\/\[[^/]+?\](?=\/|$)/;function a(e){return(0,i.isInterceptionRouteAppPath)(e)&&(e=(0,i.extractInterceptionRouteInformation)(e).interceptedRoute),n.test(e)}},76737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return a}});let i=r(10853),n=r(96411);function a(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},60663:(e,t)=>{"use strict";function r(e,t){let r={};return Object.keys(e).forEach(i=>{t.includes(i)||(r[i]=e[i])}),r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return r}})},12244:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},86050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return n}});let i=r(12244);function n(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},77043:(e,t)=>{"use strict";function r(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function i(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function n(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,n]=e;Array.isArray(n)?n.forEach(e=>t.append(r,i(e))):t.set(r,i(n))}),t}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,r)=>e.append(r,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return n},assign:function(){return a}})},74310:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},82694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return n}});let i=r(10853);function n(e){let{re:t,groups:r}=e;return e=>{let n=t.exec(e);if(!n)return!1;let a=e=>{try{return decodeURIComponent(e)}catch(e){throw new i.DecodeError("failed to decode param")}},s={};return Object.keys(r).forEach(e=>{let t=r[e],i=n[t.pos];void 0!==i&&(s[e]=~i.indexOf("/")?i.split("/").map(e=>a(e)):t.repeat?[a(i)]:a(i))}),s}}},76603:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRouteRegex:function(){return l},getNamedRouteRegex:function(){return d},getNamedMiddlewareRegex:function(){return h}});let i=r(45767),n=r(77866),a=r(74310);function s(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function o(e){let t=(0,a.removeTrailingSlash)(e).slice(1).split("/"),r={},o=1;return{parameterizedRoute:t.map(e=>{let t=i.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&a){let{key:e,optional:i,repeat:l}=s(a[1]);return r[e]={pos:o++,repeat:l,optional:i},"/"+(0,n.escapeStringRegexp)(t)+"([^/]+?)"}if(!a)return"/"+(0,n.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:i}=s(a[1]);return r[e]={pos:o++,repeat:t,optional:i},t?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function l(e){let{parameterizedRoute:t,groups:r}=o(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function c(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:i,routeKeys:a,keyPrefix:o}=e,{key:l,optional:c,repeat:u}=s(i),d=l.replace(/\W/g,"");o&&(d=""+o+d);let h=!1;(0===d.length||d.length>30)&&(h=!0),isNaN(parseInt(d.slice(0,1)))||(h=!0),h&&(d=r()),o?a[d]=""+o+l:a[d]=l;let p=t?(0,n.escapeStringRegexp)(t):"";return u?c?"(?:/"+p+"(?<"+d+">.+?))?":"/"+p+"(?<"+d+">.+?)":"/"+p+"(?<"+d+">[^/]+?)"}function u(e,t){let r;let s=(0,a.removeTrailingSlash)(e).slice(1).split("/"),o=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:s.map(e=>{let r=i.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&a){let[r]=e.split(a[0]);return c({getSafeRouteKey:o,interceptionMarker:r,segment:a[1],routeKeys:l,keyPrefix:t?"nxtI":void 0})}return a?c({getSafeRouteKey:o,segment:a[1],routeKeys:l,keyPrefix:t?"nxtP":void 0}):"/"+(0,n.escapeStringRegexp)(e)}).join(""),routeKeys:l}}function d(e,t){let r=u(e,t);return{...l(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function h(e,t){let{parameterizedRoute:r}=o(e),{catchAll:i=!0}=t;if("/"===r)return{namedRegex:"^/"+(i?".*":"")+"$"};let{namedParameterizedRoute:n}=u(e,!1);return{namedRegex:"^"+n+(i?"(?:(/.*)?)":"")+"$"}}},46177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return i}});class r{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(e,t,i){if(0===e.length){this.placeholder=!1;return}if(i)throw Error("Catch-all must be the last part of the URL.");let n=e[0];if(n.startsWith("[")&&n.endsWith("]")){let r=n.slice(1,-1),s=!1;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1),s=!0),r.startsWith("...")&&(r=r.substring(3),i=!0),r.startsWith("[")||r.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+r+"').");if(r.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+r+"').");function a(e,r){if(null!==e&&e!==r)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+r+"').");t.forEach(e=>{if(e===r)throw Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===n.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+r+'" differ only by non-word symbols within a single dynamic path')}),t.push(r)}if(i){if(s){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');a(this.optionalRestSlugName,r),this.optionalRestSlugName=r,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');a(this.restSlugName,r),this.restSlugName=r,n="[...]"}}else{if(s)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');a(this.slugName,r),this.slugName=r,n="[]"}}this.children.has(n)||this.children.set(n,new r),this.children.get(n)._insert(e.slice(1),t,i)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function i(e){let t=new r;return e.forEach(e=>t.insert(e)),t.smoosh()}},19457:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isGroupSegment:function(){return r},PAGE_SEGMENT_KEY:function(){return i},DEFAULT_SEGMENT_KEY:function(){return n}});let i="__PAGE__",n="__DEFAULT__"},10853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{WEB_VITALS:function(){return r},execOnce:function(){return i},isAbsoluteUrl:function(){return a},getLocationOrigin:function(){return s},getURL:function(){return o},getDisplayName:function(){return l},isResSent:function(){return c},normalizeRepeatedSlashes:function(){return u},loadGetInitialProps:function(){return d},SP:function(){return h},ST:function(){return p},DecodeError:function(){return f},NormalizeError:function(){return m},PageNotFoundError:function(){return g},MissingStaticPage:function(){return y},MiddlewareNotFoundError:function(){return v},stringifyError:function(){return b}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return function(){for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return r||(r=!0,t=e(...n)),t}}let n=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,a=e=>n.test(e);function s(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function o(){let{href:e}=window.location,t=s();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&c(r))return i;if(!i)throw Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+i+'" instead.');return i}let h="undefined"!=typeof performance,p=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class m extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},70837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},86886:(e,t,r)=>{"use strict";var i=r(57310).parse,n={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},a=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function s(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.j=function(e){var t,r,o,l="string"==typeof e?i(e):e||{},c=l.protocol,u=l.host,d=l.port;if("string"!=typeof u||!u||"string"!=typeof c||(c=c.split(":",1)[0],t=u=u.replace(/:\d*$/,""),r=d=parseInt(d)||n[c]||0,!(!(o=(s("npm_config_no_proxy")||s("no_proxy")).toLowerCase())||"*"!==o&&o.split(/[,\s]/).every(function(e){if(!e)return!0;var i=e.match(/^(.+):(\d+)$/),n=i?i[1]:e,s=i?parseInt(i[2]):0;return!!s&&s!==r||(/^[.*]/.test(n)?("*"===n.charAt(0)&&(n=n.slice(1)),!a.call(t,n)):t!==n)}))))return"";var h=s("npm_config_"+c+"_proxy")||s(c+"_proxy")||s("npm_config_proxy")||s("all_proxy");return h&&-1===h.indexOf("://")&&(h=c+"://"+h),h}},5299:(e,t,r)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=r(14300),n=i.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=s),s.prototype=Object.create(n.prototype),a(n,s),s.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},14819:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=(null!=e.raddr?" raddr %s rport %d":"%v%v")+(null!=e.tcptype?" tcptype %s":"%v"),null!=e.generation&&(t+=" generation %d"),t+=(null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){return"mediaclk:"+((null!=e.id?"id=%s %s":"%v%s")+(null!=e.mediaClockValue?"=%s":"")+(null!=e.rateNumerator?" rate=%s":""))+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},37242:(e,t,r)=>{var i=r(63986),n=r(2216);t.cW=n,t.Qc=i.parse,i.parseParams,i.parseFmtpConfig,i.parsePayloads,i.parseRemoteCandidates,i.parseImageAttributes,i.parseSimulcastStreamList},63986:(e,t,r)=>{var i=function(e){return String(Number(e))===e?Number(e):e},n=function(e,t,r,n){if(n&&!r)t[n]=i(e[1]);else for(var a=0;a<r.length;a+=1)null!=e[a+1]&&(t[r[a]]=i(e[a+1]))},a=function(e,t,r){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var a=e.push?{}:i?t[e.name]:t;n(r.match(e.reg),a,e.names,e.name),e.push&&t[e.push].push(a)},s=r(14819),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],i=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach(function(e){var t=e[0],n=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),i=r[r.length-1]);for(var o=0;o<(s[t]||[]).length;o+=1){var l=s[t][o];if(l.reg.test(n))return a(l,i,n)}}),t.media=r,t};var l=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=i(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(l,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(i),n=0;n<r.length;n+=3)t.push({component:r[n],ip:r[n+1],port:r[n+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(l,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,r=!1;return"~"!==e[0]?t=i(e):(t=i(e.substring(1,e.length)),r=!0),{scid:t,paused:r}})})}},2216:(e,t,r)=>{var i=r(14819),n=/%[sdv%]/g,a=function(e){var t=1,r=arguments,i=r.length;return e.replace(n,function(e){if(t>=i)return e;var n=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(n);case"%d":return Number(n);case"%v":return""}})},s=function(e,t,r){var i=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var n=0;n<t.names.length;n+=1){var s=t.names[n];t.name?i.push(r[t.name][s]):i.push(r[t.names[n]])}else i.push(r[t.name]);return a.apply(null,i)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],l=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var r=t.outerOrder||o,n=t.innerOrder||l,a=[];return r.forEach(function(t){i[t].forEach(function(r){r.name in e&&null!=e[r.name]?a.push(s(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach(function(e){a.push(s(t,r,e))})})}),e.media.forEach(function(e){a.push(s("m",i.m[0],e)),n.forEach(function(t){i[t].forEach(function(r){r.name in e&&null!=e[r.name]?a.push(s(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach(function(e){a.push(s(t,r,e))})})})}),a.join("\r\n")+"\r\n"}},1388:e=>{"use strict";let t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){let r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){let r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter(e=>0===e.indexOf(r))},t.parseCandidate=function(e){let t;let r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":r.relatedAddress=t[e+1];break;case"rport":r.relatedPort=parseInt(t[e+1],10);break;case"tcptype":r.tcpType=t[e+1];break;case"ufrag":r.ufrag=t[e+1],r.usernameFragment=t[e+1];break;default:void 0===r[t[e]]&&(r[t[e]]=t[e+1])}return r},t.writeCandidate=function(e){let t=[];t.push(e.foundation);let r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){let t;let r={},i=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<i.length;e++)r[(t=i[e].trim().split("="))[0].trim()]=t[1];return r},t.writeFmtp=function(e){let t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let i=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)}),t+="a=fmtp:"+r+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){let t=e.indexOf(" "),r={ssrc:parseInt(e.substring(7,t),10)},i=e.indexOf(":",t);return i>-1?(r.attribute=e.substring(t+1,i),r.value=e.substring(i+1)):r.attribute=e.substring(t+1),r},t.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){let r=t.matchPrefix(e,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let r="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},t.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){let i=t.matchPrefix(e+r,"a=ice-ufrag:")[0],n=t.matchPrefix(e+r,"a=ice-pwd:")[0];return i&&n?{usernameFragment:i.substring(12),password:n.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){let r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e)[0].split(" ");r.profile=i[2];for(let n=3;n<i.length;n++){let a=i[n],s=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(s){let i=t.parseRtpMap(s),n=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(i.parameters=n.length?t.parseFmtp(n[0]):{},i.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),r.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(i.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{r.headerExtensions.push(t.parseExtmap(e))});let n=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(e=>{n.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),r},t.writeRtpDescription=function(e,r){let i="";i+="m="+e+" "+(r.codecs.length>0?"9":"0")+" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" "+r.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach(e=>{i+=t.writeRtpMap(e)+t.writeFmtp(e)+t.writeRtcpFb(e)});let n=0;return r.codecs.forEach(e=>{e.maxptime>n&&(n=e.maxptime)}),n>0&&(i+="a=maxptime:"+n+"\r\n"),r.headerExtensions&&r.headerExtensions.forEach(e=>{i+=t.writeExtmap(e)}),i},t.parseRtpEncodingParameters=function(e){let r;let i=[],n=t.parseRtpParameters(e),a=-1!==n.fecMechanisms.indexOf("RED"),s=-1!==n.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),l=o.length>0&&o[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));c.length>0&&c[0].length>1&&c[0][0]===l&&(r=c[0][1]),n.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&r&&(t.rtx={ssrc:r}),i.push(t),a&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},i.push(t))}}),0===i.length&&l&&i.push({ssrc:l});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?950*parseInt(u[0].substring(5),10)-16e3:void 0,i.forEach(e=>{e.maxBitrate=u})),i},t.parseRtcpParameters=function(e){let r={},i=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);let n=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=n.length>0,r.compound=0===n.length;let a=t.matchPrefix(e,"a=rtcp-mux");return r.mux=a.length>0,r},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let r;let i=t.matchPrefix(e,"a=msid:");if(1===i.length)return{stream:(r=i[0].substring(7).split(" "))[0],track:r[1]};let n=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(n.length>0)return{stream:(r=n[0].value.split(" "))[0],track:r[1]}},t.parseSctpDescription=function(e){let r;let i=t.parseMLine(e),n=t.matchPrefix(e,"a=max-message-size:");n.length>0&&(r=parseInt(n[0].substring(19),10)),isNaN(r)&&(r=65536);let a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:i.fmt,maxMessageSize:r};let s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){let e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,r,i){return"v=0\r\no="+(i||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+(void 0!==r?r:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,r){let i=t.splitLines(e);for(let e=0;e<i.length;e++)switch(i[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[e].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){let r=t.splitLines(e)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){let r=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let r=t.splitLines(e);for(let e=0;e<r.length;e++)if(r[e].length<2||"="!==r[e].charAt(1))return!1;return!0},e.exports=t},55778:(e,t,r)=>{let i=Symbol("SemVer ANY");class n{static get ANY(){return i}constructor(e,t){if(t=a(t),e instanceof n){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=n;let a=r(52275),{safeRe:s,t:o}=r(81770),l=r(2015),c=r(61472),u=r(88331),d=r(41037)},41037:(e,t,r)=>{class i{constructor(e,t){if(t=a(t),e instanceof i){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new i(e.raw,t)}if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,r=n.get(t);if(r)return r;let i=this.options.loose,a=i?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];o("hyphen replace",e=e.replace(a,T(this.options.includePrerelease))),o("comparator trim",e=e.replace(c[u.COMPARATORTRIM],d)),o("tilde trim",e=e.replace(c[u.TILDETRIM],h)),o("caret trim",e=e.replace(c[u.CARETTRIM],p));let l=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>A(e,this.options));i&&(l=l.filter(e=>(o("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE])))),o("range list",l);let y=new Map;for(let e of l.map(e=>new s(e,this.options))){if(g(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");let v=[...y.values()];return n.set(t,v),v}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(r=>v(r,t)&&e.set.some(e=>v(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let n=new(r(67658)),a=r(52275),s=r(55778),o=r(61472),l=r(88331),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=r(81770),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=r(2169),g=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let r=!0,i=e.slice(),n=i.pop();for(;r&&i.length;)r=i.every(e=>n.intersects(e,t)),n=i.pop();return r},b=(e,t)=>(o("comp",e,t),o("caret",e=x(e,t)),o("tildes",e=S(e,t)),o("xrange",e=E(e,t)),o("stars",e=R(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{let r=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(r,(t,r,i,n,a)=>{let s;return o("tilde",e,t,r,i,n,a),w(r)?s="":w(i)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:w(n)?s=`>=${r}.${i}.0 <${r}.${+i+1}.0-0`:a?(o("replaceTilde pr",a),s=`>=${r}.${i}.${n}-${a} <${r}.${+i+1}.0-0`):s=`>=${r}.${i}.${n} <${r}.${+i+1}.0-0`,o("tilde return",s),s})},x=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{o("caret",e,t);let r=t.loose?c[u.CARETLOOSE]:c[u.CARET],i=t.includePrerelease?"-0":"";return e.replace(r,(t,r,n,a,s)=>{let l;return o("caret",e,t,r,n,a,s),w(r)?l="":w(n)?l=`>=${r}.0.0${i} <${+r+1}.0.0-0`:w(a)?l="0"===r?`>=${r}.${n}.0${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${i} <${+r+1}.0.0-0`:s?(o("replaceCaret pr",s),l="0"===r?"0"===n?`>=${r}.${n}.${a}-${s} <${r}.${n}.${+a+1}-0`:`>=${r}.${n}.${a}-${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${a}-${s} <${+r+1}.0.0-0`):(o("no pr"),l="0"===r?"0"===n?`>=${r}.${n}.${a}${i} <${r}.${n}.${+a+1}-0`:`>=${r}.${n}.${a}${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${a} <${+r+1}.0.0-0`),o("caret return",l),l})},E=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();let r=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(r,(r,i,n,a,s,l)=>{o("xRange",e,r,i,n,a,s,l);let c=w(n),u=c||w(a),d=u||w(s);return"="===i&&d&&(i=""),l=t.includePrerelease?"-0":"",c?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&d?(u&&(a=0),s=0,">"===i?(i=">=",u?(n=+n+1,a=0):a=+a+1,s=0):"<="===i&&(i="<",u?n=+n+1:a=+a+1),"<"===i&&(l="-0"),r=`${i+n}.${a}.${s}${l}`):u?r=`>=${n}.0.0${l} <${+n+1}.0.0-0`:d&&(r=`>=${n}.${a}.0${l} <${n}.${+a+1}.0-0`),o("xRange return",r),r})},R=(e,t)=>(o("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),A=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),T=e=>(t,r,i,n,a,s,o,l,c,u,d,h)=>(r=w(i)?"":w(n)?`>=${i}.0.0${e?"-0":""}`:w(a)?`>=${i}.${n}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`,l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`,`${r} ${l}`.trim()),P=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(o(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){let i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},88331:(e,t,r)=>{let i=r(61472),{MAX_LENGTH:n,MAX_SAFE_INTEGER:a}=r(2169),{safeRe:s,t:o}=r(81770),l=r(52275),{compareIdentifiers:c}=r(37651);class u{constructor(e,t){if(t=l(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>n)throw TypeError(`version is longer than ${n} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;if(r===n)continue;else return c(r,n)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let r=this.build[t],n=e.build[t];if(i("build compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;if(r===n)continue;else return c(r,n)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===r&&(i=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},65292:(e,t,r)=>{let i=r(66360);e.exports=(e,t)=>{let r=i(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},2015:(e,t,r)=>{let i=r(9637),n=r(12401),a=r(22650),s=r(17140),o=r(49759),l=r(77038);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return i(e,r,c);case"!=":return n(e,r,c);case">":return a(e,r,c);case">=":return s(e,r,c);case"<":return o(e,r,c);case"<=":return l(e,r,c);default:throw TypeError(`Invalid operator: ${t}`)}}},29688:(e,t,r)=>{let i=r(88331),n=r(66360),{safeRe:a,t:s}=r(81770);e.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let i;let n=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];for(;(i=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&i.index+i[0].length===r.index+r[0].length||(r=i),n.lastIndex=i.index+i[1].length+i[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===r)return null;let o=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return n(`${o}.${l}.${c}${u}${d}`,t)}},23820:(e,t,r)=>{let i=r(88331);e.exports=(e,t,r)=>{let n=new i(e,r),a=new i(t,r);return n.compare(a)||n.compareBuild(a)}},30944:(e,t,r)=>{let i=r(76637);e.exports=(e,t)=>i(e,t,!0)},76637:(e,t,r)=>{let i=r(88331);e.exports=(e,t,r)=>new i(e,r).compare(new i(t,r))},18011:(e,t,r)=>{let i=r(66360);e.exports=(e,t)=>{let r=i(e,null,!0),n=i(t,null,!0),a=r.compare(n);if(0===a)return null;let s=a>0,o=s?r:n,l=s?n:r,c=!!o.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?o.patch?"patch":o.minor?"minor":"major":"major";let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"}},9637:(e,t,r)=>{let i=r(76637);e.exports=(e,t,r)=>0===i(e,t,r)},22650:(e,t,r)=>{let i=r(76637);e.exports=(e,t,r)=>i(e,t,r)>0},17140:(e,t,r)=>{let i=r(76637);e.exports=(e,t,r)=>i(e,t,r)>=0},1451:(e,t,r)=>{let i=r(88331);e.exports=(e,t,r,n,a)=>{"string"==typeof r&&(a=n,n=r,r=void 0);try{return new i(e instanceof i?e.version:e,r).inc(t,n,a).version}catch(e){return null}}},49759:(e,t,r)=>{let i=r(76637);e.exports=(e,t,r)=>0>i(e,t,r)},77038:(e,t,r)=>{let i=r(76637);e.exports=(e,t,r)=>0>=i(e,t,r)},4082:(e,t,r)=>{let i=r(88331);e.exports=(e,t)=>new i(e,t).major},42323:(e,t,r)=>{let i=r(88331);e.exports=(e,t)=>new i(e,t).minor},12401:(e,t,r)=>{let i=r(76637);e.exports=(e,t,r)=>0!==i(e,t,r)},66360:(e,t,r)=>{let i=r(88331);e.exports=(e,t,r=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(e){if(!r)return null;throw e}}},86527:(e,t,r)=>{let i=r(88331);e.exports=(e,t)=>new i(e,t).patch},9722:(e,t,r)=>{let i=r(66360);e.exports=(e,t)=>{let r=i(e,t);return r&&r.prerelease.length?r.prerelease:null}},92131:(e,t,r)=>{let i=r(76637);e.exports=(e,t,r)=>i(t,e,r)},15349:(e,t,r)=>{let i=r(23820);e.exports=(e,t)=>e.sort((e,r)=>i(r,e,t))},45044:(e,t,r)=>{let i=r(41037);e.exports=(e,t,r)=>{try{t=new i(t,r)}catch(e){return!1}return t.test(e)}},95760:(e,t,r)=>{let i=r(23820);e.exports=(e,t)=>e.sort((e,r)=>i(e,r,t))},5047:(e,t,r)=>{let i=r(66360);e.exports=(e,t)=>{let r=i(e,t);return r?r.version:null}},86952:(e,t,r)=>{let i=r(81770),n=r(2169),a=r(88331),s=r(37651),o=r(66360),l=r(5047),c=r(65292),u=r(1451),d=r(18011),h=r(4082),p=r(42323),f=r(86527),m=r(9722),g=r(76637),y=r(92131),v=r(30944),b=r(23820),w=r(95760),S=r(15349),_=r(22650),x=r(49759),k=r(9637),E=r(12401),C=r(17140),R=r(77038),A=r(2015),T=r(29688),P=r(55778),O=r(41037),I=r(45044),N=r(94342),j=r(82261),B=r(92419),U=r(19039),L=r(12531),M=r(36937),D=r(36677),K=r(6390),q=r(80107),$=r(60947),F=r(66762);e.exports={parse:o,valid:l,clean:c,inc:u,diff:d,major:h,minor:p,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:S,gt:_,lt:x,eq:k,neq:E,gte:C,lte:R,cmp:A,coerce:T,Comparator:P,Range:O,satisfies:I,toComparators:N,maxSatisfying:j,minSatisfying:B,minVersion:U,validRange:L,outside:M,gtr:D,ltr:K,intersects:q,simplifyRange:$,subset:F,SemVer:a,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},2169:e=>{let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},61472:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},37651:e=>{let t=/^[0-9]+$/,r=(e,r)=>{let i=t.test(e),n=t.test(r);return i&&n&&(e=+e,r=+r),e===r?0:i&&!n?-1:n&&!i?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},67658:e=>{class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},52275:e=>{let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},81770:(e,t,r)=>{let{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:a}=r(2169),s=r(61472),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={},d=0,h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",a],[h,n]],f=e=>{for(let[t,r]of p)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},m=(e,t,r)=>{let i=f(t),n=d++;s(e,n,t),u[e]=n,c[n]=t,o[n]=new RegExp(t,r?"g":void 0),l[n]=new RegExp(i,r?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?`+"(?:$|[^\\d])"),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},36677:(e,t,r)=>{let i=r(36937);e.exports=(e,t,r)=>i(e,t,">",r)},80107:(e,t,r)=>{let i=r(41037);e.exports=(e,t,r)=>(e=new i(e,r),t=new i(t,r),e.intersects(t,r))},6390:(e,t,r)=>{let i=r(36937);e.exports=(e,t,r)=>i(e,t,"<",r)},82261:(e,t,r)=>{let i=r(88331),n=r(41037);e.exports=(e,t,r)=>{let a=null,s=null,o=null;try{o=new n(t,r)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||-1===s.compare(e))&&(s=new i(a=e,r))}),a}},92419:(e,t,r)=>{let i=r(88331),n=r(41037);e.exports=(e,t,r)=>{let a=null,s=null,o=null;try{o=new n(t,r)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||1===s.compare(e))&&(s=new i(a=e,r))}),a}},19039:(e,t,r)=>{let i=r(88331),n=r(41037),a=r(22650);e.exports=(e,t)=>{e=new n(e,t);let r=new i("0.0.0");if(e.test(r)||(r=new i("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let n=e.set[t],s=null;n.forEach(e=>{let t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||a(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!r||a(r,s))&&(r=s)}return r&&e.test(r)?r:null}},36937:(e,t,r)=>{let i=r(88331),n=r(55778),{ANY:a}=n,s=r(41037),o=r(45044),l=r(22650),c=r(49759),u=r(77038),d=r(17140);e.exports=(e,t,r,h)=>{let p,f,m,g,y;switch(e=new i(e,h),t=new s(t,h),r){case">":p=l,f=u,m=c,g=">",y=">=";break;case"<":p=c,f=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,h))return!1;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null,o=null;if(i.forEach(e=>{e.semver===a&&(e=new n(">=0.0.0")),s=s||e,o=o||e,p(e.semver,s.semver,h)?s=e:m(e.semver,o.semver,h)&&(o=e)}),s.operator===g||s.operator===y||(!o.operator||o.operator===g)&&f(e,o.semver)||o.operator===y&&m(e,o.semver))return!1}return!0}},60947:(e,t,r)=>{let i=r(45044),n=r(76637);e.exports=(e,t,r)=>{let a=[],s=null,o=null,l=e.sort((e,t)=>n(e,t,r));for(let e of l)i(e,t,r)?(o=e,s||(s=e)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);let c=[];for(let[e,t]of a)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},66762:(e,t,r)=>{let i=r(41037),n=r(55778),{ANY:a}=n,s=r(45044),o=r(76637),l=[new n(">=0.0.0-0")],c=[new n(">=0.0.0")],u=(e,t,r)=>{let i,n,u,p,f,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=r.includePrerelease?l:c}if(1===t.length&&t[0].semver===a){if(r.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?i=d(i,t,r):"<"===t.operator||"<="===t.operator?n=h(n,t,r):y.add(t.semver);if(y.size>1||i&&n&&((u=o(i.semver,n.semver,r))>0||0===u&&(">="!==i.operator||"<="!==n.operator)))return null;for(let e of y){if(i&&!s(e,String(i),r)||n&&!s(e,String(n),r))return null;for(let i of t)if(!s(e,String(i),r))return!1;return!0}let v=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver,b=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver;for(let e of(v&&1===v.prerelease.length&&"<"===n.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,i){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((p=d(i,e,r))===e&&p!==i)return!1}else if(">="===i.operator&&!s(i.semver,String(e),r))return!1}if(n){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((f=h(n,e,r))===e&&f!==n)return!1}else if("<="===n.operator&&!s(n.semver,String(e),r))return!1}if(!e.operator&&(n||i)&&0!==u)return!1}return(!i||!m||!!n||0===u)&&(!n||!g||!!i||0===u)&&!b&&!v},d=(e,t,r)=>{if(!e)return t;let i=o(e.semver,t.semver,r);return i>0?e:i<0?t:">"===t.operator&&">="===e.operator?t:e},h=(e,t,r)=>{if(!e)return t;let i=o(e.semver,t.semver,r);return i<0?e:i>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new i(e,r),t=new i(t,r);let n=!1;e:for(let i of e.set){for(let e of t.set){let t=u(i,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0}},94342:(e,t,r)=>{let i=r(41037);e.exports=(e,t)=>new i(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},12531:(e,t,r)=>{let i=r(41037);e.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(e){return null}}},60125:(e,t,r)=>{"use strict";let i;let n=r(22037),a=r(76224),s=r(70814),{env:o}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===i)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===i)return 0;let r=i||0;if("dumb"===o.TERM)return r;if("win32"===process.platform){let e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:r;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:r}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?i=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(i=1),"FORCE_COLOR"in o&&(i="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(c(e,e&&e.isTTY))},stdout:l(c(!0,a.isatty(1))),stderr:l(c(!0,a.isatty(2)))}},12903:function(e,t,r){var i;!function(n,a){"use strict";var s="function",o="undefined",l="object",c="string",u="major",d="model",h="name",p="type",f="vendor",m="version",g="architecture",y="console",v="mobile",b="tablet",w="smarttv",S="wearable",_="embedded",x="Amazon",k="Apple",E="ASUS",C="BlackBerry",R="Browser",A="Chrome",T="Firefox",P="Google",O="Huawei",I="Microsoft",N="Motorola",j="Opera",B="Samsung",U="Sharp",L="Sony",M="Xiaomi",D="Zebra",K="Facebook",q="Chromium OS",$="Mac OS",F=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},z=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},V=function(e,t){return typeof e===c&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},G=function(e,t){for(var r,i,n,o,c,u,d=0;d<t.length&&!c;){var h=t[d],p=t[d+1];for(r=i=0;r<h.length&&!c&&h[r];)if(c=h[r++].exec(e))for(n=0;n<p.length;n++)u=c[++i],typeof(o=p[n])===l&&o.length>0?2===o.length?typeof o[1]==s?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==s||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):a:this[o[0]]=u?o[1].call(this,u,o[2]):a:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):a):this[o]=u||a;d+=2}},J=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(V(t[r][i],e))return"?"===r?a:r}else if(V(t[r],e))return"?"===r?a:r;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,j+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[h,j+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[h,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/\bddg\/([\w\.]+)/i],[m,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+R]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[h,"Smart Lenovo "+R]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+R],m],[/\bfocus\/([\w\.]+)/i],[m,[h,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+R]],[/fxios\/([-\w\.]+)/i],[m,[h,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+R]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+R],m],[/samsungbrowser\/([\w\.]+)/i],[m,[h,B+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,K],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,A+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+R]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,J,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,m],[/(cobalt)\/([\w\.]+)/i],[h,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,H]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,B],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,B],[p,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,k],[p,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,k],[p,b]],[/(macintosh);/i],[d,[f,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,U],[p,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,O],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,O],[p,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[f,M],[p,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,M],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[p,v]],[/\b(opd2\d{3}a?) bui/i],[d,[f,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[p,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[p,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,N],[p,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,N],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,"LG"],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,"LG"],[p,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[p,v]],[/(pixel c)\b/i],[d,[f,P],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,P],[p,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,L],[p,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,L],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[p,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,x],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,x],[p,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,C],[p,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,E],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,E],[p,v]],[/(nexus 9)/i],[d,[f,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[p,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[p,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[p,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[p,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[p,b]],[/(surface duo)/i],[d,[f,I],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[p,v]],[/(u304aa)/i],[d,[f,"AT&T"],[p,v]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[p,v]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[p,b]],[/\b(k88) b/i],[d,[f,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[p,v]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[p,v]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[p,b]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[p,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[p,v]],[/\b(ph-1) /i],[d,[f,"Essential"],[p,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[f,d,[p,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,I],[p,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,D],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,D],[p,v]],[/smart-tv.+(samsung)/i],[f,[p,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,B],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[p,w]],[/(apple) ?tv/i],[f,[d,k+" TV"],[p,w]],[/crkey/i],[[d,A+"cast"],[f,P],[p,w]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,x],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,U],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,L],[p,w]],[/(mitv-\w{5}) bui/i],[d,[f,M],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,W],[d,W],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[p,y]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[p,y]],[/(playstation [345portablevi]+)/i],[d,[f,L],[p,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,I],[p,y]],[/((pebble))app/i],[f,d,[p,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,k],[p,S]],[/droid.+; (glass) \d/i],[d,[f,P],[p,S]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,D],[p,S]],[/(quest( \d| pro)?)/i],[d,[f,K],[p,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,_]],[/(aeobc)\b/i],[d,[f,x],[p,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,v]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[m,J,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,J,Y],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,$],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[h,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,q],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,m]]},Q=function(e,t){if(typeof e===l&&(t=e,e=a),!(this instanceof Q))return new Q(e,t).getResult();var r=typeof n!==o&&n.navigator?n.navigator:a,i=e||(r&&r.userAgent?r.userAgent:""),y=r&&r.userAgentData?r.userAgentData:a,w=t?F(X,t):X,S=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[h]=a,t[m]=a,G.call(t,i,w.browser),t[u]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,S&&r&&r.brave&&typeof r.brave.isBrave==s&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,G.call(e,i,w.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[d]=a,e[p]=a,G.call(e,i,w.device),S&&!e[p]&&y&&y.mobile&&(e[p]=v),S&&"Macintosh"==e[d]&&r&&typeof r.standalone!==o&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[h]=a,e[m]=a,G.call(e,i,w.engine),e},this.getOS=function(){var e={};return e[h]=a,e[m]=a,G.call(e,i,w.os),S&&!e[h]&&y&&y.platform&&"Unknown"!=y.platform&&(e[h]=y.platform.replace(/chrome os/i,q).replace(/macos/i,$)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>500?W(e,500):e,this},this.setUA(i),this};Q.VERSION="1.0.38",Q.BROWSER=z([h,m,u]),Q.CPU=z([g]),Q.DEVICE=z([d,f,p,y,v,w,b,S,_]),Q.ENGINE=Q.OS=z([h,m]),typeof t!==o?(e.exports&&(t=e.exports=Q),t.UAParser=Q):r.amdO?a!==(i=(function(){return Q}).call(t,r,t,e))&&(e.exports=i):typeof n!==o&&(n.UAParser=Q);var Z=typeof n!==o&&(n.jQuery||n.Zepto);if(Z&&!Z.ua){var ee=new Q;Z.ua=ee.getResult(),Z.ua.get=function(){return ee.getUA()},Z.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var r in t)Z.ua[r]=t[r]}}}("object"==typeof window?window:this)},33620:(e,t,r)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(3729),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useState,s=i.useEffect,o=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),i=a({inst:{value:r,getSnapshot:t}}),n=i[0].inst,u=i[1];return o(function(){n.value=r,n.getSnapshot=t,c(n)&&u({inst:n})},[e,r,t]),s(function(){return c(n)&&u({inst:n}),e(function(){c(n)&&u({inst:n})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},8145:(e,t,r)=>{"use strict";e.exports=r(33620)},42659:(e,t,r)=>{"use strict";let i=r(46458);i.createWebSocketStream=r(69057),i.Server=r(33054),i.Receiver=r(41250),i.Sender=r(38022),i.WebSocket=i,i.WebSocketServer=i.Server,e.exports=i},14602:(e,t,r)=>{"use strict";let{EMPTY_BUFFER:i}=r(2710),n=Buffer[Symbol.species];function a(e,t,r,i,n){for(let a=0;a<n;a++)r[i+a]=e[a]^t[3&a]}function s(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}if(e.exports={concat:function(e,t){if(0===e.length)return i;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),a=0;for(let t=0;t<e.length;t++){let i=e[t];r.set(i,a),a+=i.length}return a<t?new n(r.buffer,r.byteOffset,a):r},mask:a,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let r;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?r=new n(t):ArrayBuffer.isView(t)?r=new n(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),e.readOnly=!1),r)},unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{let t=r(58359);e.exports.mask=function(e,r,i,n,s){s<48?a(e,r,i,n,s):t.mask(e,r,i,n,s)},e.exports.unmask=function(e,r){e.length<32?s(e,r):t.unmask(e,r)}}catch(e){}},2710:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},24208:(e,t,r)=>{"use strict";let{kForOnEventAttribute:i,kListener:n}=r(2710),a=Symbol("kCode"),s=Symbol("kData"),o=Symbol("kError"),l=Symbol("kMessage"),c=Symbol("kReason"),u=Symbol("kTarget"),d=Symbol("kType"),h=Symbol("kWasClean");class p{constructor(e){this[u]=null,this[d]=e}get target(){return this[u]}get type(){return this[d]}}Object.defineProperty(p.prototype,"target",{enumerable:!0}),Object.defineProperty(p.prototype,"type",{enumerable:!0});class f extends p{constructor(e,t={}){super(e),this[a]=void 0===t.code?0:t.code,this[c]=void 0===t.reason?"":t.reason,this[h]=void 0!==t.wasClean&&t.wasClean}get code(){return this[a]}get reason(){return this[c]}get wasClean(){return this[h]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends p{constructor(e,t={}){super(e),this[o]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[o]}get message(){return this[l]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends p{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}function y(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:f,ErrorEvent:m,Event:p,EventTarget:{addEventListener(e,t,r={}){let a;for(let a of this.listeners(e))if(!r[i]&&a[n]===t&&!a[i])return;if("message"===e)a=function(e,r){let i=new g("message",{data:r?e:e.toString()});i[u]=this,y(t,this,i)};else if("close"===e)a=function(e,r){let i=new f("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});i[u]=this,y(t,this,i)};else if("error"===e)a=function(e){let r=new m("error",{error:e,message:e.message});r[u]=this,y(t,this,r)};else{if("open"!==e)return;a=function(){let e=new p("open");e[u]=this,y(t,this,e)}}a[i]=!!r[i],a[n]=t,r.once?this.once(e,a):this.on(e,a)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[n]===t&&!r[i]){this.removeListener(e,r);break}}},MessageEvent:g}},58581:(e,t,r)=>{"use strict";let{tokenChars:i}=r(98591);function n(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r;let a=Object.create(null),s=Object.create(null),o=!1,l=!1,c=!1,u=-1,d=-1,h=-1,p=0;for(;p<e.length;p++)if(d=e.charCodeAt(p),void 0===t){if(-1===h&&1===i[d])-1===u&&(u=p);else if(0!==p&&(32===d||9===d))-1===h&&-1!==u&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p);let r=e.slice(u,h);44===d?(n(a,r,s),s=Object.create(null)):t=r,u=h=-1}else throw SyntaxError(`Unexpected character at index ${p}`)}else if(void 0===r){if(-1===h&&1===i[d])-1===u&&(u=p);else if(32===d||9===d)-1===h&&-1!==u&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p),n(s,e.slice(u,h),!0),44===d&&(n(a,t,s),s=Object.create(null),t=void 0),u=h=-1}else if(61===d&&-1!==u&&-1===h)r=e.slice(u,p),u=h=-1;else throw SyntaxError(`Unexpected character at index ${p}`)}else if(l){if(1!==i[d])throw SyntaxError(`Unexpected character at index ${p}`);-1===u?u=p:o||(o=!0),l=!1}else if(c){if(1===i[d])-1===u&&(u=p);else if(34===d&&-1!==u)c=!1,h=p;else if(92===d)l=!0;else throw SyntaxError(`Unexpected character at index ${p}`)}else if(34===d&&61===e.charCodeAt(p-1))c=!0;else if(-1===h&&1===i[d])-1===u&&(u=p);else if(-1!==u&&(32===d||9===d))-1===h&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p);let i=e.slice(u,h);o&&(i=i.replace(/\\/g,""),o=!1),n(s,r,i),44===d&&(n(a,t,s),s=Object.create(null),t=void 0),r=void 0,u=h=-1}else throw SyntaxError(`Unexpected character at index ${p}`);if(-1===u||c||32===d||9===d)throw SyntaxError("Unexpected end of input");-1===h&&(h=p);let f=e.slice(u,h);return void 0===t?n(a,f,s):(void 0===r?n(s,f,!0):o?n(s,r,f.replace(/\\/g,"")):n(s,r,f),n(a,t,s)),a}}},44059:e=>{"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class i{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=i},58617:(e,t,r)=>{"use strict";let i;let n=r(59796),a=r(14602),s=r(44059),{kStatusCode:o}=r(2710),l=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");class m{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,i||(i=new s(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){i.add(i=>{this._decompress(e,t,(e,t)=>{i(),r(e,t)})})}compress(e,t,r){i.add(i=>{this._compress(e,t,(e,t)=>{i(),r(e,t)})})}_decompress(e,t,r){let i=this._isServer?"client":"server";if(!this._inflate){let e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",v),this._inflate.on("data",y)}this._inflate[h]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[f];if(e){this._inflate.close(),this._inflate=null,r(e);return}let n=a.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),r(null,n)})}_compress(e,t,r){let i=this._isServer?"server":"client";if(!this._deflate){let e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("data",g)}this._deflate[h]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=a.concat(this._deflate[p],this._deflate[d]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[h]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function g(e){this[p].push(e),this[d]+=e.length}function y(e){if(this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload){this[p].push(e);return}this[f]=RangeError("Max payload size exceeded"),this[f].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[f][o]=1009,this.removeListener("data",y),this.reset()}function v(e){this[u]._inflate=null,e[o]=1007,this[h](e)}e.exports=m},41250:(e,t,r)=>{"use strict";let{Writable:i}=r(12781),n=r(58617),{BINARY_TYPES:a,EMPTY_BUFFER:s,kStatusCode:o,kWebSocket:l}=r(2710),{concat:c,toArrayBuffer:u,unmask:d}=r(14602),{isValidStatusCode:h,isValidUTF8:p}=r(98591),f=Buffer[Symbol.species];class m extends i{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||a[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],i=t.length-e;e>=r.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=new f(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let r=(64&t[0])==64;if(r&&!this._extensions[n.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);if(r>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=4294967296*r+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&d(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[n.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let i;i="nodebuffer"===this._binaryType?c(r,t):"arraybuffer"===this._binaryType?u(c(r,t)):r,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",i,!0),this._state=0,this.startLoop(e)}))}else{let i=c(r,t);if(!this._skipUTF8Validation&&!p(i)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",i,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,s),this.end();else{let r=e.readUInt16BE(0);if(!h(r)){t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let i=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!p(i)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",r,i),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,r,i,n){this._loop=!1,this._errored=!0;let a=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(a,this.createError),a.code=n,a[o]=i,a}}e.exports=m},38022:(e,t,r)=>{"use strict";let{Duplex:i}=r(12781),{randomFillSync:n}=r(6113),a=r(58617),{EMPTY_BUFFER:s}=r(2710),{isValidStatusCode:o}=r(98591),{mask:l,toBuffer:c}=r(14602),u=Symbol("kByteLength"),d=Buffer.alloc(4);class h{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,i;let a=!1,s=2,o=!1;t.mask&&(r=t.maskBuffer||d,t.generateMask?t.generateMask(r):n(r,0,4),o=(r[0]|r[1]|r[2]|r[3])==0,s=6),"string"==typeof e?i=(!t.mask||o)&&void 0!==t[u]?t[u]:(e=Buffer.from(e)).length:(i=e.length,a=t.mask&&t.readOnly&&!o);let c=i;i>=65536?(s+=8,c=127):i>125&&(s+=2,c=126);let h=Buffer.allocUnsafe(a?i+s:s);return(h[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(h[0]|=64),h[1]=c,126===c?h.writeUInt16BE(i,2):127===c&&(h[2]=h[3]=0,h.writeUIntBE(i,4,6)),t.mask)?(h[1]|=128,h[s-4]=r[0],h[s-3]=r[1],h[s-2]=r[2],h[s-1]=r[3],o)?[h,e]:a?(l(e,r,h,s,i),[h]):(l(e,r,e,0,i),[h,e]):[h,e]}close(e,t,r,i){let n;if(void 0===e)n=s;else if("number"==typeof e&&o(e)){if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(n=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?n.write(t,2):n.set(t,2)}else(n=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let a={[u]:n.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,n,!1,a,i]):this.sendFrame(h.frame(n,a),i)}ping(e,t,r){let i,n;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):(i=(e=c(e)).length,n=c.readOnly),i>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[u]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(h.frame(e,a),r)}pong(e,t,r){let i,n;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):(i=(e=c(e)).length,n=c.readOnly),i>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[u]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(h.frame(e,a),r)}send(e,t,r){let i,n;let s=this._extensions[a.extensionName],o=t.binary?2:1,l=t.compress;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):(i=(e=c(e)).length,n=c.readOnly),this._firstFragment?(this._firstFragment=!1,l&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=i>=s._threshold),this._compress=l):(l=!1,o=0),t.fin&&(this._firstFragment=!0),s){let a={[u]:i,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:n,rsv1:l};this._deflating?this.enqueue([this.dispatch,e,this._compress,a,r]):this.dispatch(e,this._compress,a,r)}else this.sendFrame(h.frame(e,{[u]:i,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:n,rsv1:!1}),r)}dispatch(e,t,r,i){if(!t){this.sendFrame(h.frame(e,r),i);return}let n=this._extensions[a.extensionName];this._bufferedBytes+=r[u],this._deflating=!0,n.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof i&&i(e);for(let t=0;t<this._queue.length;t++){let r=this._queue[t],i=r[r.length-1];"function"==typeof i&&i(e)}return}this._bufferedBytes-=r[u],this._deflating=!1,r.readOnly=!1,this.sendFrame(h.frame(t,r),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][u],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][u],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=h},69057:(e,t,r)=>{"use strict";let{Duplex:i}=r(12781);function n(e){e.emit("close")}function a(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,o=new i({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let i=!r&&o._readableState.objectMode?t.toString():t;o.push(i)||e.pause()}),e.once("error",function(e){o.destroyed||(r=!1,o.destroy(e))}),e.once("close",function(){o.destroyed||o.push(null)}),o._destroy=function(t,i){if(e.readyState===e.CLOSED){i(t),process.nextTick(n,o);return}let a=!1;e.once("error",function(e){a=!0,i(e)}),e.once("close",function(){a||i(t),process.nextTick(n,o)}),r&&e.terminate()},o._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){o._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),o._readableState.endEmitted&&o.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},o._read=function(){e.isPaused&&e.resume()},o._write=function(t,r,i){if(e.readyState===e.CONNECTING){e.once("open",function(){o._write(t,r,i)});return}e.send(t,i)},o.on("end",a),o.on("error",s),o}},25626:(e,t,r)=>{"use strict";let{tokenChars:i}=r(98591);e.exports={parse:function(e){let t=new Set,r=-1,n=-1,a=0;for(;a<e.length;a++){let s=e.charCodeAt(a);if(-1===n&&1===i[s])-1===r&&(r=a);else if(0!==a&&(32===s||9===s))-1===n&&-1!==r&&(n=a);else if(44===s){if(-1===r)throw SyntaxError(`Unexpected character at index ${a}`);-1===n&&(n=a);let i=e.slice(r,n);if(t.has(i))throw SyntaxError(`The "${i}" subprotocol is duplicated`);t.add(i),r=n=-1}else throw SyntaxError(`Unexpected character at index ${a}`)}if(-1===r||-1!==n)throw SyntaxError("Unexpected end of input");let s=e.slice(r,a);if(t.has(s))throw SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},98591:(e,t,r)=>{"use strict";let{isUtf8:i}=r(14300);function n(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:n,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},i)e.exports.isValidUTF8=function(e){return e.length<24?n(e):i(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=r(93739);e.exports.isValidUTF8=function(e){return e.length<32?n(e):t(e)}}catch(e){}},33054:(e,t,r)=>{"use strict";let i=r(82361),n=r(13685),{Duplex:a}=r(12781),{createHash:s}=r(6113),o=r(58581),l=r(58617),c=r(25626),u=r(46458),{GUID:d,kWebSocket:h}=r(2710),p=/^[+/0-9A-Za-z]{22}==$/;class f extends i{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=n.createServer((e,t)=>{let r=n.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,i)=>{this.handleUpgrade(t,r,i,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(m,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{m(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,i){t.on("error",g);let n=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if("GET"!==e.method){v(this,e,t,405,"Invalid HTTP method");return}if("websocket"!==e.headers.upgrade.toLowerCase()){v(this,e,t,400,"Invalid Upgrade header");return}if(!n||!p.test(n)){v(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==a&&13!==a){v(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){y(t,400);return}let s=e.headers["sec-websocket-protocol"],u=new Set;if(void 0!==s)try{u=c.parse(s)}catch(r){v(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let d=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&void 0!==d){let r=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=o.parse(d);e[l.extensionName]&&(r.accept(e[l.extensionName]),h[l.extensionName]=r)}catch(r){v(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let s={origin:e.headers[`${8===a?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(s,(a,s,o,l)=>{if(!a)return y(t,s||401,o,l);this.completeUpgrade(h,n,u,e,t,r,i)});return}if(!this.options.verifyClient(s))return y(t,401)}this.completeUpgrade(h,n,u,e,t,r,i)}completeUpgrade(e,t,r,i,n,a,c){if(!n.readable||!n.writable)return n.destroy();if(n[h])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return y(n,503);let u=s("sha1").update(t+d).digest("base64"),p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`],f=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,i):r.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),f._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,r=o.format({[l.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${r}`),f._extensions=e}this.emit("headers",p,i),n.write(p.concat("\r\n").join("\r\n")),n.removeListener("error",g),f.setSocket(n,a,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(f),f.on("close",()=>{this.clients.delete(f),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)})),c(f,i)}}function m(e){e._state=2,e.emit("close")}function g(){this.destroy()}function y(e,t,r,i){r=r||n.STATUS_CODES[t],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${n.STATUS_CODES[t]}\r
`+Object.keys(i).map(e=>`${e}: ${i[e]}`).join("\r\n")+"\r\n\r\n"+r)}function v(e,t,r,i,n){if(e.listenerCount("wsClientError")){let i=Error(n);Error.captureStackTrace(i,v),e.emit("wsClientError",i,r,t)}else y(r,i,n)}e.exports=f},46458:(e,t,r)=>{"use strict";let i=r(82361),n=r(95687),a=r(13685),s=r(41808),o=r(24404),{randomBytes:l,createHash:c}=r(6113),{Duplex:u,Readable:d}=r(12781),{URL:h}=r(57310),p=r(58617),f=r(41250),m=r(38022),{BINARY_TYPES:g,EMPTY_BUFFER:y,GUID:v,kForOnEventAttribute:b,kListener:w,kStatusCode:S,kWebSocket:_,NOOP:x}=r(2710),{EventTarget:{addEventListener:k,removeEventListener:E}}=r(24208),{format:C,parse:R}=r(58581),{toBuffer:A}=r(14602),T=Symbol("kAborted"),P=[8,13],O=["CONNECTING","OPEN","CLOSING","CLOSED"],I=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends i{constructor(e,t,r){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=y,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),function e(t,r,i,s){let o,u,d,f;let m={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:P[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=m.autoPong,!P.includes(m.protocolVersion))throw RangeError(`Unsupported protocol version: ${m.protocolVersion} (supported versions: ${P.join(", ")})`);if(r instanceof h)o=r;else try{o=new h(r)}catch(e){throw SyntaxError(`Invalid URL: ${r}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),t._url=o.href;let g="wss:"===o.protocol,y="ws+unix:"===o.protocol;if("ws:"===o.protocol||g||y?y&&!o.pathname?u="The URL's pathname is empty":o.hash&&(u="The URL contains a fragment identifier"):u='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',u){let e=SyntaxError(u);if(0===t._redirects)throw e;j(t,e);return}let b=g?443:80,w=l(16).toString("base64"),S=g?n.request:a.request,_=new Set;if(m.createConnection=m.createConnection||(g?U:B),m.defaultPort=m.defaultPort||b,m.port=o.port||b,m.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,m.headers={...m.headers,"Sec-WebSocket-Version":m.protocolVersion,"Sec-WebSocket-Key":w,Connection:"Upgrade",Upgrade:"websocket"},m.path=o.pathname+o.search,m.timeout=m.handshakeTimeout,m.perMessageDeflate&&(d=new p(!0!==m.perMessageDeflate?m.perMessageDeflate:{},!1,m.maxPayload),m.headers["Sec-WebSocket-Extensions"]=C({[p.extensionName]:d.offer()})),i.length){for(let e of i){if("string"!=typeof e||!I.test(e)||_.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");_.add(e)}m.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(m.origin&&(m.protocolVersion<13?m.headers["Sec-WebSocket-Origin"]=m.origin:m.headers.Origin=m.origin),(o.username||o.password)&&(m.auth=`${o.username}:${o.password}`),y){let e=m.path.split(":");m.socketPath=e[0],m.path=e[1]}if(m.followRedirects){if(0===t._redirects){t._originalIpc=y,t._originalSecure=g,t._originalHostOrSocketPath=y?m.socketPath:o.host;let e=s&&s.headers;if(s={...s,headers:{}},e)for(let[t,r]of Object.entries(e))s.headers[t.toLowerCase()]=r}else if(0===t.listenerCount("redirect")){let e=y?!!t._originalIpc&&m.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&o.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete m.headers.authorization,delete m.headers.cookie,e||delete m.headers.host,m.auth=void 0)}m.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(m.auth).toString("base64")),f=t._req=S(m),t._redirects&&t.emit("redirect",t.url,f)}else f=t._req=S(m);m.timeout&&f.on("timeout",()=>{L(t,f,"Opening handshake has timed out")}),f.on("error",e=>{null===f||f[T]||(f=t._req=null,j(t,e))}),f.on("response",n=>{let a=n.headers.location,o=n.statusCode;if(a&&m.followRedirects&&o>=300&&o<400){let n;if(++t._redirects>m.maxRedirects){L(t,f,"Maximum redirects exceeded");return}f.abort();try{n=new h(a,r)}catch(e){j(t,SyntaxError(`Invalid URL: ${a}`));return}e(t,n,i,s)}else t.emit("unexpected-response",f,n)||L(t,f,`Unexpected server response: ${n.statusCode}`)}),f.on("upgrade",(e,r,i)=>{let n;if(t.emit("upgrade",e),t.readyState!==N.CONNECTING)return;if(f=t._req=null,"websocket"!==e.headers.upgrade.toLowerCase()){L(t,r,"Invalid Upgrade header");return}let a=c("sha1").update(w+v).digest("base64");if(e.headers["sec-websocket-accept"]!==a){L(t,r,"Invalid Sec-WebSocket-Accept header");return}let s=e.headers["sec-websocket-protocol"];if(void 0!==s?_.size?_.has(s)||(n="Server sent an invalid subprotocol"):n="Server sent a subprotocol but none was requested":_.size&&(n="Server sent no subprotocol"),n){L(t,r,n);return}s&&(t._protocol=s);let o=e.headers["sec-websocket-extensions"];if(void 0!==o){let e;if(!d){L(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=R(o)}catch(e){L(t,r,"Invalid Sec-WebSocket-Extensions header");return}let i=Object.keys(e);if(1!==i.length||i[0]!==p.extensionName){L(t,r,"Server indicated an extension that was not requested");return}try{d.accept(e[p.extensionName])}catch(e){L(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[p.extensionName]=d}t.setSocket(r,i,{allowSynchronousEvents:m.allowSynchronousEvents,generateMask:m.generateMask,maxPayload:m.maxPayload,skipUTF8Validation:m.skipUTF8Validation})}),m.finishRequest?m.finishRequest(f,t):f.end()}(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let i=new f({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new m(e,this._extensions,r.generateMask),this._receiver=i,this._socket=e,i[_]=this,e[_]=this,i.on("conclude",D),i.on("drain",K),i.on("error",q),i.on("message",F),i.on("ping",z),i.on("pong",V),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",W),e.on("data",G),e.on("end",J),e.on("error",Y),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){L(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===N.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||y,t,r)}pong(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||y,t,r)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,r);return}let i={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(i.compress=!1),this._sender.send(e||y,i,r)}terminate(){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){L(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=N.CLOSING,this._socket.destroy())}}}function j(e,t){e._readyState=N.CLOSING,e.emit("error",t),e.emitClose()}function B(e){return e.path=e.socketPath,s.connect(e)}function U(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),o.connect(e)}function L(e,t,r){e._readyState=N.CLOSING;let i=Error(r);Error.captureStackTrace(i,L),t.setHeader?(t[T]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(j,e,i)):(t.destroy(i),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function M(e,t,r){if(t){let r=A(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${O[e.readyState]})`);process.nextTick(r,t)}}function D(e,t){let r=this[_];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[_]&&(r._socket.removeListener("data",G),process.nextTick(H,r._socket),1005===e?r.close():r.close(e,t))}function K(){let e=this[_];e.isPaused||e._socket.resume()}function q(e){let t=this[_];void 0!==t._socket[_]&&(t._socket.removeListener("data",G),process.nextTick(H,t._socket),t.close(e[S])),t.emit("error",e)}function $(){this[_].emitClose()}function F(e,t){this[_].emit("message",e,t)}function z(e){let t=this[_];t._autoPong&&t.pong(e,!this._isServer,x),t.emit("ping",e)}function V(e){this[_].emit("pong",e)}function H(e){e.resume()}function W(){let e;let t=this[_];this.removeListener("close",W),this.removeListener("data",G),this.removeListener("end",J),t._readyState=N.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[_]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",$),t._receiver.on("finish",$))}function G(e){this[_]._receiver.write(e)||this.pause()}function J(){let e=this[_];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function Y(){let e=this[_];this.removeListener("error",Y),this.on("error",x),e&&(e._readyState=N.CLOSING,this.destroy())}Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[b])return t[w];return null},set(t){for(let t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})}),N.prototype.addEventListener=k,N.prototype.removeEventListener=E,e.exports=N},58975:(e,t,r)=>{"use strict";r.d(t,{AuthStatus:()=>eQ,Clerk:()=>tq,constants:()=>es,decodeJwt:()=>td,signedInAuthObject:()=>eL,signedOutAuthObject:()=>eM});var i,n,a=r(27922),s=r(36977),o=r(35813),l=r(83228),c=r(96540),u=r(57164),d=r.n(u),h=r(4089),p=r(97834),f=r.n(p),m=r(80180),g=r.n(m),y=r(42786),v=r(92305),b=class{constructor(e){this.request=e}requireId(e){if(!e)throw Error("A valid resource ID is required.")}},w=RegExp("(?<!:)/{1,}","g");function S(...e){return e.filter(e=>e).join("/").replace(w,"/")}var _="/allowlist_identifiers",x=class extends b{async getAllowlistIdentifierList(){return this.request({method:"GET",path:_})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:_,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:S(_,e)})}},k="/clients",E=class extends b{async getClientList(){return this.request({method:"GET",path:k})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:S(k,e)})}verifyClient(e){return this.request({method:"POST",path:S(k,"verify"),bodyParams:{token:e}})}},C=class extends b{async deleteDomain(e){return this.request({method:"DELETE",path:S("/domains",e)})}},R="/email_addresses",A=class extends b{async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:S(R,e)})}async createEmailAddress(e){return this.request({method:"POST",path:R,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:S(R,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:S(R,e)})}},T=class extends b{async createEmail(e){return(0,a.deprecated)("EmailAPI.createEmail","This endpoint is no longer available and the function will be removed in the next major version."),this.request({method:"POST",path:"/emails",bodyParams:e})}},{isDevOrStagingUrl:P}=((0,c.buildErrorThrower)({packageName:"@clerk/backend"}),(0,l.createDevOrStagingUrlCache)()),O=class extends b{async getInterstitial(){return(0,a.deprecated)("getInterstitial()",'Switch to `Clerk(...).localInterstitial(...)` from `import { Clerk } from "@clerk/backend"`.'),this.request({path:"internal/interstitial",method:"GET",headerParams:{"Content-Type":"text/html"}})}},I="/invitations",N=class extends b{async getInvitationList(e={}){return this.request({method:"GET",path:I,queryParams:e})}async createInvitation(e){return this.request({method:"POST",path:I,bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:S(I,e,"revoke")})}},{RuntimeFetch:j,RuntimeAbortController:B,RuntimeBlob:U,RuntimeFormData:L,RuntimeHeaders:M,RuntimeRequest:D,RuntimeResponse:K}=h,q=j.bind(globalThis),$={crypto:d(),fetch:q,AbortController:B,Blob:U,FormData:L,Headers:M,Request:D,Response:K},F="/organizations",z=class extends b{async getOrganizationList(e){return this.request({method:"GET",path:F,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:F,bodyParams:e})}async getOrganization(e){let t="organizationId"in e?e.organizationId:e.slug;return this.requireId(t),this.request({method:"GET",path:S(F,t)})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:S(F,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let r=new $.FormData;return r.append("file",t?.file),r.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:S(F,e,"logo"),formData:r})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:S(F,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:S(F,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:S(F,e)})}async getOrganizationMembershipList(e){let{organizationId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:S(F,t,"memberships"),queryParams:{limit:r,offset:i}})}async createOrganizationMembership(e){let{organizationId:t,userId:r,role:i}=e;return this.requireId(t),this.request({method:"POST",path:S(F,t,"memberships"),bodyParams:{userId:r,role:i}})}async updateOrganizationMembership(e){let{organizationId:t,userId:r,role:i}=e;return this.requireId(t),this.request({method:"PATCH",path:S(F,t,"memberships",r),bodyParams:{role:i}})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:r,publicMetadata:i,privateMetadata:n}=e;return this.request({method:"PATCH",path:S(F,t,"memberships",r,"metadata"),bodyParams:{publicMetadata:i,privateMetadata:n}})}async deleteOrganizationMembership(e){let{organizationId:t,userId:r}=e;return this.requireId(t),this.request({method:"DELETE",path:S(F,t,"memberships",r)})}async getOrganizationInvitationList(e){let{organizationId:t,status:r,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:S(F,t,"invitations"),queryParams:{status:r,limit:i,offset:n}})}async getPendingOrganizationInvitationList(e){(0,a.deprecated)("getPendingOrganizationInvitationList","Use `getOrganizationInvitationList` instead.");let{organizationId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:S(F,t,"invitations","pending"),queryParams:{limit:r,offset:i}})}async createOrganizationInvitation(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:S(F,t,"invitations"),bodyParams:{...r}})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"GET",path:S(F,t,"invitations",r)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:r,requestingUserId:i}=e;return this.requireId(t),this.request({method:"POST",path:S(F,t,"invitations",r,"revoke"),bodyParams:{requestingUserId:i}})}},V="/phone_numbers",H=class extends b{async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:S(V,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:V,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:S(V,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:S(V,e)})}},W="/redirect_urls",G=class extends b{async getRedirectUrlList(){return this.request({method:"GET",path:W})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:S(W,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:W,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:S(W,e)})}},J="/sessions",Y=class extends b{async getSessionList(e){return this.request({method:"GET",path:J,queryParams:e})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:S(J,e)})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:S(J,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:S(J,e,"verify"),bodyParams:{token:t}})}async getToken(e,t){return this.requireId(e),(await this.request({method:"POST",path:S(J,e,"tokens",t||"")})).jwt}},X="/sign_in_tokens",Q=class extends b{async createSignInToken(e){return this.request({method:"POST",path:X,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:S(X,e,"revoke")})}},Z=class extends b{async createSMSMessage(e){return(0,a.deprecated)("SMSMessageAPI.createSMSMessage","This endpoint is no longer available and the function will be removed in the next major version."),this.request({method:"POST",path:"/sms_messages",bodyParams:e})}},ee="/users",et=class extends b{async getUserList(e={}){return this.request({method:"GET",path:ee,queryParams:e})}async getUser(e){return this.requireId(e),this.request({method:"GET",path:S(ee,e)})}async createUser(e){return this.request({method:"POST",path:ee,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:S(ee,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let r=new $.FormData;return r.append("file",t?.file),this.request({method:"POST",path:S(ee,e,"profile_image"),formData:r})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:S(ee,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:S(ee,e)})}async getCount(e={}){return this.request({method:"GET",path:S(ee,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){return this.requireId(e),this.request({method:"GET",path:S(ee,e,"oauth_access_tokens",t)})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:S(ee,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:S(ee,t,"organization_memberships"),queryParams:{limit:r,offset:i}})}async verifyPassword(e){let{userId:t,password:r}=e;return this.requireId(t),this.request({method:"POST",path:S(ee,t,"verify_password"),bodyParams:{password:r}})}async verifyTOTP(e){let{userId:t,code:r}=e;return this.requireId(t),this.request({method:"POST",path:S(ee,t,"verify_totp"),bodyParams:{code:r}})}},er="https://api.clerk.dev",ei="@clerk/backend@0.38.11",en={AuthToken:"x-clerk-auth-token",AuthStatus:"x-clerk-auth-status",AuthReason:"x-clerk-auth-reason",AuthMessage:"x-clerk-auth-message",EnableDebug:"x-clerk-debug",ClerkRedirectTo:"x-clerk-redirect-to",CloudFrontForwardedProto:"cloudfront-forwarded-proto",Authorization:"authorization",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",ForwardedHost:"x-forwarded-host",Referrer:"referer",UserAgent:"user-agent",Origin:"origin",Host:"host",ContentType:"content-type"},ea={AuthStatus:en.AuthStatus,AuthToken:en.AuthToken},es={Attributes:{AuthToken:"__clerkAuthToken",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage"},Cookies:{Session:"__session",ClientUat:"__client_uat"},Headers:en,SearchParams:ea,ContentTypes:{Json:"application/json"}};function eo(e){if(!e||"string"!=typeof e)throw Error("Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.")}var el=class e{constructor(e,t,r,i,n){this.id=e,this.identifier=t,this.createdAt=r,this.updatedAt=i,this.invitationId=n}static fromJSON(t){return new e(t.id,t.identifier,t.created_at,t.updated_at,t.invitation_id)}},ec=class e{constructor(e,t,r,i,n,a,s,o,l){this.id=e,this.clientId=t,this.userId=r,this.status=i,this.lastActiveAt=n,this.expireAt=a,this.abandonAt=s,this.createdAt=o,this.updatedAt=l}static fromJSON(t){return new e(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at)}},eu=class e{constructor(e,t,r,i,n,a,s,o){this.id=e,this.sessionIds=t,this.sessions=r,this.signInId=i,this.signUpId=n,this.lastActiveSessionId=a,this.createdAt=s,this.updatedAt=o}static fromJSON(t){return new e(t.id,t.session_ids,t.sessions.map(e=>ec.fromJSON(e)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.created_at,t.updated_at)}},ed=class e{constructor(e,t,r,i){this.object=e,this.id=t,this.slug=r,this.deleted=i}static fromJSON(t){return new e(t.object,t.id||null,t.slug||null,t.deleted)}},eh=class e{constructor(e,t,r,i,n,a,s,o,l,c,u){this.id=e,this.fromEmailName=t,this.emailAddressId=r,this.toEmailAddress=i,this.subject=n,this.body=a,this.bodyPlain=s,this.status=o,this.slug=l,this.data=c,this.deliveredByClerk=u}static fromJSON(t){return new e(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},ep=class e{constructor(e,t){this.id=e,this.type=t}static fromJSON(t){return new e(t.id,t.type)}},ef=class e{constructor(e,t,r=null,i=null,n=null,a=null){this.status=e,this.strategy=t,this.externalVerificationRedirectURL=r,this.attempts=i,this.expireAt=n,this.nonce=a}static fromJSON(t){return new e(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},em=class e{constructor(e,t,r,i){this.id=e,this.emailAddress=t,this.verification=r,this.linkedTo=i}static fromJSON(t){return new e(t.id,t.email_address,t.verification&&ef.fromJSON(t.verification),t.linked_to.map(e=>ep.fromJSON(e)))}},eg=class e{constructor(e,t,r,i,n,a,s,o,l,c,u,d={},h,p){this.id=e,this.provider=t,this.identificationId=r,this.externalId=i,this.approvedScopes=n,this.emailAddress=a,this.firstName=s,this.lastName=o,this.picture=l,this.imageUrl=c,this.username=u,this.publicMetadata=d,this.label=h,this.verification=p}static fromJSON(t){return new e(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.avatar_url,t.image_url,t.username,t.public_metadata,t.label,t.verification&&ef.fromJSON(t.verification))}};(0,a.deprecatedProperty)(eg,"picture","Use `imageUrl` instead.");var ey=class e{constructor(e,t,r,i,n,a,s){this.id=e,this.emailAddress=t,this.publicMetadata=r,this.createdAt=i,this.updatedAt=n,this.status=a,this.revoked=s}static fromJSON(t){return new e(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.revoked)}},ev=((i=ev||{}).AllowlistIdentifier="allowlist_identifier",i.Client="client",i.Email="email",i.EmailAddress="email_address",i.ExternalAccount="external_account",i.FacebookAccount="facebook_account",i.GoogleAccount="google_account",i.Invitation="invitation",i.OauthAccessToken="oauth_access_token",i.Organization="organization",i.OrganizationInvitation="organization_invitation",i.OrganizationMembership="organization_membership",i.PhoneNumber="phone_number",i.RedirectUrl="redirect_url",i.Session="session",i.SignInAttempt="sign_in_attempt",i.SignInToken="sign_in_token",i.SignUpAttempt="sign_up_attempt",i.SmsMessage="sms_message",i.User="user",i.Web3Wallet="web3_wallet",i.Token="token",i.TotalCount="total_count",i),eb=class e{constructor(e,t,r={},i,n,a){this.provider=e,this.token=t,this.publicMetadata=r,this.label=i,this.scopes=n,this.tokenSecret=a}static fromJSON(t){return new e(t.provider,t.token,t.public_metadata,t.label,t.scopes,t.token_secret)}},ew=class e{constructor(e,t,r,i,n,a,s,o,l,c={},u={},d,h,p,f){this.id=e,this.name=t,this.slug=r,this.logoUrl=i,this.imageUrl=n,this.hasImage=a,this.createdBy=s,this.createdAt=o,this.updatedAt=l,this.publicMetadata=c,this.privateMetadata=u,this.maxAllowedMemberships=d,this.adminDeleteEnabled=h,this.members_count=p,this.membersCount=f}static fromJSON(t){return new e(t.id,t.name,t.slug,t.logo_url,t.image_url,t.has_image,t.created_by,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count,t.members_count)}};(0,a.deprecatedProperty)(ew,"logoUrl","Use `imageUrl` instead."),(0,a.deprecatedProperty)(ew,"members_count","Use `membersCount` instead.");var eS=class e{constructor(e,t,r,i,n,a,s,o={},l={}){this.id=e,this.emailAddress=t,this.role=r,this.organizationId=i,this.createdAt=n,this.updatedAt=a,this.status=s,this.publicMetadata=o,this.privateMetadata=l}static fromJSON(t){return new e(t.id,t.email_address,t.role,t.organization_id,t.created_at,t.updated_at,t.status,t.public_metadata,t.private_metadata)}},e_=class e{constructor(e,t,r={},i={},n,a,s,o){this.id=e,this.role=t,this.publicMetadata=r,this.privateMetadata=i,this.createdAt=n,this.updatedAt=a,this.organization=s,this.publicUserData=o}static fromJSON(t){return new e(t.id,t.role,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,ew.fromJSON(t.organization),ex.fromJSON(t.public_user_data))}},ex=class e{constructor(e,t,r,i,n,a,s){this.identifier=e,this.firstName=t,this.lastName=r,this.profileImageUrl=i,this.imageUrl=n,this.hasImage=a,this.userId=s}static fromJSON(t){return new e(t.identifier,t.first_name,t.last_name,t.profile_image_url,t.image_url,t.has_image,t.user_id)}};(0,a.deprecatedProperty)(ex,"profileImageUrl","Use `imageUrl` instead.");var ek=class e{constructor(e,t,r,i,n,a){this.id=e,this.phoneNumber=t,this.reservedForSecondFactor=r,this.defaultSecondFactor=i,this.verification=n,this.linkedTo=a}static fromJSON(t){return new e(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&ef.fromJSON(t.verification),t.linked_to.map(e=>ep.fromJSON(e)))}},eE=class e{constructor(e,t,r,i){this.id=e,this.url=t,this.createdAt=r,this.updatedAt=i}static fromJSON(t){return new e(t.id,t.url,t.created_at,t.updated_at)}},eC=class e{constructor(e,t,r,i,n,a,s){this.id=e,this.userId=t,this.token=r,this.status=i,this.url=n,this.createdAt=a,this.updatedAt=s}static fromJSON(t){return new e(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},eR=class e{constructor(e,t,r,i,n,a,s){this.id=e,this.fromPhoneNumber=t,this.toPhoneNumber=r,this.message=i,this.status=n,this.phoneNumberId=a,this.data=s}static fromJSON(t){return new e(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},eA=class e{constructor(e){this.jwt=e}static fromJSON(t){return new e(t.jwt)}},eT=class e{constructor(e,t,r){this.id=e,this.web3Wallet=t,this.verification=r}static fromJSON(t){return new e(t.id,t.web3_wallet,t.verification&&ef.fromJSON(t.verification))}},eP=class e{constructor(e,t,r,i,n,a,s,o,l,c,u,d,h,p,f,m,g,y,v,b,w,S={},_={},x={},k=[],E=[],C=[],R=[],A){this.id=e,this.passwordEnabled=t,this.totpEnabled=r,this.backupCodeEnabled=i,this.twoFactorEnabled=n,this.banned=a,this.createdAt=s,this.updatedAt=o,this.profileImageUrl=l,this.imageUrl=c,this.hasImage=u,this.gender=d,this.birthday=h,this.primaryEmailAddressId=p,this.primaryPhoneNumberId=f,this.primaryWeb3WalletId=m,this.lastSignInAt=g,this.externalId=y,this.username=v,this.firstName=b,this.lastName=w,this.publicMetadata=S,this.privateMetadata=_,this.unsafeMetadata=x,this.emailAddresses=k,this.phoneNumbers=E,this.web3Wallets=C,this.externalAccounts=R,this.createOrganizationEnabled=A}static fromJSON(t){return new e(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.created_at,t.updated_at,t.profile_image_url,t.image_url,t.has_image,t.gender,t.birthday,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(e=>em.fromJSON(e)),(t.phone_numbers||[]).map(e=>ek.fromJSON(e)),(t.web3_wallets||[]).map(e=>eT.fromJSON(e)),(t.external_accounts||[]).map(e=>eg.fromJSON(e)),t.create_organization_enabled)}};function eO(e){if("string"!=typeof e&&"object"in e&&"deleted"in e)return ed.fromJSON(e);switch(e.object){case"allowlist_identifier":return el.fromJSON(e);case"client":return eu.fromJSON(e);case"email_address":return em.fromJSON(e);case"email":return eh.fromJSON(e);case"invitation":return ey.fromJSON(e);case"oauth_access_token":return eb.fromJSON(e);case"organization":return ew.fromJSON(e);case"organization_invitation":return eS.fromJSON(e);case"organization_membership":return e_.fromJSON(e);case"phone_number":return ek.fromJSON(e);case"redirect_url":return eE.fromJSON(e);case"sign_in_token":return eC.fromJSON(e);case"session":return ec.fromJSON(e);case"sms_message":return eR.fromJSON(e);case"token":return eA.fromJSON(e);case"total_count":return e.total_count;case"user":return eP.fromJSON(e);default:return e}}(0,a.deprecatedProperty)(eP,"profileImageUrl","Use `imageUrl` instead.");var eI=e=>async(...t)=>{let r=await e(...t);if(null===r.errors)return r.data;{let{errors:e,clerkTraceId:t}=r,{status:i,statusText:n}=r,a=new c.ClerkAPIResponseError(n||"",{data:[],status:i||"",clerkTraceId:t});throw a.errors=e,a}};function eN(e,t){return e&&"object"==typeof e&&"clerk_trace_id"in e&&"string"==typeof e.clerk_trace_id?e.clerk_trace_id:t?.get("cf-ray")||""}function ej(e){return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:e?.meta?.param_name,sessionId:e?.meta?.session_id}}}function eB(e){let t=eI(async t=>{let r;let{apiKey:i,secretKey:n,httpOptions:s,apiUrl:o=er,apiVersion:l="v1",userAgent:c=ei}=e;i&&(0,a.deprecated)("apiKey","Use `secretKey` instead."),s&&(0,a.deprecated)("httpOptions","This option has been deprecated and will be removed with the next major release.\nA RequestInit init object used by the `request` method.");let{path:u,method:d,queryParams:h,headerParams:p,bodyParams:m,formData:y}=t,v=n||i;eo(v);let b=S(o,l,u),w=new URL(b);if(h)for(let[e,t]of Object.entries(g()({...h})))t&&[t].flat().forEach(t=>w.searchParams.append(e,t));let _={Authorization:`Bearer ${v}`,"User-Agent":c,...p};try{if(y)r=await $.fetch(w.href,{...s,method:d,headers:_,body:y});else{_["Content-Type"]="application/json";let e="GET"!==d&&m&&Object.keys(m).length>0?{body:JSON.stringify(g()(m,{deep:!1}))}:null;r=await $.fetch(w.href,f()(s||{},{method:d,headers:_,...e}))}let e=r?.headers&&r.headers?.get(es.Headers.ContentType)===es.ContentTypes.Json,t=await (e?r.json():r.text());if(!r.ok)throw t;return{data:Array.isArray(t)?t.map(e=>eO(e)):Array.isArray(t.data)&&void 0!==t.data?t.data.map(e=>eO(e)):eO(t),errors:null}}catch(e){if(e instanceof Error)return{data:null,errors:[{code:"unexpected_error",message:e.message||"Unexpected error"}],clerkTraceId:eN(e,r?.headers)};return{data:null,errors:function(e){if(e&&"object"==typeof e&&"errors"in e){let t=e.errors;return t.length>0?t.map(ej):[]}return[]}(e),status:r?.status,statusText:r?.statusText,clerkTraceId:eN(e,r?.headers)}}});return{allowlistIdentifiers:new x(t),clients:new E(t),emailAddresses:new A(t),emails:new T(t),interstitial:new O(t),invitations:new N(t),organizations:new z(t),phoneNumbers:new H(t),redirectUrls:new G(t),sessions:new Y(t),signInTokens:new Q(t),smsMessages:new Z(t),users:new et(t),domains:new C(t)}}var eU=e=>()=>{let t={...e};return t.apiKey=(t.apiKey||"").substring(0,7),t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}};function eL(e,t,r){let{act:i,sid:n,org_id:s,org_role:o,org_slug:l,org_permissions:c,sub:u}=e,{apiKey:d,secretKey:h,apiUrl:p,apiVersion:f,token:m,session:g,user:y,organization:v}=t;d&&(0,a.deprecated)("apiKey","Use `secretKey` instead.");let{sessions:b}=eB({apiKey:d,secretKey:h,apiUrl:p,apiVersion:f}),w=eD({sessionId:n,sessionToken:m,fetcher:(...e)=>b.getToken(...e)});return{actor:i,sessionClaims:e,sessionId:n,session:g,userId:u,user:y,orgId:s,orgRole:o,orgSlug:l,orgPermissions:c,organization:v,getToken:w,has:eK({orgId:s,orgRole:o,orgPermissions:c,userId:u}),debug:eU({...t,...r})}}function eM(e){return e?.apiKey&&(0,a.deprecated)("apiKey","Use `secretKey` instead."),{sessionClaims:null,sessionId:null,session:null,userId:null,user:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,organization:null,getToken:()=>Promise.resolve(null),has:()=>!1,debug:eU(e)}}var eD=e=>{let{fetcher:t,sessionToken:r,sessionId:i}=e||{};return async(e={})=>i?e.template?t(i,e.template):r:null},eK=({orgId:e,orgRole:t,userId:r,orgPermissions:i})=>n=>{if(!n?.permission&&!n?.role)throw Error('Missing parameters. `has` from `auth` or `getAuth` requires a permission or role key to be passed. Example usage: `has({permission: "org:posts:edit"`');return!!e&&!!r&&!!t&&!!i&&(n.permission?i.includes(n.permission):!!n.role&&t===n.role)},eq=class e extends Error{constructor({action:t,message:r,reason:i}){super(r),Object.setPrototypeOf(this,e.prototype),this.reason=i,this.message=r,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(e=>e).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}};async function e$(e){e.frontendApi&&(0,a.deprecated)("frontendApi","Use `publishableKey` instead."),e.pkgVersion&&(0,a.deprecated)("pkgVersion","Use `clerkJSVersion` instead."),e.frontendApi=l.parsePublishableKey(e.publishableKey)?.frontendApi||e.frontendApi||"";let t=eF(e),r=await (0,o.callWithRetry)(()=>$.fetch(eF(e),{method:"GET",headers:{"Clerk-Backend-SDK":e.userAgent||ei}}));if(!r.ok)throw new eq({action:"Contact support@clerk.com",message:`Error loading Clerk Interstitial from ${t} with code=${r.status}`,reason:"interstitial-remote-failed-to-load"});return r.text()}function eF(e){e.frontendApi&&(0,a.deprecated)("frontendApi","Use `publishableKey` instead."),e.frontendApi=l.parsePublishableKey(e.publishableKey)?.frontendApi||e.frontendApi||"";let{apiUrl:t,frontendApi:r,pkgVersion:i,clerkJSVersion:n,publishableKey:o,proxyUrl:c,isSatellite:u,domain:d,signInUrl:h}=e,p=new URL(t);return p.pathname=S(p.pathname,"v1","/public/interstitial"),p.searchParams.append("clerk_js_version",n||(0,s.getClerkJsMajorVersionOrTag)(r,i)),o?p.searchParams.append("publishable_key",o):p.searchParams.append("frontend_api",r),c&&p.searchParams.append("proxy_url",c),u&&p.searchParams.append("is_satellite","true"),p.searchParams.append("sign_in_url",h||""),P(e.frontendApi)||p.searchParams.append("use_domain_for_script","true"),d&&p.searchParams.append("domain",d),p.href}var ez=e=>e?.split(",")[0],eV=({protocol:e,forwardedProto:t,forwardedHost:r,host:i})=>{let n=ez(r)??i,a=ez(t)??e?.replace(/[:/]/,"");return n&&a?`${a}://${n}`:""},eH=e=>e?{cookies:eG(e),headers:eJ(e),searchParams:eY(e)}:{},eW=e=>e?e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):e,eG=e=>{let t=e.headers&&e.headers?.get("cookie")?(0,y.parse)(e.headers.get("cookie")):{};return e=>{let r=t?.[e];if(void 0!==r)return eW(r)}},eJ=e=>t=>e?.headers?.get(t)||void 0,eY=e=>e?.url?new URL(e.url)?.searchParams:void 0,eX=e=>e?.replace("Bearer ",""),eQ=((n=eQ||{}).SignedIn="signed-in",n.SignedOut="signed-out",n.Interstitial="interstitial",n.Unknown="unknown",n);async function eZ(e,t){let{apiKey:r,secretKey:i,apiUrl:n,apiVersion:a,cookieToken:s,frontendApi:o,proxyUrl:l,publishableKey:c,domain:u,isSatellite:d,headerToken:h,loadSession:p,loadUser:f,loadOrganization:m,signInUrl:g,signUpUrl:y,afterSignInUrl:v,afterSignUpUrl:b,token:w}=e,{sid:S,org_id:_,sub:x}=t,{sessions:k,users:E,organizations:C}=eB({apiKey:r,secretKey:i,apiUrl:n,apiVersion:a}),[R,A,T]=await Promise.all([p?k.getSession(S):Promise.resolve(void 0),f?E.getUser(x):Promise.resolve(void 0),m&&_?C.getOrganization({organizationId:_}):Promise.resolve(void 0)]),P=eL(t,{secretKey:i,apiKey:r,apiUrl:n,apiVersion:a,token:s||h||"",session:R,user:A,organization:T},{...e,status:"signed-in"});return{status:"signed-in",reason:null,message:null,frontendApi:o,proxyUrl:l,publishableKey:c,domain:u,isSatellite:d,signInUrl:g,signUpUrl:y,afterSignInUrl:v,afterSignUpUrl:b,isSignedIn:!0,isInterstitial:!1,isUnknown:!1,toAuth:()=>P,token:w}}function e0(e,t,r=""){let{frontendApi:i,publishableKey:n,proxyUrl:a,isSatellite:s,domain:o,signInUrl:l,signUpUrl:c,afterSignInUrl:u,afterSignUpUrl:d}=e;return{status:"signed-out",reason:t,message:r,frontendApi:i,proxyUrl:a,publishableKey:n,isSatellite:s,domain:o,signInUrl:l,signUpUrl:c,afterSignInUrl:u,afterSignUpUrl:d,isSignedIn:!1,isInterstitial:!1,isUnknown:!1,toAuth:()=>eM({...e,status:"signed-out",reason:t,message:r}),token:null}}function e1(e,t,r=""){let{frontendApi:i,publishableKey:n,proxyUrl:a,isSatellite:s,domain:o,signInUrl:l,signUpUrl:c,afterSignInUrl:u,afterSignUpUrl:d}=e;return{status:"interstitial",reason:t,message:r,frontendApi:i,publishableKey:n,isSatellite:s,domain:o,proxyUrl:a,signInUrl:l,signUpUrl:c,afterSignInUrl:u,afterSignUpUrl:d,isSignedIn:!1,isInterstitial:!0,isUnknown:!1,toAuth:()=>null,token:null}}function e2({originURL:e,host:t,forwardedHost:r,forwardedProto:i}){let n=eV({forwardedProto:i,forwardedHost:r,protocol:e.protocol,host:t});return n&&new URL(n).origin!==e.origin}var e3=(e,t)=>e?e.find(e=>e.code===t):null,e8={parse:(e,t)=>(function(e,t,r={}){if(!t.codes){t.codes={};for(let e=0;e<t.chars.length;++e)t.codes[t.chars[e]]=e}if(!r.loose&&e.length*t.bits&7)throw SyntaxError("Invalid padding");let i=e.length;for(;"="===e[i-1];)if(--i,!r.loose&&!((e.length-i)*t.bits&7))throw SyntaxError("Invalid padding");let n=new(r.out??Uint8Array)(i*t.bits/8|0),a=0,s=0,o=0;for(let r=0;r<i;++r){let i=t.codes[e[r]];if(void 0===i)throw SyntaxError("Invalid character "+e[r]);s=s<<t.bits|i,(a+=t.bits)>=8&&(a-=8,n[o++]=255&s>>a)}if(a>=t.bits||255&s<<8-a)throw SyntaxError("Unexpected end of data");return n})(e,e4,t),stringify:(e,t)=>(function(e,t,r={}){let{pad:i=!0}=r,n=(1<<t.bits)-1,a="",s=0,o=0;for(let r=0;r<e.length;++r)for(o=o<<8|255&e[r],s+=8;s>t.bits;)s-=t.bits,a+=t.chars[n&o>>s];if(s&&(a+=t.chars[n&o<<t.bits-s]),i)for(;a.length*t.bits&7;)a+="=";return a})(e,e4,t)},e4={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},e6={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},e5="RSASSA-PKCS1-v1_5",e7={RS256:e5,RS384:e5,RS512:e5},e9=Object.keys(e6),te=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"string"==typeof e),tt=(e,t)=>{let r=[t].flat().filter(e=>!!e),i=[e].flat().filter(e=>!!e);if(r.length>0&&i.length>0){if("string"==typeof e){if(!r.includes(e))throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}else if(te(e)&&!e.some(e=>r.includes(e)))throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}},tr=e=>{if(void 0!==e&&"JWT"!==e)throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid",message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},ti=e=>{if(!e9.includes(e))throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid-algorithm",message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${e9}.`})},tn=e=>{if("string"!=typeof e)throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},ta=(e,t)=>{if(e&&t&&0!==t.length&&!t.includes(e))throw new eq({reason:"token-invalid-authorized-parties",message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},ts=(e,t)=>{if("function"!=typeof t||t(e)){if("string"==typeof t&&e&&e!==t)throw new eq({reason:"token-invalid-issuer",message:`Invalid JWT issuer claim (iss) ${JSON.stringify(e)}. Expected "${t}".`})}else throw new eq({reason:"token-invalid-issuer",message:"Failed JWT issuer resolver. Make sure that the resolver returns a truthy value."})},to=(e,t)=>{if("number"!=typeof e)throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()<=r.getTime()-t)throw new eq({reason:"token-expired",message:`JWT is expired. Expiry date: ${i.toUTCString()}, Current date: ${r.toUTCString()}.`})},tl=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()>r.getTime()+t)throw new eq({reason:"token-not-active-yet",message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${i.toUTCString()}; Current date: ${r.toUTCString()};`})},tc=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()>r.getTime()+t)throw new eq({reason:"token-not-active-yet",message:`JWT issued at date claim (iat) is in the future. Issued at date: ${i.toUTCString()}; Current date: ${r.toUTCString()};`})};async function tu(e,t){let{header:r,signature:i,raw:n}=e,a=new TextEncoder().encode([n.header,n.payload].join(".")),s=function(e){let t=e6[e],r=e7[e];if(!t||!r)throw Error(`Unsupported algorithm ${e}, expected one of ${e9.join(",")}.`);return{hash:{name:e6[e]},name:e7[e]}}(r.alg),o=await function(e,t,r){if("object"==typeof e)return $.crypto.subtle.importKey("jwk",e,t,!1,[r]);let i=function(e){let t=e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,""),r=(0,v.isomorphicAtob)(t),i=new ArrayBuffer(r.length),n=new Uint8Array(i);for(let e=0,t=r.length;e<t;e++)n[e]=r.charCodeAt(e);return n}(e),n="sign"===r?"pkcs8":"spki";return $.crypto.subtle.importKey(n,i,t,!1,[r])}(t,s,"verify");return $.crypto.subtle.verify(s.name,o,i,a)}function td(e){let t=(e||"").toString().split(".");if(3!==t.length)throw new eq({reason:"token-invalid",message:"Invalid JWT form. A JWT consists of three parts separated by dots."});let[r,i,n]=t,s=new TextDecoder,o=JSON.parse(s.decode(e8.parse(r,{loose:!0}))),l=JSON.parse(s.decode(e8.parse(i,{loose:!0}))),c=e8.parse(n,{loose:!0});return(0,a.deprecatedObjectProperty)(l,"orgs",'Add orgs to your session token using the "user.organizations" shortcode in JWT Templates instead.',"decodeJwt:orgs"),{header:o,payload:l,signature:c,raw:{header:r,payload:i,signature:n,text:e}}}async function th(e,{audience:t,authorizedParties:r,clockSkewInSeconds:i,clockSkewInMs:n,issuer:s,key:o}){let l;i&&(0,a.deprecated)("clockSkewInSeconds","Use `clockSkewInMs` instead.");let c=n||i||5e3,u=td(e),{header:d,payload:h}=u,{typ:p,alg:f}=d;tr(p),ti(f);let{azp:m,sub:g,aud:y,iss:v,iat:b,exp:w,nbf:S}=h;tn(g),tt([y],[t]),ta(m,r),ts(v,s),to(w,c),tl(S,c),tc(b,c);try{l=await tu(u,o)}catch(e){throw new eq({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Error verifying JWT signature. ${e}`})}if(!l)throw new eq({reason:"token-invalid-signature",message:"JWT signature is invalid."});return h}var tp={},tf=0;function tm(e,t=36e5){tp[e.kid]=e,tf=Date.now(),t>=0&&setTimeout(()=>{e?delete tp[e.kid]:tp={}},t)}var tg="local";async function ty({apiKey:e,secretKey:t,apiUrl:r=er,apiVersion:i="v1",issuer:n,kid:a,jwksCacheTtlInMs:s=36e5,skipJwksCache:l}){let c=!tp[a]&&Date.now()-tf>=3e5;if(l||c){let a;let l=t||e;if(l)a=()=>tb(r,l,i);else if(n)a=()=>tv(n);else throw new eq({action:"Contact support@clerk.com",message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:"jwk-remote-failed-to-load"});let{keys:c}=await (0,o.callWithRetry)(a);if(!c||!c.length)throw new eq({action:"Contact support@clerk.com",message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:"jwk-remote-failed-to-load"});c.forEach(e=>tm(e,s))}let u=tp[a];if(!u){let e=Object.values(tp).map(e=>e.kid).join(", ");throw new eq({action:"Contact support@clerk.com",message:`Unable to find a signing key in JWKS that matches the kid='${a}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT.${e?` The following kid are available: ${e}`:""}`,reason:"jwk-remote-missing"})}return u}async function tv(e){let t=new URL(e);t.pathname=S(t.pathname,".well-known/jwks.json");let r=await $.fetch(t.href);if(!r.ok)throw new eq({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${t.href} with code=${r.status}`,reason:"jwk-remote-failed-to-load"});return r.json()}async function tb(e,t,r){if(!t)throw new eq({action:"Set the CLERK_SECRET_KEY or CLERK_API_KEY environment variable.",message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:"jwk-remote-failed-to-load"});let i=new URL(e);i.pathname=S(i.pathname,r,"/jwks");let n=await $.fetch(i.href,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok){let e=await n.json(),t=e3(e?.errors,"clerk_key_invalid");if(t)throw new eq({action:"Contact support@clerk.com",message:t.message,reason:"secret-key-invalid"});throw new eq({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${i.href} with code=${n.status}`,reason:"jwk-remote-failed-to-load"})}return n.json()}async function tw(e,t){let r;let{apiKey:i,secretKey:n,apiUrl:s,apiVersion:o,audience:l,authorizedParties:c,clockSkewInSeconds:u,clockSkewInMs:d,issuer:h,jwksCacheTtlInMs:p,jwtKey:f,skipJwksCache:m}=t;t.apiKey&&(0,a.deprecated)("apiKey","Use `secretKey` instead.");let{header:g}=td(e),{kid:y}=g;if(f)r=function(e){if(!tp[tg]){if(!e)throw new eq({action:"Set the CLERK_JWT_KEY environment variable.",message:"Missing local JWK.",reason:"jwk-local-missing"});tm({kid:"local",kty:"RSA",alg:"RS256",n:e.replace(/(\r\n|\n|\r)/gm,"").replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA","").replace("IDAQAB","").replace(/\+/g,"-").replace(/\//g,"_"),e:"AQAB"},-1)}return tp[tg]}(f);else if("string"==typeof h)r=await ty({issuer:h,kid:y,jwksCacheTtlInMs:p,skipJwksCache:m});else if(i||n)r=await ty({apiKey:i,secretKey:n,apiUrl:s,apiVersion:o,kid:y,jwksCacheTtlInMs:p,skipJwksCache:m});else throw new eq({action:"Set the CLERK_JWT_KEY environment variable.",message:"Failed to resolve JWK during verification.",reason:"jwk-failed-to-resolve"});return await th(e,{audience:l,authorizedParties:c,clockSkewInSeconds:u,clockSkewInMs:d,key:r,issuer:h})}var tS=e=>!!e?.get("__clerk_satellite_url"),t_=e=>e?.get("__clerk_synced")==="true",tx=/^Mozilla\/|(Amazon CloudFront)/,tk=e=>tx.test(e||""),tE=e=>{let{apiKey:t,secretKey:r,userAgent:i}=e;if((0,l.isDevelopmentFromApiKey)(r||t||"")&&!tk(i))return e0(e,"header-missing-non-browser")},tC=e=>{let{origin:t,host:r,forwardedHost:i,forwardedProto:n}=e;if(t&&e2({originURL:new URL(t),host:r,forwardedHost:i,forwardedProto:n}))return e0(e,"header-missing-cors")},tR=e=>{let{apiKey:t,secretKey:r,isSatellite:i,searchParams:n}=e;if((0,l.isDevelopmentFromApiKey)(r||t||"")&&!i&&tS(n))return e1(e,"primary-responds-to-syncing")},tA=e=>{let{apiKey:t,secretKey:r,clientUat:i}=e;if((0,l.isDevelopmentFromApiKey)(r||t||"")&&!i)return e1(e,"uat-missing")},tT=e=>{let{apiKey:t,secretKey:r,referrer:i,host:n,forwardedHost:a,forwardedProto:s}=e,o=i&&e2({originURL:new URL(i),host:n,forwardedHost:a,forwardedProto:s});if((0,l.isDevelopmentFromApiKey)(r||t||"")&&o)return e1(e,"cross-origin-referrer")},tP=e=>{let{apiKey:t,secretKey:r,clientUat:i,cookieToken:n}=e;if((0,l.isProductionFromApiKey)(r||t||"")&&!i&&!n)return e0(e,"cookie-and-uat-missing")},tO=e=>{let{clientUat:t}=e;if("0"===t)return e0(e,"standard-signed-out")},tI=e=>{let{clientUat:t,cookieToken:r}=e;if(t&&Number.parseInt(t)>0&&!r)return e1(e,"cookie-missing")},tN=async e=>{let{headerToken:t}=e,r=await tU(e,t);return await eZ({...e,token:t},r)},tj=async e=>{let{cookieToken:t,clientUat:r}=e,i=await tU(e,t),n=await eZ({...e,token:t},i),a=n.toAuth().sessionClaims.iat<Number.parseInt(r);return!r||a?e1(e,"cookie-outdated"):n};async function tB(e,t){for(let r of t){let t=await r(e);if(t)return t}return e0(e,"unexpected-error")}async function tU(e,t){let{isSatellite:r,proxyUrl:i}=e;return tw(t,{...e,issuer:r?null:i||(e=>e.startsWith("https://clerk.")||e.includes(".clerk.accounts"))})}var tL=e=>{let{clientUat:t,isSatellite:r,searchParams:i,userAgent:n}=e,a=!t||"0"===t;return r&&a&&!tk(n)?e0(e,"satellite-needs-syncing"):r&&a&&!t_(i)?e1(e,"satellite-needs-syncing"):void 0};async function tM(e){let{cookies:t,headers:r,searchParams:i}=eH(e?.request);async function n(){try{return await tB(e,[tN])}catch(e){return o(e,"header")}}async function s(){try{return await tB(e,[tC,tE,tL,tR,tP,tA,tT,tI,tO,tj])}catch(e){return o(e,"cookie")}}function o(t,r){return t instanceof eq?(t.tokenCarrier=r,["token-expired","token-not-active-yet"].includes(t.reason))?"header"===r?function(e,t,r=""){let{frontendApi:i,publishableKey:n,isSatellite:a,domain:s,signInUrl:o,signUpUrl:l,afterSignInUrl:c,afterSignUpUrl:u}=e;return{status:"unknown",reason:t,message:r,frontendApi:i,publishableKey:n,isSatellite:a,domain:s,signInUrl:o,signUpUrl:l,afterSignInUrl:c,afterSignUpUrl:u,isSignedIn:!1,isInterstitial:!1,isUnknown:!0,toAuth:()=>null,token:null}}(e,t.reason,t.getFullMessage()):e1(e,t.reason,t.getFullMessage()):e0(e,t.reason,t.getFullMessage()):e0(e,"unexpected-error",t.message)}return(e.frontendApi&&(0,a.deprecated)("frontendApi","Use `publishableKey` instead."),e.apiKey&&(0,a.deprecated)("apiKey","Use `secretKey` instead."),eo((e={...e,...tK(e,r),frontendApi:l.parsePublishableKey(e.publishableKey)?.frontendApi||e.frontendApi,apiUrl:e.apiUrl||er,apiVersion:e.apiVersion||"v1",cookieToken:e.cookieToken||t?.(es.Cookies.Session),clientUat:e.clientUat||t?.(es.Cookies.ClientUat),searchParams:e.searchParams||i||void 0}).secretKey||e.apiKey),e.isSatellite&&(function(e,t){if(!e&&(0,l.isDevelopmentFromApiKey)(t))throw Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}(e.signInUrl,e.secretKey||e.apiKey),e.signInUrl&&e.origin&&function(e,t){let r;try{r=new URL(e)}catch{throw Error("The signInUrl needs to have a absolute url format.")}if(r.origin===t)throw Error("The signInUrl needs to be on a different origin than your satellite application.")}(e.signInUrl,e.origin),function(e){if(!e)throw Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}(e.proxyUrl||e.domain)),e.headerToken)?n():s()}var tD=e=>{let{frontendApi:t,isSignedIn:r,proxyUrl:i,isInterstitial:n,reason:a,message:s,publishableKey:o,isSatellite:l,domain:c}=e;return{frontendApi:t,isSignedIn:r,proxyUrl:i,isInterstitial:n,reason:a,message:s,publishableKey:o,isSatellite:l,domain:c}},tK=(e,t)=>t?{headerToken:eX(e.headerToken||t(es.Headers.Authorization)),origin:e.origin||t(es.Headers.Origin),host:e.host||t(es.Headers.Host),forwardedHost:e.forwardedHost||t(es.Headers.ForwardedHost),forwardedPort:e.forwardedPort||t(es.Headers.ForwardedPort),forwardedProto:e.forwardedProto||t(es.Headers.CloudFrontForwardedProto)||t(es.Headers.ForwardedProto),referrer:e.referrer||t(es.Headers.Referrer),userAgent:e.userAgent||t(es.Headers.UserAgent)}:{};function tq(e){let t={...e},r=eB(t),i=function(e){let{apiClient:t}=e,{apiKey:r="",secretKey:i="",jwtKey:n="",apiUrl:o=er,apiVersion:c="v1",frontendApi:u="",proxyUrl:d="",publishableKey:h="",isSatellite:p=!1,domain:f="",audience:m="",userAgent:g}=e.options;return{authenticateRequest:({apiKey:e,secretKey:t,audience:a,frontendApi:s,proxyUrl:l,publishableKey:g,jwtKey:y,isSatellite:v,domain:b,searchParams:w,...S})=>tM({...S,apiKey:e||r,secretKey:t||i,audience:a||m,apiUrl:o,apiVersion:c,frontendApi:s||u,proxyUrl:l||d,publishableKey:g||h,isSatellite:v||p,domain:b||f,jwtKey:y||n,searchParams:w}),localInterstitial:({frontendApi:e,publishableKey:t,proxyUrl:r,isSatellite:i,domain:n,...o})=>(function(e){e.frontendApi&&(0,a.deprecated)("frontendApi","Use `publishableKey` instead."),e.pkgVersion&&(0,a.deprecated)("pkgVersion","Use `clerkJSVersion` instead."),e.frontendApi=l.parsePublishableKey(e.publishableKey)?.frontendApi||e.frontendApi||"";let t=P(e.frontendApi)?"":(0,s.addClerkPrefix)(e.domain),{debugData:r,frontendApi:i,pkgVersion:n,clerkJSUrl:o,clerkJSVersion:c,publishableKey:u,proxyUrl:d,isSatellite:h=!1,domain:p,signInUrl:f}=e;return`
    <head>
        <meta charset="UTF-8" />
        <style>
          @media (prefers-color-scheme: dark) {
            body {
              background-color: black;
            }
          }
        </style>
    </head>
    <body>
        <script>
            window.__clerk_frontend_api = '${i}';
            window.__clerk_debug = ${JSON.stringify(r||{})};
            ${d?`window.__clerk_proxy_url = '${d}'`:""}
            ${p?`window.__clerk_domain = '${p}'`:""}
            window.startClerk = async () => {
                function formRedirect(){
                    const form = '<form method="get" action="" name="redirect"></form>';
                    document.body.innerHTML = document.body.innerHTML + form;

                    const searchParams = new URLSearchParams(window.location.search);
                    for (let paramTuple of searchParams) {
                        const input = document.createElement("input");
                        input.type = "hidden";
                        input.name = paramTuple[0];
                        input.value = paramTuple[1];
                        document.forms.redirect.appendChild(input);
                    }
                    const url = new URL(window.location.origin + window.location.pathname + window.location.hash);
                    window.history.pushState({}, '', url);

                    document.forms.redirect.action = window.location.pathname + window.location.hash;
                    document.forms.redirect.submit();
                }

                const Clerk = window.Clerk;
                try {
                    await Clerk.load({
                        isSatellite: ${h},
                        isInterstitial: true,
                        signInUrl: ${f?`'${f}'`:void 0}
                    });
                    if(Clerk.loaded){
                      if(window.location.href.indexOf("#") === -1){
                        window.location.href = window.location.href;
                      } else if (window.navigator.userAgent.toLowerCase().includes("firefox/")){
                          formRedirect();
                      } else {
                          window.location.reload();
                      }
                    }
                } catch (err) {
                    console.error('Clerk: ', err);
                }
            };
            (() => {
                const script = document.createElement('script');
                ${u?`script.setAttribute('data-clerk-publishable-key', '${u}');`:`script.setAttribute('data-clerk-frontend-api', '${i}');`}

                ${p?`script.setAttribute('data-clerk-domain', '${p}');`:""}
                ${d?`script.setAttribute('data-clerk-proxy-url', '${d}')`:""};
                script.async = true;
                script.src = '${o||(0,s.getScriptUrl)(d||t||i,{pkgVersion:n,clerkJSVersion:c})}';
                script.crossOrigin = 'anonymous';
                script.addEventListener('load', startClerk);
                document.body.appendChild(script);
            })();
        </script>
    </body>
`})({...o,frontendApi:e||u,proxyUrl:r||d,publishableKey:t||h,isSatellite:i||p,domain:n||f}),remotePublicInterstitial:({frontendApi:e,publishableKey:t,proxyUrl:r,isSatellite:i,domain:n,userAgent:a,...s})=>e$({...s,apiUrl:o,frontendApi:e||u,publishableKey:t||h,proxyUrl:r||d,isSatellite:i||p,domain:n||f,userAgent:a||g}),remotePrivateInterstitial:()=>t.interstitial.getInterstitial(),remotePublicInterstitialUrl:eF,debugRequestState:tD}}({options:t,apiClient:r}),n={...r,...i,__unstable_options:t};return(0,a.deprecatedObjectProperty)(n,"__unstable_options","Use `createClerkClient({...})` to create a new clerk instance instead."),n}},9474:(e,t,r)=>{"use strict";r.d(t,{tD:()=>te,gq:()=>t1,oF:()=>e2,_G:()=>ep,XL:()=>tX,t5:()=>tx,z3:()=>eG,uX:()=>t0,aR:()=>eW,B9:()=>ez,JH:()=>eV});var i,n,a=r(83614),s=(e,t)=>!t&&function(e){return e.endsWith(".lclstage.dev")||e.endsWith(".stgstage.dev")||e.endsWith(".clerkstage.dev")||e.endsWith(".accountsstage.dev")}(e)?"canary":t&&t.split(".")[0]||"latest",o=(e,{pkgVersion:t="4.71.2",clerkJSVersion:r})=>{let i=e.replace(/http(s)?:\/\//,""),n=s(e,t);return`https://${i}/npm/@clerk/clerk-js@${r||n}/dist/clerk.browser.js`};async function l(e,t=1,r=5){try{return await e()}catch(n){var i;if(t>=r)throw n;return await (i=2**t*100,new Promise(e=>setTimeout(e,i))),l(e,t+1,r)}}r(9124);var c=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e,u="pk_live_";function d(e){if(!function(e){let t=(e=e||"").startsWith(u)||e.startsWith("pk_test_"),r=c(e.split("_")[2]||"").endsWith("$");return t&&r}(e=e||""))return null;let t=e.startsWith(u)?"production":"development",r=c(e.split("_")[2]);return r.endsWith("$")?{instanceType:t,frontendApi:r=r.slice(0,-1)}:null}function h(e){return e.startsWith("test_")||e.startsWith("sk_test_")}var p=r(94127);function f(e){var t,r,i,n,a;return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:null==(t=null==e?void 0:e.meta)?void 0:t.param_name,sessionId:null==(r=null==e?void 0:e.meta)?void 0:r.session_id,emailAddresses:null==(i=null==e?void 0:e.meta)?void 0:i.email_addresses,identifiers:null==(n=null==e?void 0:e.meta)?void 0:n.identifiers,zxcvbn:null==(a=null==e?void 0:e.meta)?void 0:a.zxcvbn}}}var m=class e extends Error{constructor(t,{data:r,status:i,clerkTraceId:n}){super(t),this.toString=()=>{let e=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(e=>JSON.stringify(e))}`;return this.clerkTraceId&&(e+=`
Clerk Trace ID: ${this.clerkTraceId}`),e},Object.setPrototypeOf(this,e.prototype),this.status=i,this.message=t,this.clerkTraceId=n,this.clerkError=!0,this.errors=function(e=[]){return e.length>0?e.map(f):[]}(r)}};new Proxy({Expired:"expired",Failed:"failed"},{get:(e,t,r)=>((0,p.x9)("MagicLinkErrorCode","Use `EmailLinkErrorCode` instead."),Reflect.get(e,t,r))});var g=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."}),y=r(52743),v=r.n(y),b=r(27988),w=r(14438),S=r.n(w),_=r(78591),x=r.n(_),k=r(83191),E=class{constructor(e){this.request=e}requireId(e){if(!e)throw Error("A valid resource ID is required.")}},C=RegExp("(?<!:)/{1,}","g");function R(...e){return e.filter(e=>e).join("/").replace(C,"/")}var A="/allowlist_identifiers",T=class extends E{async getAllowlistIdentifierList(){return this.request({method:"GET",path:A})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:A,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:R(A,e)})}},P="/clients",O=class extends E{async getClientList(){return this.request({method:"GET",path:P})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:R(P,e)})}verifyClient(e){return this.request({method:"POST",path:R(P,"verify"),bodyParams:{token:e}})}},I=class extends E{async deleteDomain(e){return this.request({method:"DELETE",path:R("/domains",e)})}},N="/email_addresses",j=class extends E{async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:R(N,e)})}async createEmailAddress(e){return this.request({method:"POST",path:N,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:R(N,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:R(N,e)})}},B=class extends E{async createEmail(e){return(0,a.x9)("EmailAPI.createEmail","This endpoint is no longer available and the function will be removed in the next major version."),this.request({method:"POST",path:"/emails",bodyParams:e})}},U=function({packageName:e,customMessages:t}){let r=e,i={...g,...t};function n(e,t){if(!t)return`${r}: ${e}`;let i=e;for(let r of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[r[1]]||"").toString();i=i.replace(`{{${r[1]}}}`,e)}return`${r}: ${i}`}return{setPackageName({packageName:e}){return"string"==typeof e&&(r=e),this},setMessages({customMessages:e}){return Object.assign(i,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(n(i.InvalidPublishableKeyErrorMessage,e))},throwInvalidFrontendApiError(e){throw Error(n(i.InvalidFrontendApiErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(n(i.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(n(i.MissingPublishableKeyErrorMessage))}}}({packageName:"@clerk/backend"}),{isDevOrStagingUrl:L}=function(){let e=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],t=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;let i="string"==typeof r?r:r.hostname,n=t.get(i);return void 0===n&&(n=e.some(e=>i.endsWith(e)),t.set(i,n)),n}}}(),M=class extends E{async getInterstitial(){return(0,a.x9)("getInterstitial()",'Switch to `Clerk(...).localInterstitial(...)` from `import { Clerk } from "@clerk/backend"`.'),this.request({path:"internal/interstitial",method:"GET",headerParams:{"Content-Type":"text/html"}})}},D="/invitations",K=class extends E{async getInvitationList(e={}){return this.request({method:"GET",path:D,queryParams:e})}async createInvitation(e){return this.request({method:"POST",path:D,bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:R(D,e,"revoke")})}},{RuntimeFetch:q,RuntimeAbortController:$,RuntimeBlob:F,RuntimeFormData:z,RuntimeHeaders:V,RuntimeRequest:H,RuntimeResponse:W}=b,G=q.bind(globalThis),J={crypto:v(),fetch:G,AbortController:$,Blob:F,FormData:z,Headers:V,Request:H,Response:W},Y="/organizations",X=class extends E{async getOrganizationList(e){return this.request({method:"GET",path:Y,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:Y,bodyParams:e})}async getOrganization(e){let t="organizationId"in e?e.organizationId:e.slug;return this.requireId(t),this.request({method:"GET",path:R(Y,t)})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:R(Y,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let r=new J.FormData;return r.append("file",t?.file),r.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:R(Y,e,"logo"),formData:r})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:R(Y,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:R(Y,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:R(Y,e)})}async getOrganizationMembershipList(e){let{organizationId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:R(Y,t,"memberships"),queryParams:{limit:r,offset:i}})}async createOrganizationMembership(e){let{organizationId:t,userId:r,role:i}=e;return this.requireId(t),this.request({method:"POST",path:R(Y,t,"memberships"),bodyParams:{userId:r,role:i}})}async updateOrganizationMembership(e){let{organizationId:t,userId:r,role:i}=e;return this.requireId(t),this.request({method:"PATCH",path:R(Y,t,"memberships",r),bodyParams:{role:i}})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:r,publicMetadata:i,privateMetadata:n}=e;return this.request({method:"PATCH",path:R(Y,t,"memberships",r,"metadata"),bodyParams:{publicMetadata:i,privateMetadata:n}})}async deleteOrganizationMembership(e){let{organizationId:t,userId:r}=e;return this.requireId(t),this.request({method:"DELETE",path:R(Y,t,"memberships",r)})}async getOrganizationInvitationList(e){let{organizationId:t,status:r,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:R(Y,t,"invitations"),queryParams:{status:r,limit:i,offset:n}})}async getPendingOrganizationInvitationList(e){(0,a.x9)("getPendingOrganizationInvitationList","Use `getOrganizationInvitationList` instead.");let{organizationId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:R(Y,t,"invitations","pending"),queryParams:{limit:r,offset:i}})}async createOrganizationInvitation(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:R(Y,t,"invitations"),bodyParams:{...r}})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"GET",path:R(Y,t,"invitations",r)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:r,requestingUserId:i}=e;return this.requireId(t),this.request({method:"POST",path:R(Y,t,"invitations",r,"revoke"),bodyParams:{requestingUserId:i}})}},Q="/phone_numbers",Z=class extends E{async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:R(Q,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:Q,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:R(Q,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:R(Q,e)})}},ee="/redirect_urls",et=class extends E{async getRedirectUrlList(){return this.request({method:"GET",path:ee})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:R(ee,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:ee,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:R(ee,e)})}},er="/sessions",ei=class extends E{async getSessionList(e){return this.request({method:"GET",path:er,queryParams:e})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:R(er,e)})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:R(er,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:R(er,e,"verify"),bodyParams:{token:t}})}async getToken(e,t){return this.requireId(e),(await this.request({method:"POST",path:R(er,e,"tokens",t||"")})).jwt}},en="/sign_in_tokens",ea=class extends E{async createSignInToken(e){return this.request({method:"POST",path:en,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:R(en,e,"revoke")})}},es=class extends E{async createSMSMessage(e){return(0,a.x9)("SMSMessageAPI.createSMSMessage","This endpoint is no longer available and the function will be removed in the next major version."),this.request({method:"POST",path:"/sms_messages",bodyParams:e})}},eo="/users",el=class extends E{async getUserList(e={}){return this.request({method:"GET",path:eo,queryParams:e})}async getUser(e){return this.requireId(e),this.request({method:"GET",path:R(eo,e)})}async createUser(e){return this.request({method:"POST",path:eo,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:R(eo,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let r=new J.FormData;return r.append("file",t?.file),this.request({method:"POST",path:R(eo,e,"profile_image"),formData:r})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:R(eo,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:R(eo,e)})}async getCount(e={}){return this.request({method:"GET",path:R(eo,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){return this.requireId(e),this.request({method:"GET",path:R(eo,e,"oauth_access_tokens",t)})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:R(eo,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:R(eo,t,"organization_memberships"),queryParams:{limit:r,offset:i}})}async verifyPassword(e){let{userId:t,password:r}=e;return this.requireId(t),this.request({method:"POST",path:R(eo,t,"verify_password"),bodyParams:{password:r}})}async verifyTOTP(e){let{userId:t,code:r}=e;return this.requireId(t),this.request({method:"POST",path:R(eo,t,"verify_totp"),bodyParams:{code:r}})}},ec="https://api.clerk.dev",eu="@clerk/backend@0.38.11",ed={AuthToken:"x-clerk-auth-token",AuthStatus:"x-clerk-auth-status",AuthReason:"x-clerk-auth-reason",AuthMessage:"x-clerk-auth-message",EnableDebug:"x-clerk-debug",ClerkRedirectTo:"x-clerk-redirect-to",CloudFrontForwardedProto:"cloudfront-forwarded-proto",Authorization:"authorization",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",ForwardedHost:"x-forwarded-host",Referrer:"referer",UserAgent:"user-agent",Origin:"origin",Host:"host",ContentType:"content-type"},eh={AuthStatus:ed.AuthStatus,AuthToken:ed.AuthToken},ep={Attributes:{AuthToken:"__clerkAuthToken",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage"},Cookies:{Session:"__session",ClientUat:"__client_uat"},Headers:ed,SearchParams:eh,ContentTypes:{Json:"application/json"}};function ef(e){if(!e||"string"!=typeof e)throw Error("Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.")}var em=class e{constructor(e,t,r,i,n){this.id=e,this.identifier=t,this.createdAt=r,this.updatedAt=i,this.invitationId=n}static fromJSON(t){return new e(t.id,t.identifier,t.created_at,t.updated_at,t.invitation_id)}},eg=class e{constructor(e,t,r,i,n,a,s,o,l){this.id=e,this.clientId=t,this.userId=r,this.status=i,this.lastActiveAt=n,this.expireAt=a,this.abandonAt=s,this.createdAt=o,this.updatedAt=l}static fromJSON(t){return new e(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at)}},ey=class e{constructor(e,t,r,i,n,a,s,o){this.id=e,this.sessionIds=t,this.sessions=r,this.signInId=i,this.signUpId=n,this.lastActiveSessionId=a,this.createdAt=s,this.updatedAt=o}static fromJSON(t){return new e(t.id,t.session_ids,t.sessions.map(e=>eg.fromJSON(e)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.created_at,t.updated_at)}},ev=class e{constructor(e,t,r,i){this.object=e,this.id=t,this.slug=r,this.deleted=i}static fromJSON(t){return new e(t.object,t.id||null,t.slug||null,t.deleted)}},eb=class e{constructor(e,t,r,i,n,a,s,o,l,c,u){this.id=e,this.fromEmailName=t,this.emailAddressId=r,this.toEmailAddress=i,this.subject=n,this.body=a,this.bodyPlain=s,this.status=o,this.slug=l,this.data=c,this.deliveredByClerk=u}static fromJSON(t){return new e(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},ew=class e{constructor(e,t){this.id=e,this.type=t}static fromJSON(t){return new e(t.id,t.type)}},eS=class e{constructor(e,t,r=null,i=null,n=null,a=null){this.status=e,this.strategy=t,this.externalVerificationRedirectURL=r,this.attempts=i,this.expireAt=n,this.nonce=a}static fromJSON(t){return new e(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},e_=class e{constructor(e,t,r,i){this.id=e,this.emailAddress=t,this.verification=r,this.linkedTo=i}static fromJSON(t){return new e(t.id,t.email_address,t.verification&&eS.fromJSON(t.verification),t.linked_to.map(e=>ew.fromJSON(e)))}},ex=class e{constructor(e,t,r,i,n,a,s,o,l,c,u,d={},h,p){this.id=e,this.provider=t,this.identificationId=r,this.externalId=i,this.approvedScopes=n,this.emailAddress=a,this.firstName=s,this.lastName=o,this.picture=l,this.imageUrl=c,this.username=u,this.publicMetadata=d,this.label=h,this.verification=p}static fromJSON(t){return new e(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.avatar_url,t.image_url,t.username,t.public_metadata,t.label,t.verification&&eS.fromJSON(t.verification))}};(0,a.Mr)(ex,"picture","Use `imageUrl` instead.");var ek=class e{constructor(e,t,r,i,n,a,s){this.id=e,this.emailAddress=t,this.publicMetadata=r,this.createdAt=i,this.updatedAt=n,this.status=a,this.revoked=s}static fromJSON(t){return new e(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.revoked)}},eE=((i=eE||{}).AllowlistIdentifier="allowlist_identifier",i.Client="client",i.Email="email",i.EmailAddress="email_address",i.ExternalAccount="external_account",i.FacebookAccount="facebook_account",i.GoogleAccount="google_account",i.Invitation="invitation",i.OauthAccessToken="oauth_access_token",i.Organization="organization",i.OrganizationInvitation="organization_invitation",i.OrganizationMembership="organization_membership",i.PhoneNumber="phone_number",i.RedirectUrl="redirect_url",i.Session="session",i.SignInAttempt="sign_in_attempt",i.SignInToken="sign_in_token",i.SignUpAttempt="sign_up_attempt",i.SmsMessage="sms_message",i.User="user",i.Web3Wallet="web3_wallet",i.Token="token",i.TotalCount="total_count",i),eC=class e{constructor(e,t,r={},i,n,a){this.provider=e,this.token=t,this.publicMetadata=r,this.label=i,this.scopes=n,this.tokenSecret=a}static fromJSON(t){return new e(t.provider,t.token,t.public_metadata,t.label,t.scopes,t.token_secret)}},eR=class e{constructor(e,t,r,i,n,a,s,o,l,c={},u={},d,h,p,f){this.id=e,this.name=t,this.slug=r,this.logoUrl=i,this.imageUrl=n,this.hasImage=a,this.createdBy=s,this.createdAt=o,this.updatedAt=l,this.publicMetadata=c,this.privateMetadata=u,this.maxAllowedMemberships=d,this.adminDeleteEnabled=h,this.members_count=p,this.membersCount=f}static fromJSON(t){return new e(t.id,t.name,t.slug,t.logo_url,t.image_url,t.has_image,t.created_by,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count,t.members_count)}};(0,a.Mr)(eR,"logoUrl","Use `imageUrl` instead."),(0,a.Mr)(eR,"members_count","Use `membersCount` instead.");var eA=class e{constructor(e,t,r,i,n,a,s,o={},l={}){this.id=e,this.emailAddress=t,this.role=r,this.organizationId=i,this.createdAt=n,this.updatedAt=a,this.status=s,this.publicMetadata=o,this.privateMetadata=l}static fromJSON(t){return new e(t.id,t.email_address,t.role,t.organization_id,t.created_at,t.updated_at,t.status,t.public_metadata,t.private_metadata)}},eT=class e{constructor(e,t,r={},i={},n,a,s,o){this.id=e,this.role=t,this.publicMetadata=r,this.privateMetadata=i,this.createdAt=n,this.updatedAt=a,this.organization=s,this.publicUserData=o}static fromJSON(t){return new e(t.id,t.role,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,eR.fromJSON(t.organization),eP.fromJSON(t.public_user_data))}},eP=class e{constructor(e,t,r,i,n,a,s){this.identifier=e,this.firstName=t,this.lastName=r,this.profileImageUrl=i,this.imageUrl=n,this.hasImage=a,this.userId=s}static fromJSON(t){return new e(t.identifier,t.first_name,t.last_name,t.profile_image_url,t.image_url,t.has_image,t.user_id)}};(0,a.Mr)(eP,"profileImageUrl","Use `imageUrl` instead.");var eO=class e{constructor(e,t,r,i,n,a){this.id=e,this.phoneNumber=t,this.reservedForSecondFactor=r,this.defaultSecondFactor=i,this.verification=n,this.linkedTo=a}static fromJSON(t){return new e(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&eS.fromJSON(t.verification),t.linked_to.map(e=>ew.fromJSON(e)))}},eI=class e{constructor(e,t,r,i){this.id=e,this.url=t,this.createdAt=r,this.updatedAt=i}static fromJSON(t){return new e(t.id,t.url,t.created_at,t.updated_at)}},eN=class e{constructor(e,t,r,i,n,a,s){this.id=e,this.userId=t,this.token=r,this.status=i,this.url=n,this.createdAt=a,this.updatedAt=s}static fromJSON(t){return new e(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},ej=class e{constructor(e,t,r,i,n,a,s){this.id=e,this.fromPhoneNumber=t,this.toPhoneNumber=r,this.message=i,this.status=n,this.phoneNumberId=a,this.data=s}static fromJSON(t){return new e(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},eB=class e{constructor(e){this.jwt=e}static fromJSON(t){return new e(t.jwt)}},eU=class e{constructor(e,t,r){this.id=e,this.web3Wallet=t,this.verification=r}static fromJSON(t){return new e(t.id,t.web3_wallet,t.verification&&eS.fromJSON(t.verification))}},eL=class e{constructor(e,t,r,i,n,a,s,o,l,c,u,d,h,p,f,m,g,y,v,b,w,S={},_={},x={},k=[],E=[],C=[],R=[],A){this.id=e,this.passwordEnabled=t,this.totpEnabled=r,this.backupCodeEnabled=i,this.twoFactorEnabled=n,this.banned=a,this.createdAt=s,this.updatedAt=o,this.profileImageUrl=l,this.imageUrl=c,this.hasImage=u,this.gender=d,this.birthday=h,this.primaryEmailAddressId=p,this.primaryPhoneNumberId=f,this.primaryWeb3WalletId=m,this.lastSignInAt=g,this.externalId=y,this.username=v,this.firstName=b,this.lastName=w,this.publicMetadata=S,this.privateMetadata=_,this.unsafeMetadata=x,this.emailAddresses=k,this.phoneNumbers=E,this.web3Wallets=C,this.externalAccounts=R,this.createOrganizationEnabled=A}static fromJSON(t){return new e(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.created_at,t.updated_at,t.profile_image_url,t.image_url,t.has_image,t.gender,t.birthday,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(e=>e_.fromJSON(e)),(t.phone_numbers||[]).map(e=>eO.fromJSON(e)),(t.web3_wallets||[]).map(e=>eU.fromJSON(e)),(t.external_accounts||[]).map(e=>ex.fromJSON(e)),t.create_organization_enabled)}};function eM(e){if("string"!=typeof e&&"object"in e&&"deleted"in e)return ev.fromJSON(e);switch(e.object){case"allowlist_identifier":return em.fromJSON(e);case"client":return ey.fromJSON(e);case"email_address":return e_.fromJSON(e);case"email":return eb.fromJSON(e);case"invitation":return ek.fromJSON(e);case"oauth_access_token":return eC.fromJSON(e);case"organization":return eR.fromJSON(e);case"organization_invitation":return eA.fromJSON(e);case"organization_membership":return eT.fromJSON(e);case"phone_number":return eO.fromJSON(e);case"redirect_url":return eI.fromJSON(e);case"sign_in_token":return eN.fromJSON(e);case"session":return eg.fromJSON(e);case"sms_message":return ej.fromJSON(e);case"token":return eB.fromJSON(e);case"total_count":return e.total_count;case"user":return eL.fromJSON(e);default:return e}}(0,a.Mr)(eL,"profileImageUrl","Use `imageUrl` instead.");var eD=e=>async(...t)=>{let r=await e(...t);if(null===r.errors)return r.data;{let{errors:e,clerkTraceId:t}=r,{status:i,statusText:n}=r,a=new m(n||"",{data:[],status:i||"",clerkTraceId:t});throw a.errors=e,a}};function eK(e,t){return e&&"object"==typeof e&&"clerk_trace_id"in e&&"string"==typeof e.clerk_trace_id?e.clerk_trace_id:t?.get("cf-ray")||""}function eq(e){return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:e?.meta?.param_name,sessionId:e?.meta?.session_id}}}function e$(e){let t=eD(async t=>{let r;let{apiKey:i,secretKey:n,httpOptions:s,apiUrl:o=ec,apiVersion:l="v1",userAgent:c=eu}=e;i&&(0,a.x9)("apiKey","Use `secretKey` instead."),s&&(0,a.x9)("httpOptions","This option has been deprecated and will be removed with the next major release.\nA RequestInit init object used by the `request` method.");let{path:u,method:d,queryParams:h,headerParams:p,bodyParams:f,formData:m}=t,g=n||i;ef(g);let y=R(o,l,u),v=new URL(y);if(h)for(let[e,t]of Object.entries(x()({...h})))t&&[t].flat().forEach(t=>v.searchParams.append(e,t));let b={Authorization:`Bearer ${g}`,"User-Agent":c,...p};try{if(m)r=await J.fetch(v.href,{...s,method:d,headers:b,body:m});else{b["Content-Type"]="application/json";let e="GET"!==d&&f&&Object.keys(f).length>0?{body:JSON.stringify(x()(f,{deep:!1}))}:null;r=await J.fetch(v.href,S()(s||{},{method:d,headers:b,...e}))}let e=r?.headers&&r.headers?.get(ep.Headers.ContentType)===ep.ContentTypes.Json,t=await (e?r.json():r.text());if(!r.ok)throw t;return{data:Array.isArray(t)?t.map(e=>eM(e)):Array.isArray(t.data)&&void 0!==t.data?t.data.map(e=>eM(e)):eM(t),errors:null}}catch(e){if(e instanceof Error)return{data:null,errors:[{code:"unexpected_error",message:e.message||"Unexpected error"}],clerkTraceId:eK(e,r?.headers)};return{data:null,errors:function(e){if(e&&"object"==typeof e&&"errors"in e){let t=e.errors;return t.length>0?t.map(eq):[]}return[]}(e),status:r?.status,statusText:r?.statusText,clerkTraceId:eK(e,r?.headers)}}});return{allowlistIdentifiers:new T(t),clients:new O(t),emailAddresses:new j(t),emails:new B(t),interstitial:new M(t),invitations:new K(t),organizations:new X(t),phoneNumbers:new Z(t),redirectUrls:new et(t),sessions:new ei(t),signInTokens:new ea(t),smsMessages:new es(t),users:new el(t),domains:new I(t)}}var eF=e=>()=>{let t={...e};return t.apiKey=(t.apiKey||"").substring(0,7),t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}};function ez(e,t,r){let{act:i,sid:n,org_id:s,org_role:o,org_slug:l,org_permissions:c,sub:u}=e,{apiKey:d,secretKey:h,apiUrl:p,apiVersion:f,token:m,session:g,user:y,organization:v}=t;d&&(0,a.x9)("apiKey","Use `secretKey` instead.");let{sessions:b}=e$({apiKey:d,secretKey:h,apiUrl:p,apiVersion:f}),w=eJ({sessionId:n,sessionToken:m,fetcher:(...e)=>b.getToken(...e)});return{actor:i,sessionClaims:e,sessionId:n,session:g,userId:u,user:y,orgId:s,orgRole:o,orgSlug:l,orgPermissions:c,organization:v,getToken:w,has:eY({orgId:s,orgRole:o,orgPermissions:c,userId:u}),debug:eF({...t,...r})}}function eV(e){return e?.apiKey&&(0,a.x9)("apiKey","Use `secretKey` instead."),{sessionClaims:null,sessionId:null,session:null,userId:null,user:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,organization:null,getToken:()=>Promise.resolve(null),has:()=>!1,debug:eF(e)}}function eH(e){return e&&(delete e.privateMetadata,delete e.private_metadata),e}function eW(e){let t=e.user?{...e.user}:e.user,r=e.organization?{...e.organization}:e.organization;return eH(t),eH(r),{...e,user:t,organization:r}}var eG=e=>{let{debug:t,getToken:r,has:i,...n}=e;return n},eJ=e=>{let{fetcher:t,sessionToken:r,sessionId:i}=e||{};return async(e={})=>i?e.template?t(i,e.template):r:null},eY=({orgId:e,orgRole:t,userId:r,orgPermissions:i})=>n=>{if(!n?.permission&&!n?.role)throw Error('Missing parameters. `has` from `auth` or `getAuth` requires a permission or role key to be passed. Example usage: `has({permission: "org:posts:edit"`');return!!e&&!!r&&!!t&&!!i&&(n.permission?i.includes(n.permission):!!n.role&&t===n.role)},eX=class e extends Error{constructor({action:t,message:r,reason:i}){super(r),Object.setPrototypeOf(this,e.prototype),this.reason=i,this.message=r,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(e=>e).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}};async function eQ(e){e.frontendApi&&(0,a.x9)("frontendApi","Use `publishableKey` instead."),e.pkgVersion&&(0,a.x9)("pkgVersion","Use `clerkJSVersion` instead."),e.frontendApi=d(e.publishableKey)?.frontendApi||e.frontendApi||"";let t=eZ(e),r=await l(()=>J.fetch(eZ(e),{method:"GET",headers:{"Clerk-Backend-SDK":e.userAgent||eu}}));if(!r.ok)throw new eX({action:"Contact support@clerk.com",message:`Error loading Clerk Interstitial from ${t} with code=${r.status}`,reason:"interstitial-remote-failed-to-load"});return r.text()}function eZ(e){e.frontendApi&&(0,a.x9)("frontendApi","Use `publishableKey` instead."),e.frontendApi=d(e.publishableKey)?.frontendApi||e.frontendApi||"";let{apiUrl:t,frontendApi:r,pkgVersion:i,clerkJSVersion:n,publishableKey:o,proxyUrl:l,isSatellite:c,domain:u,signInUrl:h}=e,p=new URL(t);return p.pathname=R(p.pathname,"v1","/public/interstitial"),p.searchParams.append("clerk_js_version",n||s(r,i)),o?p.searchParams.append("publishable_key",o):p.searchParams.append("frontend_api",r),l&&p.searchParams.append("proxy_url",l),c&&p.searchParams.append("is_satellite","true"),p.searchParams.append("sign_in_url",h||""),L(e.frontendApi)||p.searchParams.append("use_domain_for_script","true"),u&&p.searchParams.append("domain",u),p.href}var e0=(e,t)=>e.headers.get(t),e1=e=>e?.split(",")[0],e2=(e,t)=>{let r=new URL(e.url),i=e0(e,ep.Headers.ForwardedProto),n=e0(e,ep.Headers.ForwardedHost),a=e0(e,ep.Headers.Host),s=e3({protocol:r.protocol,forwardedProto:i,forwardedHost:n,host:a||r.host});return new URL(t||r.pathname,s)},e3=({protocol:e,forwardedProto:t,forwardedHost:r,host:i})=>{let n=e1(r)??i,a=e1(t)??e?.replace(/[:/]/,"");return n&&a?`${a}://${n}`:""},e8=e=>e?{cookies:e6(e),headers:e5(e),searchParams:e7(e)}:{},e4=e=>e?e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):e,e6=e=>{let t=e.headers&&e.headers?.get("cookie")?(0,k.Q)(e.headers.get("cookie")):{};return e=>{let r=t?.[e];if(void 0!==r)return e4(r)}},e5=e=>t=>e?.headers?.get(t)||void 0,e7=e=>e?.url?new URL(e.url)?.searchParams:void 0,e9=e=>e?.replace("Bearer ",""),te=((n=te||{}).SignedIn="signed-in",n.SignedOut="signed-out",n.Interstitial="interstitial",n.Unknown="unknown",n);async function tt(e,t){let{apiKey:r,secretKey:i,apiUrl:n,apiVersion:a,cookieToken:s,frontendApi:o,proxyUrl:l,publishableKey:c,domain:u,isSatellite:d,headerToken:h,loadSession:p,loadUser:f,loadOrganization:m,signInUrl:g,signUpUrl:y,afterSignInUrl:v,afterSignUpUrl:b,token:w}=e,{sid:S,org_id:_,sub:x}=t,{sessions:k,users:E,organizations:C}=e$({apiKey:r,secretKey:i,apiUrl:n,apiVersion:a}),[R,A,T]=await Promise.all([p?k.getSession(S):Promise.resolve(void 0),f?E.getUser(x):Promise.resolve(void 0),m&&_?C.getOrganization({organizationId:_}):Promise.resolve(void 0)]),P=ez(t,{secretKey:i,apiKey:r,apiUrl:n,apiVersion:a,token:s||h||"",session:R,user:A,organization:T},{...e,status:"signed-in"});return{status:"signed-in",reason:null,message:null,frontendApi:o,proxyUrl:l,publishableKey:c,domain:u,isSatellite:d,signInUrl:g,signUpUrl:y,afterSignInUrl:v,afterSignUpUrl:b,isSignedIn:!0,isInterstitial:!1,isUnknown:!1,toAuth:()=>P,token:w}}function tr(e,t,r=""){let{frontendApi:i,publishableKey:n,proxyUrl:a,isSatellite:s,domain:o,signInUrl:l,signUpUrl:c,afterSignInUrl:u,afterSignUpUrl:d}=e;return{status:"signed-out",reason:t,message:r,frontendApi:i,proxyUrl:a,publishableKey:n,isSatellite:s,domain:o,signInUrl:l,signUpUrl:c,afterSignInUrl:u,afterSignUpUrl:d,isSignedIn:!1,isInterstitial:!1,isUnknown:!1,toAuth:()=>eV({...e,status:"signed-out",reason:t,message:r}),token:null}}function ti(e,t,r=""){let{frontendApi:i,publishableKey:n,proxyUrl:a,isSatellite:s,domain:o,signInUrl:l,signUpUrl:c,afterSignInUrl:u,afterSignUpUrl:d}=e;return{status:"interstitial",reason:t,message:r,frontendApi:i,publishableKey:n,isSatellite:s,domain:o,proxyUrl:a,signInUrl:l,signUpUrl:c,afterSignInUrl:u,afterSignUpUrl:d,isSignedIn:!1,isInterstitial:!0,isUnknown:!1,toAuth:()=>null,token:null}}function tn({originURL:e,host:t,forwardedHost:r,forwardedProto:i}){let n=e3({forwardedProto:i,forwardedHost:r,protocol:e.protocol,host:t});return n&&new URL(n).origin!==e.origin}var ta=(e,t)=>e?e.find(e=>e.code===t):null,ts={parse:(e,t)=>(function(e,t,r={}){if(!t.codes){t.codes={};for(let e=0;e<t.chars.length;++e)t.codes[t.chars[e]]=e}if(!r.loose&&e.length*t.bits&7)throw SyntaxError("Invalid padding");let i=e.length;for(;"="===e[i-1];)if(--i,!r.loose&&!((e.length-i)*t.bits&7))throw SyntaxError("Invalid padding");let n=new(r.out??Uint8Array)(i*t.bits/8|0),a=0,s=0,o=0;for(let r=0;r<i;++r){let i=t.codes[e[r]];if(void 0===i)throw SyntaxError("Invalid character "+e[r]);s=s<<t.bits|i,(a+=t.bits)>=8&&(a-=8,n[o++]=255&s>>a)}if(a>=t.bits||255&s<<8-a)throw SyntaxError("Unexpected end of data");return n})(e,to,t),stringify:(e,t)=>(function(e,t,r={}){let{pad:i=!0}=r,n=(1<<t.bits)-1,a="",s=0,o=0;for(let r=0;r<e.length;++r)for(o=o<<8|255&e[r],s+=8;s>t.bits;)s-=t.bits,a+=t.chars[n&o>>s];if(s&&(a+=t.chars[n&o<<t.bits-s]),i)for(;a.length*t.bits&7;)a+="=";return a})(e,to,t)},to={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},tl={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},tc="RSASSA-PKCS1-v1_5",tu={RS256:tc,RS384:tc,RS512:tc},td=Object.keys(tl),th=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"string"==typeof e),tp=(e,t)=>{let r=[t].flat().filter(e=>!!e),i=[e].flat().filter(e=>!!e);if(r.length>0&&i.length>0){if("string"==typeof e){if(!r.includes(e))throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}else if(th(e)&&!e.some(e=>r.includes(e)))throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}},tf=e=>{if(void 0!==e&&"JWT"!==e)throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid",message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},tm=e=>{if(!td.includes(e))throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid-algorithm",message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${td}.`})},tg=e=>{if("string"!=typeof e)throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},ty=(e,t)=>{if(e&&t&&0!==t.length&&!t.includes(e))throw new eX({reason:"token-invalid-authorized-parties",message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},tv=(e,t)=>{if("function"!=typeof t||t(e)){if("string"==typeof t&&e&&e!==t)throw new eX({reason:"token-invalid-issuer",message:`Invalid JWT issuer claim (iss) ${JSON.stringify(e)}. Expected "${t}".`})}else throw new eX({reason:"token-invalid-issuer",message:"Failed JWT issuer resolver. Make sure that the resolver returns a truthy value."})},tb=(e,t)=>{if("number"!=typeof e)throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()<=r.getTime()-t)throw new eX({reason:"token-expired",message:`JWT is expired. Expiry date: ${i.toUTCString()}, Current date: ${r.toUTCString()}.`})},tw=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()>r.getTime()+t)throw new eX({reason:"token-not-active-yet",message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${i.toUTCString()}; Current date: ${r.toUTCString()};`})},tS=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()>r.getTime()+t)throw new eX({reason:"token-not-active-yet",message:`JWT issued at date claim (iat) is in the future. Issued at date: ${i.toUTCString()}; Current date: ${r.toUTCString()};`})};async function t_(e,t){let{header:r,signature:i,raw:n}=e,a=new TextEncoder().encode([n.header,n.payload].join(".")),s=function(e){let t=tl[e],r=tu[e];if(!t||!r)throw Error(`Unsupported algorithm ${e}, expected one of ${td.join(",")}.`);return{hash:{name:tl[e]},name:tu[e]}}(r.alg),o=await function(e,t,r){if("object"==typeof e)return J.crypto.subtle.importKey("jwk",e,t,!1,[r]);let i=function(e){let t=c(e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,"")),r=new ArrayBuffer(t.length),i=new Uint8Array(r);for(let e=0,r=t.length;e<r;e++)i[e]=t.charCodeAt(e);return i}(e),n="sign"===r?"pkcs8":"spki";return J.crypto.subtle.importKey(n,i,t,!1,[r])}(t,s,"verify");return J.crypto.subtle.verify(s.name,o,i,a)}function tx(e){let t=(e||"").toString().split(".");if(3!==t.length)throw new eX({reason:"token-invalid",message:"Invalid JWT form. A JWT consists of three parts separated by dots."});let[r,i,n]=t,s=new TextDecoder,o=JSON.parse(s.decode(ts.parse(r,{loose:!0}))),l=JSON.parse(s.decode(ts.parse(i,{loose:!0}))),c=ts.parse(n,{loose:!0});return(0,a.x6)(l,"orgs",'Add orgs to your session token using the "user.organizations" shortcode in JWT Templates instead.',"decodeJwt:orgs"),{header:o,payload:l,signature:c,raw:{header:r,payload:i,signature:n,text:e}}}async function tk(e,{audience:t,authorizedParties:r,clockSkewInSeconds:i,clockSkewInMs:n,issuer:s,key:o}){let l;i&&(0,a.x9)("clockSkewInSeconds","Use `clockSkewInMs` instead.");let c=n||i||5e3,u=tx(e),{header:d,payload:h}=u,{typ:p,alg:f}=d;tf(p),tm(f);let{azp:m,sub:g,aud:y,iss:v,iat:b,exp:w,nbf:S}=h;tg(g),tp([y],[t]),ty(m,r),tv(v,s),tb(w,c),tw(S,c),tS(b,c);try{l=await t_(u,o)}catch(e){throw new eX({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Error verifying JWT signature. ${e}`})}if(!l)throw new eX({reason:"token-invalid-signature",message:"JWT signature is invalid."});return h}var tE={},tC=0;function tR(e,t=36e5){tE[e.kid]=e,tC=Date.now(),t>=0&&setTimeout(()=>{e?delete tE[e.kid]:tE={}},t)}var tA="local";async function tT({apiKey:e,secretKey:t,apiUrl:r=ec,apiVersion:i="v1",issuer:n,kid:a,jwksCacheTtlInMs:s=36e5,skipJwksCache:o}){let c=!tE[a]&&Date.now()-tC>=3e5;if(o||c){let a;let o=t||e;if(o)a=()=>tO(r,o,i);else if(n)a=()=>tP(n);else throw new eX({action:"Contact support@clerk.com",message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:"jwk-remote-failed-to-load"});let{keys:c}=await l(a);if(!c||!c.length)throw new eX({action:"Contact support@clerk.com",message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:"jwk-remote-failed-to-load"});c.forEach(e=>tR(e,s))}let u=tE[a];if(!u){let e=Object.values(tE).map(e=>e.kid).join(", ");throw new eX({action:"Contact support@clerk.com",message:`Unable to find a signing key in JWKS that matches the kid='${a}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT.${e?` The following kid are available: ${e}`:""}`,reason:"jwk-remote-missing"})}return u}async function tP(e){let t=new URL(e);t.pathname=R(t.pathname,".well-known/jwks.json");let r=await J.fetch(t.href);if(!r.ok)throw new eX({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${t.href} with code=${r.status}`,reason:"jwk-remote-failed-to-load"});return r.json()}async function tO(e,t,r){if(!t)throw new eX({action:"Set the CLERK_SECRET_KEY or CLERK_API_KEY environment variable.",message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:"jwk-remote-failed-to-load"});let i=new URL(e);i.pathname=R(i.pathname,r,"/jwks");let n=await J.fetch(i.href,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok){let e=await n.json(),t=ta(e?.errors,"clerk_key_invalid");if(t)throw new eX({action:"Contact support@clerk.com",message:t.message,reason:"secret-key-invalid"});throw new eX({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${i.href} with code=${n.status}`,reason:"jwk-remote-failed-to-load"})}return n.json()}async function tI(e,t){let r;let{apiKey:i,secretKey:n,apiUrl:s,apiVersion:o,audience:l,authorizedParties:c,clockSkewInSeconds:u,clockSkewInMs:d,issuer:h,jwksCacheTtlInMs:p,jwtKey:f,skipJwksCache:m}=t;t.apiKey&&(0,a.x9)("apiKey","Use `secretKey` instead.");let{header:g}=tx(e),{kid:y}=g;if(f)r=function(e){if(!tE[tA]){if(!e)throw new eX({action:"Set the CLERK_JWT_KEY environment variable.",message:"Missing local JWK.",reason:"jwk-local-missing"});tR({kid:"local",kty:"RSA",alg:"RS256",n:e.replace(/(\r\n|\n|\r)/gm,"").replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA","").replace("IDAQAB","").replace(/\+/g,"-").replace(/\//g,"_"),e:"AQAB"},-1)}return tE[tA]}(f);else if("string"==typeof h)r=await tT({issuer:h,kid:y,jwksCacheTtlInMs:p,skipJwksCache:m});else if(i||n)r=await tT({apiKey:i,secretKey:n,apiUrl:s,apiVersion:o,kid:y,jwksCacheTtlInMs:p,skipJwksCache:m});else throw new eX({action:"Set the CLERK_JWT_KEY environment variable.",message:"Failed to resolve JWK during verification.",reason:"jwk-failed-to-resolve"});return await tk(e,{audience:l,authorizedParties:c,clockSkewInSeconds:u,clockSkewInMs:d,key:r,issuer:h})}var tN=e=>!!e?.get("__clerk_satellite_url"),tj=e=>e?.get("__clerk_synced")==="true",tB=/^Mozilla\/|(Amazon CloudFront)/,tU=e=>tB.test(e||""),tL=e=>{let{apiKey:t,secretKey:r,userAgent:i}=e;if(h(r||t||"")&&!tU(i))return tr(e,"header-missing-non-browser")},tM=e=>{let{origin:t,host:r,forwardedHost:i,forwardedProto:n}=e;if(t&&tn({originURL:new URL(t),host:r,forwardedHost:i,forwardedProto:n}))return tr(e,"header-missing-cors")},tD=e=>{let{apiKey:t,secretKey:r,isSatellite:i,searchParams:n}=e;if(h(r||t||"")&&!i&&tN(n))return ti(e,"primary-responds-to-syncing")},tK=e=>{let{apiKey:t,secretKey:r,clientUat:i}=e;if(h(r||t||"")&&!i)return ti(e,"uat-missing")},tq=e=>{let{apiKey:t,secretKey:r,referrer:i,host:n,forwardedHost:a,forwardedProto:s}=e,o=i&&tn({originURL:new URL(i),host:n,forwardedHost:a,forwardedProto:s});if(h(r||t||"")&&o)return ti(e,"cross-origin-referrer")},t$=e=>{let{apiKey:t,secretKey:r,clientUat:i,cookieToken:n}=e;if(function(e){return e.startsWith("live_")||e.startsWith("sk_live_")}(r||t||"")&&!i&&!n)return tr(e,"cookie-and-uat-missing")},tF=e=>{let{clientUat:t}=e;if("0"===t)return tr(e,"standard-signed-out")},tz=e=>{let{clientUat:t,cookieToken:r}=e;if(t&&Number.parseInt(t)>0&&!r)return ti(e,"cookie-missing")},tV=async e=>{let{headerToken:t}=e,r=await tG(e,t);return await tt({...e,token:t},r)},tH=async e=>{let{cookieToken:t,clientUat:r}=e,i=await tG(e,t),n=await tt({...e,token:t},i),a=n.toAuth().sessionClaims.iat<Number.parseInt(r);return!r||a?ti(e,"cookie-outdated"):n};async function tW(e,t){for(let r of t){let t=await r(e);if(t)return t}return tr(e,"unexpected-error")}async function tG(e,t){let{isSatellite:r,proxyUrl:i}=e;return tI(t,{...e,issuer:r?null:i||(e=>e.startsWith("https://clerk.")||e.includes(".clerk.accounts"))})}var tJ=e=>{let{clientUat:t,isSatellite:r,searchParams:i,userAgent:n}=e,a=!t||"0"===t;return r&&a&&!tU(n)?tr(e,"satellite-needs-syncing"):r&&a&&!tj(i)?ti(e,"satellite-needs-syncing"):void 0};async function tY(e){let{cookies:t,headers:r,searchParams:i}=e8(e?.request);async function n(){try{return await tW(e,[tV])}catch(e){return o(e,"header")}}async function s(){try{return await tW(e,[tM,tL,tJ,tD,t$,tK,tq,tz,tF,tH])}catch(e){return o(e,"cookie")}}function o(t,r){return t instanceof eX?(t.tokenCarrier=r,["token-expired","token-not-active-yet"].includes(t.reason))?"header"===r?function(e,t,r=""){let{frontendApi:i,publishableKey:n,isSatellite:a,domain:s,signInUrl:o,signUpUrl:l,afterSignInUrl:c,afterSignUpUrl:u}=e;return{status:"unknown",reason:t,message:r,frontendApi:i,publishableKey:n,isSatellite:a,domain:s,signInUrl:o,signUpUrl:l,afterSignInUrl:c,afterSignUpUrl:u,isSignedIn:!1,isInterstitial:!1,isUnknown:!0,toAuth:()=>null,token:null}}(e,t.reason,t.getFullMessage()):ti(e,t.reason,t.getFullMessage()):tr(e,t.reason,t.getFullMessage()):tr(e,"unexpected-error",t.message)}return(e.frontendApi&&(0,a.x9)("frontendApi","Use `publishableKey` instead."),e.apiKey&&(0,a.x9)("apiKey","Use `secretKey` instead."),ef((e={...e,...tQ(e,r),frontendApi:d(e.publishableKey)?.frontendApi||e.frontendApi,apiUrl:e.apiUrl||ec,apiVersion:e.apiVersion||"v1",cookieToken:e.cookieToken||t?.(ep.Cookies.Session),clientUat:e.clientUat||t?.(ep.Cookies.ClientUat),searchParams:e.searchParams||i||void 0}).secretKey||e.apiKey),e.isSatellite&&(function(e,t){if(!e&&h(t))throw Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}(e.signInUrl,e.secretKey||e.apiKey),e.signInUrl&&e.origin&&function(e,t){let r;try{r=new URL(e)}catch{throw Error("The signInUrl needs to have a absolute url format.")}if(r.origin===t)throw Error("The signInUrl needs to be on a different origin than your satellite application.")}(e.signInUrl,e.origin),function(e){if(!e)throw Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}(e.proxyUrl||e.domain)),e.headerToken)?n():s()}var tX=e=>{let{frontendApi:t,isSignedIn:r,proxyUrl:i,isInterstitial:n,reason:a,message:s,publishableKey:o,isSatellite:l,domain:c}=e;return{frontendApi:t,isSignedIn:r,proxyUrl:i,isInterstitial:n,reason:a,message:s,publishableKey:o,isSatellite:l,domain:c}},tQ=(e,t)=>t?{headerToken:e9(e.headerToken||t(ep.Headers.Authorization)),origin:e.origin||t(ep.Headers.Origin),host:e.host||t(ep.Headers.Host),forwardedHost:e.forwardedHost||t(ep.Headers.ForwardedHost),forwardedPort:e.forwardedPort||t(ep.Headers.ForwardedPort),forwardedProto:e.forwardedProto||t(ep.Headers.CloudFrontForwardedProto)||t(ep.Headers.ForwardedProto),referrer:e.referrer||t(ep.Headers.Referrer),userAgent:e.userAgent||t(ep.Headers.UserAgent)}:{},tZ=(e,t)=>{let r;if(e.startsWith("http"))r=new URL(e);else{if(!t||!t.startsWith("http"))throw Error("destination url or return back url should be an absolute path url!");let i=new URL(t);r=new URL(e,i.origin)}return t&&r.searchParams.set("redirect_url",t),r.toString()};function t0({redirectAdapter:e,signUpUrl:t,signInUrl:r,frontendApi:i,publishableKey:n}){i?(0,a.x9)("frontendApi","Use `publishableKey` instead."):i=d(n)?.frontendApi;let s=function(e){if(!e)return"";let t=e.replace(/(clerk\.accountsstage\.)/,"accountsstage.").replace(/(clerk\.accounts\.|clerk\.)/,"accounts.");return`https://${t}`}(i);return{redirectToSignUp:({returnBackUrl:r}={})=>{t||s||U.throwMissingPublishableKeyError();let i=`${s}/sign-up`;return e(tZ(t||i,r))},redirectToSignIn:({returnBackUrl:t}={})=>{r||s||U.throwMissingPublishableKeyError();let i=`${s}/sign-in`;return e(tZ(r||i,t))}}}function t1(e){let t={...e},r=e$(t),i=function(e){let{apiClient:t}=e,{apiKey:r="",secretKey:i="",jwtKey:n="",apiUrl:s=ec,apiVersion:l="v1",frontendApi:c="",proxyUrl:u="",publishableKey:h="",isSatellite:p=!1,domain:f="",audience:m="",userAgent:g}=e.options;return{authenticateRequest:({apiKey:e,secretKey:t,audience:a,frontendApi:o,proxyUrl:d,publishableKey:g,jwtKey:y,isSatellite:v,domain:b,searchParams:w,...S})=>tY({...S,apiKey:e||r,secretKey:t||i,audience:a||m,apiUrl:s,apiVersion:l,frontendApi:o||c,proxyUrl:d||u,publishableKey:g||h,isSatellite:v||p,domain:b||f,jwtKey:y||n,searchParams:w}),localInterstitial:({frontendApi:e,publishableKey:t,proxyUrl:r,isSatellite:i,domain:n,...s})=>(function(e){e.frontendApi&&(0,a.x9)("frontendApi","Use `publishableKey` instead."),e.pkgVersion&&(0,a.x9)("pkgVersion","Use `clerkJSVersion` instead."),e.frontendApi=d(e.publishableKey)?.frontendApi||e.frontendApi||"";let t=L(e.frontendApi)?"":function(e){let t;if(!e)return"";if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}let r=e.replace(t,"");return`clerk.${r}`}(e.domain),{debugData:r,frontendApi:i,pkgVersion:n,clerkJSUrl:s,clerkJSVersion:l,publishableKey:c,proxyUrl:u,isSatellite:h=!1,domain:p,signInUrl:f}=e;return`
    <head>
        <meta charset="UTF-8" />
        <style>
          @media (prefers-color-scheme: dark) {
            body {
              background-color: black;
            }
          }
        </style>
    </head>
    <body>
        <script>
            window.__clerk_frontend_api = '${i}';
            window.__clerk_debug = ${JSON.stringify(r||{})};
            ${u?`window.__clerk_proxy_url = '${u}'`:""}
            ${p?`window.__clerk_domain = '${p}'`:""}
            window.startClerk = async () => {
                function formRedirect(){
                    const form = '<form method="get" action="" name="redirect"></form>';
                    document.body.innerHTML = document.body.innerHTML + form;

                    const searchParams = new URLSearchParams(window.location.search);
                    for (let paramTuple of searchParams) {
                        const input = document.createElement("input");
                        input.type = "hidden";
                        input.name = paramTuple[0];
                        input.value = paramTuple[1];
                        document.forms.redirect.appendChild(input);
                    }
                    const url = new URL(window.location.origin + window.location.pathname + window.location.hash);
                    window.history.pushState({}, '', url);

                    document.forms.redirect.action = window.location.pathname + window.location.hash;
                    document.forms.redirect.submit();
                }

                const Clerk = window.Clerk;
                try {
                    await Clerk.load({
                        isSatellite: ${h},
                        isInterstitial: true,
                        signInUrl: ${f?`'${f}'`:void 0}
                    });
                    if(Clerk.loaded){
                      if(window.location.href.indexOf("#") === -1){
                        window.location.href = window.location.href;
                      } else if (window.navigator.userAgent.toLowerCase().includes("firefox/")){
                          formRedirect();
                      } else {
                          window.location.reload();
                      }
                    }
                } catch (err) {
                    console.error('Clerk: ', err);
                }
            };
            (() => {
                const script = document.createElement('script');
                ${c?`script.setAttribute('data-clerk-publishable-key', '${c}');`:`script.setAttribute('data-clerk-frontend-api', '${i}');`}

                ${p?`script.setAttribute('data-clerk-domain', '${p}');`:""}
                ${u?`script.setAttribute('data-clerk-proxy-url', '${u}')`:""};
                script.async = true;
                script.src = '${s||o(u||t||i,{pkgVersion:n,clerkJSVersion:l})}';
                script.crossOrigin = 'anonymous';
                script.addEventListener('load', startClerk);
                document.body.appendChild(script);
            })();
        </script>
    </body>
`})({...s,frontendApi:e||c,proxyUrl:r||u,publishableKey:t||h,isSatellite:i||p,domain:n||f}),remotePublicInterstitial:({frontendApi:e,publishableKey:t,proxyUrl:r,isSatellite:i,domain:n,userAgent:a,...o})=>eQ({...o,apiUrl:s,frontendApi:e||c,publishableKey:t||h,proxyUrl:r||u,isSatellite:i||p,domain:n||f,userAgent:a||g}),remotePrivateInterstitial:()=>t.interstitial.getInterstitial(),remotePublicInterstitialUrl:eZ,debugRequestState:tX}}({options:t,apiClient:r}),n={...r,...i,__unstable_options:t};return(0,a.x6)(n,"__unstable_options","Use `createClerkClient({...})` to create a new clerk instance instead."),n}},57164:(e,t,r)=>{let i;try{(i=r(6005).webcrypto)||(i=new(r(31717)).Crypto)}catch(e){i=new(r(31717)).Crypto}e.exports=i},52743:(e,t,r)=>{let i;try{(i=r(6005).webcrypto)||(i=new(r(1588)).w)}catch(e){i=new(r(1588)).w}e.exports=i},4089:(e,t,r)=>{let{fetch:i,Blob:n,FormData:a,Headers:s,Request:o,Response:l,AbortController:c}=r(4716);e.exports=i,e.exports.RuntimeBlob=n,e.exports.RuntimeFormData=a,e.exports.RuntimeHeaders=s,e.exports.RuntimeRequest=o,e.exports.RuntimeResponse=l,e.exports.RuntimeAbortController=c,e.exports.RuntimeFetch=i},27988:(e,t,r)=>{let{fetch:i,Blob:n,FormData:a,Headers:s,Request:o,Response:l,AbortController:c}=r(41434);e.exports=i,e.exports.RuntimeBlob=n,e.exports.RuntimeFormData=a,e.exports.RuntimeHeaders=s,e.exports.RuntimeRequest=o,e.exports.RuntimeResponse=l,e.exports.RuntimeAbortController=c,e.exports.RuntimeFetch=i},57859:(e,t,r)=>{"use strict";r.d(t,{auth:()=>s});var i=r(39973),n=r(42397),a=r(29679);let s=()=>{let e=(0,i.createGetAuth)({debugLoggerName:"auth()",noAuthStatusMessage:(0,n.authAuthHeaderMissing)()})((0,a.buildRequestLike)()),{notFound:t,redirect:s}=r(52810);return e.protect=(r,i)=>{let n=(null==r?void 0:r.redirectUrl)?void 0:r,a=(null==r?void 0:r.redirectUrl)||(null==i?void 0:i.redirectUrl),o=()=>{a&&s(a),t()};return e.userId?n?"function"==typeof n?n(e.has)?{...e}:o():e.has(n)?{...e}:o():{...e}:o()},e}},29600:(e,t,r)=>{"use strict";r.d(t,{I:()=>p,E:()=>f});var i=r(9474),n=r(55288),a=r(24485);let s=(e,t={})=>{let r;let s=(0,a.to)(e,"AuthToken"),o=(0,a.to)(e,"AuthStatus"),l=(0,a.to)(e,"AuthMessage"),c=(0,a.to)(e,"AuthReason"),u={apiKey:n.$h,secretKey:n.Cn,apiUrl:n.T5,apiVersion:n.Gn,authStatus:o,authMessage:l,authReason:c};if(o&&o===i.tD.SignedIn){let{payload:e,raw:t}=(0,i.t5)(s);r=(0,i.B9)(e,{...u,token:t.text})}else r=(0,i.JH)(u);let d=(0,i.z3)((0,i.aR)({...r,...t}));return(0,a.JV)({},d)};var o=r(83614),l=r(58330),c=r(68443);let u=({debugLoggerName:e,noAuthStatusMessage:t})=>(0,l.n)(e,e=>(r,s)=>{"true"===(0,a.Pg)(r,i._G.Headers.EnableDebug)&&e.enable();let l=(0,a.to)(r,"AuthToken"),c=(0,a.to)(r,"AuthStatus"),u=(0,a.to)(r,"AuthMessage"),d=(0,a.to)(r,"AuthReason");if(e.debug("Debug",{authReason:d,authMessage:u,authStatus:c,authToken:l}),!c)throw Error(t);let h={apiKey:(null==s?void 0:s.apiKey)||n.$h,authStatus:c,authMessage:u,secretKey:(null==s?void 0:s.secretKey)||n.Cn,authReason:d,authToken:l,apiUrl:n.T5,apiVersion:n.Gn};if(e.debug("Options debug",h),c!==i.tD.SignedIn)return(0,i.JH)(h);let p=(0,i.t5)(l);e.debug("JWT debug",p.raw.text);let f=(0,i.B9)(p.payload,{...h,token:p.raw.text});return f&&(f.user&&(0,o.x6)(f,"user","Use `clerkClient.users.getUser` instead."),f.organization&&(0,o.x6)(f,"organization","Use `clerkClient.organizations.getOrganization` instead."),f.session&&(0,o.x6)(f,"session","Use `clerkClient.sessions.getSession` instead.")),f});u({debugLoggerName:"getAuth()",noAuthStatusMessage:(0,c.PL)()});var d=r(98984);let h=()=>{try{let{headers:e}=r(7439);return new d.NextRequest("https://placeholder.com",{headers:e()})}catch(e){if(e&&"message"in e&&"string"==typeof e.message&&e.message.toLowerCase().includes("dynamic server usage"))throw e;throw Error(`Clerk: auth() and currentUser() are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}},p=()=>{let e=u({debugLoggerName:"auth()",noAuthStatusMessage:(0,c.It)()})(h()),{notFound:t,redirect:i}=r(867);return e.protect=(r,n)=>{let a=(null==r?void 0:r.redirectUrl)?void 0:r,s=(null==r?void 0:r.redirectUrl)||(null==n?void 0:n.redirectUrl),o=()=>{s&&i(s),t()};return e.userId?a?"function"==typeof a?a(e.has)?{...e}:o():e.has(a)?{...e}:o():{...e}:o()},e},f=()=>s(h())},91468:(e,t,r)=>{"use strict";r.d(t,{currentUser:()=>a});var i=r(26658),n=r(57859);async function a(){let{userId:e}=(0,n.auth)();return e?i.clerkClient.users.getUser(e):null}},53167:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var i=r(213),n=r(29600);async function a(){let{userId:e}=(0,n.I)();return e?i.Ns.users.getUser(e):null}},29679:(e,t,r)=>{"use strict";r.d(t,{buildRequestLike:()=>n});var i=r(79351);let n=()=>{try{let{headers:e}=r(77949);return new i.NextRequest("https://placeholder.com",{headers:e()})}catch(e){if(e&&"message"in e&&"string"==typeof e.message&&e.message.toLowerCase().includes("dynamic server usage"))throw e;throw Error(`Clerk: auth() and currentUser() are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}}},91296:(e,t,r)=>{"use strict";r.d(t,{$d:()=>o,l8:()=>l});var i=r(86843);let n=(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js`),{__esModule:a,$$typeof:s}=n;n.default,(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#CreateOrganization`),(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#GoogleOneTap`),(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#OrganizationList`),(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#OrganizationProfile`),(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#OrganizationSwitcher`),(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#SignIn`);let o=(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#SignInButton`);(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#SignInWithMetamaskButton`),(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#SignOutButton`),(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#SignUp`),(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#SignUpButton`);let l=(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#UserButton`);(0,i.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\client-boundary\uiComponents.js#UserProfile`)},85183:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});let i={Headers:{NextRewrite:"x-middleware-rewrite",NextResume:"x-middleware-next",NextRedirect:"Location"}}},14452:(e,t,r)=>{"use strict";r.d(t,{El:()=>w,CH:()=>S,tj:()=>_});var i=r(40002),n=r.n(i);let a=e=>({...e,frontendApi:e.frontendApi||process.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"",publishableKey:e.publishableKey||"pk_test_bW9kZXJuLXNpbGt3b3JtLTEuY2xlcmsuYWNjb3VudHMuZGV2JA",clerkJSUrl:e.clerkJSUrl||process.env.NEXT_PUBLIC_CLERK_JS,clerkJSVersion:e.clerkJSVersion||process.env.NEXT_PUBLIC_CLERK_JS_VERSION,proxyUrl:e.proxyUrl||process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",domain:e.domain||process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",isSatellite:e.isSatellite||"true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE,signInUrl:e.signInUrl||process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL||"",signUpUrl:e.signUpUrl||process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL||"",afterSignInUrl:e.afterSignInUrl||process.env.NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL||"",afterSignUpUrl:e.afterSignUpUrl||process.env.NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL||"",sdkMetadata:{name:"@clerk/nextjs",version:"4.31.2"}});var s=r(86843);let o=(0,s.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\app-router\client\ClerkProvider.js`),{__esModule:l,$$typeof:c}=o;o.default;let u=(0,s.createProxy)(String.raw`C:\Users\FAST COMPUTER\Desktop\CN project\nextjs-zoom-clone\node_modules\@clerk\nextjs\dist\esm\app-router\client\ClerkProvider.js#ClientClerkProvider`);var d=r(29600),h=r(53167),p=r(213),f=r(9474);r(9124);var m=r(98984);r(85183);let g=(e,t,r)=>(e.headers.set(t,r),e);r(58330);var y=r(55288);r(24485),r(83614),r(68443);let{redirectToSignIn:v,redirectToSignUp:b}=(0,f.uX)({redirectAdapter:e=>g(m.NextResponse.redirect(e),f._G.Headers.ClerkRedirectTo,"true"),signInUrl:y.O0,signUpUrl:y.Dt,publishableKey:y.Am,frontendApi:y.yM}),w=function(e){var t;let{children:r,...i}=e,s=null==(t=(0,d.E)())?void 0:t.__clerk_ssr_state;return n().createElement(u,{...a(i),initialState:s},r)},S=function(e){let{children:t}=e,{userId:r}=(0,d.I)();return r?n().createElement(n().Fragment,null,t):null},_=function(e){let{children:t}=e,{userId:r}=(0,d.I)();return r?null:n().createElement(n().Fragment,null,t)};d.I,h.a,p.Ns},26658:(e,t,r)=>{"use strict";r.d(t,{clerkClient:()=>a});var i=r(58975),n=r(27960);r.o(i,"API_KEY")&&r.d(t,{API_KEY:function(){return i.API_KEY}}),r.o(i,"API_URL")&&r.d(t,{API_URL:function(){return i.API_URL}}),r.o(i,"API_VERSION")&&r.d(t,{API_VERSION:function(){return i.API_VERSION}}),r.o(i,"SECRET_KEY")&&r.d(t,{SECRET_KEY:function(){return i.SECRET_KEY}}),r.o(n,"API_KEY")&&r.d(t,{API_KEY:function(){return n.API_KEY}}),r.o(n,"API_URL")&&r.d(t,{API_URL:function(){return n.API_URL}}),r.o(n,"API_VERSION")&&r.d(t,{API_VERSION:function(){return n.API_VERSION}}),r.o(n,"SECRET_KEY")&&r.d(t,{SECRET_KEY:function(){return n.SECRET_KEY}});let a=(0,i.Clerk)({apiKey:n.API_KEY,secretKey:n.SECRET_KEY,apiUrl:n.API_URL,apiVersion:n.API_VERSION,userAgent:"@clerk/nextjs@4.31.2",proxyUrl:n.PROXY_URL,domain:n.DOMAIN,isSatellite:n.IS_SATELLITE})},213:(e,t,r)=>{"use strict";r.d(t,{Ns:()=>a});var i=r(9474),n=r(55288);let a=(0,i.gq)({apiKey:n.$h,secretKey:n.Cn,apiUrl:n.T5,apiVersion:n.Gn,userAgent:"@clerk/nextjs@4.31.2",proxyUrl:n.NM,domain:n.yK,isSatellite:n.lo})},27960:(e,t,r)=>{"use strict";r.d(t,{API_KEY:()=>s,API_URL:()=>n,API_VERSION:()=>a,DOMAIN:()=>l,IS_SATELLITE:()=>u,PROXY_URL:()=>c,SECRET_KEY:()=>o});var i=r(27922);process.env.CLERK_JS_VERSION&&(0,i.deprecated)("CLERK_JS_VERSION","Use `NEXT_PUBLIC_CLERK_JS_VERSION` environment variable instead."),process.env.NEXT_PUBLIC_CLERK_JS_VERSION,process.env.NEXT_PUBLIC_CLERK_JS;let n=process.env.CLERK_API_URL||"https://api.clerk.dev",a=process.env.CLERK_API_VERSION||"v1",s=process.env.CLERK_API_KEY||"";s&&(0,i.deprecated)("CLERK_API_KEY","Use `CLERK_SECRET_KEY` environment variable instead.");let o=process.env.CLERK_SECRET_KEY||"";process.env.NEXT_PUBLIC_CLERK_FRONTEND_API&&(0,i.deprecated)("NEXT_PUBLIC_CLERK_FRONTEND_API","Use `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` environment variable instead.");let l=process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",c=process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",u="true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE;process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL,process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL},55288:(e,t,r)=>{"use strict";r.d(t,{$h:()=>l,Am:()=>d,Cn:()=>c,Dt:()=>g,Gn:()=>o,NM:()=>p,O0:()=>m,T5:()=>s,YU:()=>a,cE:()=>n,lo:()=>f,yK:()=>h,yM:()=>u});var i=r(83614);process.env.CLERK_JS_VERSION&&(0,i.x9)("CLERK_JS_VERSION","Use `NEXT_PUBLIC_CLERK_JS_VERSION` environment variable instead.");let n=process.env.NEXT_PUBLIC_CLERK_JS_VERSION||"",a=process.env.NEXT_PUBLIC_CLERK_JS||"",s=process.env.CLERK_API_URL||"https://api.clerk.dev",o=process.env.CLERK_API_VERSION||"v1",l=process.env.CLERK_API_KEY||"";l&&(0,i.x9)("CLERK_API_KEY","Use `CLERK_SECRET_KEY` environment variable instead.");let c=process.env.CLERK_SECRET_KEY||"",u=process.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"";u&&(0,i.x9)("NEXT_PUBLIC_CLERK_FRONTEND_API","Use `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` environment variable instead.");let d="pk_test_bW9kZXJuLXNpbGt3b3JtLTEuY2xlcmsuYWNjb3VudHMuZGV2JA",h=process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",p=process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",f="true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE,m=process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL||"",g=process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL||""},39973:(e,t,r)=>{"use strict";r.d(t,{createGetAuth:()=>c});var i=r(58975),n=r(27922),a=r(7525),s=r(26658),o=r(42397),l=r(11979);let c=({debugLoggerName:e,noAuthStatusMessage:t})=>(0,a.withLogger)(e,e=>(r,a)=>{"true"===(0,l.getHeader)(r,i.constants.Headers.EnableDebug)&&e.enable();let o=(0,l.getAuthKeyFromRequest)(r,"AuthToken"),c=(0,l.getAuthKeyFromRequest)(r,"AuthStatus"),u=(0,l.getAuthKeyFromRequest)(r,"AuthMessage"),d=(0,l.getAuthKeyFromRequest)(r,"AuthReason");if(e.debug("Debug",{authReason:d,authMessage:u,authStatus:c,authToken:o}),!c)throw Error(t);let h={apiKey:(null==a?void 0:a.apiKey)||s.API_KEY,authStatus:c,authMessage:u,secretKey:(null==a?void 0:a.secretKey)||s.SECRET_KEY,authReason:d,authToken:o,apiUrl:s.API_URL,apiVersion:s.API_VERSION};if(e.debug("Options debug",h),c!==i.AuthStatus.SignedIn)return(0,i.signedOutAuthObject)(h);let p=(0,i.decodeJwt)(o);e.debug("JWT debug",p.raw.text);let f=(0,i.signedInAuthObject)(p.payload,{...h,token:p.raw.text});return f&&(f.user&&(0,n.deprecatedObjectProperty)(f,"user","Use `clerkClient.users.getUser` instead."),f.organization&&(0,n.deprecatedObjectProperty)(f,"organization","Use `clerkClient.organizations.getOrganization` instead."),f.session&&(0,n.deprecatedObjectProperty)(f,"session","Use `clerkClient.sessions.getSession` instead.")),f});c({debugLoggerName:"getAuth()",noAuthStatusMessage:(0,o.getAuthAuthHeaderMissing)()})},42397:(e,t,r)=>{"use strict";r.d(t,{authAuthHeaderMissing:()=>n,getAuthAuthHeaderMissing:()=>i});let i=()=>n("getAuth"),n=(e="auth")=>`Clerk: ${e}() was called but Clerk can't detect usage of authMiddleware(). Please ensure the following:
- authMiddleware() is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/docs/quickstarts/nextjs
`},68443:(e,t,r)=>{"use strict";r.d(t,{H$:()=>n,It:()=>o,MV:()=>u,PL:()=>s,PN:()=>c,Yf:()=>l,iP:()=>a,xr:()=>i});let i=`
Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl.

1) With middleware
   e.g. export default withClerkMiddleware(req => {...}, {domain:'YOUR_DOMAIN',isSatellite:true});
2) With environment variables e.g.
   NEXT_PUBLIC_CLERK_DOMAIN='YOUR_DOMAIN'
   NEXT_PUBLIC_CLERK_IS_SATELLITE='true'
   `,n=`
Invalid signInUrl. A satellite application requires a signInUrl for development instances.
Check if signInUrl is missing from your configuration or if it is not an absolute URL

1) With middleware
   e.g. export default withClerkMiddleware(req => {...}, {signInUrl:'SOME_URL',isSatellite:true});
2) With environment variables e.g.
   NEXT_PUBLIC_CLERK_SIGN_IN_URL='SOME_URL'
   NEXT_PUBLIC_CLERK_IS_SATELLITE='true'`,a=(e,t)=>`Clerk: The middleware was skipped for this request URL: ${e}. For performance reasons, it's recommended to your middleware matcher to:
export const config = {
  matcher: ${t},
};

Alternatively, you can set your own ignoredRoutes. See https://clerk.com/docs/nextjs/middleware
(This log only appears in development mode)
`,s=()=>o("getAuth"),o=(e="auth")=>`Clerk: ${e}() was called but Clerk can't detect usage of authMiddleware(). Please ensure the following:
- authMiddleware() is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/docs/quickstarts/nextjs
`,l=e=>`Clerk: Clock skew detected. This usually means that your system clock is inaccurate. Clerk will continuously try to issue new tokens, as the existing ones will be treated as "expired" due to clock skew.

To resolve this issue, make sure your system's clock is set to the correct time (e.g. turn off and on automatic time synchronization).

---

${e}`,c=()=>`Clerk: Infinite redirect loop detected. That usually means that we were not able to determine the auth state for this request. A list of common causes and solutions follows.

Reason 1:
Your Clerk instance keys are incorrect, or you recently changed keys (Publishable Key, Secret Key).
How to resolve:
-> Make sure you're using the correct keys from the Clerk Dashboard. If you changed keys recently, make sure to clear your browser application data and cookies.

Reason 2:
A bug that may have already been fixed in the latest version of Clerk NextJS package.
How to resolve:
-> Make sure you are using the latest version of '@clerk/nextjs' and 'next'.
`,u=(e,t,r,i,n)=>{let a=i?`INFO: Clerk: The request to ${e} is being protected (401) because there is no signed-in user, and the path is included in \`apiRoutes\`. To prevent this behavior, choose one of:`:`INFO: Clerk: The request to ${e} is being redirected because there is no signed-in user, and the path is not included in \`ignoredRoutes\` or \`publicRoutes\`. To prevent this behavior, choose one of:`,s=i?`To prevent Clerk authentication from protecting (401) the api route, remove the rule matching "${e}" from the \`apiRoutes\` array passed to authMiddleware`:void 0,o=t?`To make the route accessible to both signed in and signed out users, add "${e}" to the \`publicRoutes\` array passed to authMiddleware`:`To make the route accessible to both signed in and signed out users, pass \`publicRoutes: ["${e}"]\` to authMiddleware`,l=[...n,e].map(e=>`"${e}"`).join(", "),c=r?`To prevent Clerk authentication from running at all, add "${e}" to the \`ignoredRoutes\` array passed to authMiddleware`:`To prevent Clerk authentication from running at all, pass \`ignoredRoutes: [${l}]\` to authMiddleware`;return`${a}

${[s,o,c,"Pass a custom `afterAuth` to authMiddleware, and replace Clerk's default behavior of redirecting unless a route is included in publicRoutes"].filter(Boolean).map((e,t)=>`${t+1}. ${e}`).join("\n")}

For additional information about middleware, please visit https://clerk.com/docs/nextjs/middleware
(This log only appears in development mode, or if \`debug: true\` is passed to authMiddleware)`}},30804:(e,t,r)=>{"use strict";r.d(t,{currentUser:()=>a.currentUser});var i=r(26658);r.o(i,"clerkClient")&&r.d(t,{clerkClient:function(){return i.clerkClient}});var n=r(85783);r.o(n,"clerkClient")&&r.d(t,{clerkClient:function(){return n.clerkClient}});var a=r(91468)},11979:(e,t,r)=>{"use strict";r.d(t,{getAuthKeyFromRequest:()=>n,getHeader:()=>a});var i=r(58975);function n(e,t){var r;return((r=i.constants.Attributes[t])in e?e[r]:void 0)||a(e,i.constants.Headers[t])||("AuthStatus"===t||"AuthToken"===t)&&function(e,t){let r;if(s(e))return e.nextUrl.searchParams.get(t);if("query"in e&&(r=e.query[t]),!r){let i=(e.url||"").split("?")[1];r=new URLSearchParams(i).get(t)}return r}(e,t)||void 0}function a(e,t){var r,i;return s(e)?e.headers.get(t):e.headers[t]||e.headers[t.toLowerCase()]||(null==(i=null==(r=e.socket)?void 0:r._httpMessage)?void 0:i.getHeader(t))}function s(e){try{let{headers:t,nextUrl:r,cookies:i}=e||{};return"function"==typeof(null==t?void 0:t.get)&&"function"==typeof(null==r?void 0:r.searchParams.get)&&"function"==typeof(null==i?void 0:i.get)}catch(e){return!1}}r(2933),r(43389),r(79351)},24485:(e,t,r)=>{"use strict";r.d(t,{AI:()=>S,oU:()=>w,to:()=>d,Pg:()=>h,cu:()=>x,JV:()=>v,xr:()=>_,RL:()=>b,u4:()=>u,Mp:()=>g});var i=r(9474);function n(e,t,r){return"function"==typeof e?e(t):void 0!==e?e:void 0!==r?r:void 0}function a(e){return/^http(s)?:\/\//.test(e||"")}r(9124),r(94127);var s=r(98984),o=r(85183),l=r(55288),c=r(68443);function u(e,t,r){Object.assign(e,{[t]:r})}function d(e,t){var r;return((r=i._G.Attributes[t])in e?e[r]:void 0)||h(e,i._G.Headers[t])||("AuthStatus"===t||"AuthToken"===t)&&function(e,t){let r;if(p(e))return e.nextUrl.searchParams.get(t);if("query"in e&&(r=e.query[t]),!r){let i=(e.url||"").split("?")[1];r=new URLSearchParams(i).get(t)}return r}(e,t)||void 0}function h(e,t){var r,i;return p(e)?e.headers.get(t):e.headers[t]||e.headers[t.toLowerCase()]||(null==(i=null==(r=e.socket)?void 0:r._httpMessage)?void 0:i.getHeader(t))}function p(e){try{let{headers:t,nextUrl:r,cookies:i}=e||{};return"function"==typeof(null==t?void 0:t.get)&&"function"==typeof(null==r?void 0:r.searchParams.get)&&"function"==typeof(null==i?void 0:i.get)}catch(e){return!1}}let f="x-middleware-override-headers",m="x-middleware-request",g=(e,t,r)=>{e.headers.get(f)||(e.headers.set(f,[...t.headers.keys()]),t.headers.forEach((t,r)=>{e.headers.set(`${m}-${r}`,t)})),Object.entries(r).forEach(([t,r])=>{e.headers.set(f,`${e.headers.get(f)},${t}`),e.headers.set(`${m}-${t}`,r)})},y=()=>{try{let e="clerkTest",t=`${m}-${e}`;return s.NextResponse.next({request:{headers:new Headers({[e]:"true"})}}).headers.has(t)}catch(e){return!1}},v=(e,t)=>{let r={...t};return{...e,__clerk_ssr_state:r}};function b(e){return e.startsWith("test_")||e.startsWith("sk_test_")}function w(e,t,r){let n;let{reason:a,message:l,status:c,token:u}=r;if(t||(t=s.NextResponse.next()),t.headers.get(o._.Headers.NextRedirect))return t;"1"===t.headers.get(o._.Headers.NextResume)&&(t.headers.delete(o._.Headers.NextResume),n=new URL(e.url));let d=t.headers.get(o._.Headers.NextRewrite);if(d){let r=new URL(e.url);if((n=new URL(d)).origin!==r.origin)return t}return n&&(y()?g(t,e,{[i._G.Headers.AuthStatus]:c,[i._G.Headers.AuthToken]:u||"",[i._G.Headers.AuthMessage]:l||"",[i._G.Headers.AuthReason]:a||""}):(t.headers.set(i._G.Headers.AuthStatus,c),t.headers.set(i._G.Headers.AuthToken,u||""),t.headers.set(i._G.Headers.AuthMessage,l||""),t.headers.set(i._G.Headers.AuthReason,a||""),n.searchParams.set(i._G.SearchParams.AuthStatus,c),n.searchParams.set(i._G.SearchParams.AuthToken,u||""),n.searchParams.set(i._G.Headers.AuthMessage,l||""),n.searchParams.set(i._G.Headers.AuthReason,a||"")),t.headers.set(o._.Headers.NextRewrite,n.href)),t}let S=()=>s.NextResponse.json(null,{status:401,statusText:"Unauthorized"}),_=(e,t)=>{let r=new URL(e),i=new URL(t);return r.origin!==i.origin},x=(e,t)=>{let r;let s=(0,i.oF)(e),o=n(null==t?void 0:t.proxyUrl,s,l.NM);r=o&&!a(o)?new URL(o,s).toString():o;let u=n(t.isSatellite,new URL(e.url),l.lo),d=n(t.domain,new URL(e.url),l.yK),h=(null==t?void 0:t.signInUrl)||l.O0;if(u&&!r&&!d)throw Error(c.xr);if(u&&!a(h)&&b(l.Cn||l.$h))throw Error(c.H$);return{proxyUrl:r,isSatellite:u,domain:d,signInUrl:h}}},85783:(e,t,r)=>{"use strict";r(58975),r(27922),r(79351)},7525:(e,t,r)=>{"use strict";r.d(t,{withLogger:()=>s});var i=r(5594),n=r(36669);let a=(e,t)=>()=>{let r=[],n=!1;return{enable:()=>{n=!0},debug:(...e)=>{n&&r.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(n){for(let i of(console.log(`[clerk debug start: ${e}]`),r)){let e=t(i);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let r=new TextEncoder,i=new TextDecoder("utf-8"),n=r.encode(e).slice(0,4096);return i.decode(n).replace(/\uFFFD/g,"")}(e,0)),console.log(e)}console.log(`[clerk debug end: ${e}] (@clerk/nextjs=4.31.2,next=${i.version})`)}}}},s=(e,t)=>(...r)=>{let i=("string"==typeof e?a(e,n.logFormatter):e)(),s=t(i);try{let e=s(...r);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(i.commit(),e)).catch(e=>{throw i.commit(),e});return i.commit(),e}catch(e){throw i.commit(),e}}},58330:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});let i=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch(e){return""}},n=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?i(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,i(t)])),null,2)).join(", "),a=(e,t)=>()=>{let r=[],i=!1;return{enable:()=>{i=!0},debug:(...e)=>{i&&r.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(i){for(let i of(console.log(`[clerk debug start: ${e}]`),r)){let e=t(i);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let r=new TextEncoder,i=new TextDecoder("utf-8"),n=r.encode(e).slice(0,4096);return i.decode(n).replace(/\uFFFD/g,"")}(e,0)),console.log(e)}console.log(`[clerk debug end: ${e}] (@clerk/nextjs=4.31.2,next=14.1.2)`)}}}},s=(e,t)=>(...r)=>{let i=("string"==typeof e?a(e,n):e)(),s=t(i);try{let e=s(...r);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(i.commit(),e)).catch(e=>{throw i.commit(),e});return i.commit(),e}catch(e){throw i.commit(),e}}},36669:(e,t,r)=>{"use strict";r.d(t,{logFormatter:()=>n});let i=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch(e){return""}},n=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?i(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,i(t)])),null,2)).join(", ")},37877:(e,t,r)=>{"use strict";r.d(t,{AsnConvert:()=>o});var i=r(35354),n=r(11235),a=r(34837),s=r(16743);class o{static serialize(e){return s.AsnSerializer.serialize(e)}static parse(e,t){return a.AsnParser.parse(e,t)}static toString(e){let t=n.BufferSourceConverter.isBufferSource(e)?n.BufferSourceConverter.toArrayBuffer(e):o.serialize(e),r=i.fromBER(t);if(-1===r.offset)throw Error(`Cannot decode ASN.1 data. ${r.result.error}`);return r.result.toString()}}},71816:(e,t,r)=>{"use strict";r.d(t,{AsnIntegerConverter:()=>s,defaultConverter:()=>A});var i=r(35354),n=r(91133);r(64367);let a={fromASN:e=>e instanceof i.Null?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new i.Null;let t=i.fromBER(e);if(t.result.error)throw Error(t.result.error);return t.result}},s={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new i.Integer({value:+e})},o={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new i.Enumerated({value:e})},l={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new i.BitString({valueHex:e})},c={fromASN:e=>e.valueBlock.toString(),toASN:e=>new i.ObjectIdentifier({value:e})},u={fromASN:e=>e.valueBlock.value,toASN:e=>new i.Boolean({value:e})},d={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new i.OctetString({valueHex:e})};function h(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}let p=h(i.Utf8String),f=h(i.BmpString),m=h(i.UniversalString),g=h(i.NumericString),y=h(i.PrintableString),v=h(i.TeletexString),b=h(i.VideotexString),w=h(i.IA5String),S=h(i.GraphicString),_=h(i.VisibleString),x=h(i.GeneralString),k=h(i.CharacterString),E={fromASN:e=>e.toDate(),toASN:e=>new i.UTCTime({valueDate:e})},C={fromASN:e=>e.toDate(),toASN:e=>new i.GeneralizedTime({valueDate:e})},R={fromASN:()=>null,toASN:()=>new i.Null};function A(e){switch(e){case n.AsnPropTypes.Any:return a;case n.AsnPropTypes.BitString:return l;case n.AsnPropTypes.BmpString:return f;case n.AsnPropTypes.Boolean:return u;case n.AsnPropTypes.CharacterString:return k;case n.AsnPropTypes.Enumerated:return o;case n.AsnPropTypes.GeneralString:return x;case n.AsnPropTypes.GeneralizedTime:return C;case n.AsnPropTypes.GraphicString:return S;case n.AsnPropTypes.IA5String:return w;case n.AsnPropTypes.Integer:return s;case n.AsnPropTypes.Null:return R;case n.AsnPropTypes.NumericString:return g;case n.AsnPropTypes.ObjectIdentifier:return c;case n.AsnPropTypes.OctetString:return d;case n.AsnPropTypes.PrintableString:return y;case n.AsnPropTypes.TeletexString:return v;case n.AsnPropTypes.UTCTime:return E;case n.AsnPropTypes.UniversalString:return m;case n.AsnPropTypes.Utf8String:return p;case n.AsnPropTypes.VideotexString:return b;case n.AsnPropTypes.VisibleString:return _;default:return null}}},96667:(e,t,r)=>{"use strict";r.d(t,{AsnProp:()=>s,AsnType:()=>a});var i=r(71816);r(91133);var n=r(75774);let a=e=>t=>{let r;n.schemaStorage.has(t)?r=n.schemaStorage.get(t):(r=n.schemaStorage.createDefault(t),n.schemaStorage.set(t,r)),Object.assign(r,e)},s=e=>(t,r)=>{let a;n.schemaStorage.has(t.constructor)?a=n.schemaStorage.get(t.constructor):(a=n.schemaStorage.createDefault(t.constructor),n.schemaStorage.set(t.constructor,a));let s=Object.assign({},e);if("number"==typeof s.type&&!s.converter){let n=i.defaultConverter(e.type);if(!n)throw Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);s.converter=n}a.items[r]=s}},91133:(e,t,r)=>{"use strict";var i,n;r.d(t,{AsnPropTypes:()=>n,AsnTypeTypes:()=>i}),function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"}(i||(i={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(n||(n={}))},8689:(e,t,r)=>{"use strict";var i=r(78938);r.o(i,"AsnConvert")&&r.d(t,{AsnConvert:function(){return i.AsnConvert}}),r.o(i,"AsnIntegerConverter")&&r.d(t,{AsnIntegerConverter:function(){return i.AsnIntegerConverter}}),r.o(i,"AsnSchemaValidationError")&&r.d(t,{AsnSchemaValidationError:function(){return i.AsnSchemaValidationError}})},78938:(e,t,r)=>{"use strict";r.d(t,{AsnSchemaValidationError:()=>i});class i extends Error{constructor(){super(...arguments),this.schemas=[]}}},59743:(e,t,r)=>{"use strict";function i(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==i[t])return!1;return!0}r.d(t,{isArrayEqual:()=>i,isConvertible:()=>function e(t){return"function"==typeof t&&t.prototype?!!t.prototype.toASN&&!!t.prototype.fromASN||e(t.prototype):!!(t&&"object"==typeof t&&"toASN"in t&&"fromASN"in t)},isTypeOfArray:()=>function e(t){var r;if(t){let i=Object.getPrototypeOf(t);return(null===(r=null==i?void 0:i.prototype)||void 0===r?void 0:r.constructor)===Array||e(i)}return!1}})},58412:(e,t,r)=>{"use strict";r.d(t,{AsnParser:()=>o.AsnParser,AsnProp:()=>a.AsnProp,AsnPropTypes:()=>s.AsnPropTypes,AsnSerializer:()=>l.AsnSerializer,AsnType:()=>a.AsnType,AsnTypeTypes:()=>s.AsnTypeTypes});var i=r(71816);r.o(i,"AsnConvert")&&r.d(t,{AsnConvert:function(){return i.AsnConvert}}),r.o(i,"AsnIntegerConverter")&&r.d(t,{AsnIntegerConverter:function(){return i.AsnIntegerConverter}});var n=r(64367);r.o(n,"AsnConvert")&&r.d(t,{AsnConvert:function(){return n.AsnConvert}}),r.o(n,"AsnIntegerConverter")&&r.d(t,{AsnIntegerConverter:function(){return n.AsnIntegerConverter}});var a=r(96667),s=r(91133),o=r(34837),l=r(16743),c=r(8689);r.o(c,"AsnConvert")&&r.d(t,{AsnConvert:function(){return c.AsnConvert}}),r.o(c,"AsnIntegerConverter")&&r.d(t,{AsnIntegerConverter:function(){return c.AsnIntegerConverter}});var u=r(56653);r.o(u,"AsnConvert")&&r.d(t,{AsnConvert:function(){return u.AsnConvert}}),r.o(u,"AsnIntegerConverter")&&r.d(t,{AsnIntegerConverter:function(){return u.AsnIntegerConverter}});var d=r(37877);r.o(d,"AsnConvert")&&r.d(t,{AsnConvert:function(){return d.AsnConvert}}),r.o(d,"AsnIntegerConverter")&&r.d(t,{AsnIntegerConverter:function(){return d.AsnIntegerConverter}})},56653:(e,t,r)=>{},34837:(e,t,r)=>{"use strict";r.d(t,{AsnParser:()=>c});var i=r(35354),n=r(91133),a=r(71816),s=r(8689),o=r(59743),l=r(75774);class c{static parse(e,t){let r=i.fromBER(e);if(r.result.error)throw Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){var r;try{if((0,o.isConvertible)(t))return new t().fromASN(e);let c=l.schemaStorage.get(t);l.schemaStorage.cache(t);let u=c.schema;if(e.constructor===i.Constructed&&c.type!==n.AsnTypeTypes.Choice)for(let t in u=new i.Constructed({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:c.schema.valueBlock.value}),c.items)delete e[t];let d=i.compareSchema({},e,u);if(!d.verified)throw new s.AsnSchemaValidationError(`Data does not match to ${t.name} ASN1 schema. ${d.result.error}`);let h=new t;if((0,o.isTypeOfArray)(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let r=c.itemType;if("number"!=typeof r)return t.from(e.valueBlock.value,e=>this.fromASN(e,r));{let i=a.defaultConverter(r);if(!i)throw Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,e=>i.fromASN(e))}}for(let e in c.items){let t=d.result[e];if(!t)continue;let a=c.items[e],s=a.type;if("number"==typeof s||(0,o.isConvertible)(s)){let l=null!==(r=a.converter)&&void 0!==r?r:(0,o.isConvertible)(s)?new s:null;if(!l)throw Error("Converter is empty");if(a.repeated){if(a.implicit){let r=new("sequence"===a.repeated?i.Sequence:i.Set);r.valueBlock=t.valueBlock;let n=i.fromBER(r.toBER(!1));if(-1===n.offset)throw Error(`Cannot parse the child item. ${n.result.error}`);if(!("value"in n.result.valueBlock&&Array.isArray(n.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let s=n.result.valueBlock.value;h[e]=Array.from(s,e=>l.fromASN(e))}else h[e]=Array.from(t,e=>l.fromASN(e))}else{let r=t;if(a.implicit){let e;if((0,o.isConvertible)(s))e=new s().toSchema("");else{let t=n.AsnPropTypes[s],r=i[t];if(!r)throw Error(`Cannot get '${t}' class from asn1js module`);e=new r}e.valueBlock=r.valueBlock,r=i.fromBER(e.toBER(!1)).result}h[e]=l.fromASN(r)}}else if(a.repeated){if(!Array.isArray(t))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");h[e]=Array.from(t,e=>this.fromASN(e,s))}else h[e]=this.fromASN(t,s)}return h}catch(e){throw e instanceof s.AsnSchemaValidationError&&e.schemas.push(t.name),e}}}},46833:(e,t,r)=>{"use strict";r.d(t,{AsnSchemaStorage:()=>s});var i=r(35354),n=r(91133),a=r(59743);class s{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let r=this.items.get(e);if(!r)throw Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:n.AsnTypeTypes.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){let r=this.items.get(e)||this.createDefault(e),s=[];for(let e in r.items){let o;let l=r.items[e],c=t?e:"";if("number"==typeof l.type){let e=n.AsnPropTypes[l.type],t=i[e];if(!t)throw Error(`Cannot get ASN1 class by name '${e}'`);o=new t({name:c})}else(0,a.isConvertible)(l.type)?o=new l.type().toSchema(c):l.optional?this.get(l.type).type===n.AsnTypeTypes.Choice?o=new i.Any({name:c}):(o=this.create(l.type,!1)).name=c:o=new i.Any({name:c});let u=!!l.optional||void 0!==l.defaultValue;if(l.repeated&&(o.name="",o=new("set"===l.repeated?i.Set:i.Sequence)({name:"",value:[new i.Repeated({name:c,value:o})]})),null!==l.context&&void 0!==l.context){if(l.implicit){if("number"==typeof l.type||(0,a.isConvertible)(l.type)){let e=l.repeated?i.Constructed:i.Primitive;s.push(new e({name:c,optional:u,idBlock:{tagClass:3,tagNumber:l.context}}))}else{this.cache(l.type);let e=!!l.repeated,t=e?o:this.get(l.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,s.push(new i.Constructed({name:e?"":c,optional:u,idBlock:{tagClass:3,tagNumber:l.context},value:t}))}}else s.push(new i.Constructed({optional:u,idBlock:{tagClass:3,tagNumber:l.context},value:[o]}))}else o.optional=u,s.push(o)}switch(r.type){case n.AsnTypeTypes.Sequence:return new i.Sequence({value:s,name:""});case n.AsnTypeTypes.Set:return new i.Set({value:s,name:""});case n.AsnTypeTypes.Choice:return new i.Choice({value:s,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}},16743:(e,t,r)=>{"use strict";r.d(t,{AsnSerializer:()=>l});var i=r(35354),n=r(71816),a=r(91133),s=r(59743),o=r(75774);class l{static serialize(e){return e instanceof i.BaseBlock?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){let t;if(e&&"object"==typeof e&&(0,s.isConvertible)(e))return e.toASN();if(!(e&&"object"==typeof e))throw TypeError("Parameter 1 should be type of Object.");let r=e.constructor,c=o.schemaStorage.get(r);o.schemaStorage.cache(r);let u=[];if(c.itemType){if(!Array.isArray(e))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof c.itemType){let t=n.defaultConverter(c.itemType);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);u=e.map(e=>t.toASN(e))}else u=e.map(e=>this.toAsnItem({type:c.itemType},"[]",r,e))}else for(let t in c.items){let n=c.items[t],a=e[t];if(void 0===a||n.defaultValue===a||"object"==typeof n.defaultValue&&"object"==typeof a&&(0,s.isArrayEqual)(this.serialize(n.defaultValue),this.serialize(a)))continue;let o=l.toAsnItem(n,t,r,a);if("number"==typeof n.context){if(n.implicit){if(!n.repeated&&("number"==typeof n.type||(0,s.isConvertible)(n.type))){let e={};e.valueHex=o instanceof i.Null?o.valueBeforeDecodeView:o.valueBlock.toBER(),u.push(new i.Primitive({optional:n.optional,idBlock:{tagClass:3,tagNumber:n.context},...e}))}else u.push(new i.Constructed({optional:n.optional,idBlock:{tagClass:3,tagNumber:n.context},value:o.valueBlock.value}))}else u.push(new i.Constructed({optional:n.optional,idBlock:{tagClass:3,tagNumber:n.context},value:[o]}))}else n.repeated?u=u.concat(o):u.push(o)}switch(c.type){case a.AsnTypeTypes.Sequence:t=new i.Sequence({value:u});break;case a.AsnTypeTypes.Set:t=new i.Set({value:u});break;case a.AsnTypeTypes.Choice:if(!u[0])throw Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);t=u[0]}return t}static toAsnItem(e,t,r,n){let s;if("number"==typeof e.type){let o=e.converter;if(!o)throw Error(`Property '${t}' doesn't have converter for type ${a.AsnPropTypes[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(n))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(n,e=>o.toASN(e));s=new("sequence"===e.repeated?i.Sequence:i.Set)({value:t})}else s=o.toASN(n)}else if(e.repeated){if(!Array.isArray(n))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(n,e=>this.toASN(e));s=new("sequence"===e.repeated?i.Sequence:i.Set)({value:t})}else s=this.toASN(n);return s}}},75774:(e,t,r)=>{"use strict";r.d(t,{schemaStorage:()=>i});let i=new(r(46833)).AsnSchemaStorage},4490:(e,t,r)=>{"use strict";r(35354),r(11235)},64367:(e,t,r)=>{"use strict";var i=r(4490);r.o(i,"AsnConvert")&&r.d(t,{AsnConvert:function(){return i.AsnConvert}}),r.o(i,"AsnIntegerConverter")&&r.d(t,{AsnIntegerConverter:function(){return i.AsnIntegerConverter}}),r.o(i,"OctetString")&&r.d(t,{OctetString:function(){return i.OctetString}});var n=r(12077);r.o(n,"AsnConvert")&&r.d(t,{AsnConvert:function(){return n.AsnConvert}}),r.o(n,"AsnIntegerConverter")&&r.d(t,{AsnIntegerConverter:function(){return n.AsnIntegerConverter}}),r.o(n,"OctetString")&&r.d(t,{OctetString:function(){return n.OctetString}})},12077:(e,t,r)=>{"use strict";r.d(t,{OctetString:()=>a});var i=r(35354),n=r(11235);class a{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){"number"==typeof e?this.buffer=new ArrayBuffer(e):n.BufferSourceConverter.isBufferSource(e)?this.buffer=n.BufferSourceConverter.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof i.OctetString))throw TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new i.OctetString({valueHex:this.buffer})}toSchema(e){return new i.OctetString({name:e})}}},86141:(e,t,r)=>{"use strict";var i;r.d(t,{JsonParser:()=>_,JsonProp:()=>x,JsonPropTypes:()=>i,JsonSerializer:()=>S});class n extends Error{constructor(e,t){super(t?`${e}. See the inner exception for more details.`:e),this.message=e,this.innerError=t}}class a extends n{constructor(e,t,r){super(t,r),this.schema=e}}class s extends a{constructor(e,t,r){super(e,`JSON doesn't match to '${e.target.name}' schema. ${t}`,r)}}class o extends n{}class l extends n{constructor(e,t,r){super(`Cannot serialize by '${e}' schema. ${t}`,r),this.schemaName=e}}class c extends s{constructor(e,t,r={}){super(e,"Some keys doesn't match to schema"),this.keys=t,this.errors=r}}function u(e,t){if(!function(e,t){switch(t){case i.Boolean:return"boolean"==typeof e;case i.Number:return"number"==typeof e;case i.String:return"string"==typeof e}return!0}(e,t))throw TypeError(`Value must be ${i[t]}`)}function d(e){return e&&e.prototype?!!e.prototype.toJSON&&!!e.prototype.fromJSON||d(e.prototype):!!(e&&e.toJSON&&e.fromJSON)}!function(e){e[e.Any=0]="Any",e[e.Boolean=1]="Boolean",e[e.Number=2]="Number",e[e.String=3]="String"}(i||(i={}));class h{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){let t=this.items.get(e)||this.findParentSchema(e);if(!t)throw Error("Cannot get schema for current target");return t}create(e){let t={names:{}},r=this.findParentSchema(e);if(r)for(let e in Object.assign(t,r),t.names={},r.names)t.names[e]=Object.assign({},r.names[e]);return t.target=e,t}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=e.__proto__;return t?this.items.get(t)||this.findParentSchema(t):null}}let p="default",f=new h;class m{constructor(e){this.pattern=new RegExp(e)}validate(e){let t=new RegExp(this.pattern.source,this.pattern.flags);if("string"!=typeof e)throw new o("Incoming value must be string");if(!t.exec(e))throw new o(`Value doesn't match to pattern '${t.toString()}'`)}}class g{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(u(e,i.Number),!(this.min<=e&&e<=this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new o(`Value doesn't match to diapason [${e},${t}]`)}}}class y{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(u(e,i.Number),!(this.min<e&&e<this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new o(`Value doesn't match to diapason (${e},${t})`)}}}class v{constructor(e,t,r){this.length=e,this.minLength=t,this.maxLength=r}validate(e){if(void 0!==this.length){if(e.length!==this.length)throw new o(`Value length must be exactly ${this.length}.`);return}if(void 0!==this.minLength&&e.length<this.minLength)throw new o(`Value length must be more than ${this.minLength}.`);if(void 0!==this.maxLength&&e.length>this.maxLength)throw new o(`Value length must be less than ${this.maxLength}.`)}}class b{constructor(e){this.enumeration=e}validate(e){if(u(e,i.String),!this.enumeration.includes(e))throw new o(`Value must be one of ${this.enumeration.map(e=>`'${e}'`).join(", ")}`)}}class w{static checkValues(e,t){for(let r of Array.isArray(e)?e:[e])for(let i of t.validations)i instanceof v&&t.repeated?i.validate(e):i.validate(r)}static checkTypes(e,t){if(t.repeated&&!Array.isArray(e))throw TypeError("Value must be Array");if("number"==typeof t.type)for(let r of Array.isArray(e)?e:[e])u(r,t.type)}static getSchemaByName(e,t=p){return{...e.names[p],...e.names[t]}}}class S extends w{static serialize(e,t,r,i){return JSON.stringify(this.toJSON(e,t),r,i)}static toJSON(e,t={}){let r;let i=t.targetSchema,a=t.schemaName||p;if(d(e))return e.toJSON();if(Array.isArray(e))for(let i of(r=[],e))r.push(this.toJSON(i,t));else if("object"==typeof e){if(i&&!f.has(i))throw new n("Cannot get schema for `targetSchema` param");if(i=i||e.constructor,f.has(i)){let t=f.get(i);r={};let n=this.getSchemaByName(t,a);for(let s in n)try{let t;let o=n[s],c=e[s];if(o.optional&&void 0===c||void 0!==o.defaultValue&&c===o.defaultValue)continue;if(!o.optional&&void 0===c)throw new l(i.name,`Property '${s}' is required.`);t="number"==typeof o.type?o.converter?o.repeated?c.map(t=>o.converter.toJSON(t,e)):o.converter.toJSON(c,e):c:o.repeated?c.map(e=>this.toJSON(e,{schemaName:a})):this.toJSON(c,{schemaName:a}),this.checkTypes(t,o),this.checkValues(t,o),r[o.name||s]=t}catch(e){if(e instanceof l)throw e;throw new l(t.target.name,`Property '${s}' is wrong. ${e.message}`,e)}}else for(let t in r={},e)r[t]=this.toJSON(e[t],{schemaName:a})}else r=e;return r}}class _ extends w{static parse(e,t){let r=JSON.parse(e);return this.fromJSON(r,t)}static fromJSON(e,t){let r=t.targetSchema,i=t.schemaName||p,n=new r;if(d(n))return n.fromJSON(e);let a=f.get(r),o=this.getSchemaByName(a,i),l={};for(let r in t.strictProperty&&!Array.isArray(e)&&_.checkStrictProperty(e,o,a),o)try{let l=o[r],c=l.name||r,u=e[c];if(void 0===u&&(l.optional||void 0!==l.defaultValue))continue;if(!l.optional&&void 0===u)throw new s(a,`Property '${c}' is required.`);if(this.checkTypes(u,l),this.checkValues(u,l),"number"==typeof l.type)l.converter?l.repeated?n[r]=u.map(e=>l.converter.fromJSON(e,n)):n[r]=l.converter.fromJSON(u,n):n[r]=u;else{let e={...t,targetSchema:l.type,schemaName:i};l.repeated?n[r]=u.map(t=>this.fromJSON(t,e)):n[r]=this.fromJSON(u,e)}}catch(e){if(e instanceof s||(e=new s(a,`Property '${r}' is wrong. ${e.message}`,e)),t.strictAllKeys)l[r]=e;else throw e}let u=Object.keys(l);if(u.length)throw new c(a,u,l);return n}static checkStrictProperty(e,t,r){let i=Object.keys(e),n=Object.keys(t),a=[];for(let e of i)-1===n.indexOf(e)&&a.push(e);if(a.length)throw new c(r,a)}}let x=(e={})=>(t,r)=>{let n;let a=`Cannot set type for ${r} property of ${t.constructor.name} schema`;f.has(t.constructor)?(n=f.get(t.constructor)).target!==t.constructor&&(n=f.create(t.constructor),f.set(t.constructor,n)):(n=f.create(t.constructor),f.set(t.constructor,n));let s=Object.assign({type:i.Any,validations:[]},e);if(s.validations=function(e){let t=[];return e.pattern&&t.push(new m(e.pattern)),(e.type===i.Number||e.type===i.Any)&&((void 0!==e.minInclusive||void 0!==e.maxInclusive)&&t.push(new g(e.minInclusive,e.maxInclusive)),(void 0!==e.minExclusive||void 0!==e.maxExclusive)&&t.push(new y(e.minExclusive,e.maxExclusive)),void 0!==e.enumeration&&t.push(new b(e.enumeration))),(e.type===i.String||e.repeated||e.type===i.Any)&&(void 0!==e.length||void 0!==e.minLength||void 0!==e.maxLength)&&t.push(new v(e.length,e.minLength,e.maxLength)),t}(s),"number"!=typeof s.type&&!f.has(s.type)&&!d(s.type))throw Error(`${a}. Assigning type doesn't have schema.`);for(let t of Array.isArray(e.schema)?e.schema:[e.schema||p])n.names[t]||(n.names[t]={}),n.names[t][r]=s}},31717:(e,t,r)=>{"use strict";r.d(t,{Crypto:()=>e_});var i=r(58483),n=r(6113),a=r.n(n),s=r(77282),o=r(92346),l=r(86141),c=r(11235),u=r(58412);/*!
 Copyright (c) Peculiar Ventures, LLC
*/let d={fromJSON:e=>Buffer.from(c.Convert.FromBase64Url(e)),toJSON:e=>c.Convert.ToBase64Url(e)};class h extends i.CryptoKey{constructor(){super(...arguments),this.data=Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}}(0,o.__decorate)([(0,l.JsonProp)({name:"ext",type:l.JsonPropTypes.Boolean,optional:!0})],h.prototype,"extractable",void 0),(0,o.__decorate)([(0,l.JsonProp)({name:"key_ops",type:l.JsonPropTypes.String,repeated:!0,optional:!0})],h.prototype,"usages",void 0),(0,o.__decorate)([(0,l.JsonProp)({type:l.JsonPropTypes.String})],h.prototype,"kty",void 0),(0,o.__decorate)([(0,l.JsonProp)({type:l.JsonPropTypes.String,optional:!0})],h.prototype,"alg",void 0);class p extends h{constructor(){super(...arguments),this.kty="oct",this.type="secret"}}class f extends h{}class m extends p{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new i.AlgorithmError("Unsupported algorithm name")}}set alg(e){}}(0,o.__decorate)([(0,l.JsonProp)({name:"k",converter:d})],m.prototype,"data",void 0);let g=new WeakMap;function y(e){let t=g.get(e);if(!t)throw new i.OperationError("Cannot get CryptoKey from secure storage");return t}function v(e){let t=i.CryptoKey.create(e.algorithm,e.type,e.extractable,e.usages);return Object.freeze(t),g.set(t,e),t}class b{static async generateKey(e,t,r){let i=new m;return i.algorithm=e,i.extractable=t,i.usages=r,i.data=a().randomBytes(e.length>>3),i}static async exportKey(e,t){if(!(t instanceof m))throw Error("key: Is not AesCryptoKey");switch(e.toLowerCase()){case"jwk":return l.JsonSerializer.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new i.OperationError("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,n,a){let s;switch(e.toLowerCase()){case"jwk":s=l.JsonParser.fromJSON(t,{targetSchema:m});break;case"raw":(s=new m).data=Buffer.from(t);break;default:throw new i.OperationError("format: Must be 'jwk' or 'raw'")}switch(s.algorithm=r,s.algorithm.length=s.data.length<<3,s.extractable=n,s.usages=a,s.algorithm.length){case 128:case 192:case 256:break;default:throw new i.OperationError("keyData: Is wrong key length")}return s}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(e,t,Buffer.from(r));case"AES-CTR":return this.encryptAesCTR(e,t,Buffer.from(r));case"AES-GCM":return this.encryptAesGCM(e,t,Buffer.from(r));case"AES-KW":return this.encryptAesKW(e,t,Buffer.from(r));case"AES-ECB":return this.encryptAesECB(e,t,Buffer.from(r));default:throw new i.OperationError("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof m))throw Error("key: Is not AesCryptoKey");switch(e.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(e,t,Buffer.from(r));case"AES-CTR":return this.decryptAesCTR(e,t,Buffer.from(r));case"AES-GCM":return this.decryptAesGCM(e,t,Buffer.from(r));case"AES-KW":return this.decryptAesKW(e,t,Buffer.from(r));case"AES-ECB":return this.decryptAesECB(e,t,Buffer.from(r));default:throw new i.OperationError("algorithm: Is not recognized")}}static async encryptAesCBC(e,t,r){let i=a().createCipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptAesCBC(e,t,r){let i=a().createDecipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async encryptAesCTR(e,t,r){let i=a().createCipheriv(`aes-${t.algorithm.length}-ctr`,t.data,Buffer.from(e.counter)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptAesCTR(e,t,r){let i=a().createDecipheriv(`aes-${t.algorithm.length}-ctr`,t.data,new Uint8Array(e.counter)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async encryptAesGCM(e,t,r){let i=a().createCipheriv(`aes-${t.algorithm.length}-gcm`,t.data,Buffer.from(e.iv),{authTagLength:(e.tagLength||128)>>3});e.additionalData&&i.setAAD(Buffer.from(e.additionalData));let n=i.update(r);return n=Buffer.concat([n,i.final(),i.getAuthTag()]),new Uint8Array(n).buffer}static async decryptAesGCM(e,t,r){let i=a().createDecipheriv(`aes-${t.algorithm.length}-gcm`,t.data,new Uint8Array(e.iv)),n=(e.tagLength||128)>>3,s=r.slice(0,r.length-n),o=r.slice(r.length-n);e.additionalData&&i.setAAD(Buffer.from(e.additionalData)),i.setAuthTag(o);let l=i.update(s);return l=Buffer.concat([l,i.final()]),new Uint8Array(l).buffer}static async encryptAesKW(e,t,r){let i=a().createCipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptAesKW(e,t,r){let i=a().createDecipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async encryptAesECB(e,t,r){let i=a().createCipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptAesECB(e,t,r){let i=a().createDecipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}}b.AES_KW_IV=Buffer.from("A6A6A6A6A6A6A6A6","hex");class w extends i.AesCbcProvider{async onGenerateKey(e,t,r){return v(await b.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return b.encrypt(e,y(t),new Uint8Array(r))}async onDecrypt(e,t,r){return b.decrypt(e,y(t),new Uint8Array(r))}async onExportKey(e,t){return b.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await b.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof m))throw TypeError("key: Is not a AesCryptoKey")}}let S=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]);function x(e){let t=Buffer.alloc(e.length),r=e.length-1;for(let i=0;i<r;i++)t[i]=e[i]<<1,128&e[i+1]&&(t[i]+=1);return t[r]=e[r]<<1,t}function k(e,t){let r=Math.min(e.length,t.length),i=Buffer.alloc(r);for(let n=0;n<r;n++)i[n]=e[n]^t[n];return i}function E(e,t){let r=n.createCipheriv(`aes${e.length<<3}`,e,S),i=r.update(t);return r.final(),i}function C(e,t){let r=Buffer.alloc(16),i=16*t;return e.copy(r,0,i,i+16),r}class R extends i.AesCmacProvider{async onGenerateKey(e,t,r){return v(await b.generateKey({name:this.name,length:e.length},t,r))}async onSign(e,t,r){let i=function(e,t){let r,i;let n=function(e){let t=E(e,S),r=x(t);128&t[0]&&(r=k(r,_));let i=x(r);return 128&r[0]&&(i=k(i,_)),{subkey1:r,subkey2:i}}(e),a=Math.ceil(t.length/16);0===a?(a=1,r=!1):r=t.length%16==0;let s=a-1;i=r?k(C(t,s),n.subkey1):k(function(e,t){let r=Buffer.alloc(16),i=16*t,n=e.length;return r.fill(0),e.copy(r,0,i,n),r[n-i]=128,r}(t,s),n.subkey2);let o=S;for(let r=0;r<s;r++)o=E(e,k(o,C(t,r)));return E(e,k(i,o))}(y(t).data,Buffer.from(r));return new Uint8Array(i).buffer}async onVerify(e,t,r,i){let n=await this.sign(e,t,i);return 0===Buffer.from(r).compare(Buffer.from(n))}async onExportKey(e,t){return b.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await b.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof m))throw TypeError("key: Is not a AesCryptoKey")}}class A extends i.AesCtrProvider{async onGenerateKey(e,t,r){return v(await b.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return b.encrypt(e,y(t),new Uint8Array(r))}async onDecrypt(e,t,r){return b.decrypt(e,y(t),new Uint8Array(r))}async onExportKey(e,t){return b.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await b.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof m))throw TypeError("key: Is not a AesCryptoKey")}}class T extends i.AesGcmProvider{async onGenerateKey(e,t,r){return v(await b.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return b.encrypt(e,y(t),new Uint8Array(r))}async onDecrypt(e,t,r){return b.decrypt(e,y(t),new Uint8Array(r))}async onExportKey(e,t){return b.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await b.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof m))throw TypeError("key: Is not a AesCryptoKey")}}class P extends i.AesKwProvider{async onGenerateKey(e,t,r){return v(await b.generateKey({name:this.name,length:e.length},t,r))}async onExportKey(e,t){return b.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await b.importKey(e,t,{name:r.name},i,n))}async onEncrypt(e,t,r){return b.encrypt(e,y(t),new Uint8Array(r))}async onDecrypt(e,t,r){return b.decrypt(e,y(t),new Uint8Array(r))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof m))throw TypeError("key: Is not a AesCryptoKey")}}class O extends i.AesEcbProvider{async onGenerateKey(e,t,r){return v(await b.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return b.encrypt(e,y(t),new Uint8Array(r))}async onDecrypt(e,t,r){return b.decrypt(e,y(t),new Uint8Array(r))}async onExportKey(e,t){return b.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await b.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof m))throw TypeError("key: Is not a AesCryptoKey")}}class I extends p{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new i.AlgorithmError("Unsupported algorithm name")}}set alg(e){}}(0,o.__decorate)([(0,l.JsonProp)({name:"k",converter:d})],I.prototype,"data",void 0);class N{static async generateKey(e,t,r){let i=new I;return i.algorithm=e,i.extractable=t,i.usages=r,i.data=a().randomBytes(e.length>>3),i}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return l.JsonSerializer.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new i.OperationError("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,n,a){let s;switch(e.toLowerCase()){case"jwk":s=l.JsonParser.fromJSON(t,{targetSchema:I});break;case"raw":(s=new I).data=Buffer.from(t);break;default:throw new i.OperationError("format: Must be 'jwk' or 'raw'")}return s.algorithm=r,s.extractable=n,s.usages=a,s}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(e,t,Buffer.from(r));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(e,t,Buffer.from(r));default:throw new i.OperationError("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof I))throw Error("key: Is not DesCryptoKey");switch(e.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(e,t,Buffer.from(r));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(e,t,Buffer.from(r));default:throw new i.OperationError("algorithm: Is not recognized")}}static async encryptDesCBC(e,t,r){let i=a().createCipheriv("des-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptDesCBC(e,t,r){let i=a().createDecipheriv("des-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async encryptDesEDE3CBC(e,t,r){let i=a().createCipheriv("des-ede3-cbc",t.data,Buffer.from(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptDesEDE3CBC(e,t,r){let i=a().createDecipheriv("des-ede3-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}}class j extends i.DesProvider{constructor(){super(...arguments),this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(e,t,r){return v(await N.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return N.encrypt(e,y(t),new Uint8Array(r))}async onDecrypt(e,t,r){return N.decrypt(e,y(t),new Uint8Array(r))}async onExportKey(e,t){return N.exportKey(e,y(t))}async onImportKey(e,t,r,n,a){let s=await N.importKey(e,t,{name:this.name,length:this.keySizeBits},n,a);if(s.data.length!==this.keySizeBits>>3)throw new i.OperationError("keyData: Wrong key size");return v(s)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof I))throw TypeError("key: Is not a DesCryptoKey")}}class B extends i.DesProvider{constructor(){super(...arguments),this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(e,t,r){return v(await N.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return N.encrypt(e,y(t),new Uint8Array(r))}async onDecrypt(e,t,r){return N.decrypt(e,y(t),new Uint8Array(r))}async onExportKey(e,t){return N.exportKey(e,y(t))}async onImportKey(e,t,r,n,a){let s=await N.importKey(e,t,{name:this.name,length:this.keySizeBits},n,a);if(s.data.length!==this.keySizeBits>>3)throw new i.OperationError("keyData: Wrong key size");return v(s)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof I))throw TypeError("key: Is not a DesCryptoKey")}}function U(e){switch(e.name.toUpperCase()){case"RSA-OAEP":{let t=/(\d+)$/.exec(e.hash.name)[1];return`RSA-OAEP${"1"!==t?`-${t}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new i.OperationError("algorithm: Is not recognized")}}class L extends f{constructor(){super(...arguments),this.type="private"}getKey(){let e=u.AsnParser.parse(this.data,i.asn1.PrivateKeyInfo);return u.AsnParser.parse(e.privateKey,i.asn1.RsaPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:U(this.algorithm),key_ops:this.usages,ext:this.extractable},l.JsonSerializer.toJSON(e))}fromJSON(e){let t=l.JsonParser.fromJSON(e,{targetSchema:i.asn1.RsaPrivateKey}),r=new i.asn1.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.privateKeyAlgorithm.parameters=null,r.privateKey=u.AsnSerializer.serialize(t),this.data=Buffer.from(u.AsnSerializer.serialize(r))}}class M extends f{constructor(){super(...arguments),this.type="public"}getKey(){let e=u.AsnParser.parse(this.data,i.asn1.PublicKeyInfo);return u.AsnParser.parse(e.publicKey,i.asn1.RsaPublicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:U(this.algorithm),key_ops:this.usages,ext:this.extractable},l.JsonSerializer.toJSON(e))}fromJSON(e){let t=l.JsonParser.fromJSON(e,{targetSchema:i.asn1.RsaPublicKey}),r=new i.asn1.PublicKeyInfo;r.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.publicKeyAlgorithm.parameters=null,r.publicKey=u.AsnSerializer.serialize(t),this.data=Buffer.from(u.AsnSerializer.serialize(r))}}class D{static async generateKey(e,t,r){let i=new L;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new M;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let s=Buffer.concat([Buffer.alloc(4-e.publicExponent.byteLength,0),Buffer.from(e.publicExponent)]).readInt32BE(0),o=a().generateKeyPairSync("rsa",{modulusLength:e.modulusLength,publicExponent:s,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=o.privateKey,n.data=o.publicKey,{privateKey:i,publicKey:n}}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return l.JsonSerializer.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;default:throw new i.OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(e,t,r,n,a){switch(e.toLowerCase()){case"jwk":if(t.d){let e=l.JsonParser.fromJSON(t,{targetSchema:i.asn1.RsaPrivateKey});return this.importPrivateKey(e,r,n,a)}{let e=l.JsonParser.fromJSON(t,{targetSchema:i.asn1.RsaPublicKey});return this.importPublicKey(e,r,n,a)}case"spki":{let e=u.AsnParser.parse(new Uint8Array(t),i.asn1.PublicKeyInfo),s=u.AsnParser.parse(e.publicKey,i.asn1.RsaPublicKey);return this.importPublicKey(s,r,n,a)}case"pkcs8":{let e=u.AsnParser.parse(new Uint8Array(t),i.asn1.PrivateKeyInfo),s=u.AsnParser.parse(e.privateKey,i.asn1.RsaPrivateKey);return this.importPrivateKey(s,r,n,a)}default:throw new i.OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(e,t,r){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(e,t,r);default:throw new i.OperationError("algorithm: Is not recognized")}}static async verify(e,t,r,n){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(e,t,n,r);default:throw new i.OperationError("algorithm: Is not recognized")}}static async encrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.encryptOAEP(e,t,r);throw new i.OperationError("algorithm: Is not recognized")}static async decrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.decryptOAEP(e,t,r);throw new i.OperationError("algorithm: Is not recognized")}static importPrivateKey(e,t,r,n){let a=new i.asn1.PrivateKeyInfo;a.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",a.privateKeyAlgorithm.parameters=null,a.privateKey=u.AsnSerializer.serialize(e);let s=new L;return s.data=Buffer.from(u.AsnSerializer.serialize(a)),s.algorithm=Object.assign({},t),s.algorithm.publicExponent=new Uint8Array(e.publicExponent),s.algorithm.modulusLength=e.modulus.byteLength<<3,s.extractable=r,s.usages=n,s}static importPublicKey(e,t,r,n){let a=new i.asn1.PublicKeyInfo;a.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",a.publicKeyAlgorithm.parameters=null,a.publicKey=u.AsnSerializer.serialize(e);let s=new M;return s.data=Buffer.from(u.AsnSerializer.serialize(a)),s.algorithm=Object.assign({},t),s.algorithm.publicExponent=new Uint8Array(e.publicExponent),s.algorithm.modulusLength=e.modulus.byteLength<<3,s.extractable=r,s.usages=n,s}static getCryptoAlgorithm(e){switch(e.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new i.OperationError("algorithm.hash: Is not recognized")}}static signRsa(e,t,r){let i=this.getCryptoAlgorithm(t.algorithm),n=a().createSign(i);n.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let s={key:t.pem};"RSA-PSS"===e.name.toUpperCase()&&(s.padding=a().constants.RSA_PKCS1_PSS_PADDING,s.saltLength=e.saltLength);let o=n.sign(s);return new Uint8Array(o).buffer}static verifySSA(e,t,r,i){let n=this.getCryptoAlgorithm(t.algorithm),s=a().createVerify(n);s.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let o={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(o.padding=a().constants.RSA_PKCS1_PSS_PADDING,o.saltLength=e.saltLength),s.verify(o,i)}static encryptOAEP(e,t,r){let i={key:`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:a().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(a().publicEncrypt(i,r)).buffer}static decryptOAEP(e,t,r){let i={key:`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:a().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(a().privateDecrypt(i,r)).buffer}}D.publicKeyUsages=["verify","encrypt","wrapKey"],D.privateKeyUsages=["sign","decrypt","unwrapKey"];class K extends i.RsaSsaProvider{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await D.generateKey({...e,name:this.name},t,r);return{privateKey:v(i.privateKey),publicKey:v(i.publicKey)}}async onSign(e,t,r){return D.sign(e,y(t),new Uint8Array(r))}async onVerify(e,t,r,i){return D.verify(e,y(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return D.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await D.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=y(e);if(!(r instanceof L||r instanceof M))throw TypeError("key: Is not RSA CryptoKey")}}class q extends i.RsaPssProvider{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await D.generateKey({...e,name:this.name},t,r);return{privateKey:v(i.privateKey),publicKey:v(i.publicKey)}}async onSign(e,t,r){return D.sign(e,y(t),new Uint8Array(r))}async onVerify(e,t,r,i){return D.verify(e,y(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return D.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await D.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=y(e);if(!(r instanceof L||r instanceof M))throw TypeError("key: Is not RSA CryptoKey")}}class ${static size(e){switch(e.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw Error("Unrecognized name")}}static getAlgorithmName(e){switch(e.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw Error("Unrecognized name")}}static digest(e,t){let r=this.getAlgorithmName(e),i=a().createHash(r).update(Buffer.from(t)).digest();return new Uint8Array(i).buffer}}class F extends i.RsaOaepProvider{async onGenerateKey(e,t,r){let i=await D.generateKey({...e,name:this.name},t,r);return{privateKey:v(i.privateKey),publicKey:v(i.publicKey)}}async onEncrypt(e,t,r){let n=y(t),s=new Uint8Array(r),o=Math.ceil(n.algorithm.modulusLength>>3),l=$.size(n.algorithm.hash)>>3,c=s.byteLength,u=o-c-2*l-2;if(c>o-2*l-2)throw Error("Data too large");let d=new Uint8Array(o),h=d.subarray(1,l+1),p=d.subarray(l+1);p.set(s,l+u+1);let f=a().createHash(n.algorithm.hash.name.replace("-","")).update(i.BufferSourceConverter.toUint8Array(e.label||new Uint8Array(0))).digest();p.set(f,0),p[l+u]=1,a().randomFillSync(h);let m=this.mgf1(n.algorithm.hash,h,p.length);for(let e=0;e<p.length;e++)p[e]^=m[e];let g=this.mgf1(n.algorithm.hash,p,h.length);for(let e=0;e<h.length;e++)h[e]^=g[e];n.pem||(n.pem=`-----BEGIN PUBLIC KEY-----
${n.data.toString("base64")}
-----END PUBLIC KEY-----`);let v=a().publicEncrypt({key:n.pem,padding:a().constants.RSA_NO_PADDING},Buffer.from(d));return new Uint8Array(v).buffer}async onDecrypt(e,t,r){let n=y(t),s=Math.ceil(n.algorithm.modulusLength>>3),o=$.size(n.algorithm.hash)>>3;if(r.byteLength!==s)throw Error("Bad data");n.pem||(n.pem=`-----BEGIN PRIVATE KEY-----
${n.data.toString("base64")}
-----END PRIVATE KEY-----`);let l=a().privateDecrypt({key:n.pem,padding:a().constants.RSA_NO_PADDING},Buffer.from(r)),c=l[0],u=l.subarray(1,o+1),d=l.subarray(o+1);if(0!==c)throw Error("Decryption failed");let h=this.mgf1(n.algorithm.hash,d,u.length);for(let e=0;e<u.length;e++)u[e]^=h[e];let p=this.mgf1(n.algorithm.hash,u,d.length);for(let e=0;e<d.length;e++)d[e]^=p[e];let f=a().createHash(n.algorithm.hash.name.replace("-","")).update(i.BufferSourceConverter.toUint8Array(e.label||new Uint8Array(0))).digest();for(let e=0;e<o;e++)if(f[e]!==d[e])throw Error("Decryption failed");let m=o;for(;m<d.length;m++){let e=d[m];if(1===e)break;if(0!==e)throw Error("Decryption failed")}if(m===d.length)throw Error("Decryption failed");return l=d.subarray(m+1),new Uint8Array(l).buffer}async onExportKey(e,t){return D.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await D.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=y(e);if(!(r instanceof L||r instanceof M))throw TypeError("key: Is not RSA CryptoKey")}mgf1(e,t,r=0){let i=$.size(e)>>3,n=new Uint8Array(r),s=new Uint8Array(4),o=Math.ceil(r/i);for(let r=0;r<o;r++){s[0]=r>>>24,s[1]=r>>>16&255,s[2]=r>>>8&255,s[3]=255&r;let o=n.subarray(r*i),l=a().createHash(e.name.replace("-","")).update(t).update(s).digest();l.length>o.length&&(l=l.subarray(0,o.length)),o.set(l)}return n}}class z extends i.ProviderCrypto{constructor(){super(...arguments),this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(e,t,r){let i=await D.generateKey({...e,name:this.name},t,r);return{privateKey:v(i.privateKey),publicKey:v(i.publicKey)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=c.Convert.ToBase64(e.publicExponent);if(!("Aw=="===t||"AQAB"===t))throw TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(e,t,r){let i=this.toCryptoOptions(t),a=n.publicEncrypt(i,new Uint8Array(r));return new Uint8Array(a).buffer}async onDecrypt(e,t,r){let i=this.toCryptoOptions(t),a=n.privateDecrypt(i,new Uint8Array(r));return new Uint8Array(a).buffer}async onExportKey(e,t){return D.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await D.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=y(e);if(!(r instanceof L||r instanceof M))throw TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(e){let t=e.type.toUpperCase();return{key:`-----BEGIN ${t} KEY-----
${y(e).data.toString("base64")}
-----END ${t} KEY-----`,padding:n.constants.RSA_PKCS1_PADDING}}}let V={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function H(e){let t=V[e];if(!t)throw new i.OperationError(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class W extends f{constructor(){super(...arguments),this.type="private"}getKey(){let e=u.AsnParser.parse(this.data,i.asn1.PrivateKeyInfo);return u.AsnParser.parse(e.privateKey,i.asn1.EcPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},l.JsonSerializer.toJSON(e))}fromJSON(e){if(!e.crv)throw new i.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let t=new i.asn1.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",t.privateKeyAlgorithm.parameters=u.AsnSerializer.serialize(new i.asn1.ObjectIdentifier(H(e.crv)));let r=l.JsonParser.fromJSON(e,{targetSchema:i.asn1.EcPrivateKey});return t.privateKey=u.AsnSerializer.serialize(r),this.data=Buffer.from(u.AsnSerializer.serialize(t)),this}}class G extends f{constructor(){super(...arguments),this.type="public"}getKey(){let e=u.AsnParser.parse(this.data,i.asn1.PublicKeyInfo);return new i.asn1.EcPublicKey(e.publicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},l.JsonSerializer.toJSON(e))}fromJSON(e){if(!e.crv)throw new i.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let t=l.JsonParser.fromJSON(e,{targetSchema:i.asn1.EcPublicKey}),r=new i.asn1.PublicKeyInfo;return r.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",r.publicKeyAlgorithm.parameters=u.AsnSerializer.serialize(new i.asn1.ObjectIdentifier(H(e.crv))),r.publicKey=u.AsnSerializer.toASN(t).valueHex,this.data=Buffer.from(u.AsnSerializer.serialize(r)),this}}class J extends i.ProviderCrypto{constructor(){super(...arguments),this.name="SHA-1",this.usages=[]}async onDigest(e,t){return $.digest(e,t)}}class Y extends i.ProviderCrypto{constructor(){super(...arguments),this.name="SHA-256",this.usages=[]}async onDigest(e,t){return $.digest(e,t)}}class X extends i.ProviderCrypto{constructor(){super(...arguments),this.name="SHA-384",this.usages=[]}async onDigest(e,t){return $.digest(e,t)}}class Q extends i.ProviderCrypto{constructor(){super(...arguments),this.name="SHA-512",this.usages=[]}async onDigest(e,t){return $.digest(e,t)}}class Z extends i.ProviderCrypto{constructor(){super(...arguments),this.name="SHA3-256",this.usages=[]}async onDigest(e,t){return $.digest(e,t)}}class ee extends i.ProviderCrypto{constructor(){super(...arguments),this.name="SHA3-384",this.usages=[]}async onDigest(e,t){return $.digest(e,t)}}class et extends i.ProviderCrypto{constructor(){super(...arguments),this.name="SHA3-512",this.usages=[]}async onDigest(e,t){return $.digest(e,t)}}class er{static async generateKey(e,t,r){let i=new W;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new G;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let s=a().generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(e.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=s.privateKey,n.data=s.publicKey,{privateKey:i,publicKey:n}}static async sign(e,t,r){let n=$.getAlgorithmName(e.hash),s=a().createSign(n);s.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let o={key:t.pem},l=s.sign(o),c=u.AsnParser.parse(l,i.asn1.EcDsaSignature);return i.EcUtils.encodeSignature(c,i.EcCurves.get(t.algorithm.namedCurve).size).buffer}static async verify(e,t,r,n){let s=$.getAlgorithmName(e.hash),o=a().createVerify(s);o.update(Buffer.from(n)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let l={key:t.pem},d=new i.asn1.EcDsaSignature,h=i.EcCurves.get(t.algorithm.namedCurve),p=i.EcUtils.decodeSignature(r,h.size);d.r=c.BufferSourceConverter.toArrayBuffer(p.r),d.s=c.BufferSourceConverter.toArrayBuffer(p.s);let f=Buffer.from(u.AsnSerializer.serialize(d));return o.verify(l,f)}static async deriveBits(e,t,r){let n=this.getOpenSSLNamedCurve(t.algorithm.namedCurve),s=a().createECDH(n),o=u.AsnParser.parse(t.data,i.asn1.PrivateKeyInfo),l=u.AsnParser.parse(o.privateKey,i.asn1.EcPrivateKey);s.setPrivateKey(Buffer.from(l.privateKey));let c=u.AsnParser.parse(e.public.data,i.asn1.PublicKeyInfo),d=s.computeSecret(Buffer.from(c.publicKey));return null===r?d:new Uint8Array(d).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return l.JsonSerializer.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return u.AsnParser.parse(t.data,i.asn1.PublicKeyInfo).publicKey;default:throw new i.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,n,a){switch(e.toLowerCase()){case"jwk":if(t.d){let e=l.JsonParser.fromJSON(t,{targetSchema:i.asn1.EcPrivateKey});return this.importPrivateKey(e,r,n,a)}{let e=l.JsonParser.fromJSON(t,{targetSchema:i.asn1.EcPublicKey});return this.importPublicKey(e,r,n,a)}case"raw":{let e=new i.asn1.EcPublicKey(t);return this.importPublicKey(e,r,n,a)}case"spki":{let e=u.AsnParser.parse(new Uint8Array(t),i.asn1.PublicKeyInfo),s=new i.asn1.EcPublicKey(e.publicKey);return this.assertKeyParameters(e.publicKeyAlgorithm.parameters,r.namedCurve),this.importPublicKey(s,r,n,a)}case"pkcs8":{let e=u.AsnParser.parse(new Uint8Array(t),i.asn1.PrivateKeyInfo),s=u.AsnParser.parse(e.privateKey,i.asn1.EcPrivateKey);return this.assertKeyParameters(e.privateKeyAlgorithm.parameters,r.namedCurve),this.importPrivateKey(s,r,n,a)}default:throw new i.OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(e,t){if(!e)throw new i.CryptoError("Key info doesn't have required parameters");let r="";try{r=u.AsnParser.parse(e,i.asn1.ObjectIdentifier).value}catch(e){throw new i.CryptoError("Cannot read key info parameters")}if(H(t)!==r)throw new i.CryptoError("Key info parameter doesn't match to named curve")}static async importPrivateKey(e,t,r,n){let a=new i.asn1.PrivateKeyInfo;a.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",a.privateKeyAlgorithm.parameters=u.AsnSerializer.serialize(new i.asn1.ObjectIdentifier(H(t.namedCurve))),a.privateKey=u.AsnSerializer.serialize(e);let s=new W;return s.data=Buffer.from(u.AsnSerializer.serialize(a)),s.algorithm=Object.assign({},t),s.extractable=r,s.usages=n,s}static async importPublicKey(e,t,r,n){let a=new i.asn1.PublicKeyInfo;a.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let s=H(t.namedCurve);a.publicKeyAlgorithm.parameters=u.AsnSerializer.serialize(new i.asn1.ObjectIdentifier(s)),a.publicKey=e.value;let o=new G;return o.data=Buffer.from(u.AsnSerializer.serialize(a)),o.algorithm=Object.assign({},t),o.extractable=r,o.usages=n,o}static getOpenSSLNamedCurve(e){switch(e.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return e}}}er.publicKeyUsages=["verify"],er.privateKeyUsages=["sign","deriveKey","deriveBits"];class ei extends i.EcdsaProvider{constructor(){super(...arguments),this.namedCurves=i.EcCurves.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await er.generateKey({...e,name:this.name},t,r);return{privateKey:v(i.privateKey),publicKey:v(i.publicKey)}}async onSign(e,t,r){return er.sign(e,y(t),new Uint8Array(r))}async onVerify(e,t,r,i){return er.verify(e,y(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return er.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await er.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=y(e);if(!(r instanceof W||r instanceof G))throw TypeError("key: Is not EC CryptoKey")}}class en extends i.EcdhProvider{constructor(){super(...arguments),this.namedCurves=i.EcCurves.names}async onGenerateKey(e,t,r){let i=await er.generateKey({...e,name:this.name},t,r);return{privateKey:v(i.privateKey),publicKey:v(i.publicKey)}}async onExportKey(e,t){return er.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await er.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=y(e);if(!(r instanceof W||r instanceof G))throw TypeError("key: Is not EC CryptoKey")}async onDeriveBits(e,t,r){return await er.deriveBits({...e,public:y(e.public)},y(t),r)}}let ea={[i.asn1.idEd448]:"Ed448",ed448:i.asn1.idEd448,[i.asn1.idX448]:"X448",x448:i.asn1.idX448,[i.asn1.idEd25519]:"Ed25519",ed25519:i.asn1.idEd25519,[i.asn1.idX25519]:"X25519",x25519:i.asn1.idX25519};function es(e){let t=ea[e.toLowerCase()];if(!t)throw new i.OperationError(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class eo extends f{constructor(){super(...arguments),this.type="private"}getKey(){let e=u.AsnParser.parse(this.data,i.asn1.PrivateKeyInfo);return u.AsnParser.parse(e.privateKey,i.asn1.CurvePrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},l.JsonSerializer.toJSON(e))}fromJSON(e){if(!e.crv)throw new i.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let t=new i.asn1.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm=es(e.crv);let r=l.JsonParser.fromJSON(e,{targetSchema:i.asn1.CurvePrivateKey});return t.privateKey=u.AsnSerializer.serialize(r),this.data=Buffer.from(u.AsnSerializer.serialize(t)),this}}class el extends f{constructor(){super(...arguments),this.type="public"}getKey(){return u.AsnParser.parse(this.data,i.asn1.PublicKeyInfo).publicKey}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},{x:c.Convert.ToBase64Url(e)})}fromJSON(e){if(!e.crv)throw new i.OperationError("Cannot get named curve from JWK. Property 'crv' is required");if(!e.x)throw new i.OperationError("Cannot get property from JWK. Property 'x' is required");let t=new i.asn1.PublicKeyInfo;return t.publicKeyAlgorithm.algorithm=es(e.crv),t.publicKey=c.Convert.FromBase64Url(e.x),this.data=Buffer.from(u.AsnSerializer.serialize(t)),this}}class ec{static async generateKey(e,t,r){let i=new eo;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new el;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let s=e.namedCurve.toLowerCase(),o=a().generateKeyPairSync(s,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=o.privateKey,n.data=o.publicKey,{privateKey:i,publicKey:n}}static async sign(e,t,r){t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let n={key:t.pem},s=a().sign(null,Buffer.from(r),n);return i.BufferSourceConverter.toArrayBuffer(s)}static async verify(e,t,r,i){t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let n={key:t.pem};return a().verify(null,Buffer.from(i),n,Buffer.from(r))}static async deriveBits(e,t,r){let i=a().createPublicKey({key:e.public.data,format:"der",type:"spki"}),n=a().createPrivateKey({key:t.data,format:"der",type:"pkcs8"}),s=a().diffieHellman({publicKey:i,privateKey:n});return new Uint8Array(s).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return l.JsonSerializer.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return u.AsnParser.parse(t.data,i.asn1.PublicKeyInfo).publicKey;default:throw new i.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,n,a){switch(e.toLowerCase()){case"jwk":if(t.d){let e=l.JsonParser.fromJSON(t,{targetSchema:i.asn1.CurvePrivateKey});return this.importPrivateKey(e,r,n,a)}if(!t.x)throw TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(c.Convert.FromBase64Url(t.x),r,n,a);case"raw":return this.importPublicKey(t,r,n,a);case"spki":{let e=u.AsnParser.parse(new Uint8Array(t),i.asn1.PublicKeyInfo);return this.importPublicKey(e.publicKey,r,n,a)}case"pkcs8":{let e=u.AsnParser.parse(new Uint8Array(t),i.asn1.PrivateKeyInfo),s=u.AsnParser.parse(e.privateKey,i.asn1.CurvePrivateKey);return this.importPrivateKey(s,r,n,a)}default:throw new i.OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(e,t,r,i){let n=new eo;return n.fromJSON({crv:t.namedCurve,d:c.Convert.ToBase64Url(e.d)}),n.algorithm=Object.assign({},t),n.extractable=r,n.usages=i,n}static async importPublicKey(e,t,r,i){let n=new el;return n.fromJSON({crv:t.namedCurve,x:c.Convert.ToBase64Url(e)}),n.algorithm=Object.assign({},t),n.extractable=r,n.usages=i,n}}ec.publicKeyUsages=["verify"],ec.privateKeyUsages=["sign","deriveKey","deriveBits"];class eu extends i.EdDsaProvider{async onGenerateKey(e,t,r){let i=await ec.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},t,r);return{privateKey:v(i.privateKey),publicKey:v(i.publicKey)}}async onSign(e,t,r){return ec.sign(e,y(t),new Uint8Array(r))}async onVerify(e,t,r,i){return ec.verify(e,y(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return ec.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await ec.importKey(e,t,{...r,name:this.name},i,n))}}class ed extends i.EcdhEsProvider{async onGenerateKey(e,t,r){let i=await ec.generateKey({name:this.name,namedCurve:e.namedCurve.toUpperCase()},t,r);return{privateKey:v(i.privateKey),publicKey:v(i.publicKey)}}async onDeriveBits(e,t,r){return await ec.deriveBits({...e,public:y(e.public)},y(t),r)}async onExportKey(e,t){return ec.exportKey(e,y(t))}async onImportKey(e,t,r,i,n){return v(await ec.importKey(e,t,{...r,name:this.name},i,n))}}class eh extends h{}class ep extends i.Pbkdf2Provider{async onDeriveBits(e,t,r){return new Promise((n,s)=>{let o=i.BufferSourceConverter.toArrayBuffer(e.salt),l=e.hash.name.replace("-","");a().pbkdf2(y(t).data,Buffer.from(o),e.iterations,r>>3,l,(e,t)=>{e?s(e):n(new Uint8Array(t).buffer)})})}async onImportKey(e,t,r,n,a){if("raw"===e){let e=new eh;return e.data=Buffer.from(t),e.algorithm={name:this.name},e.extractable=!1,e.usages=a,v(e)}throw new i.OperationError("format: Must be 'raw'")}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof eh))throw TypeError("key: Is not PBKDF CryptoKey")}}class ef extends h{get alg(){let e=this.algorithm.hash.name.toUpperCase();return`HS${e.replace("SHA-","")}`}set alg(e){}}(0,o.__decorate)([(0,l.JsonProp)({name:"k",converter:d})],ef.prototype,"data",void 0);class em extends i.HmacProvider{async onGenerateKey(e,t,r){let i=(e.length||this.getDefaultLength(e.hash.name))>>3<<3,n=new ef;return n.algorithm={...e,length:i,name:this.name},n.extractable=t,n.usages=r,n.data=a().randomBytes(i>>3),v(n)}async onSign(e,t,r){let i=$.getAlgorithmName(t.algorithm.hash),n=a().createHmac(i,y(t).data).update(Buffer.from(r)).digest();return new Uint8Array(n).buffer}async onVerify(e,t,r,i){let n=$.getAlgorithmName(t.algorithm.hash);return 0===a().createHmac(n,y(t).data).update(Buffer.from(i)).digest().compare(Buffer.from(r))}async onImportKey(e,t,r,n,a){let s;switch(e.toLowerCase()){case"jwk":s=l.JsonParser.fromJSON(t,{targetSchema:ef});break;case"raw":(s=new ef).data=Buffer.from(t);break;default:throw new i.OperationError("format: Must be 'jwk' or 'raw'")}return s.algorithm={hash:{name:r.hash.name},name:this.name,length:s.data.length<<3},s.extractable=n,s.usages=a,v(s)}async onExportKey(e,t){switch(e.toLowerCase()){case"jwk":return l.JsonSerializer.toJSON(y(t));case"raw":return new Uint8Array(y(t).data).buffer;default:throw new i.OperationError("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof ef))throw TypeError("key: Is not HMAC CryptoKey")}}class eg extends h{}class ey extends i.HkdfProvider{async onImportKey(e,t,r,n,a){if("raw"!==e.toLowerCase())throw new i.OperationError("Operation not supported");let s=new eg;return s.data=Buffer.from(t),s.algorithm={name:this.name},s.extractable=n,s.usages=a,v(s)}async onDeriveBits(e,t,r){let n=e.hash.name.replace("-",""),s=a().createHash(n).digest().length,o=r/8,l=i.BufferSourceConverter.toUint8Array(e.info),c=a().createHmac(n,i.BufferSourceConverter.toUint8Array(e.salt)).update(i.BufferSourceConverter.toUint8Array(y(t).data)).digest(),u=[Buffer.alloc(0)],d=Math.ceil(o/s)+1;for(let e=1;e<d;++e)u.push(a().createHmac(n,c).update(Buffer.concat([u[e-1],l,Buffer.from([e])])).digest());return Buffer.concat(u).slice(0,o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(y(e) instanceof eg))throw TypeError("key: Is not HKDF CryptoKey")}}class ev{static digest(e,t){let r=a().createHash(e.name.toLowerCase(),{outputLength:e.length}).update(Buffer.from(t)).digest();return new Uint8Array(r).buffer}}class eb extends i.Shake128Provider{async onDigest(e,t){return ev.digest(e,t)}}class ew extends i.Shake256Provider{async onDigest(e,t){return ev.digest(e,t)}}class eS extends i.SubtleCrypto{constructor(){var e;super(),this.providers.set(new w),this.providers.set(new A),this.providers.set(new T),this.providers.set(new R),this.providers.set(new P),this.providers.set(new O),this.providers.set(new j),this.providers.set(new B),this.providers.set(new K),this.providers.set(new q),this.providers.set(new F),this.providers.set(new z),this.providers.set(new ei),this.providers.set(new en),this.providers.set(new J),this.providers.set(new Y),this.providers.set(new X),this.providers.set(new Q),this.providers.set(new ep),this.providers.set(new em),this.providers.set(new ey);let t=null===(e=/^v(\d+)/.exec(s.version))||void 0===e?void 0:e[1];t&&parseInt(t,10)>=12&&(this.providers.set(new eb),this.providers.set(new ew));let r=n.getHashes();r.includes("sha3-256")&&this.providers.set(new Z),r.includes("sha3-384")&&this.providers.set(new ee),r.includes("sha3-512")&&this.providers.set(new et),t&&parseInt(t,10)>=14&&(this.providers.set(new eu),this.providers.set(new ed))}}class e_ extends i.Crypto{constructor(){super(...arguments),this.subtle=new eS}getRandomValues(e){if(!ArrayBuffer.isView(e))throw TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let t=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return a().randomFillSync(t),e}}},1588:(e,t,r)=>{"use strict";r.d(t,{w:()=>i1});var i,n,a,s={};r.r(s),r.d(s,{Any:()=>eK,BaseBlock:()=>K,BaseStringBlock:()=>q,BitString:()=>er,BmpString:()=>eS,Boolean:()=>Q,CharacterString:()=>eI,Choice:()=>eq,Constructed:()=>W,DATE:()=>eB,DateTime:()=>eL,Duration:()=>eM,EndOfContent:()=>J,Enumerated:()=>es,GeneralString:()=>eO,GeneralizedTime:()=>ej,GraphicString:()=>eT,HexBlock:()=>j,IA5String:()=>eA,Integer:()=>ea,Null:()=>Y,NumericString:()=>ek,ObjectIdentifier:()=>ec,OctetString:()=>ee,Primitive:()=>F,PrintableString:()=>eE,RawData:()=>eF,RelativeObjectIdentifier:()=>eh,Repeated:()=>e$,Sequence:()=>ep,Set:()=>ef,TIME:()=>eD,TeletexString:()=>eC,TimeOfDay:()=>eU,UTCTime:()=>eN,UniversalString:()=>ex,Utf8String:()=>eb,ValueBlock:()=>U,VideotexString:()=>eR,ViewWriter:()=>k,VisibleString:()=>eP,compareSchema:()=>ez,fromBER:()=>V,verifySchema:()=>eV});class o{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let r=o.toUint8Array(e),i=o.toUint8Array(t);if(r.length!==i.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let r=0;for(let e of t)r+=e.byteLength;let i=new Uint8Array(r),n=0;for(let e of t){let t=this.toUint8Array(e);i.set(t,n),n+=t.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}}let l="string",c=/^[0-9a-f]+$/i,u=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,d=/^[a-zA-Z0-9-_]+$/;class h{static fromString(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){let t=o.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class p{static toString(e,t=!1){let r=o.toArrayBuffer(e),i=new DataView(r),n="";for(let e=0;e<r.byteLength;e+=2)n+=String.fromCharCode(i.getUint16(e,t));return n}static fromString(e,t=!1){let r=new ArrayBuffer(2*e.length),i=new DataView(r);for(let r=0;r<e.length;r++)i.setUint16(2*r,e.charCodeAt(r),t);return r}}class f{static isHex(e){return typeof e===l&&c.test(e)}static isBase64(e){return typeof e===l&&u.test(e)}static isBase64Url(e){return typeof e===l&&d.test(e)}static ToString(e,t="utf8"){let r=o.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return p.toString(r,!0);case"utf16":case"utf16be":return p.toString(r);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return p.fromString(e,!0);case"utf16":case"utf16be":return p.fromString(e);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=o.toUint8Array(e);return"undefined"!=typeof btoa?btoa(this.ToString(t,"binary")):Buffer.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!f.isBase64(t))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!f.isBase64Url(t))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=f.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return h.fromString(e);case"utf16":case"utf16be":return p.fromString(e);case"utf16le":case"usc2":return p.fromString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=f.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return h.toString(e);case"utf16":case"utf16be":return p.toString(e);case"utf16le":case"usc2":return p.toString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r.buffer}static ToBinary(e){let t=o.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){let t=o.toUint8Array(e),r="",i=t.length;for(let e=0;e<i;e++){let i=t[e];i<16&&(r+="0"),r+=i.toString(16)}return r}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!f.isHex(t))throw TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){let i=t.slice(e,e+2);r[e/2]=parseInt(i,16)}return r.buffer}static ToUtf16String(e,t=!1){return p.toString(e,t)}static FromUtf16String(e,t=!1){return p.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}function m(...e){let t=e.map(e=>e.byteLength).reduce((e,t)=>e+t),r=new Uint8Array(t),i=0;return e.map(e=>new Uint8Array(e)).forEach(e=>{for(let t of e)r[i++]=t}),r.buffer}function g(e,t){let r=0;if(1===e.length)return e[0];for(let i=e.length-1;i>=0;i--)r+=e[e.length-1-i]*Math.pow(2,t*i);return r}function y(e,t,r=-1){let i=e,n=0,a=Math.pow(2,t);for(let s=1;s<8;s++){if(e<a){let e;if(r<0)e=new ArrayBuffer(s),n=s;else{if(r<s)return new ArrayBuffer(0);e=new ArrayBuffer(r),n=r}let a=new Uint8Array(e);for(let e=s-1;e>=0;e--){let r=Math.pow(2,e*t);a[n-e-1]=Math.floor(i/r),i-=a[n-e-1]*r}return e}a*=Math.pow(2,t)}return new ArrayBuffer(0)}function v(...e){let t=0,r=0;for(let r of e)t+=r.length;let i=new ArrayBuffer(t),n=new Uint8Array(i);for(let t of e)n.set(t,r),r+=t.length;return n}function b(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let t=255===e[0]&&128&e[1],r=0===e[0]&&(128&e[1])==0;(t||r)&&this.warnings.push("Needlessly long format")}let t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++)r[e]=0;r[0]=128&e[0];let i=g(r,8),n=new ArrayBuffer(this.valueHex.byteLength),a=new Uint8Array(n);for(let t=0;t<this.valueHex.byteLength;t++)a[t]=e[t];return a[0]&=127,g(a,8)-i}function w(e,t){let r=e.toString(10);if(t<r.length)return"";let i=t-r.length,n=Array(i);for(let e=0;e<i;e++)n[e]="0";return n.join("").concat(r)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function S(){if("undefined"==typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function _(e){let t=0,r=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let i=new Uint8Array(t);for(let t=0;t<e.length;t++){let n=e[t];i.set(new Uint8Array(n),r),r+=n.byteLength}return i.buffer}function x(e,t,r,i){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):i<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-i<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}f.DEFAULT_UTF8_ENCODING="utf8";class k{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return _(this.items)}}let E=[new Uint8Array([1])],C="0123456789",R="name",A="valueHexView",T=new ArrayBuffer(0),P=new Uint8Array(0),O="EndOfContent",I="OCTET STRING",N="BIT STRING";function j(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);let r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?o.toUint8Array(r.valueHex):P}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){let i=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!x(this,i,t,r))return -1;let n=t+r;return(this.valueHexView=i.subarray(t,n),this.valueHexView.length)?(this.blockLength=r,n):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",T)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:f.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class B{constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:i=P}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=o.toUint8Array(i)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:f.ToHex(this.valueBeforeDecodeView)}}}B.NAME="baseBlock";class U extends B{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}U.NAME="valueBlock";class L extends j(B){constructor({idBlock:e={}}={}){var t,r,i,n;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?o.toUint8Array(e.valueHex):P,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(i=e.tagNumber)&&void 0!==i?i:-1,this.isConstructed=null!==(n=e.isConstructed)&&void 0!==n&&n):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",T}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){let r=y(this.tagNumber,7),i=new Uint8Array(r),n=r.byteLength,a=new Uint8Array(n+1);if(a[0]=31|t,!e){for(let e=0;e<n-1;e++)a[e+1]=128|i[e];a[n]=i[n-1]}return a.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){let e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){let i=o.toUint8Array(e);if(!x(this,i,t,r))return -1;let n=i.subarray(t,t+r);if(0===n.length)return this.error="Zero buffer length",-1;switch(192&n[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&n[0])==32,this.isHexOnly=!1;let a=31&n[0];if(31!==a)this.tagNumber=a,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&n[e];){if(t[e-1]=127&n[e],++e>=n.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){r+=255;let e=new Uint8Array(r);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&n[e];let i=new Uint8Array(e);for(let r=0;r<e;r++)i[r]=t[r];(t=this.valueHexView=new Uint8Array(e)).set(i),this.blockLength<=9?this.tagNumber=g(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}L.NAME="identificationBlock";class M extends B{constructor({lenBlock:e={}}={}){var t,r,i;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(i=e.length)&&void 0!==i?i:0}fromBER(e,t,r){let i=o.toUint8Array(e);if(!x(this,i,t,r))return -1;let n=i.subarray(t,t+r);if(0===n.length)return this.error="Zero buffer length",-1;if(255===n[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===n[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&n[0]),!1===this.longFormUsed)return this.length=n[0],this.blockLength=1,t+this.blockLength;let a=127&n[0];if(a>8)return this.error="Too big integer",-1;if(a+1>n.length)return this.error="End of input reached before message was fully decoded",-1;let s=t+1,l=i.subarray(s,s+a);return 0===l[a-1]&&this.warnings.push("Needlessly long encoded length"),this.length=g(l,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=128),t;if(this.longFormUsed){let i=y(this.length,8);if(i.byteLength>127)return this.error="Too big length",T;if(t=new ArrayBuffer(i.byteLength+1),e)return t;let n=new Uint8Array(i);(r=new Uint8Array(t))[0]=128|i.byteLength;for(let e=0;e<i.byteLength;e++)r[e+1]=n[e];return t}return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}M.NAME="lengthBlock";let D={};class K extends B{constructor({name:e="",optional:t=!1,primitiveSchema:r,...i}={},n){super(i),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new L(i),this.lenBlock=new M(i),this.valueBlock=n?new n(i):new U(i)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}toBER(e,t){let r=t||new k;t||function e(t){if(t instanceof D.Constructed)for(let r of t.valueBlock.value)e(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!t.lenBlock.isIndefiniteForm}(this);let i=this.idBlock.toBER(e);if(r.write(i),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;let i=this.lenBlock.toBER(e);r.write(i),r.write(t)}return t?T:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():f.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${f.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){return this===e||e instanceof this.constructor&&function(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}(this.toBER(),e.toBER())}}K.NAME="BaseBlock";class q extends K{constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}q.NAME="BaseStringBlock";class $ extends j(U){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}$.NAME="PrimitiveValueBlock";class F extends K{constructor(e={}){super(e,$),this.idBlock.isConstructed=!1}}function z(e,t=0,r=e.length){let i=t,n=new K({},U),a=new B;if(!x(a,e,t,r))return n.error=a.error,{offset:-1,result:n};if(!e.subarray(t,t+r).length)return n.error="Zero buffer length",{offset:-1,result:n};let s=n.idBlock.fromBER(e,t,r);if(n.idBlock.warnings.length&&n.warnings.concat(n.idBlock.warnings),-1===s)return n.error=n.idBlock.error,{offset:-1,result:n};if(t=s,r-=n.idBlock.blockLength,s=n.lenBlock.fromBER(e,t,r),n.lenBlock.warnings.length&&n.warnings.concat(n.lenBlock.warnings),-1===s)return n.error=n.lenBlock.error,{offset:-1,result:n};if(t=s,r-=n.lenBlock.blockLength,!n.idBlock.isConstructed&&n.lenBlock.isIndefiniteForm)return n.error="Indefinite length form used for primitive encoding form",{offset:-1,result:n};let o=K;if(1===n.idBlock.tagClass){if(n.idBlock.tagNumber>=37&&!1===n.idBlock.isHexOnly)return n.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:n};switch(n.idBlock.tagNumber){case 0:if(n.idBlock.isConstructed&&n.lenBlock.length>0)return n.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:n};o=D.EndOfContent;break;case 1:o=D.Boolean;break;case 2:o=D.Integer;break;case 3:o=D.BitString;break;case 4:o=D.OctetString;break;case 5:o=D.Null;break;case 6:o=D.ObjectIdentifier;break;case 10:o=D.Enumerated;break;case 12:o=D.Utf8String;break;case 13:o=D.RelativeObjectIdentifier;break;case 14:o=D.TIME;break;case 15:return n.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:n};case 16:o=D.Sequence;break;case 17:o=D.Set;break;case 18:o=D.NumericString;break;case 19:o=D.PrintableString;break;case 20:o=D.TeletexString;break;case 21:o=D.VideotexString;break;case 22:o=D.IA5String;break;case 23:o=D.UTCTime;break;case 24:o=D.GeneralizedTime;break;case 25:o=D.GraphicString;break;case 26:o=D.VisibleString;break;case 27:o=D.GeneralString;break;case 28:o=D.UniversalString;break;case 29:o=D.CharacterString;break;case 30:o=D.BmpString;break;case 31:o=D.DATE;break;case 32:o=D.TimeOfDay;break;case 33:o=D.DateTime;break;case 34:o=D.Duration;break;default:{let e=n.idBlock.isConstructed?new D.Constructed:new D.Primitive;e.idBlock=n.idBlock,e.lenBlock=n.lenBlock,e.warnings=n.warnings,n=e}}}else o=n.idBlock.isConstructed?D.Constructed:D.Primitive;return s=(n=function(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(n,o)).fromBER(e,t,n.lenBlock.isIndefiniteForm?r:n.lenBlock.length),n.valueBeforeDecodeView=e.subarray(i,i+n.blockLength),{offset:s,result:n}}function V(e){if(!e.byteLength){let e=new K({},U);return e.error="Input buffer has zero length",{offset:-1,result:e}}return z(o.toUint8Array(e).slice(),0,e.byteLength)}D.Primitive=F,F.NAME="PRIMITIVE";class H extends U{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){var i,n;let a=o.toUint8Array(e);if(!x(this,a,t,r))return -1;if(this.valueBeforeDecodeView=a.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let s=t;for(;i=this.isIndefiniteForm,n=r,(i?1:n)>0;){let e=z(a,s,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(s=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===O)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===O?this.value.pop():this.warnings.push("No EndOfContent block encoded")),s}toBER(e,t){let r=t||new k;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?T:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}}H.NAME="ConstructedValueBlock";class W extends K{constructor(e={}){super(e,H),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){let e=[];for(let t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map(e=>`  ${e}`).join("\n"));let t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join("\n")}`:`${t} :`}}D.Constructed=W,W.NAME="CONSTRUCTED";class G extends U{fromBER(e,t,r){return t}toBER(e){return T}}G.override="EndOfContentValueBlock";class J extends K{constructor(e={}){super(e,G),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}D.EndOfContent=J,J.NAME=O;class Y extends K{constructor(e={}){super(e,U),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){let r=new ArrayBuffer(2);if(!e){let e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}D.Null=Y,Y.NAME="NULL";class X extends j(U){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=o.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){let i=o.toUint8Array(e);return x(this,i,t,r)?(this.valueHexView=i.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,b.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}X.NAME="BooleanValueBlock";class Q extends K{constructor(e={}){super(e,X),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}D.Boolean=Q,Q.NAME="BOOLEAN";class Z extends j(H){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(i=H.prototype.fromBER.call(this,e,t,r)))return i;for(let e=0;e<this.value.length;e++){let t=this.value[e].constructor.NAME;if(t===O){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;break}if(t!==I)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,t,r),this.blockLength=r;return i}toBER(e,t){return this.isConstructed?H.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}Z.NAME="OctetStringValueBlock";class ee extends K{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!==(i=r.isConstructed)&&void 0!==i||(r.isConstructed=!!(null===(n=r.value)||void 0===n?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},Z),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(i.byteLength){let e=z(i,0,i.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch(e){}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?W.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${f.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof ee&&e.push(t.valueBlock.valueHexView);return o.concat(e)}}D.OctetString=ee,ee.NAME=I;class et extends j(H){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let i=-1;if(this.isConstructed){if(-1===(i=H.prototype.fromBER.call(this,e,t,r)))return i;for(let e of this.value){let t=e.constructor.NAME;if(t===O){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;break}if(t!==N)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return i}let n=o.toUint8Array(e);if(!x(this,n,t,r))return -1;let a=n.subarray(t,t+r);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let e=a.subarray(1);try{if(e.byteLength){let t=z(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch(e){}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,t+r}toBER(e,t){if(this.isConstructed)return H.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return T;let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}et.NAME="BitStringValueBlock";class er extends K{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!==(i=r.isConstructed)&&void 0!==i||(r.isConstructed=!!(null===(n=r.value)||void 0===n?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},et),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return W.prototype.onAsciiEncoding.call(this);{let e=[];for(let t of this.valueBlock.valueHexView)e.push(t.toString(2).padStart(8,"0"));let t=e.join("");return`${this.constructor.NAME} : ${t.substring(0,t.length-this.valueBlock.unusedBits)}`}}}function ei(e){if(e>=E.length)for(let t=E.length;t<=e;t++){let e=new Uint8Array([0]),r=E[t-1].slice(0);for(let t=r.length-1;t>=0;t--){let i=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=i[0]/10,r[t]=i[0]%10}e[0]>0&&(r=v(e,r)),E.push(r)}return E[e]}D.BitString=er,er.NAME=N;class en extends j(U){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=b.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){let t=e<0?-1*e:e,r=128;for(let i=1;i<8;i++){if(t<=r){if(e<0){let e=y(r-t,8,i),n=new Uint8Array(e);return n[0]|=128,e}let n=y(t,8,i),a=new Uint8Array(n);if(128&a[0]){let e=n.slice(0),t=new Uint8Array(e);n=new ArrayBuffer(n.byteLength+1),a=new Uint8Array(n);for(let r=0;r<e.byteLength;r++)a[r+1]=t[r];a[0]=0}return n}r*=256}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,i=0){let n=this.fromBER(e,t,r);if(-1===n)return n;let a=this.valueHexView;return 0===a[0]&&(128&a[1])!=0?this.valueHexView=a.subarray(1):0!==i&&a.length<i&&(i-a.length>1&&(i=a.length+1),this.valueHexView=a.subarray(i-a.length)),n}toDER(e=!1){let t=this.valueHexView;switch(!0){case(128&t[0])!=0:{let e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&(128&t[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){let i=super.fromBER(e,t,r);return -1===i||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e;let t=8*this.valueHexView.length-1,r=new Uint8Array(8*this.valueHexView.length/3),i=0,n=this.valueHexView,a="",s=!1;for(let s=n.byteLength-1;s>=0;s--){e=n[s];for(let n=0;n<8;n++)(1&e)==1&&(i===t?(r=function(e,t){let r,i=0,n=new Uint8Array(e),a=new Uint8Array(t),s=n.slice(0),o=s.length-1,l=a.slice(0),c=l.length-1,u=0;for(let e=c;e>=0;e--,u++)!0==(r=s[o-u]-l[c-u]-i)<0?(i=1,s[o-u]=r+10):(i=0,s[o-u]=r);if(i>0)for(let e=o-c+1;e>=0;e--,u++)if((r=s[o-u]-i)<0)i=1,s[o-u]=r+10;else{i=0,s[o-u]=r;break}return s.slice()}(ei(i),r),a="-"):r=function(e,t){let r=new Uint8Array([0]),i=new Uint8Array(e),n=new Uint8Array(t),a=i.slice(0),s=a.length-1,o=n.slice(0),l=o.length-1,c=0,u=l<s?s:l,d=0;for(let e=u;e>=0;e--,d++)c=!0==d<o.length?a[s-d]+o[l-d]+r[0]:a[s-d]+r[0],(r[0]=c/10,!0==d>=a.length)?a=v(new Uint8Array([c%10]),a):a[s-d]=c%10;return r[0]>0&&(a=v(r,a)),a}(r,ei(i))),i++,e>>=1}for(let e=0;e<r.length;e++)r[e]&&(s=!0),s&&(a+=C.charAt(r[e]));return!1===s&&(a+=C.charAt(0)),a}}en.NAME="IntegerValueBlock",Object.defineProperty(en.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class ea extends K{constructor(e={}){super(e,en),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return S(),BigInt(this.valueBlock.toString())}static fromBigInt(e){S();let t=BigInt(e),r=new k,i=t.toString(16).replace(/^-/,""),n=new Uint8Array(f.FromHex(i));if(t<0){let e=new Uint8Array(n.length+(128&n[0]?1:0));e[0]|=128;let i=BigInt(`0x${f.ToHex(e)}`),a=o.toUint8Array(f.FromHex((i+t).toString(16)));a[0]|=128,r.write(a)}else 128&n[0]&&r.write(new Uint8Array([0])),r.write(n);return new ea({valueHex:r.final()})}convertToDER(){let e=new ea({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new ea({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}D.Integer=ea,ea.NAME="INTEGER";class es extends ea{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}D.Enumerated=es,es.NAME="ENUMERATED";class eo extends j(U){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;let i=o.toUint8Array(e);if(!x(this,i,t,r))return -1;let n=i.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&n[e],this.blockLength++,(128&n[e])!=0);e++);let a=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)a[e]=this.valueHexView[e];return(this.valueHexView=a,(128&n[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=g(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){S();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=y(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",T;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r}toString(){let e="";if(this.isHexOnly)e=f.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}eo.NAME="sidBlock";class el extends U{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new eo;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e){let t=[];for(let r=0;r<this.value.length;r++){let i=this.value[r].toBER(e);if(0===i.byteLength)return this.error=this.value[r].error,T;t.push(i)}return _(t)}fromString(e){this.value=[];let t=0,r=0,i="",n=!1;do if(i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1,n){let e=this.value[0],t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}let r=parseInt(i,10);if(isNaN(r))return;e.valueDec=r+t,n=!1}else{let e=new eo;if(i>Number.MAX_SAFE_INTEGER){S();let t=BigInt(i);e.valueBigInt=t}else if(e.valueDec=parseInt(i,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,n=!0),this.value.push(e)}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?(i=`{${i}}`,this.value[r].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}el.NAME="ObjectIdentifierValueBlock";class ec extends K{constructor(e={}){super(e,el),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}D.ObjectIdentifier=ec,ec.NAME="OBJECT IDENTIFIER";class eu extends j(B){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;let i=o.toUint8Array(e);if(!x(this,i,t,r))return -1;let n=i.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&n[e],this.blockLength++,(128&n[e])!=0);e++);let a=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)a[e]=this.valueHexView[e];return(this.valueHexView=a,(128&n[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=g(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=y(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",T;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r.buffer}toString(){return this.isHexOnly?f.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}eu.NAME="relativeSidBlock";class ed extends U{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new eu;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e,t){let r=[];for(let t=0;t<this.value.length;t++){let i=this.value[t].toBER(e);if(0===i.byteLength)return this.error=this.value[t].error,T;r.push(i)}return _(r)}fromString(e){this.value=[];let t=0,r=0,i="";do{i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1;let n=new eu;if(n.valueDec=parseInt(i,10),isNaN(n.valueDec))break;this.value.push(n)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?e+=i=`{${i}}`:e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}ed.NAME="RelativeObjectIdentifierValueBlock";class eh extends K{constructor(e={}){super(e,ed),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}D.RelativeObjectIdentifier=eh,eh.NAME="RelativeObjectIdentifier";class ep extends W{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}D.Sequence=ep,ep.NAME="SEQUENCE";class ef extends W{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}D.Set=ef,ef.NAME="SET";class em extends j(U){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}em.NAME="StringValueBlock";class eg extends em{}eg.NAME="SimpleStringValueBlock";class ey extends q{constructor({...e}={}){super(e,eg)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,o.toUint8Array(e))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);this.valueBlock.value=e}}ey.NAME="SIMPLE STRING";class ev extends ey{fromBuffer(e){this.valueBlock.valueHexView=o.toUint8Array(e);try{this.valueBlock.value=f.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=f.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(f.FromUtf8String(e)),this.valueBlock.value=e}}ev.NAME="Utf8StringValueBlock";class eb extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}D.Utf8String=eb,eb.NAME="UTF8String";class ew extends ey{fromBuffer(e){this.valueBlock.value=f.ToUtf16String(e),this.valueBlock.valueHexView=o.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(f.FromUtf16String(e))}}ew.NAME="BmpStringValueBlock";class eS extends ew{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}D.BmpString=eS,eS.NAME="BMPString";class e_ extends ey{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let i=0;i<t;i++){let t=y(e.charCodeAt(i),8),n=new Uint8Array(t);if(n.length>4)continue;let a=4-n.length;for(let e=n.length-1;e>=0;e--)r[4*i+e+a]=n[e]}this.valueBlock.value=e}}e_.NAME="UniversalStringValueBlock";class ex extends e_{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}D.UniversalString=ex,ex.NAME="UniversalString";class ek extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}D.NumericString=ek,ek.NAME="NumericString";class eE extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}D.PrintableString=eE,eE.NAME="PrintableString";class eC extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}D.TeletexString=eC,eC.NAME="TeletexString";class eR extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}D.VideotexString=eR,eR.NAME="VideotexString";class eA extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}D.IA5String=eA,eA.NAME="IA5String";class eT extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}D.GraphicString=eT,eT.NAME="GraphicString";class eP extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}D.VisibleString=eP,eP.NAME="VisibleString";class eO extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}D.GeneralString=eO,eO.NAME="GeneralString";class eI extends ey{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}D.CharacterString=eI,eI.NAME="CharacterString";class eN extends eP{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,o.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(null===t){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){let e=Array(7);return e[0]=w(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=w(this.month,2),e[2]=w(this.day,2),e[3]=w(this.hour,2),e[4]=w(this.minute,2),e[5]=w(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}D.UTCTime=eN,eN.NAME="UTCTime";class ej extends eN{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,i="",n="",a=0,s=0,o=0;if("Z"===e[e.length-1])i=e.substring(0,e.length-1),r=!0;else{if(isNaN(new Number(e[e.length-1]).valueOf()))throw Error("Wrong input string for conversion");i=e}if(r){if(-1!==i.indexOf("+")||-1!==i.indexOf("-"))throw Error("Wrong input string for conversion")}else{let e=1,t=i.indexOf("+"),r="";if(-1===t&&(t=i.indexOf("-"),e=-1),-1!==t){if(r=i.substring(t+1),i=i.substring(0,t),2!==r.length&&4!==r.length)throw Error("Wrong input string for conversion");let n=parseInt(r.substring(0,2),10);if(isNaN(n.valueOf()))throw Error("Wrong input string for conversion");if(s=e*n,4===r.length){if(isNaN((n=parseInt(r.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");o=e*n}}}let l=i.indexOf(".");if(-1===l&&(l=i.indexOf(",")),-1!==l){let e=new Number(`0${i.substring(l)}`);if(isNaN(e.valueOf()))throw Error("Wrong input string for conversion");a=e.valueOf(),n=i.substring(0,l)}else n=i;switch(!0){case 8===n.length:if(t=/(\d{4})(\d{2})(\d{2})/ig,-1!==l)throw Error("Wrong input string for conversion");break;case 10===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*a;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*a;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=1e3*a;this.millisecond=Math.floor(e)}break;default:throw Error("Wrong input string for conversion")}let c=t.exec(n);if(null===c)throw Error("Wrong input string for conversion");for(let e=1;e<c.length;e++)switch(e){case 1:this.year=parseInt(c[e],10);break;case 2:this.month=parseInt(c[e],10);break;case 3:this.day=parseInt(c[e],10);break;case 4:this.hour=parseInt(c[e],10)+s;break;case 5:this.minute=parseInt(c[e],10)+o;break;case 6:this.second=parseInt(c[e],10);break;default:throw Error("Wrong input string for conversion")}if(!1===r){let e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){let e=[];return e.push(w(this.year,4)),e.push(w(this.month,2)),e.push(w(this.day,2)),e.push(w(this.hour,2)),e.push(w(this.minute,2)),e.push(w(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(w(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}D.GeneralizedTime=ej,ej.NAME="GeneralizedTime";class eB extends eb{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}D.DATE=eB,eB.NAME="DATE";class eU extends eb{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}D.TimeOfDay=eU,eU.NAME="TimeOfDay";class eL extends eb{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}D.DateTime=eL,eL.NAME="DateTime";class eM extends eb{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}D.Duration=eM,eM.NAME="Duration";class eD extends eb{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}D.TIME=eD,eD.NAME="TIME";class eK{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class eq extends eK{constructor({value:e=[],...t}={}){super(t),this.value=e}}class e$ extends eK{constructor({value:e=new eK,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class eF{constructor({data:e=P}={}){this.dataView=o.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=o.toUint8Array(e)}fromBER(e,t,r){let i=t+r;return this.dataView=o.toUint8Array(e).subarray(t,i),i}toBER(e){return this.dataView.slice().buffer}}function ez(e,t,r){if(r instanceof eq){for(let i=0;i<r.value.length;i++)if(ez(e,t,r.value[i]).verified)return{verified:!0,result:e};{let e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(R)&&(e.name=r.name),e}}if(r instanceof eK)return r.hasOwnProperty(R)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1||"idBlock"in r==!1||"fromBER"in r.idBlock==!1||"toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.toBER(!1);if(0===i.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(i,0,i.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(A in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.valueHexView,n=t.idBlock.valueHexView;if(i.length!==n.length)return{verified:!1,result:e};for(let t=0;t<i.length;t++)if(i[t]!==n[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(e[r.name]=t)),r instanceof D.Constructed){let i=0,n={verified:!1,result:{error:"Unknown error"}},a=r.valueBlock.value.length;if(a>0&&r.valueBlock.value[0]instanceof e$&&(a=t.valueBlock.value.length),0===a)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let s=0;s<a;s++)if(s-i>=t.valueBlock.value.length){if(!1===r.valueBlock.value[s].optional){let t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof e$){if(!1===(n=ez(e,t.valueBlock.value[s],r.valueBlock.value[0].value)).verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;i++}if(R in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let i={};void 0===(i="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(i[r.valueBlock.value[0].name]=[]),i[r.valueBlock.value[0].name].push(t.valueBlock.value[s])}}else if(!1===(n=ez(e,t.valueBlock.value[s-i],r.valueBlock.value[s])).verified){if(!r.valueBlock.value[s].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;i++}if(!1===n.verified){let t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&A in t.valueBlock){let i=z(t.valueBlock.valueHexView);if(-1===i.offset){let t={verified:!1,result:i.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return ez(e,i.result,r.primitiveSchema)}return{verified:!0,result:e}}function eV(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=z(o.toUint8Array(e));return -1===r.offset?{verified:!1,result:r.result}:ez(r.result,r.result,t)}(function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"})(i||(i={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(n||(n={}));let eH={fromASN:e=>e instanceof Y?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new Y;let t=V(e);if(t.result.error)throw Error(t.result.error);return t.result}},eW={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new ea({value:+e})},eG={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new es({value:e})},eJ={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new er({valueHex:e})},eY={fromASN:e=>e.valueBlock.toString(),toASN:e=>new ec({value:e})},eX={fromASN:e=>e.valueBlock.value,toASN:e=>new Q({value:e})},eQ={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new ee({valueHex:e})};function eZ(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}let e0=eZ(eb),e1=eZ(eS),e2=eZ(ex),e3=eZ(ek),e8=eZ(eE),e4=eZ(eC),e6=eZ(eR),e5=eZ(eA),e7=eZ(eT),e9=eZ(eP),te=eZ(eO),tt=eZ(eI),tr={fromASN:e=>e.toDate(),toASN:e=>new eN({valueDate:e})},ti={fromASN:e=>e.toDate(),toASN:e=>new ej({valueDate:e})},tn={fromASN:()=>null,toASN:()=>new Y};function ta(e){switch(e){case n.Any:return eH;case n.BitString:return eJ;case n.BmpString:return e1;case n.Boolean:return eX;case n.CharacterString:return tt;case n.Enumerated:return eG;case n.GeneralString:return te;case n.GeneralizedTime:return ti;case n.GraphicString:return e7;case n.IA5String:return e5;case n.Integer:return eW;case n.Null:return tn;case n.NumericString:return e3;case n.ObjectIdentifier:return eY;case n.OctetString:return eQ;case n.PrintableString:return e8;case n.TeletexString:return e4;case n.UTCTime:return tr;case n.UniversalString:return e2;case n.Utf8String:return e0;case n.VideotexString:return e6;case n.VisibleString:return e9;default:return null}}function ts(e){return"function"==typeof e&&e.prototype?!!e.prototype.toASN&&!!e.prototype.fromASN||ts(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}class to{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let r=this.items.get(e);if(!r)throw Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:i.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){let r=this.items.get(e)||this.createDefault(e),a=[];for(let e in r.items){let o;let l=r.items[e],c=t?e:"";if("number"==typeof l.type){let e=n[l.type],t=s[e];if(!t)throw Error(`Cannot get ASN1 class by name '${e}'`);o=new t({name:c})}else ts(l.type)?o=new l.type().toSchema(c):l.optional?this.get(l.type).type===i.Choice?o=new eK({name:c}):(o=this.create(l.type,!1)).name=c:o=new eK({name:c});let u=!!l.optional||void 0!==l.defaultValue;if(l.repeated&&(o.name="",o=new("set"===l.repeated?ef:ep)({name:"",value:[new e$({name:c,value:o})]})),null!==l.context&&void 0!==l.context){if(l.implicit){if("number"==typeof l.type||ts(l.type)){let e=l.repeated?W:F;a.push(new e({name:c,optional:u,idBlock:{tagClass:3,tagNumber:l.context}}))}else{this.cache(l.type);let e=!!l.repeated,t=e?o:this.get(l.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,a.push(new W({name:e?"":c,optional:u,idBlock:{tagClass:3,tagNumber:l.context},value:t}))}}else a.push(new W({optional:u,idBlock:{tagClass:3,tagNumber:l.context},value:[o]}))}else o.optional=u,a.push(o)}switch(r.type){case i.Sequence:return new ep({value:a,name:""});case i.Set:return new ef({value:a,name:""});case i.Choice:return new eq({value:a,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}let tl=new to,tc=e=>t=>{let r;tl.has(t)?r=tl.get(t):(r=tl.createDefault(t),tl.set(t,r)),Object.assign(r,e)},tu=e=>(t,r)=>{let i;tl.has(t.constructor)?i=tl.get(t.constructor):(i=tl.createDefault(t.constructor),tl.set(t.constructor,i));let n=Object.assign({},e);if("number"==typeof n.type&&!n.converter){let i=ta(e.type);if(!i)throw Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);n.converter=i}i.items[r]=n};class td extends Error{constructor(){super(...arguments),this.schemas=[]}}class th{static parse(e,t){let r=V(e);if(r.result.error)throw Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){var r;try{if(ts(t))return new t().fromASN(e);let a=tl.get(t);tl.cache(t);let o=a.schema;if(e.constructor===W&&a.type!==i.Choice)for(let t in o=new W({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:a.schema.valueBlock.value}),a.items)delete e[t];let l=ez({},e,o);if(!l.verified)throw new td(`Data does not match to ${t.name} ASN1 schema. ${l.result.error}`);let c=new t;if(function e(t){var r;if(t){let i=Object.getPrototypeOf(t);return(null===(r=null==i?void 0:i.prototype)||void 0===r?void 0:r.constructor)===Array||e(i)}return!1}(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let r=a.itemType;if("number"!=typeof r)return t.from(e.valueBlock.value,e=>this.fromASN(e,r));{let i=ta(r);if(!i)throw Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,e=>i.fromASN(e))}}for(let e in a.items){let t=l.result[e];if(!t)continue;let i=a.items[e],o=i.type;if("number"==typeof o||ts(o)){let a=null!==(r=i.converter)&&void 0!==r?r:ts(o)?new o:null;if(!a)throw Error("Converter is empty");if(i.repeated){if(i.implicit){let r=new("sequence"===i.repeated?ep:ef);r.valueBlock=t.valueBlock;let n=V(r.toBER(!1));if(-1===n.offset)throw Error(`Cannot parse the child item. ${n.result.error}`);if(!("value"in n.result.valueBlock&&Array.isArray(n.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let s=n.result.valueBlock.value;c[e]=Array.from(s,e=>a.fromASN(e))}else c[e]=Array.from(t,e=>a.fromASN(e))}else{let r=t;if(i.implicit){let e;if(ts(o))e=new o().toSchema("");else{let t=n[o],r=s[t];if(!r)throw Error(`Cannot get '${t}' class from asn1js module`);e=new r}e.valueBlock=r.valueBlock,r=V(e.toBER(!1)).result}c[e]=a.fromASN(r)}}else if(i.repeated){if(!Array.isArray(t))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");c[e]=Array.from(t,e=>this.fromASN(e,o))}else c[e]=this.fromASN(t,o)}return c}catch(e){throw e instanceof td&&e.schemas.push(t.name),e}}}class tp{static serialize(e){return e instanceof K?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){let t;if(e&&"object"==typeof e&&ts(e))return e.toASN();if(!(e&&"object"==typeof e))throw TypeError("Parameter 1 should be type of Object.");let r=e.constructor,n=tl.get(r);tl.cache(r);let a=[];if(n.itemType){if(!Array.isArray(e))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof n.itemType){let t=ta(n.itemType);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);a=e.map(e=>t.toASN(e))}else a=e.map(e=>this.toAsnItem({type:n.itemType},"[]",r,e))}else for(let t in n.items){let i=n.items[t],s=e[t];if(void 0===s||i.defaultValue===s||"object"==typeof i.defaultValue&&"object"==typeof s&&function(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==i[t])return!1;return!0}(this.serialize(i.defaultValue),this.serialize(s)))continue;let o=tp.toAsnItem(i,t,r,s);if("number"==typeof i.context){if(i.implicit){if(!i.repeated&&("number"==typeof i.type||ts(i.type))){let e={};e.valueHex=o instanceof Y?o.valueBeforeDecodeView:o.valueBlock.toBER(),a.push(new F({optional:i.optional,idBlock:{tagClass:3,tagNumber:i.context},...e}))}else a.push(new W({optional:i.optional,idBlock:{tagClass:3,tagNumber:i.context},value:o.valueBlock.value}))}else a.push(new W({optional:i.optional,idBlock:{tagClass:3,tagNumber:i.context},value:[o]}))}else i.repeated?a=a.concat(o):a.push(o)}switch(n.type){case i.Sequence:t=new ep({value:a});break;case i.Set:t=new ef({value:a});break;case i.Choice:if(!a[0])throw Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);t=a[0]}return t}static toAsnItem(e,t,r,i){let a;if("number"==typeof e.type){let s=e.converter;if(!s)throw Error(`Property '${t}' doesn't have converter for type ${n[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>s.toASN(e));a=new("sequence"===e.repeated?ep:ef)({value:t})}else a=s.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>this.toASN(e));a=new("sequence"===e.repeated?ep:ef)({value:t})}else a=this.toASN(i);return a}}class tf{static serialize(e){return tp.serialize(e)}static parse(e,t){return th.parse(e,t)}static toString(e){let t=V(o.isBufferSource(e)?o.toArrayBuffer(e):tf.serialize(e));if(-1===t.offset)throw Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}function tm(e,t,r,i){var n,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,r,s):n(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;class tg extends Error{constructor(e,t){super(t?`${e}. See the inner exception for more details.`:e),this.message=e,this.innerError=t}}class ty extends tg{constructor(e,t,r){super(t,r),this.schema=e}}class tv extends ty{constructor(e,t,r){super(e,`JSON doesn't match to '${e.target.name}' schema. ${t}`,r)}}class tb extends tg{}class tw extends tg{constructor(e,t,r){super(`Cannot serialize by '${e}' schema. ${t}`,r),this.schemaName=e}}class tS extends tv{constructor(e,t,r={}){super(e,"Some keys doesn't match to schema"),this.keys=t,this.errors=r}}function t_(e,t){if(!function(e,t){switch(t){case a.Boolean:return"boolean"==typeof e;case a.Number:return"number"==typeof e;case a.String:return"string"==typeof e}return!0}(e,t))throw TypeError(`Value must be ${a[t]}`)}function tx(e){return e&&e.prototype?!!e.prototype.toJSON&&!!e.prototype.fromJSON||tx(e.prototype):!!(e&&e.toJSON&&e.fromJSON)}!function(e){e[e.Any=0]="Any",e[e.Boolean=1]="Boolean",e[e.Number=2]="Number",e[e.String=3]="String"}(a||(a={}));class tk{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){let t=this.items.get(e)||this.findParentSchema(e);if(!t)throw Error("Cannot get schema for current target");return t}create(e){let t={names:{}},r=this.findParentSchema(e);if(r)for(let e in Object.assign(t,r),t.names={},r.names)t.names[e]=Object.assign({},r.names[e]);return t.target=e,t}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=e.__proto__;return t?this.items.get(t)||this.findParentSchema(t):null}}let tE="default",tC=new tk;class tR{constructor(e){this.pattern=new RegExp(e)}validate(e){let t=new RegExp(this.pattern.source,this.pattern.flags);if("string"!=typeof e)throw new tb("Incoming value must be string");if(!t.exec(e))throw new tb(`Value doesn't match to pattern '${t.toString()}'`)}}class tA{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(t_(e,a.Number),!(this.min<=e&&e<=this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new tb(`Value doesn't match to diapason [${e},${t}]`)}}}class tT{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(t_(e,a.Number),!(this.min<e&&e<this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new tb(`Value doesn't match to diapason (${e},${t})`)}}}class tP{constructor(e,t,r){this.length=e,this.minLength=t,this.maxLength=r}validate(e){if(void 0!==this.length){if(e.length!==this.length)throw new tb(`Value length must be exactly ${this.length}.`);return}if(void 0!==this.minLength&&e.length<this.minLength)throw new tb(`Value length must be more than ${this.minLength}.`);if(void 0!==this.maxLength&&e.length>this.maxLength)throw new tb(`Value length must be less than ${this.maxLength}.`)}}class tO{constructor(e){this.enumeration=e}validate(e){if(t_(e,a.String),!this.enumeration.includes(e))throw new tb(`Value must be one of ${this.enumeration.map(e=>`'${e}'`).join(", ")}`)}}class tI{static checkValues(e,t){for(let r of Array.isArray(e)?e:[e])for(let i of t.validations)i instanceof tP&&t.repeated?i.validate(e):i.validate(r)}static checkTypes(e,t){if(t.repeated&&!Array.isArray(e))throw TypeError("Value must be Array");if("number"==typeof t.type)for(let r of Array.isArray(e)?e:[e])t_(r,t.type)}static getSchemaByName(e,t=tE){return{...e.names[tE],...e.names[t]}}}class tN extends tI{static serialize(e,t,r,i){return JSON.stringify(this.toJSON(e,t),r,i)}static toJSON(e,t={}){let r;let i=t.targetSchema,n=t.schemaName||tE;if(tx(e))return e.toJSON();if(Array.isArray(e))for(let i of(r=[],e))r.push(this.toJSON(i,t));else if("object"==typeof e){if(i&&!tC.has(i))throw new tg("Cannot get schema for `targetSchema` param");if(i=i||e.constructor,tC.has(i)){let t=tC.get(i);r={};let a=this.getSchemaByName(t,n);for(let s in a)try{let t;let o=a[s],l=e[s];if(o.optional&&void 0===l||void 0!==o.defaultValue&&l===o.defaultValue)continue;if(!o.optional&&void 0===l)throw new tw(i.name,`Property '${s}' is required.`);t="number"==typeof o.type?o.converter?o.repeated?l.map(t=>o.converter.toJSON(t,e)):o.converter.toJSON(l,e):l:o.repeated?l.map(e=>this.toJSON(e,{schemaName:n})):this.toJSON(l,{schemaName:n}),this.checkTypes(t,o),this.checkValues(t,o),r[o.name||s]=t}catch(e){if(e instanceof tw)throw e;throw new tw(t.target.name,`Property '${s}' is wrong. ${e.message}`,e)}}else for(let t in r={},e)r[t]=this.toJSON(e[t],{schemaName:n})}else r=e;return r}}class tj extends tI{static parse(e,t){let r=JSON.parse(e);return this.fromJSON(r,t)}static fromJSON(e,t){let r=t.targetSchema,i=t.schemaName||tE,n=new r;if(tx(n))return n.fromJSON(e);let a=tC.get(r),s=this.getSchemaByName(a,i),o={};for(let r in t.strictProperty&&!Array.isArray(e)&&tj.checkStrictProperty(e,s,a),s)try{let o=s[r],l=o.name||r,c=e[l];if(void 0===c&&(o.optional||void 0!==o.defaultValue))continue;if(!o.optional&&void 0===c)throw new tv(a,`Property '${l}' is required.`);if(this.checkTypes(c,o),this.checkValues(c,o),"number"==typeof o.type)o.converter?o.repeated?n[r]=c.map(e=>o.converter.fromJSON(e,n)):n[r]=o.converter.fromJSON(c,n):n[r]=c;else{let e={...t,targetSchema:o.type,schemaName:i};o.repeated?n[r]=c.map(t=>this.fromJSON(t,e)):n[r]=this.fromJSON(c,e)}}catch(e){if(e instanceof tv||(e=new tv(a,`Property '${r}' is wrong. ${e.message}`,e)),t.strictAllKeys)o[r]=e;else throw e}let l=Object.keys(o);if(l.length)throw new tS(a,l,o);return n}static checkStrictProperty(e,t,r){let i=Object.keys(e),n=Object.keys(t),a=[];for(let e of i)-1===n.indexOf(e)&&a.push(e);if(a.length)throw new tS(r,a)}}let tB=(e={})=>(t,r)=>{let i;let n=`Cannot set type for ${r} property of ${t.constructor.name} schema`;tC.has(t.constructor)?(i=tC.get(t.constructor)).target!==t.constructor&&(i=tC.create(t.constructor),tC.set(t.constructor,i)):(i=tC.create(t.constructor),tC.set(t.constructor,i));let s=Object.assign({type:a.Any,validations:[]},e);if(s.validations=function(e){let t=[];return e.pattern&&t.push(new tR(e.pattern)),(e.type===a.Number||e.type===a.Any)&&((void 0!==e.minInclusive||void 0!==e.maxInclusive)&&t.push(new tA(e.minInclusive,e.maxInclusive)),(void 0!==e.minExclusive||void 0!==e.maxExclusive)&&t.push(new tT(e.minExclusive,e.maxExclusive)),void 0!==e.enumeration&&t.push(new tO(e.enumeration))),(e.type===a.String||e.repeated||e.type===a.Any)&&(void 0!==e.length||void 0!==e.minLength||void 0!==e.maxLength)&&t.push(new tP(e.length,e.minLength,e.maxLength)),t}(s),"number"!=typeof s.type&&!tC.has(s.type)&&!tx(s.type))throw Error(`${n}. Assigning type doesn't have schema.`);for(let t of Array.isArray(e.schema)?e.schema:[e.schema||tE])i.names[t]||(i.names[t]={}),i.names[t][r]=s};/*!
 Copyright (c) Peculiar Ventures, LLC
*/class tU extends Error{}class tL extends tU{}class tM extends tU{constructor(e){super(`Unsupported operation: ${e?`${e}`:""}`)}}class tD extends tU{}class tK extends tU{constructor(e){super(`${e}: Missing required property`)}}class tq{async digest(...e){return this.checkDigest.apply(this,e),this.onDigest.apply(this,e)}checkDigest(e,t){this.checkAlgorithmName(e)}async onDigest(e,t){throw new tM("digest")}async generateKey(...e){return this.checkGenerateKey.apply(this,e),this.onGenerateKey.apply(this,e)}checkGenerateKey(e,t,r,...i){let n;if(this.checkAlgorithmName(e),this.checkGenerateKeyParams(e),!(r&&r.length))throw TypeError("Usages cannot be empty when creating a key.");n=Array.isArray(this.usages)?this.usages:this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(r,n)}checkGenerateKeyParams(e){}async onGenerateKey(e,t,r,...i){throw new tM("generateKey")}async sign(...e){return this.checkSign.apply(this,e),this.onSign.apply(this,e)}checkSign(e,t,r,...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"sign")}async onSign(e,t,r,...i){throw new tM("sign")}async verify(...e){return this.checkVerify.apply(this,e),this.onVerify.apply(this,e)}checkVerify(e,t,r,i,...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"verify")}async onVerify(e,t,r,i,...n){throw new tM("verify")}async encrypt(...e){return this.checkEncrypt.apply(this,e),this.onEncrypt.apply(this,e)}checkEncrypt(e,t,r,i={},...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"encrypt":void 0)}async onEncrypt(e,t,r,...i){throw new tM("encrypt")}async decrypt(...e){return this.checkDecrypt.apply(this,e),this.onDecrypt.apply(this,e)}checkDecrypt(e,t,r,i={},...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"decrypt":void 0)}async onDecrypt(e,t,r,...i){throw new tM("decrypt")}async deriveBits(...e){return this.checkDeriveBits.apply(this,e),this.onDeriveBits.apply(this,e)}checkDeriveBits(e,t,r,i={},...n){if(this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"deriveBits":void 0),r%8!=0)throw new tD("length: Is not multiple of 8")}async onDeriveBits(e,t,r,...i){throw new tM("deriveBits")}async exportKey(...e){return this.checkExportKey.apply(this,e),this.onExportKey.apply(this,e)}checkExportKey(e,t,...r){if(this.checkKeyFormat(e),this.checkCryptoKey(t),!t.extractable)throw new tU("key: Is not extractable")}async onExportKey(e,t,...r){throw new tM("exportKey")}async importKey(...e){return this.checkImportKey.apply(this,e),this.onImportKey.apply(this,e)}checkImportKey(e,t,r,i,n,...a){this.checkKeyFormat(e),this.checkKeyData(e,t),this.checkAlgorithmName(r),this.checkImportParams(r),Array.isArray(this.usages)&&this.checkKeyUsages(n,this.usages)}async onImportKey(e,t,r,i,n,...a){throw new tM("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase())throw new tL("Unrecognized name")}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,t){for(let r of e)if(-1===t.indexOf(r))throw TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(e,t){if(this.checkAlgorithmName(e.algorithm),t&&-1===e.usages.indexOf(t))throw new tU("key does not match that of operation")}checkRequiredProperty(e,t){if(!(t in e))throw new tK(t)}checkHashAlgorithm(e,t){for(let r of t)if(r.toLowerCase()===e.name.toLowerCase())return;throw new tD(`hash: Must be one of ${t.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,t){if(!t)throw TypeError("keyData: Cannot be empty on empty on key importing");if("jwk"===e){if(!("object"==typeof t&&"kty"in t))throw TypeError("keyData: Is not JsonWebToken")}else if(!o.isBufferSource(t))throw TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(e){return o.toArrayBuffer(e)}}class t$ extends tq{checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");switch(e.length){case 128:case 192:case 256:break;default:throw TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class tF extends t${constructor(){super(...arguments),this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.iv.byteLength)throw TypeError("iv: Must have length 16 bytes")}}class tz extends t${constructor(){super(...arguments),this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new tD("length: Must be more than 0")}}class tV extends t${constructor(){super(...arguments),this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"counter"),!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter)))throw TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.counter.byteLength)throw TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new tD("length: Must be more than 0")}}class tH extends t${constructor(){super(...arguments),this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class tW extends t${constructor(){super(...arguments),this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){var t;if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength<1)throw new tD("iv: Must have length more than 0 and less than 2^64 - 1");switch(null!==(t=e.tagLength)&&void 0!==t||(e.tagLength=128),e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new tD("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class tG extends t${constructor(){super(...arguments),this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}}class tJ extends tq{constructor(){super(...arguments),this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==this.ivSize)throw TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");if(e.length!==this.keySizeBits)throw new tD(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class tY extends tq{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=f.ToBase64(e.publicExponent);if(!("Aw=="===t||"AQAB"===t))throw TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength%8||e.modulusLength<256||e.modulusLength>16384)throw TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class tX extends tY{constructor(){super(...arguments),this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class tQ extends tY{constructor(){super(...arguments),this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"saltLength"),"number"!=typeof e.saltLength)throw TypeError("saltLength: Is not a Number");if(e.saltLength<0)throw RangeError("saltLength: Must be positive number")}}class tZ extends tY{constructor(){super(...arguments),this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label)))throw TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}class t0 extends tq{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve"),this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(let t of this.namedCurves)if(t.toLowerCase()===e.toLowerCase())return;throw new tD(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class t1 extends t0{constructor(){super(...arguments),this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}let t2=["secret","private","public"];class t3{static create(e,t,r,i){let n=new this;return n.algorithm=e,n.type=t,n.extractable=r,n.usages=i,n}static isKeyType(e){return -1!==t2.indexOf(e)}get[Symbol.toStringTag](){return"CryptoKey"}}class t8 extends t0{constructor(){super(...arguments),this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"public"),!(e.public instanceof t3))throw TypeError("public: Is not a CryptoKey");if("public"!==e.public.type)throw new tD("public: Is not a public key");if(e.public.algorithm.name!==this.name)throw new tD(`public: Is not ${this.name} key`)}}class t4 extends t8{constructor(){super(...arguments),this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}}class t6 extends t0{constructor(){super(...arguments),this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}}let t5=class{constructor(e){e&&(this.value=e)}};tm([tu({type:n.ObjectIdentifier})],t5.prototype,"value",void 0),t5=tm([tc({type:i.Choice})],t5);class t7{constructor(e){Object.assign(this,e)}}tm([tu({type:n.ObjectIdentifier})],t7.prototype,"algorithm",void 0),tm([tu({type:n.Any,optional:!0})],t7.prototype,"parameters",void 0);class t9{constructor(){this.version=0,this.privateKeyAlgorithm=new t7,this.privateKey=new ArrayBuffer(0)}}tm([tu({type:n.Integer})],t9.prototype,"version",void 0),tm([tu({type:t7})],t9.prototype,"privateKeyAlgorithm",void 0),tm([tu({type:n.OctetString})],t9.prototype,"privateKey",void 0),tm([tu({type:n.Any,optional:!0})],t9.prototype,"attributes",void 0);class re{constructor(){this.publicKeyAlgorithm=new t7,this.publicKey=new ArrayBuffer(0)}}tm([tu({type:t7})],re.prototype,"publicKeyAlgorithm",void 0),tm([tu({type:n.BitString})],re.prototype,"publicKey",void 0);let rt={fromJSON:e=>f.FromBase64Url(e),toJSON:e=>f.ToBase64Url(new Uint8Array(e))},rr={fromASN:e=>{let t=e.valueBlock.valueHex;return new Uint8Array(t)[0]?e.valueBlock.valueHex:e.valueBlock.valueHex.slice(1)},toASN:e=>new ea({valueHex:new Uint8Array(e)[0]>127?m(new Uint8Array([0]).buffer,e):e})};class ri{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}}tm([tu({type:n.Integer,converter:eW})],ri.prototype,"version",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"n",converter:rt})],ri.prototype,"modulus",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"e",converter:rt})],ri.prototype,"publicExponent",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"d",converter:rt})],ri.prototype,"privateExponent",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"p",converter:rt})],ri.prototype,"prime1",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"q",converter:rt})],ri.prototype,"prime2",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"dp",converter:rt})],ri.prototype,"exponent1",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"dq",converter:rt})],ri.prototype,"exponent2",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"qi",converter:rt})],ri.prototype,"coefficient",void 0),tm([tu({type:n.Any,optional:!0})],ri.prototype,"otherPrimeInfos",void 0);class rn{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}}tm([tu({type:n.Integer,converter:rr}),tB({name:"n",converter:rt})],rn.prototype,"modulus",void 0),tm([tu({type:n.Integer,converter:rr}),tB({name:"e",converter:rt})],rn.prototype,"publicExponent",void 0);let ra=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){let e=new Uint8Array(this.value);if(4!==e[0])throw new tU("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");let t=(e=new Uint8Array(this.value.slice(1))).length/2;return{x:f.ToBase64Url(e.buffer.slice(0,0+t)),y:f.ToBase64Url(e.buffer.slice(0+t,0+t+t))}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");if(!("y"in e))throw Error("y: Missing required property");let t=f.FromBase64Url(e.x),r=f.FromBase64Url(e.y),i=m(new Uint8Array([4]).buffer,t,r);return this.value=new Uint8Array(i).buffer,this}};tm([tu({type:n.OctetString})],ra.prototype,"value",void 0),ra=tm([tc({type:i.Choice})],ra);class rs{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e))throw Error("d: Missing required property");if(this.privateKey=f.FromBase64Url(e.d),"x"in e){let t=new ra;t.fromJSON(e);let r=tp.toASN(t);"valueHex"in r.valueBlock&&(this.publicKey=r.valueBlock.valueHex)}return this}toJSON(){let e={};return e.d=f.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(e,new ra(this.publicKey).toJSON()),e}}tm([tu({type:n.Integer,converter:eW})],rs.prototype,"version",void 0),tm([tu({type:n.OctetString})],rs.prototype,"privateKey",void 0),tm([tu({context:0,type:n.Any,optional:!0})],rs.prototype,"parameters",void 0),tm([tu({context:1,type:n.BitString,optional:!0})],rs.prototype,"publicKey",void 0);let ro={fromASN:e=>{let t=new Uint8Array(e.valueBlock.valueHex);return 0===t[0]?t.buffer.slice(1):t.buffer},toASN:e=>{let t=new Uint8Array(e);if(t[0]>127){let e=new Uint8Array(t.length+1);return e.set(t,1),new ea({valueHex:e.buffer})}return new ea({valueHex:e})}};var rl=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:ro});class rc{static decodePoint(e,t){let r=o.toUint8Array(e);if(0===r.length||4!==r[0])throw Error("Only uncompressed point format supported");let i=(r.length-1)/2;if(i!==Math.ceil(t/8))throw Error("Point does not match field size");return{x:r.slice(1,i+1),y:r.slice(i+1,i+1+i)}}static encodePoint(e,t){let r=Math.ceil(t/8);if(e.x.byteLength!==r||e.y.byteLength!==r)throw Error("X,Y coordinates don't match point size criteria");let i=o.toUint8Array(e.x),n=o.toUint8Array(e.y),a=new Uint8Array(2*r+1);return a[0]=4,a.set(i,1),a.set(n,r+1),a}static getSize(e){return Math.ceil(e/8)}static encodeSignature(e,t){let r=this.getSize(t),i=o.toUint8Array(e.r),n=o.toUint8Array(e.s),a=new Uint8Array(2*r);return a.set(this.padStart(i,r)),a.set(this.padStart(n,r),r),a}static decodeSignature(e,t){let r=this.getSize(t),i=o.toUint8Array(e);if(i.length!==2*r)throw Error("Incorrect size of the signature");let n=i.slice(0,r),a=i.slice(r);return{r:this.trimStart(n),s:this.trimStart(a)}}static trimStart(e){let t=0;for(;t<e.length-1&&0===e[t];)t++;return 0===t?e:e.slice(t,e.length)}static padStart(e,t){if(t===e.length)return e;let r=new Uint8Array(t);return r.set(e,t-e.length),r}}class ru{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){let t=e.byteLength/2,r=rc.decodeSignature(e,8*t),i=new ru;return i.r=o.toArrayBuffer(r.r),i.s=o.toArrayBuffer(r.s),i}toWebCryptoSignature(e){return null!=e||(e=8*Math.max(this.r.byteLength,this.s.byteLength)),rc.encodeSignature(this,e).buffer}}tm([tu({type:n.Integer,converter:ro})],ru.prototype,"r",void 0),tm([tu({type:n.Integer,converter:ro})],ru.prototype,"s",void 0);class rd extends t9{}tm([tu({context:1,implicit:!0,type:n.BitString,optional:!0})],rd.prototype,"publicKey",void 0);let rh=class{constructor(){this.value=new ArrayBuffer(0)}fromJSON(e){if(!e.d)throw Error("d: Missing required property");return this.value=f.FromBase64Url(e.d),this}toJSON(){return{d:f.ToBase64Url(this.value)}}};tm([tu({type:n.OctetString})],rh.prototype,"value",void 0),rh=tm([tc({type:i.Choice})],rh);let rp=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){return{x:f.ToBase64Url(this.value)}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");return this.value=f.FromBase64Url(e.x),this}};tm([tu({type:n.BitString})],rp.prototype,"value",void 0),rp=tm([tc({type:i.Choice})],rp);let rf=class{};tm([tu({type:n.OctetString}),tB({type:a.String,converter:rt})],rf.prototype,"d",void 0),rf=tm([tc({type:i.Choice})],rf);let rm="1.2.840.10045.3.1.7",rg="1.3.132.0",ry=`${rg}.34`,rv=`${rg}.35`,rb=`${rg}.10`,rw="1.3.36.3.3.2.8.1.1",rS=`${rw}.1`,r_=`${rw}.2`,rx=`${rw}.3`,rk=`${rw}.4`,rE=`${rw}.5`,rC=`${rw}.6`,rR=`${rw}.7`,rA=`${rw}.8`,rT=`${rw}.9`,rP=`${rw}.10`,rO=`${rw}.11`,rI=`${rw}.12`,rN=`${rw}.13`,rj=`${rw}.14`;var rB=Object.freeze({__proto__:null,AlgorithmIdentifier:t7,get CurvePrivateKey(){return rf},EcDsaSignature:ru,EcPrivateKey:rs,get EcPublicKey(){return ra},get EdPrivateKey(){return rh},get EdPublicKey(){return rp},get ObjectIdentifier(){return t5},OneAsymmetricKey:rd,PrivateKeyInfo:t9,PublicKeyInfo:re,RsaPrivateKey:ri,RsaPublicKey:rn,converters:rl,idBrainpoolP160r1:rS,idBrainpoolP160t1:r_,idBrainpoolP192r1:rx,idBrainpoolP192t1:rk,idBrainpoolP224r1:rE,idBrainpoolP224t1:rC,idBrainpoolP256r1:rR,idBrainpoolP256t1:rA,idBrainpoolP320r1:rT,idBrainpoolP320t1:rP,idBrainpoolP384r1:rO,idBrainpoolP384t1:rI,idBrainpoolP512r1:rN,idBrainpoolP512t1:rj,idEd25519:"1.3.101.112",idEd448:"1.3.101.113",idEllipticCurve:rg,idSecp256k1:rb,idSecp256r1:rm,idSecp384r1:ry,idSecp521r1:rv,idVersionOne:rw,idX25519:"1.3.101.110",idX448:"1.3.101.111"});class rU{constructor(){}static register(e){let t=new t5;t.value=e.id;let r=tf.serialize(t);this.items.push({...e,raw:r}),this.names.push(e.name)}static find(e){for(let t of(e=e.toUpperCase(),this.items))if(t.name.toUpperCase()===e||t.id.toUpperCase()===e)return t;return null}static get(e){let t=this.find(e);if(!t)throw Error(`Unsupported EC named curve '${e}'`);return t}}rU.items=[],rU.names=[],rU.register({name:"P-256",id:rm,size:256}),rU.register({name:"P-384",id:ry,size:384}),rU.register({name:"P-521",id:rv,size:521}),rU.register({name:"K-256",id:rb,size:256}),rU.register({name:"brainpoolP160r1",id:rS,size:160}),rU.register({name:"brainpoolP160t1",id:r_,size:160}),rU.register({name:"brainpoolP192r1",id:rx,size:192}),rU.register({name:"brainpoolP192t1",id:rk,size:192}),rU.register({name:"brainpoolP224r1",id:rE,size:224}),rU.register({name:"brainpoolP224t1",id:rC,size:224}),rU.register({name:"brainpoolP256r1",id:rR,size:256}),rU.register({name:"brainpoolP256t1",id:rA,size:256}),rU.register({name:"brainpoolP320r1",id:rT,size:320}),rU.register({name:"brainpoolP320t1",id:rP,size:320}),rU.register({name:"brainpoolP384r1",id:rO,size:384}),rU.register({name:"brainpoolP384t1",id:rI,size:384}),rU.register({name:"brainpoolP512r1",id:rN,size:512}),rU.register({name:"brainpoolP512t1",id:rj,size:512});class rL extends tq{constructor(){super(...arguments),this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),"length"in e){if("number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw RangeError("length: Number is out of range")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class rM extends tq{constructor(){super(...arguments),this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"iterations"),"number"!=typeof e.iterations)throw TypeError("iterations: Is not a Number");if(e.iterations<1)throw TypeError("iterations: Is less than 1")}checkImportKey(e,t,r,i,n,...a){if(super.checkImportKey(e,t,r,i,n,...a),i)throw SyntaxError("extractable: Must be 'false'")}}class rD extends tq{constructor(){super(...arguments),this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!o.isBufferSource(e.salt)||(this.checkRequiredProperty(e,"info"),!o.isBufferSource(e.info)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(e,t,r,i,n,...a){if(super.checkImportKey(e,t,r,i,n,...a),i)throw SyntaxError("extractable: Must be 'false'")}}class rK extends tq{constructor(){super(...arguments),this.usages=[],this.defaultLength=0}digest(...e){return e[0]={length:this.defaultLength,...e[0]},super.digest.apply(this,e)}checkDigest(e,t){super.checkDigest(e,t);let r=e.length||0;if("number"!=typeof r)throw TypeError("length: Is not a Number");if(r<0)throw TypeError("length: Is negative")}}class rq extends rK{constructor(){super(...arguments),this.name="shake128",this.defaultLength=16}}class r$ extends rK{constructor(){super(...arguments),this.name="shake256",this.defaultLength=32}}class rF{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){let e=this.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=f.ToHex(e).toLowerCase();return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16,20)}-${t.substring(20)}`}}class rz{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){let t=this.get(e.toLowerCase());return t&&delete this.items[e],t}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){let e=[];for(let t in this.items){let r=this.items[t];e.push(r.name)}return e.sort()}}let rV={jwk:["private","public","secret"],pkcs8:["private"],spki:["public"],raw:["secret","public"]},rH=["pkcs8","spki","raw"];class rW{constructor(){this.providers=new rz}static isHashedAlgorithm(e){return!!e&&"object"==typeof e&&"name"in e&&"hash"in e}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");let[t,r,...i]=e,n=this.prepareAlgorithm(t),a=o.toArrayBuffer(r),s=this.getProvider(n.name);return await s.digest(n,a,...i)}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");let[t,r,i,...n]=e,a=this.prepareAlgorithm(t),s=this.getProvider(a.name);return await s.generateKey({...a,name:s.name},r,i,...n)}async sign(...e){this.checkRequiredArguments(e,3,"sign");let[t,r,i,...n]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),s=o.toArrayBuffer(i),l=this.getProvider(a.name);return await l.sign({...a,name:l.name},r,s,...n)}async verify(...e){this.checkRequiredArguments(e,4,"verify");let[t,r,i,n,...a]=e;this.checkCryptoKey(r);let s=this.prepareAlgorithm(t),l=o.toArrayBuffer(n),c=o.toArrayBuffer(i),u=this.getProvider(s.name);return await u.verify({...s,name:u.name},r,c,l,...a)}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");let[t,r,i,...n]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),s=o.toArrayBuffer(i),l=this.getProvider(a.name);return await l.encrypt({...a,name:l.name},r,s,{keyUsage:!0},...n)}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");let[t,r,i,...n]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),s=o.toArrayBuffer(i),l=this.getProvider(a.name);return await l.decrypt({...a,name:l.name},r,s,{keyUsage:!0},...n)}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");let[t,r,i,...n]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),s=this.getProvider(a.name);return await s.deriveBits({...a,name:s.name},r,i,{keyUsage:!0},...n)}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");let[t,r,i,n,a,...s]=e,o=this.prepareAlgorithm(i);this.getProvider(o.name).checkDerivedKeyParams(o);let l=this.prepareAlgorithm(t),c=this.getProvider(l.name);c.checkCryptoKey(r,"deriveKey");let u=await c.deriveBits({...l,name:c.name},r,i.length||512,{keyUsage:!1},...s);return this.importKey("raw",u,i,n,a,...s)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");let[t,r,...i]=e;if(this.checkCryptoKey(r),!rV[t])throw TypeError("Invalid keyFormat argument");if(!rV[t].includes(r.type))throw new DOMException("The key is not of the expected type");let n=this.getProvider(r.algorithm.name);return await n.exportKey(t,r,...i)}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");let[t,r,i,n,a,...s]=e,l=this.prepareAlgorithm(i),c=this.getProvider(l.name);if("jwk"===t){if("object"!=typeof r||!r.kty)throw TypeError("Key data must be an object for JWK import")}else if(rH.includes(t)){if(!o.isBufferSource(r))throw TypeError("Key data must be a BufferSource for non-JWK formats")}else throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView or JsonWebKey)'");return c.importKey(t,r,{...l,name:c.name},n,a,...s)}async wrapKey(e,t,r,i,...n){let a=await this.exportKey(e,t,...n);if("jwk"===e){let e=JSON.stringify(a);a=f.FromUtf8String(e)}let s=this.prepareAlgorithm(i),l=o.toArrayBuffer(a),c=this.getProvider(s.name);return c.encrypt({...s,name:c.name},r,l,{keyUsage:!1},...n)}async unwrapKey(e,t,r,i,n,a,s,...l){let c=this.prepareAlgorithm(i),u=o.toArrayBuffer(t),d=this.getProvider(c.name),h=await d.decrypt({...c,name:d.name},r,u,{keyUsage:!1},...l);if("jwk"===e)try{h=JSON.parse(f.ToUtf8String(h))}catch(t){let e=TypeError("wrappedKey: Is not a JSON");throw e.internal=t,e}return this.importKey(e,h,n,a,s,...l)}checkRequiredArguments(e,t,r){if(e.length<t)throw TypeError(`Failed to execute '${r}' on 'SubtleCrypto': ${t} arguments required, but only ${e.length} present`)}prepareAlgorithm(e){if("string"==typeof e)return{name:e};if(rW.isHashedAlgorithm(e)){let t={...e};return t.hash=this.prepareAlgorithm(e.hash),t}return{...e}}getProvider(e){let t=this.providers.get(e);if(!t)throw new tL("Unrecognized name");return t}checkCryptoKey(e){if(!(e instanceof t3))throw TypeError("Key is not of type 'CryptoKey'")}}var rG=r(6113),rJ=r.n(rG),rY=r(77282),rX=r(40245);/*!
 Copyright (c) Peculiar Ventures, LLC
*/let rQ={fromJSON:e=>Buffer.from(f.FromBase64Url(e)),toJSON:e=>f.ToBase64Url(e)};class rZ extends t3{constructor(){super(...arguments),this.data=Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}}(0,rX.gn)([tB({name:"ext",type:a.Boolean,optional:!0})],rZ.prototype,"extractable",void 0),(0,rX.gn)([tB({name:"key_ops",type:a.String,repeated:!0,optional:!0})],rZ.prototype,"usages",void 0),(0,rX.gn)([tB({type:a.String})],rZ.prototype,"kty",void 0),(0,rX.gn)([tB({type:a.String,optional:!0})],rZ.prototype,"alg",void 0);class r0 extends rZ{constructor(){super(...arguments),this.kty="oct",this.type="secret"}}class r1 extends rZ{}class r2 extends r0{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new tL("Unsupported algorithm name")}}set alg(e){}}(0,rX.gn)([tB({name:"k",converter:rQ})],r2.prototype,"data",void 0);let r3=new WeakMap;function r8(e){let t=r3.get(e);if(!t)throw new tD("Cannot get CryptoKey from secure storage");return t}function r4(e){let t=t3.create(e.algorithm,e.type,e.extractable,e.usages);return Object.freeze(t),r3.set(t,e),t}class r6{static async generateKey(e,t,r){let i=new r2;return i.algorithm=e,i.extractable=t,i.usages=r,i.data=rJ().randomBytes(e.length>>3),i}static async exportKey(e,t){if(!(t instanceof r2))throw Error("key: Is not AesCryptoKey");switch(e.toLowerCase()){case"jwk":return tN.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new tD("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,i,n){let a;switch(e.toLowerCase()){case"jwk":a=tj.fromJSON(t,{targetSchema:r2});break;case"raw":(a=new r2).data=Buffer.from(t);break;default:throw new tD("format: Must be 'jwk' or 'raw'")}switch(a.algorithm=r,a.algorithm.length=a.data.length<<3,a.extractable=i,a.usages=n,a.algorithm.length){case 128:case 192:case 256:break;default:throw new tD("keyData: Is wrong key length")}return a}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(e,t,Buffer.from(r));case"AES-CTR":return this.encryptAesCTR(e,t,Buffer.from(r));case"AES-GCM":return this.encryptAesGCM(e,t,Buffer.from(r));case"AES-KW":return this.encryptAesKW(e,t,Buffer.from(r));case"AES-ECB":return this.encryptAesECB(e,t,Buffer.from(r));default:throw new tD("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof r2))throw Error("key: Is not AesCryptoKey");switch(e.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(e,t,Buffer.from(r));case"AES-CTR":return this.decryptAesCTR(e,t,Buffer.from(r));case"AES-GCM":return this.decryptAesGCM(e,t,Buffer.from(r));case"AES-KW":return this.decryptAesKW(e,t,Buffer.from(r));case"AES-ECB":return this.decryptAesECB(e,t,Buffer.from(r));default:throw new tD("algorithm: Is not recognized")}}static async encryptAesCBC(e,t,r){let i=rJ().createCipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptAesCBC(e,t,r){let i=rJ().createDecipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async encryptAesCTR(e,t,r){let i=rJ().createCipheriv(`aes-${t.algorithm.length}-ctr`,t.data,Buffer.from(e.counter)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptAesCTR(e,t,r){let i=rJ().createDecipheriv(`aes-${t.algorithm.length}-ctr`,t.data,new Uint8Array(e.counter)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async encryptAesGCM(e,t,r){let i=rJ().createCipheriv(`aes-${t.algorithm.length}-gcm`,t.data,Buffer.from(e.iv),{authTagLength:(e.tagLength||128)>>3});e.additionalData&&i.setAAD(Buffer.from(e.additionalData));let n=i.update(r);return n=Buffer.concat([n,i.final(),i.getAuthTag()]),new Uint8Array(n).buffer}static async decryptAesGCM(e,t,r){let i=rJ().createDecipheriv(`aes-${t.algorithm.length}-gcm`,t.data,new Uint8Array(e.iv)),n=(e.tagLength||128)>>3,a=r.slice(0,r.length-n),s=r.slice(r.length-n);e.additionalData&&i.setAAD(Buffer.from(e.additionalData)),i.setAuthTag(s);let o=i.update(a);return o=Buffer.concat([o,i.final()]),new Uint8Array(o).buffer}static async encryptAesKW(e,t,r){let i=rJ().createCipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptAesKW(e,t,r){let i=rJ().createDecipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async encryptAesECB(e,t,r){let i=rJ().createCipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptAesECB(e,t,r){let i=rJ().createDecipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}}r6.AES_KW_IV=Buffer.from("A6A6A6A6A6A6A6A6","hex");class r5 extends tF{async onGenerateKey(e,t,r){return r4(await r6.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r6.encrypt(e,r8(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r6.decrypt(e,r8(t),new Uint8Array(r))}async onExportKey(e,t){return r6.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await r6.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof r2))throw TypeError("key: Is not a AesCryptoKey")}}let r7=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),r9=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]);function ie(e){let t=Buffer.alloc(e.length),r=e.length-1;for(let i=0;i<r;i++)t[i]=e[i]<<1,128&e[i+1]&&(t[i]+=1);return t[r]=e[r]<<1,t}function it(e,t){let r=Math.min(e.length,t.length),i=Buffer.alloc(r);for(let n=0;n<r;n++)i[n]=e[n]^t[n];return i}function ir(e,t){let r=rG.createCipheriv(`aes${e.length<<3}`,e,r7),i=r.update(t);return r.final(),i}function ii(e,t){let r=Buffer.alloc(16),i=16*t;return e.copy(r,0,i,i+16),r}class ia extends tz{async onGenerateKey(e,t,r){return r4(await r6.generateKey({name:this.name,length:e.length},t,r))}async onSign(e,t,r){let i=function(e,t){let r,i;let n=function(e){let t=ir(e,r7),r=ie(t);128&t[0]&&(r=it(r,r9));let i=ie(r);return 128&r[0]&&(i=it(i,r9)),{subkey1:r,subkey2:i}}(e),a=Math.ceil(t.length/16);0===a?(a=1,r=!1):r=t.length%16==0;let s=a-1;i=r?it(ii(t,s),n.subkey1):it(function(e,t){let r=Buffer.alloc(16),i=16*t,n=e.length;return r.fill(0),e.copy(r,0,i,n),r[n-i]=128,r}(t,s),n.subkey2);let o=r7;for(let r=0;r<s;r++)o=ir(e,it(o,ii(t,r)));return ir(e,it(i,o))}(r8(t).data,Buffer.from(r));return new Uint8Array(i).buffer}async onVerify(e,t,r,i){let n=await this.sign(e,t,i);return 0===Buffer.from(r).compare(Buffer.from(n))}async onExportKey(e,t){return r6.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await r6.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof r2))throw TypeError("key: Is not a AesCryptoKey")}}class is extends tV{async onGenerateKey(e,t,r){return r4(await r6.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r6.encrypt(e,r8(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r6.decrypt(e,r8(t),new Uint8Array(r))}async onExportKey(e,t){return r6.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await r6.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof r2))throw TypeError("key: Is not a AesCryptoKey")}}class io extends tW{async onGenerateKey(e,t,r){return r4(await r6.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r6.encrypt(e,r8(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r6.decrypt(e,r8(t),new Uint8Array(r))}async onExportKey(e,t){return r6.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await r6.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof r2))throw TypeError("key: Is not a AesCryptoKey")}}class il extends tG{async onGenerateKey(e,t,r){return r4(await r6.generateKey({name:this.name,length:e.length},t,r))}async onExportKey(e,t){return r6.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await r6.importKey(e,t,{name:r.name},i,n))}async onEncrypt(e,t,r){return r6.encrypt(e,r8(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r6.decrypt(e,r8(t),new Uint8Array(r))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof r2))throw TypeError("key: Is not a AesCryptoKey")}}class ic extends tH{async onGenerateKey(e,t,r){return r4(await r6.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r6.encrypt(e,r8(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r6.decrypt(e,r8(t),new Uint8Array(r))}async onExportKey(e,t){return r6.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await r6.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof r2))throw TypeError("key: Is not a AesCryptoKey")}}class iu extends r0{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new tL("Unsupported algorithm name")}}set alg(e){}}(0,rX.gn)([tB({name:"k",converter:rQ})],iu.prototype,"data",void 0);class id{static async generateKey(e,t,r){let i=new iu;return i.algorithm=e,i.extractable=t,i.usages=r,i.data=rJ().randomBytes(e.length>>3),i}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tN.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new tD("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,i,n){let a;switch(e.toLowerCase()){case"jwk":a=tj.fromJSON(t,{targetSchema:iu});break;case"raw":(a=new iu).data=Buffer.from(t);break;default:throw new tD("format: Must be 'jwk' or 'raw'")}return a.algorithm=r,a.extractable=i,a.usages=n,a}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(e,t,Buffer.from(r));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(e,t,Buffer.from(r));default:throw new tD("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof iu))throw Error("key: Is not DesCryptoKey");switch(e.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(e,t,Buffer.from(r));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(e,t,Buffer.from(r));default:throw new tD("algorithm: Is not recognized")}}static async encryptDesCBC(e,t,r){let i=rJ().createCipheriv("des-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptDesCBC(e,t,r){let i=rJ().createDecipheriv("des-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async encryptDesEDE3CBC(e,t,r){let i=rJ().createCipheriv("des-ede3-cbc",t.data,Buffer.from(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}static async decryptDesEDE3CBC(e,t,r){let i=rJ().createDecipheriv("des-ede3-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return n=Buffer.concat([n,i.final()]),new Uint8Array(n).buffer}}class ih extends tJ{constructor(){super(...arguments),this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(e,t,r){return r4(await id.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return id.encrypt(e,r8(t),new Uint8Array(r))}async onDecrypt(e,t,r){return id.decrypt(e,r8(t),new Uint8Array(r))}async onExportKey(e,t){return id.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){let a=await id.importKey(e,t,{name:this.name,length:this.keySizeBits},i,n);if(a.data.length!==this.keySizeBits>>3)throw new tD("keyData: Wrong key size");return r4(a)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof iu))throw TypeError("key: Is not a DesCryptoKey")}}class ip extends tJ{constructor(){super(...arguments),this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(e,t,r){return r4(await id.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return id.encrypt(e,r8(t),new Uint8Array(r))}async onDecrypt(e,t,r){return id.decrypt(e,r8(t),new Uint8Array(r))}async onExportKey(e,t){return id.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){let a=await id.importKey(e,t,{name:this.name,length:this.keySizeBits},i,n);if(a.data.length!==this.keySizeBits>>3)throw new tD("keyData: Wrong key size");return r4(a)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof iu))throw TypeError("key: Is not a DesCryptoKey")}}function im(e){switch(e.name.toUpperCase()){case"RSA-OAEP":{let t=/(\d+)$/.exec(e.hash.name)[1];return`RSA-OAEP${"1"!==t?`-${t}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new tD("algorithm: Is not recognized")}}class ig extends r1{constructor(){super(...arguments),this.type="private"}getKey(){let e=th.parse(this.data,rB.PrivateKeyInfo);return th.parse(e.privateKey,rB.RsaPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:im(this.algorithm),key_ops:this.usages,ext:this.extractable},tN.toJSON(e))}fromJSON(e){let t=tj.fromJSON(e,{targetSchema:rB.RsaPrivateKey}),r=new rB.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.privateKeyAlgorithm.parameters=null,r.privateKey=tp.serialize(t),this.data=Buffer.from(tp.serialize(r))}}class iy extends r1{constructor(){super(...arguments),this.type="public"}getKey(){let e=th.parse(this.data,rB.PublicKeyInfo);return th.parse(e.publicKey,rB.RsaPublicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:im(this.algorithm),key_ops:this.usages,ext:this.extractable},tN.toJSON(e))}fromJSON(e){let t=tj.fromJSON(e,{targetSchema:rB.RsaPublicKey}),r=new rB.PublicKeyInfo;r.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.publicKeyAlgorithm.parameters=null,r.publicKey=tp.serialize(t),this.data=Buffer.from(tp.serialize(r))}}class iv{static async generateKey(e,t,r){let i=new ig;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new iy;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let a=Buffer.concat([Buffer.alloc(4-e.publicExponent.byteLength,0),Buffer.from(e.publicExponent)]).readInt32BE(0),s=rJ().generateKeyPairSync("rsa",{modulusLength:e.modulusLength,publicExponent:a,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=s.privateKey,n.data=s.publicKey,{privateKey:i,publicKey:n}}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tN.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;default:throw new tD("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tj.fromJSON(t,{targetSchema:rB.RsaPrivateKey});return this.importPrivateKey(e,r,i,n)}{let e=tj.fromJSON(t,{targetSchema:rB.RsaPublicKey});return this.importPublicKey(e,r,i,n)}case"spki":{let e=th.parse(new Uint8Array(t),rB.PublicKeyInfo),a=th.parse(e.publicKey,rB.RsaPublicKey);return this.importPublicKey(a,r,i,n)}case"pkcs8":{let e=th.parse(new Uint8Array(t),rB.PrivateKeyInfo),a=th.parse(e.privateKey,rB.RsaPrivateKey);return this.importPrivateKey(a,r,i,n)}default:throw new tD("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(e,t,r){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(e,t,r);default:throw new tD("algorithm: Is not recognized")}}static async verify(e,t,r,i){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(e,t,i,r);default:throw new tD("algorithm: Is not recognized")}}static async encrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.encryptOAEP(e,t,r);throw new tD("algorithm: Is not recognized")}static async decrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.decryptOAEP(e,t,r);throw new tD("algorithm: Is not recognized")}static importPrivateKey(e,t,r,i){let n=new rB.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",n.privateKeyAlgorithm.parameters=null,n.privateKey=tp.serialize(e);let a=new ig;return a.data=Buffer.from(tp.serialize(n)),a.algorithm=Object.assign({},t),a.algorithm.publicExponent=new Uint8Array(e.publicExponent),a.algorithm.modulusLength=e.modulus.byteLength<<3,a.extractable=r,a.usages=i,a}static importPublicKey(e,t,r,i){let n=new rB.PublicKeyInfo;n.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",n.publicKeyAlgorithm.parameters=null,n.publicKey=tp.serialize(e);let a=new iy;return a.data=Buffer.from(tp.serialize(n)),a.algorithm=Object.assign({},t),a.algorithm.publicExponent=new Uint8Array(e.publicExponent),a.algorithm.modulusLength=e.modulus.byteLength<<3,a.extractable=r,a.usages=i,a}static getCryptoAlgorithm(e){switch(e.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new tD("algorithm.hash: Is not recognized")}}static signRsa(e,t,r){let i=this.getCryptoAlgorithm(t.algorithm),n=rJ().createSign(i);n.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let a={key:t.pem};"RSA-PSS"===e.name.toUpperCase()&&(a.padding=rJ().constants.RSA_PKCS1_PSS_PADDING,a.saltLength=e.saltLength);let s=n.sign(a);return new Uint8Array(s).buffer}static verifySSA(e,t,r,i){let n=this.getCryptoAlgorithm(t.algorithm),a=rJ().createVerify(n);a.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let s={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(s.padding=rJ().constants.RSA_PKCS1_PSS_PADDING,s.saltLength=e.saltLength),a.verify(s,i)}static encryptOAEP(e,t,r){let i={key:`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:rJ().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(rJ().publicEncrypt(i,r)).buffer}static decryptOAEP(e,t,r){let i={key:`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:rJ().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(rJ().privateDecrypt(i,r)).buffer}}iv.publicKeyUsages=["verify","encrypt","wrapKey"],iv.privateKeyUsages=["sign","decrypt","unwrapKey"];class ib extends tX{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await iv.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onSign(e,t,r){return iv.sign(e,r8(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iv.verify(e,r8(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iv.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await iv.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r8(e);if(!(r instanceof ig||r instanceof iy))throw TypeError("key: Is not RSA CryptoKey")}}class iw extends tQ{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await iv.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onSign(e,t,r){return iv.sign(e,r8(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iv.verify(e,r8(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iv.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await iv.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r8(e);if(!(r instanceof ig||r instanceof iy))throw TypeError("key: Is not RSA CryptoKey")}}class iS{static size(e){switch(e.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw Error("Unrecognized name")}}static getAlgorithmName(e){switch(e.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw Error("Unrecognized name")}}static digest(e,t){let r=this.getAlgorithmName(e),i=rJ().createHash(r).update(Buffer.from(t)).digest();return new Uint8Array(i).buffer}}class i_ extends tZ{async onGenerateKey(e,t,r){let i=await iv.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onEncrypt(e,t,r){let i=r8(t),n=new Uint8Array(r),a=Math.ceil(i.algorithm.modulusLength>>3),s=iS.size(i.algorithm.hash)>>3,l=n.byteLength,c=a-l-2*s-2;if(l>a-2*s-2)throw Error("Data too large");let u=new Uint8Array(a),d=u.subarray(1,s+1),h=u.subarray(s+1);h.set(n,s+c+1);let p=rJ().createHash(i.algorithm.hash.name.replace("-","")).update(o.toUint8Array(e.label||new Uint8Array(0))).digest();h.set(p,0),h[s+c]=1,rJ().randomFillSync(d);let f=this.mgf1(i.algorithm.hash,d,h.length);for(let e=0;e<h.length;e++)h[e]^=f[e];let m=this.mgf1(i.algorithm.hash,h,d.length);for(let e=0;e<d.length;e++)d[e]^=m[e];i.pem||(i.pem=`-----BEGIN PUBLIC KEY-----
${i.data.toString("base64")}
-----END PUBLIC KEY-----`);let g=rJ().publicEncrypt({key:i.pem,padding:rJ().constants.RSA_NO_PADDING},Buffer.from(u));return new Uint8Array(g).buffer}async onDecrypt(e,t,r){let i=r8(t),n=Math.ceil(i.algorithm.modulusLength>>3),a=iS.size(i.algorithm.hash)>>3;if(r.byteLength!==n)throw Error("Bad data");i.pem||(i.pem=`-----BEGIN PRIVATE KEY-----
${i.data.toString("base64")}
-----END PRIVATE KEY-----`);let s=rJ().privateDecrypt({key:i.pem,padding:rJ().constants.RSA_NO_PADDING},Buffer.from(r)),l=s[0],c=s.subarray(1,a+1),u=s.subarray(a+1);if(0!==l)throw Error("Decryption failed");let d=this.mgf1(i.algorithm.hash,u,c.length);for(let e=0;e<c.length;e++)c[e]^=d[e];let h=this.mgf1(i.algorithm.hash,c,u.length);for(let e=0;e<u.length;e++)u[e]^=h[e];let p=rJ().createHash(i.algorithm.hash.name.replace("-","")).update(o.toUint8Array(e.label||new Uint8Array(0))).digest();for(let e=0;e<a;e++)if(p[e]!==u[e])throw Error("Decryption failed");let f=a;for(;f<u.length;f++){let e=u[f];if(1===e)break;if(0!==e)throw Error("Decryption failed")}if(f===u.length)throw Error("Decryption failed");return s=u.subarray(f+1),new Uint8Array(s).buffer}async onExportKey(e,t){return iv.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await iv.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r8(e);if(!(r instanceof ig||r instanceof iy))throw TypeError("key: Is not RSA CryptoKey")}mgf1(e,t,r=0){let i=iS.size(e)>>3,n=new Uint8Array(r),a=new Uint8Array(4),s=Math.ceil(r/i);for(let r=0;r<s;r++){a[0]=r>>>24,a[1]=r>>>16&255,a[2]=r>>>8&255,a[3]=255&r;let s=n.subarray(r*i),o=rJ().createHash(e.name.replace("-","")).update(t).update(a).digest();o.length>s.length&&(o=o.subarray(0,s.length)),s.set(o)}return n}}class ix extends tq{constructor(){super(...arguments),this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(e,t,r){let i=await iv.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=f.ToBase64(e.publicExponent);if(!("Aw=="===t||"AQAB"===t))throw TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(e,t,r){let i=this.toCryptoOptions(t),n=rG.publicEncrypt(i,new Uint8Array(r));return new Uint8Array(n).buffer}async onDecrypt(e,t,r){let i=this.toCryptoOptions(t),n=rG.privateDecrypt(i,new Uint8Array(r));return new Uint8Array(n).buffer}async onExportKey(e,t){return iv.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await iv.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r8(e);if(!(r instanceof ig||r instanceof iy))throw TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(e){let t=e.type.toUpperCase();return{key:`-----BEGIN ${t} KEY-----
${r8(e).data.toString("base64")}
-----END ${t} KEY-----`,padding:rG.constants.RSA_PKCS1_PADDING}}}let ik={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function iE(e){let t=ik[e];if(!t)throw new tD(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class iC extends r1{constructor(){super(...arguments),this.type="private"}getKey(){let e=th.parse(this.data,rB.PrivateKeyInfo);return th.parse(e.privateKey,rB.EcPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tN.toJSON(e))}fromJSON(e){if(!e.crv)throw new tD("Cannot get named curve from JWK. Property 'crv' is required");let t=new rB.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",t.privateKeyAlgorithm.parameters=tp.serialize(new rB.ObjectIdentifier(iE(e.crv)));let r=tj.fromJSON(e,{targetSchema:rB.EcPrivateKey});return t.privateKey=tp.serialize(r),this.data=Buffer.from(tp.serialize(t)),this}}class iR extends r1{constructor(){super(...arguments),this.type="public"}getKey(){let e=th.parse(this.data,rB.PublicKeyInfo);return new rB.EcPublicKey(e.publicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tN.toJSON(e))}fromJSON(e){if(!e.crv)throw new tD("Cannot get named curve from JWK. Property 'crv' is required");let t=tj.fromJSON(e,{targetSchema:rB.EcPublicKey}),r=new rB.PublicKeyInfo;return r.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",r.publicKeyAlgorithm.parameters=tp.serialize(new rB.ObjectIdentifier(iE(e.crv))),r.publicKey=tp.toASN(t).valueHex,this.data=Buffer.from(tp.serialize(r)),this}}class iA extends tq{constructor(){super(...arguments),this.name="SHA-1",this.usages=[]}async onDigest(e,t){return iS.digest(e,t)}}class iT extends tq{constructor(){super(...arguments),this.name="SHA-256",this.usages=[]}async onDigest(e,t){return iS.digest(e,t)}}class iP extends tq{constructor(){super(...arguments),this.name="SHA-384",this.usages=[]}async onDigest(e,t){return iS.digest(e,t)}}class iO extends tq{constructor(){super(...arguments),this.name="SHA-512",this.usages=[]}async onDigest(e,t){return iS.digest(e,t)}}class iI extends tq{constructor(){super(...arguments),this.name="SHA3-256",this.usages=[]}async onDigest(e,t){return iS.digest(e,t)}}class iN extends tq{constructor(){super(...arguments),this.name="SHA3-384",this.usages=[]}async onDigest(e,t){return iS.digest(e,t)}}class ij extends tq{constructor(){super(...arguments),this.name="SHA3-512",this.usages=[]}async onDigest(e,t){return iS.digest(e,t)}}class iB{static async generateKey(e,t,r){let i=new iC;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new iR;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let a=rJ().generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(e.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=a.privateKey,n.data=a.publicKey,{privateKey:i,publicKey:n}}static async sign(e,t,r){let i=iS.getAlgorithmName(e.hash),n=rJ().createSign(i);n.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let a={key:t.pem},s=n.sign(a),o=th.parse(s,rB.EcDsaSignature);return rc.encodeSignature(o,rU.get(t.algorithm.namedCurve).size).buffer}static async verify(e,t,r,i){let n=iS.getAlgorithmName(e.hash),a=rJ().createVerify(n);a.update(Buffer.from(i)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let s={key:t.pem},l=new rB.EcDsaSignature,c=rU.get(t.algorithm.namedCurve),u=rc.decodeSignature(r,c.size);l.r=o.toArrayBuffer(u.r),l.s=o.toArrayBuffer(u.s);let d=Buffer.from(tp.serialize(l));return a.verify(s,d)}static async deriveBits(e,t,r){let i=this.getOpenSSLNamedCurve(t.algorithm.namedCurve),n=rJ().createECDH(i),a=th.parse(t.data,rB.PrivateKeyInfo),s=th.parse(a.privateKey,rB.EcPrivateKey);n.setPrivateKey(Buffer.from(s.privateKey));let o=th.parse(e.public.data,rB.PublicKeyInfo),l=n.computeSecret(Buffer.from(o.publicKey));return null===r?l:new Uint8Array(l).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tN.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return th.parse(t.data,rB.PublicKeyInfo).publicKey;default:throw new tD("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tj.fromJSON(t,{targetSchema:rB.EcPrivateKey});return this.importPrivateKey(e,r,i,n)}{let e=tj.fromJSON(t,{targetSchema:rB.EcPublicKey});return this.importPublicKey(e,r,i,n)}case"raw":{let e=new rB.EcPublicKey(t);return this.importPublicKey(e,r,i,n)}case"spki":{let e=th.parse(new Uint8Array(t),rB.PublicKeyInfo),a=new rB.EcPublicKey(e.publicKey);return this.assertKeyParameters(e.publicKeyAlgorithm.parameters,r.namedCurve),this.importPublicKey(a,r,i,n)}case"pkcs8":{let e=th.parse(new Uint8Array(t),rB.PrivateKeyInfo),a=th.parse(e.privateKey,rB.EcPrivateKey);return this.assertKeyParameters(e.privateKeyAlgorithm.parameters,r.namedCurve),this.importPrivateKey(a,r,i,n)}default:throw new tD("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(e,t){if(!e)throw new tU("Key info doesn't have required parameters");let r="";try{r=th.parse(e,rB.ObjectIdentifier).value}catch(e){throw new tU("Cannot read key info parameters")}if(iE(t)!==r)throw new tU("Key info parameter doesn't match to named curve")}static async importPrivateKey(e,t,r,i){let n=new rB.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",n.privateKeyAlgorithm.parameters=tp.serialize(new rB.ObjectIdentifier(iE(t.namedCurve))),n.privateKey=tp.serialize(e);let a=new iC;return a.data=Buffer.from(tp.serialize(n)),a.algorithm=Object.assign({},t),a.extractable=r,a.usages=i,a}static async importPublicKey(e,t,r,i){let n=new rB.PublicKeyInfo;n.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let a=iE(t.namedCurve);n.publicKeyAlgorithm.parameters=tp.serialize(new rB.ObjectIdentifier(a)),n.publicKey=e.value;let s=new iR;return s.data=Buffer.from(tp.serialize(n)),s.algorithm=Object.assign({},t),s.extractable=r,s.usages=i,s}static getOpenSSLNamedCurve(e){switch(e.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return e}}}iB.publicKeyUsages=["verify"],iB.privateKeyUsages=["sign","deriveKey","deriveBits"];class iU extends t1{constructor(){super(...arguments),this.namedCurves=rU.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await iB.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onSign(e,t,r){return iB.sign(e,r8(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iB.verify(e,r8(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iB.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await iB.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r8(e);if(!(r instanceof iC||r instanceof iR))throw TypeError("key: Is not EC CryptoKey")}}class iL extends t8{constructor(){super(...arguments),this.namedCurves=rU.names}async onGenerateKey(e,t,r){let i=await iB.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onExportKey(e,t){return iB.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await iB.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r8(e);if(!(r instanceof iC||r instanceof iR))throw TypeError("key: Is not EC CryptoKey")}async onDeriveBits(e,t,r){return await iB.deriveBits({...e,public:r8(e.public)},r8(t),r)}}let iM={[rB.idEd448]:"Ed448",ed448:rB.idEd448,[rB.idX448]:"X448",x448:rB.idX448,[rB.idEd25519]:"Ed25519",ed25519:rB.idEd25519,[rB.idX25519]:"X25519",x25519:rB.idX25519};function iD(e){let t=iM[e.toLowerCase()];if(!t)throw new tD(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class iK extends r1{constructor(){super(...arguments),this.type="private"}getKey(){let e=th.parse(this.data,rB.PrivateKeyInfo);return th.parse(e.privateKey,rB.CurvePrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tN.toJSON(e))}fromJSON(e){if(!e.crv)throw new tD("Cannot get named curve from JWK. Property 'crv' is required");let t=new rB.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm=iD(e.crv);let r=tj.fromJSON(e,{targetSchema:rB.CurvePrivateKey});return t.privateKey=tp.serialize(r),this.data=Buffer.from(tp.serialize(t)),this}}class iq extends r1{constructor(){super(...arguments),this.type="public"}getKey(){return th.parse(this.data,rB.PublicKeyInfo).publicKey}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},{x:f.ToBase64Url(e)})}fromJSON(e){if(!e.crv)throw new tD("Cannot get named curve from JWK. Property 'crv' is required");if(!e.x)throw new tD("Cannot get property from JWK. Property 'x' is required");let t=new rB.PublicKeyInfo;return t.publicKeyAlgorithm.algorithm=iD(e.crv),t.publicKey=f.FromBase64Url(e.x),this.data=Buffer.from(tp.serialize(t)),this}}class i${static async generateKey(e,t,r){let i=new iK;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new iq;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let a=e.namedCurve.toLowerCase(),s=rJ().generateKeyPairSync(a,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=s.privateKey,n.data=s.publicKey,{privateKey:i,publicKey:n}}static async sign(e,t,r){t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let i={key:t.pem},n=rJ().sign(null,Buffer.from(r),i);return o.toArrayBuffer(n)}static async verify(e,t,r,i){t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let n={key:t.pem};return rJ().verify(null,Buffer.from(i),n,Buffer.from(r))}static async deriveBits(e,t,r){let i=rJ().createPublicKey({key:e.public.data,format:"der",type:"spki"}),n=rJ().createPrivateKey({key:t.data,format:"der",type:"pkcs8"}),a=rJ().diffieHellman({publicKey:i,privateKey:n});return new Uint8Array(a).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tN.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return th.parse(t.data,rB.PublicKeyInfo).publicKey;default:throw new tD("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tj.fromJSON(t,{targetSchema:rB.CurvePrivateKey});return this.importPrivateKey(e,r,i,n)}if(!t.x)throw TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(f.FromBase64Url(t.x),r,i,n);case"raw":return this.importPublicKey(t,r,i,n);case"spki":{let e=th.parse(new Uint8Array(t),rB.PublicKeyInfo);return this.importPublicKey(e.publicKey,r,i,n)}case"pkcs8":{let e=th.parse(new Uint8Array(t),rB.PrivateKeyInfo),a=th.parse(e.privateKey,rB.CurvePrivateKey);return this.importPrivateKey(a,r,i,n)}default:throw new tD("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(e,t,r,i){let n=new iK;return n.fromJSON({crv:t.namedCurve,d:f.ToBase64Url(e.d)}),n.algorithm=Object.assign({},t),n.extractable=r,n.usages=i,n}static async importPublicKey(e,t,r,i){let n=new iq;return n.fromJSON({crv:t.namedCurve,x:f.ToBase64Url(e)}),n.algorithm=Object.assign({},t),n.extractable=r,n.usages=i,n}}i$.publicKeyUsages=["verify"],i$.privateKeyUsages=["sign","deriveKey","deriveBits"];class iF extends t6{async onGenerateKey(e,t,r){let i=await i$.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onSign(e,t,r){return i$.sign(e,r8(t),new Uint8Array(r))}async onVerify(e,t,r,i){return i$.verify(e,r8(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return i$.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await i$.importKey(e,t,{...r,name:this.name},i,n))}}class iz extends t4{async onGenerateKey(e,t,r){let i=await i$.generateKey({name:this.name,namedCurve:e.namedCurve.toUpperCase()},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onDeriveBits(e,t,r){return await i$.deriveBits({...e,public:r8(e.public)},r8(t),r)}async onExportKey(e,t){return i$.exportKey(e,r8(t))}async onImportKey(e,t,r,i,n){return r4(await i$.importKey(e,t,{...r,name:this.name},i,n))}}class iV extends rZ{}class iH extends rM{async onDeriveBits(e,t,r){return new Promise((i,n)=>{let a=o.toArrayBuffer(e.salt),s=e.hash.name.replace("-","");rJ().pbkdf2(r8(t).data,Buffer.from(a),e.iterations,r>>3,s,(e,t)=>{e?n(e):i(new Uint8Array(t).buffer)})})}async onImportKey(e,t,r,i,n){if("raw"===e){let e=new iV;return e.data=Buffer.from(t),e.algorithm={name:this.name},e.extractable=!1,e.usages=n,r4(e)}throw new tD("format: Must be 'raw'")}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof iV))throw TypeError("key: Is not PBKDF CryptoKey")}}class iW extends rZ{get alg(){let e=this.algorithm.hash.name.toUpperCase();return`HS${e.replace("SHA-","")}`}set alg(e){}}(0,rX.gn)([tB({name:"k",converter:rQ})],iW.prototype,"data",void 0);class iG extends rL{async onGenerateKey(e,t,r){let i=(e.length||this.getDefaultLength(e.hash.name))>>3<<3,n=new iW;return n.algorithm={...e,length:i,name:this.name},n.extractable=t,n.usages=r,n.data=rJ().randomBytes(i>>3),r4(n)}async onSign(e,t,r){let i=iS.getAlgorithmName(t.algorithm.hash),n=rJ().createHmac(i,r8(t).data).update(Buffer.from(r)).digest();return new Uint8Array(n).buffer}async onVerify(e,t,r,i){let n=iS.getAlgorithmName(t.algorithm.hash);return 0===rJ().createHmac(n,r8(t).data).update(Buffer.from(i)).digest().compare(Buffer.from(r))}async onImportKey(e,t,r,i,n){let a;switch(e.toLowerCase()){case"jwk":a=tj.fromJSON(t,{targetSchema:iW});break;case"raw":(a=new iW).data=Buffer.from(t);break;default:throw new tD("format: Must be 'jwk' or 'raw'")}return a.algorithm={hash:{name:r.hash.name},name:this.name,length:a.data.length<<3},a.extractable=i,a.usages=n,r4(a)}async onExportKey(e,t){switch(e.toLowerCase()){case"jwk":return tN.toJSON(r8(t));case"raw":return new Uint8Array(r8(t).data).buffer;default:throw new tD("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof iW))throw TypeError("key: Is not HMAC CryptoKey")}}class iJ extends rZ{}class iY extends rD{async onImportKey(e,t,r,i,n){if("raw"!==e.toLowerCase())throw new tD("Operation not supported");let a=new iJ;return a.data=Buffer.from(t),a.algorithm={name:this.name},a.extractable=i,a.usages=n,r4(a)}async onDeriveBits(e,t,r){let i=e.hash.name.replace("-",""),n=rJ().createHash(i).digest().length,a=r/8,s=o.toUint8Array(e.info),l=rJ().createHmac(i,o.toUint8Array(e.salt)).update(o.toUint8Array(r8(t).data)).digest(),c=[Buffer.alloc(0)],u=Math.ceil(a/n)+1;for(let e=1;e<u;++e)c.push(rJ().createHmac(i,l).update(Buffer.concat([c[e-1],s,Buffer.from([e])])).digest());return Buffer.concat(c).slice(0,a)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r8(e) instanceof iJ))throw TypeError("key: Is not HKDF CryptoKey")}}class iX{static digest(e,t){let r=rJ().createHash(e.name.toLowerCase(),{outputLength:e.length}).update(Buffer.from(t)).digest();return new Uint8Array(r).buffer}}class iQ extends rq{async onDigest(e,t){return iX.digest(e,t)}}class iZ extends r${async onDigest(e,t){return iX.digest(e,t)}}class i0 extends rW{constructor(){var e;super(),this.providers.set(new r5),this.providers.set(new is),this.providers.set(new io),this.providers.set(new ia),this.providers.set(new il),this.providers.set(new ic),this.providers.set(new ih),this.providers.set(new ip),this.providers.set(new ib),this.providers.set(new iw),this.providers.set(new i_),this.providers.set(new ix),this.providers.set(new iU),this.providers.set(new iL),this.providers.set(new iA),this.providers.set(new iT),this.providers.set(new iP),this.providers.set(new iO),this.providers.set(new iH),this.providers.set(new iG),this.providers.set(new iY);let t=null===(e=/^v(\d+)/.exec(rY.version))||void 0===e?void 0:e[1];t&&parseInt(t,10)>=12&&(this.providers.set(new iQ),this.providers.set(new iZ));let r=rG.getHashes();r.includes("sha3-256")&&this.providers.set(new iI),r.includes("sha3-384")&&this.providers.set(new iN),r.includes("sha3-512")&&this.providers.set(new ij),t&&parseInt(t,10)>=14&&(this.providers.set(new iF),this.providers.set(new iz))}}class i1 extends rF{constructor(){super(...arguments),this.subtle=new i0}getRandomValues(e){if(!ArrayBuffer.isView(e))throw TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let t=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return rJ().randomFillSync(t),e}}},39440:(e,t,r)=>{"use strict";r.d(t,{StreamClient:()=>J});var i=r(3078),n=r(9410),a=r.n(n),s=r(6113),o=r.n(s);function l(e,t,r,i){return new(r||(r=Promise))(function(n,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((i=i.apply(e,t||[])).next())})}let c="https://chat.stream-io-api.com".replace(/\/+$/,""),u=new class{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:c}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t,r=""){return Object.keys(t).map(i=>(function t(r,i,n=""){let a=n+(n.length?`[${r}]`:r);if(i instanceof Array){let e=i.map(e=>encodeURIComponent(String(e))).join(`&${encodeURIComponent(a)}=`);return`${encodeURIComponent(a)}=${e}`}return i instanceof Set?t(r,Array.from(i),n):i instanceof Date?`${encodeURIComponent(a)}=${encodeURIComponent(i.toISOString())}`:i instanceof Object?e(i,a):`${encodeURIComponent(a)}=${encodeURIComponent(String(i))}`})(i,t[i],r)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:()=>l(this,void 0,void 0,function*(){return e})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}},d=class e{constructor(e=u){this.configuration=e,this.fetchApi=(e,t)=>l(this,void 0,void 0,function*(){let r,i={url:e,init:t};for(let e of this.middleware)e.pre&&(i=(yield e.pre(Object.assign({fetch:this.fetchApi},i)))||i);try{r=yield(this.configuration.fetchApi||fetch)(i.url,i.init)}catch(e){for(let t of this.middleware)t.onError&&(r=(yield t.onError({fetch:this.fetchApi,url:i.url,init:i.init,error:e,response:r?r.clone():void 0}))||r);if(void 0===r){if(e instanceof Error)throw new p(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(r=(yield e.post({fetch:this.fetchApi,url:i.url,init:i.init,response:r.clone()}))||r);return r}),this.middleware=e.middleware}withMiddleware(...e){let t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){let t=e.map(e=>({pre:e}));return this.withMiddleware(...t)}withPostMiddleware(...e){let t=e.map(e=>({post:e}));return this.withMiddleware(...t)}isJsonMime(t){return!!t&&e.jsonRegex.test(t)}request(e,t){return l(this,void 0,void 0,function*(){let{url:r,init:i}=yield this.createFetchParams(e,t),n=yield this.fetchApi(r,i);if(n&&n.status>=200&&n.status<300)return n;throw new h(n,"Response returned an error code")})}createFetchParams(e,t){return l(this,void 0,void 0,function*(){var r,i;let n=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(n+="?"+this.configuration.queryParamsStringify(e.query));let a=Object.assign({},this.configuration.headers,e.headers);Object.keys(a).forEach(e=>void 0===a[e]?delete a[e]:{});let s={method:e.method,headers:a,body:e.body,credentials:this.configuration.credentials},o=Object.assign(Object.assign({},s),(yield("function"==typeof t?t:()=>l(this,void 0,void 0,function*(){return t}))({init:s,context:e})));return{url:n,init:Object.assign(Object.assign({},o),{body:(r=o.body,"undefined"!=typeof FormData&&r instanceof FormData||o.body instanceof URLSearchParams||(i=o.body,"undefined"!=typeof Blob&&i instanceof Blob))?o.body:JSON.stringify(o.body)})}})}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}};d.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");let h=class extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}},p=class extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}},f=class extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}},m={csv:","};function g(e){for(let t of e)if("multipart/form-data"===t.contentType)return!0;return!1}let y=class{constructor(e,t=e=>e){this.raw=e,this.transformer=t}value(){return l(this,void 0,void 0,function*(){return this.transformer((yield this.raw.json()))})}},v=class{constructor(e){this.raw=e}value(){return l(this,void 0,void 0,function*(){})}};class b extends d{createChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createChannelTypeRequest||void 0===e.createChannelTypeRequest)throw new f("createChannelTypeRequest","Required parameter requestParameters.createChannelTypeRequest was null or undefined when calling createChannelType.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes",method:"POST",headers:i,query:r,body:e.createChannelTypeRequest},t)))})}createChannelType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createChannelTypeRaw(e,t);return yield r.value()})}deleteChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteChannelType.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deleteChannelType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteChannelTypeRaw(e,t);return yield r.value()})}getChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling getChannelType.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:i,query:r},t)))})}getChannelType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getChannelTypeRaw(e,t);return yield r.value()})}listChannelTypesRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes",method:"GET",headers:r,query:t},e)))})}listChannelTypes(e){return l(this,void 0,void 0,function*(){let t=yield this.listChannelTypesRaw(e);return yield t.value()})}updateChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling updateChannelType.");if(null===e.updateChannelTypeRequest||void 0===e.updateChannelTypeRequest)throw new f("updateChannelTypeRequest","Required parameter requestParameters.updateChannelTypeRequest was null or undefined when calling updateChannelType.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:i,query:r,body:e.updateChannelTypeRequest},t)))})}updateChannelType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateChannelTypeRaw(e,t);return yield r.value()})}}class w extends d{deleteChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deleteChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteChannel.");let r={};void 0!==e.hardDelete&&(r.hard_delete=e.hardDelete);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:i,query:r},t)))})}deleteChannel(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteChannelRaw(e,t);return yield r.value()})}deleteChannelsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.deleteChannelsRequest||void 0===e.deleteChannelsRequest)throw new f("deleteChannelsRequest","Required parameter requestParameters.deleteChannelsRequest was null or undefined when calling deleteChannels.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/delete",method:"POST",headers:i,query:r,body:e.deleteChannelsRequest},t)))})}deleteChannels(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteChannelsRaw(e,t);return yield r.value()})}exportChannelsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.exportChannelsRequest||void 0===e.exportChannelsRequest)throw new f("exportChannelsRequest","Required parameter requestParameters.exportChannelsRequest was null or undefined when calling exportChannels.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/export_channels",method:"POST",headers:i,query:r,body:e.exportChannelsRequest},t)))})}exportChannels(e,t){return l(this,void 0,void 0,function*(){let r=yield this.exportChannelsRaw(e,t);return yield r.value()})}getExportChannelsStatusRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getExportChannelsStatus.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/export_channels/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}getExportChannelsStatus(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getExportChannelsStatusRaw(e,t);return yield r.value()})}getOrCreateChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling getOrCreateChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getOrCreateChannel.");if(null===e.channelGetOrCreateRequest||void 0===e.channelGetOrCreateRequest)throw new f("channelGetOrCreateRequest","Required parameter requestParameters.channelGetOrCreateRequest was null or undefined when calling getOrCreateChannel.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/query".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.channelGetOrCreateRequest},t)))})}getOrCreateChannel(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getOrCreateChannelRaw(e,t);return yield r.value()})}hideChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling hideChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling hideChannel.");if(null===e.hideChannelRequest||void 0===e.hideChannelRequest)throw new f("hideChannelRequest","Required parameter requestParameters.hideChannelRequest was null or undefined when calling hideChannel.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/hide".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.hideChannelRequest},t)))})}hideChannel(e,t){return l(this,void 0,void 0,function*(){let r=yield this.hideChannelRaw(e,t);return yield r.value()})}markChannelsReadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.markChannelsReadRequest||void 0===e.markChannelsReadRequest)throw new f("markChannelsReadRequest","Required parameter requestParameters.markChannelsReadRequest was null or undefined when calling markChannelsRead.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/read",method:"POST",headers:i,query:r,body:e.markChannelsReadRequest},t)))})}markChannelsRead(e,t){return l(this,void 0,void 0,function*(){let r=yield this.markChannelsReadRaw(e,t);return yield r.value()})}markReadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling markRead.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling markRead.");if(null===e.markReadRequest||void 0===e.markReadRequest)throw new f("markReadRequest","Required parameter requestParameters.markReadRequest was null or undefined when calling markRead.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/read".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.markReadRequest},t)))})}markRead(e,t){return l(this,void 0,void 0,function*(){let r=yield this.markReadRaw(e,t);return yield r.value()})}markUnreadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling markUnread.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling markUnread.");if(null===e.markUnreadRequest||void 0===e.markUnreadRequest)throw new f("markUnreadRequest","Required parameter requestParameters.markUnreadRequest was null or undefined when calling markUnread.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/unread".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.markUnreadRequest},t)))})}markUnread(e,t){return l(this,void 0,void 0,function*(){let r=yield this.markUnreadRaw(e,t);return yield r.value()})}muteChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.muteChannelRequest||void 0===e.muteChannelRequest)throw new f("muteChannelRequest","Required parameter requestParameters.muteChannelRequest was null or undefined when calling muteChannel.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/mute/channel",method:"POST",headers:i,query:r,body:e.muteChannelRequest},t)))})}muteChannel(e,t){return l(this,void 0,void 0,function*(){let r=yield this.muteChannelRaw(e,t);return yield r.value()})}queryChannelsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.queryChannelsRequest||void 0===e.queryChannelsRequest)throw new f("queryChannelsRequest","Required parameter requestParameters.queryChannelsRequest was null or undefined when calling queryChannels.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels",method:"POST",headers:i,query:r,body:e.queryChannelsRequest},t)))})}queryChannels(e,t){return l(this,void 0,void 0,function*(){let r=yield this.queryChannelsRaw(e,t);return yield r.value()})}queryMembersRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.payload&&(r.payload=e.payload);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/members",method:"GET",headers:i,query:r},t)))})}queryMembers(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.queryMembersRaw(e,t);return yield r.value()})}searchRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.payload&&(r.payload=e.payload);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/search",method:"GET",headers:i,query:r},t)))})}search(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.searchRaw(e,t);return yield r.value()})}showChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling showChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling showChannel.");if(null===e.showChannelRequest||void 0===e.showChannelRequest)throw new f("showChannelRequest","Required parameter requestParameters.showChannelRequest was null or undefined when calling showChannel.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/show".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.showChannelRequest},t)))})}showChannel(e,t){return l(this,void 0,void 0,function*(){let r=yield this.showChannelRaw(e,t);return yield r.value()})}truncateChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling truncateChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling truncateChannel.");if(null===e.truncateChannelRequest||void 0===e.truncateChannelRequest)throw new f("truncateChannelRequest","Required parameter requestParameters.truncateChannelRequest was null or undefined when calling truncateChannel.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/truncate".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.truncateChannelRequest},t)))})}truncateChannel(e,t){return l(this,void 0,void 0,function*(){let r=yield this.truncateChannelRaw(e,t);return yield r.value()})}unmuteChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.unmuteChannelRequest||void 0===e.unmuteChannelRequest)throw new f("unmuteChannelRequest","Required parameter requestParameters.unmuteChannelRequest was null or undefined when calling unmuteChannel.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/unmute/channel",method:"POST",headers:i,query:r,body:e.unmuteChannelRequest},t)))})}unmuteChannel(e,t){return l(this,void 0,void 0,function*(){let r=yield this.unmuteChannelRaw(e,t);return yield r.value()})}unreadCountsRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/unread",method:"GET",headers:r,query:t},e)))})}unreadCounts(e){return l(this,void 0,void 0,function*(){let t=yield this.unreadCountsRaw(e);return yield t.value()})}updateChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling updateChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling updateChannel.");if(null===e.updateChannelRequest||void 0===e.updateChannelRequest)throw new f("updateChannelRequest","Required parameter requestParameters.updateChannelRequest was null or undefined when calling updateChannel.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.updateChannelRequest},t)))})}updateChannel(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateChannelRaw(e,t);return yield r.value()})}updateChannelPartialRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling updateChannelPartial.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling updateChannelPartial.");if(null===e.updateChannelPartialRequest||void 0===e.updateChannelPartialRequest)throw new f("updateChannelPartialRequest","Required parameter requestParameters.updateChannelPartialRequest was null or undefined when calling updateChannelPartial.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:i,query:r,body:e.updateChannelPartialRequest},t)))})}updateChannelPartial(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateChannelPartialRaw(e,t);return yield r.value()})}}class S extends d{createCommandRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createCommandRequest||void 0===e.createCommandRequest)throw new f("createCommandRequest","Required parameter requestParameters.createCommandRequest was null or undefined when calling createCommand.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands",method:"POST",headers:i,query:r,body:e.createCommandRequest},t)))})}createCommand(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createCommandRaw(e,t);return yield r.value()})}deleteCommandRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteCommand.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deleteCommand(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteCommandRaw(e,t);return yield r.value()})}getCommandRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling getCommand.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:i,query:r},t)))})}getCommand(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getCommandRaw(e,t);return yield r.value()})}listCommandsRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands",method:"GET",headers:r,query:t},e)))})}listCommands(e){return l(this,void 0,void 0,function*(){let t=yield this.listCommandsRaw(e);return yield t.value()})}updateCommandRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling updateCommand.");if(null===e.updateCommandRequest||void 0===e.updateCommandRequest)throw new f("updateCommandRequest","Required parameter requestParameters.updateCommandRequest was null or undefined when calling updateCommand.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:i,query:r,body:e.updateCommandRequest},t)))})}updateCommand(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateCommandRaw(e,t);return yield r.value()})}}class _ extends d{createDeviceRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createDeviceRequest||void 0===e.createDeviceRequest)throw new f("createDeviceRequest","Required parameter requestParameters.createDeviceRequest was null or undefined when calling createDevice.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new v((yield this.request({path:"/devices",method:"POST",headers:i,query:r,body:e.createDeviceRequest},t)))})}createDevice(e,t){return l(this,void 0,void 0,function*(){yield this.createDeviceRaw(e,t)})}deleteDeviceRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.id&&(r.id=e.id),void 0!==e.userId&&(r.user_id=e.userId);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/devices",method:"DELETE",headers:i,query:r},t)))})}deleteDevice(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.deleteDeviceRaw(e,t);return yield r.value()})}listDevicesRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.userId&&(r.user_id=e.userId);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/devices",method:"GET",headers:i,query:r},t)))})}listDevices(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.listDevicesRaw(e,t);return yield r.value()})}}class x extends d{sendEventRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling sendEvent.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling sendEvent.");if(null===e.sendEventRequest||void 0===e.sendEventRequest)throw new f("sendEventRequest","Required parameter requestParameters.sendEventRequest was null or undefined when calling sendEvent.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/event".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.sendEventRequest},t)))})}sendEvent(e,t){return l(this,void 0,void 0,function*(){let r=yield this.sendEventRaw(e,t);return yield r.value()})}sendUserCustomEventRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling sendUserCustomEvent.");if(null===e.sendUserCustomEventRequest||void 0===e.sendUserCustomEventRequest)throw new f("sendUserCustomEventRequest","Required parameter requestParameters.sendUserCustomEventRequest was null or undefined when calling sendUserCustomEvent.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}/event".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:i,query:r,body:e.sendUserCustomEventRequest},t)))})}sendUserCustomEvent(e,t){return l(this,void 0,void 0,function*(){let r=yield this.sendUserCustomEventRaw(e,t);return yield r.value()})}}class k extends d{deleteFileRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deleteFile.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteFile.");let r={};void 0!==e.url&&(r.url=e.url);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/file".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:i,query:r},t)))})}deleteFile(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteFileRaw(e,t);return yield r.value()})}deleteImageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deleteImage.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteImage.");let r={};void 0!==e.url&&(r.url=e.url);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/image".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:i,query:r},t)))})}deleteImage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteImageRaw(e,t);return yield r.value()})}deleteMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteMessage.");let r={};void 0!==e.hard&&(r.hard=e.hard),void 0!==e.deletedBy&&(r.deleted_by=e.deletedBy);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:i,query:r},t)))})}deleteMessage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteMessageRaw(e,t);return yield r.value()})}deleteReactionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteReaction.");if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deleteReaction.");let r={};void 0!==e.userId&&(r.user_id=e.userId);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/reaction/{type}".replace("{id}",encodeURIComponent(String(e.id))).replace("{type}",encodeURIComponent(String(e.type))),method:"DELETE",headers:i,query:r},t)))})}deleteReaction(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteReactionRaw(e,t);return yield r.value()})}flagRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new f("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling flag.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/flag",method:"POST",headers:i,query:r,body:e.flagRequest},t)))})}flag(e,t){return l(this,void 0,void 0,function*(){let r=yield this.flagRaw(e,t);return yield r.value()})}getManyMessagesRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling getManyMessages.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getManyMessages.");let r={};e.ids&&(r.ids=e.ids.join(","));let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/messages".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}getManyMessages(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getManyMessagesRaw(e,t);return yield r.value()})}getMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getMessage.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}getMessage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getMessageRaw(e,t);return yield r.value()})}getOGRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.url&&(r.url=e.url);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/og",method:"GET",headers:i,query:r},t)))})}getOG(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.getOGRaw(e,t);return yield r.value()})}getReactionsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getReactions.");let r={};void 0!==e.limit&&(r.limit=e.limit),void 0!==e.offset&&(r.offset=e.offset);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/reactions".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}getReactions(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getReactionsRaw(e,t);return yield r.value()})}getRepliesRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.parentId||void 0===e.parentId)throw new f("parentId","Required parameter requestParameters.parentId was null or undefined when calling getReplies.");let r={};void 0!==e.idGte&&(r.id_gte=e.idGte),void 0!==e.idGt&&(r.id_gt=e.idGt),void 0!==e.idLte&&(r.id_lte=e.idLte),void 0!==e.idLt&&(r.id_lt=e.idLt),void 0!==e.createdAtAfterOrEqual&&(r.created_at_after_or_equal=e.createdAtAfterOrEqual),void 0!==e.createdAtAfter&&(r.created_at_after=e.createdAtAfter),void 0!==e.createdAtBeforeOrEqual&&(r.created_at_before_or_equal=e.createdAtBeforeOrEqual),void 0!==e.createdAtBefore&&(r.created_at_before=e.createdAtBefore),void 0!==e.idAround&&(r.id_around=e.idAround),void 0!==e.createdAtAround&&(r.created_at_around=e.createdAtAround);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{parent_id}/replies".replace("{parent_id}",encodeURIComponent(String(e.parentId))),method:"GET",headers:i,query:r},t)))})}getReplies(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getRepliesRaw(e,t);return yield r.value()})}markChannelsReadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.markChannelsReadRequest||void 0===e.markChannelsReadRequest)throw new f("markChannelsReadRequest","Required parameter requestParameters.markChannelsReadRequest was null or undefined when calling markChannelsRead.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/read",method:"POST",headers:i,query:r,body:e.markChannelsReadRequest},t)))})}markChannelsRead(e,t){return l(this,void 0,void 0,function*(){let r=yield this.markChannelsReadRaw(e,t);return yield r.value()})}markReadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling markRead.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling markRead.");if(null===e.markReadRequest||void 0===e.markReadRequest)throw new f("markReadRequest","Required parameter requestParameters.markReadRequest was null or undefined when calling markRead.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/read".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.markReadRequest},t)))})}markRead(e,t){return l(this,void 0,void 0,function*(){let r=yield this.markReadRaw(e,t);return yield r.value()})}markUnreadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling markUnread.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling markUnread.");if(null===e.markUnreadRequest||void 0===e.markUnreadRequest)throw new f("markUnreadRequest","Required parameter requestParameters.markUnreadRequest was null or undefined when calling markUnread.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/unread".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.markUnreadRequest},t)))})}markUnread(e,t){return l(this,void 0,void 0,function*(){let r=yield this.markUnreadRaw(e,t);return yield r.value()})}queryMessageFlagsRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.payload&&(r.payload=e.payload);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/flags/message",method:"GET",headers:i,query:r},t)))})}queryMessageFlags(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.queryMessageFlagsRaw(e,t);return yield r.value()})}runMessageActionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling runMessageAction.");if(null===e.messageActionRequest||void 0===e.messageActionRequest)throw new f("messageActionRequest","Required parameter requestParameters.messageActionRequest was null or undefined when calling runMessageAction.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/action".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.messageActionRequest},t)))})}runMessageAction(e,t){return l(this,void 0,void 0,function*(){let r=yield this.runMessageActionRaw(e,t);return yield r.value()})}searchRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.payload&&(r.payload=e.payload);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/search",method:"GET",headers:i,query:r},t)))})}search(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.searchRaw(e,t);return yield r.value()})}sendMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling sendMessage.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling sendMessage.");if(null===e.sendMessageRequest||void 0===e.sendMessageRequest)throw new f("sendMessageRequest","Required parameter requestParameters.sendMessageRequest was null or undefined when calling sendMessage.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/message".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.sendMessageRequest},t)))})}sendMessage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.sendMessageRaw(e,t);return yield r.value()})}sendReactionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling sendReaction.");if(null===e.sendReactionRequest||void 0===e.sendReactionRequest)throw new f("sendReactionRequest","Required parameter requestParameters.sendReactionRequest was null or undefined when calling sendReaction.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/reaction".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.sendReactionRequest},t)))})}sendReaction(e,t){return l(this,void 0,void 0,function*(){let r=yield this.sendReactionRaw(e,t);return yield r.value()})}translateMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling translateMessage.");if(null===e.translateMessageRequest||void 0===e.translateMessageRequest)throw new f("translateMessageRequest","Required parameter requestParameters.translateMessageRequest was null or undefined when calling translateMessage.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/translate".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.translateMessageRequest},t)))})}translateMessage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.translateMessageRaw(e,t);return yield r.value()})}unflagRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new f("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling unflag.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/unflag",method:"POST",headers:i,query:r,body:e.flagRequest},t)))})}unflag(e,t){return l(this,void 0,void 0,function*(){let r=yield this.unflagRaw(e,t);return yield r.value()})}updateMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling updateMessage.");if(null===e.updateMessageRequest||void 0===e.updateMessageRequest)throw new f("updateMessageRequest","Required parameter requestParameters.updateMessageRequest was null or undefined when calling updateMessage.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.updateMessageRequest},t)))})}updateMessage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateMessageRaw(e,t);return yield r.value()})}updateMessagePartialRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling updateMessagePartial.");if(null===e.updateMessagePartialRequest||void 0===e.updateMessagePartialRequest)throw new f("updateMessagePartialRequest","Required parameter requestParameters.updateMessagePartialRequest was null or undefined when calling updateMessagePartial.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"PUT",headers:i,query:r,body:e.updateMessagePartialRequest},t)))})}updateMessagePartial(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateMessagePartialRaw(e,t);return yield r.value()})}uploadFileRaw(e,t){return l(this,void 0,void 0,function*(){let r;if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling uploadFile.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling uploadFile.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),g([{contentType:"multipart/form-data"}]),r=new URLSearchParams,void 0!==e.file&&r.append("file",e.file),void 0!==e.user&&r.append("user",new Blob([JSON.stringify(e.user)],{type:"application/json"})),new y((yield this.request({path:"/channels/{type}/{id}/file".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:r},t)))})}uploadFile(e,t){return l(this,void 0,void 0,function*(){let r=yield this.uploadFileRaw(e,t);return yield r.value()})}uploadImageRaw(e,t){return l(this,void 0,void 0,function*(){let r;if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling uploadImage.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling uploadImage.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),g([{contentType:"multipart/form-data"}]),r=new URLSearchParams,void 0!==e.file&&r.append("file",e.file),e.uploadSizes&&r.append("upload_sizes",e.uploadSizes.join(m.csv)),void 0!==e.user&&r.append("user",new Blob([JSON.stringify(e.user)],{type:"application/json"})),new y((yield this.request({path:"/channels/{type}/{id}/image".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:r},t)))})}uploadImage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.uploadImageRaw(e,t);return yield r.value()})}}class E extends d{createRoleRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createRoleRequest||void 0===e.createRoleRequest)throw new f("createRoleRequest","Required parameter requestParameters.createRoleRequest was null or undefined when calling createRole.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/roles",method:"POST",headers:i,query:r,body:e.createRoleRequest},t)))})}createRole(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createRoleRaw(e,t);return yield r.value()})}deleteRoleRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteRole.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/roles/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deleteRole(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteRoleRaw(e,t);return yield r.value()})}getPermissionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getPermission.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/permissions/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}getPermission(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getPermissionRaw(e,t);return yield r.value()})}listPermissionsRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/permissions",method:"GET",headers:r,query:t},e)))})}listPermissions(e){return l(this,void 0,void 0,function*(){let t=yield this.listPermissionsRaw(e);return yield t.value()})}listRolesRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/roles",method:"GET",headers:r,query:t},e)))})}listRoles(e){return l(this,void 0,void 0,function*(){let t=yield this.listRolesRaw(e);return yield t.value()})}}class C extends d{createDeviceRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createDeviceRequest||void 0===e.createDeviceRequest)throw new f("createDeviceRequest","Required parameter requestParameters.createDeviceRequest was null or undefined when calling createDevice.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new v((yield this.request({path:"/devices",method:"POST",headers:i,query:r,body:e.createDeviceRequest},t)))})}createDevice(e,t){return l(this,void 0,void 0,function*(){yield this.createDeviceRaw(e,t)})}deletePushProviderRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deletePushProvider.");if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deletePushProvider.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers/{type}/{name}".replace("{type}",encodeURIComponent(String(e.type))).replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deletePushProvider(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deletePushProviderRaw(e,t);return yield r.value()})}listPushProvidersRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers",method:"GET",headers:r,query:t},e)))})}listPushProviders(e){return l(this,void 0,void 0,function*(){let t=yield this.listPushProvidersRaw(e);return yield t.value()})}}let R=class extends d{upsertPushProviderRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.upsertPushProviderRequest||void 0===e.upsertPushProviderRequest)throw new f("upsertPushProviderRequest","Required parameter requestParameters.upsertPushProviderRequest was null or undefined when calling upsertPushProvider.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers",method:"POST",headers:i,query:r,body:e.upsertPushProviderRequest},t)))})}upsertPushProvider(e,t){return l(this,void 0,void 0,function*(){let r=yield this.upsertPushProviderRaw(e,t);return yield r.value()})}},A=class extends d{checkPushRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkPushRequest||void 0===e.checkPushRequest)throw new f("checkPushRequest","Required parameter requestParameters.checkPushRequest was null or undefined when calling checkPush.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_push",method:"POST",headers:i,query:r,body:e.checkPushRequest},t)))})}checkPush(e,t){return l(this,void 0,void 0,function*(){let r=yield this.checkPushRaw(e,t);return yield r.value()})}checkSNSRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkSNSRequest||void 0===e.checkSNSRequest)throw new f("checkSNSRequest","Required parameter requestParameters.checkSNSRequest was null or undefined when calling checkSNS.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_sns",method:"POST",headers:i,query:r,body:e.checkSNSRequest},t)))})}checkSNS(e,t){return l(this,void 0,void 0,function*(){let r=yield this.checkSNSRaw(e,t);return yield r.value()})}checkSQSRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkSQSRequest||void 0===e.checkSQSRequest)throw new f("checkSQSRequest","Required parameter requestParameters.checkSQSRequest was null or undefined when calling checkSQS.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_sqs",method:"POST",headers:i,query:r,body:e.checkSQSRequest},t)))})}checkSQS(e,t){return l(this,void 0,void 0,function*(){let r=yield this.checkSQSRaw(e,t);return yield r.value()})}createBlockListRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createBlockListRequest||void 0===e.createBlockListRequest)throw new f("createBlockListRequest","Required parameter requestParameters.createBlockListRequest was null or undefined when calling createBlockList.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists",method:"POST",headers:i,query:r,body:e.createBlockListRequest},t)))})}createBlockList(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createBlockListRaw(e,t);return yield r.value()})}createChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createChannelTypeRequest||void 0===e.createChannelTypeRequest)throw new f("createChannelTypeRequest","Required parameter requestParameters.createChannelTypeRequest was null or undefined when calling createChannelType.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes",method:"POST",headers:i,query:r,body:e.createChannelTypeRequest},t)))})}createChannelType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createChannelTypeRaw(e,t);return yield r.value()})}deleteBlockListRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteBlockList.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deleteBlockList(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteBlockListRaw(e,t);return yield r.value()})}deleteChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteChannelType.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deleteChannelType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteChannelTypeRaw(e,t);return yield r.value()})}deletePushProviderRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deletePushProvider.");if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deletePushProvider.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers/{type}/{name}".replace("{type}",encodeURIComponent(String(e.type))).replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deletePushProvider(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deletePushProviderRaw(e,t);return yield r.value()})}getAppRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/app",method:"GET",headers:r,query:t},e)))})}getApp(e){return l(this,void 0,void 0,function*(){let t=yield this.getAppRaw(e);return yield t.value()})}getBlockListRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling getBlockList.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:i,query:r},t)))})}getBlockList(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getBlockListRaw(e,t);return yield r.value()})}getChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling getChannelType.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:i,query:r},t)))})}getChannelType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getChannelTypeRaw(e,t);return yield r.value()})}getRateLimitsRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.serverSide&&(r.server_side=e.serverSide),void 0!==e.android&&(r.android=e.android),void 0!==e.ios&&(r.ios=e.ios),void 0!==e.web&&(r.web=e.web),void 0!==e.endpoints&&(r.endpoints=e.endpoints);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/rate_limits",method:"GET",headers:i,query:r},t)))})}getRateLimits(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.getRateLimitsRaw(e,t);return yield r.value()})}listBlockListsRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists",method:"GET",headers:r,query:t},e)))})}listBlockLists(e){return l(this,void 0,void 0,function*(){let t=yield this.listBlockListsRaw(e);return yield t.value()})}listChannelTypesRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes",method:"GET",headers:r,query:t},e)))})}listChannelTypes(e){return l(this,void 0,void 0,function*(){let t=yield this.listChannelTypesRaw(e);return yield t.value()})}listPushProvidersRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers",method:"GET",headers:r,query:t},e)))})}listPushProviders(e){return l(this,void 0,void 0,function*(){let t=yield this.listPushProvidersRaw(e);return yield t.value()})}updateAppRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.updateAppRequest||void 0===e.updateAppRequest)throw new f("updateAppRequest","Required parameter requestParameters.updateAppRequest was null or undefined when calling updateApp.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/app",method:"PATCH",headers:i,query:r,body:e.updateAppRequest},t)))})}updateApp(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateAppRaw(e,t);return yield r.value()})}updateBlockListRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling updateBlockList.");if(null===e.updateBlockListRequest||void 0===e.updateBlockListRequest)throw new f("updateBlockListRequest","Required parameter requestParameters.updateBlockListRequest was null or undefined when calling updateBlockList.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:i,query:r,body:e.updateBlockListRequest},t)))})}updateBlockList(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateBlockListRaw(e,t);return yield r.value()})}updateChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling updateChannelType.");if(null===e.updateChannelTypeRequest||void 0===e.updateChannelTypeRequest)throw new f("updateChannelTypeRequest","Required parameter requestParameters.updateChannelTypeRequest was null or undefined when calling updateChannelType.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:i,query:r,body:e.updateChannelTypeRequest},t)))})}updateChannelType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateChannelTypeRaw(e,t);return yield r.value()})}};class T extends d{getTaskRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getTask.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/tasks/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}getTask(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getTaskRaw(e,t);return yield r.value()})}}class P extends d{checkPushRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkPushRequest||void 0===e.checkPushRequest)throw new f("checkPushRequest","Required parameter requestParameters.checkPushRequest was null or undefined when calling checkPush.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_push",method:"POST",headers:i,query:r,body:e.checkPushRequest},t)))})}checkPush(e,t){return l(this,void 0,void 0,function*(){let r=yield this.checkPushRaw(e,t);return yield r.value()})}checkSNSRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkSNSRequest||void 0===e.checkSNSRequest)throw new f("checkSNSRequest","Required parameter requestParameters.checkSNSRequest was null or undefined when calling checkSNS.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_sns",method:"POST",headers:i,query:r,body:e.checkSNSRequest},t)))})}checkSNS(e,t){return l(this,void 0,void 0,function*(){let r=yield this.checkSNSRaw(e,t);return yield r.value()})}checkSQSRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkSQSRequest||void 0===e.checkSQSRequest)throw new f("checkSQSRequest","Required parameter requestParameters.checkSQSRequest was null or undefined when calling checkSQS.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_sqs",method:"POST",headers:i,query:r,body:e.checkSQSRequest},t)))})}checkSQS(e,t){return l(this,void 0,void 0,function*(){let r=yield this.checkSQSRaw(e,t);return yield r.value()})}}class O extends d{banRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.banRequest||void 0===e.banRequest)throw new f("banRequest","Required parameter requestParameters.banRequest was null or undefined when calling ban.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/ban",method:"POST",headers:i,query:r,body:e.banRequest},t)))})}ban(e,t){return l(this,void 0,void 0,function*(){let r=yield this.banRaw(e,t);return yield r.value()})}connectRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.json&&(r.json=e.json);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new v((yield this.request({path:"/connect",method:"GET",headers:i,query:r},t)))})}connect(e={},t){return l(this,void 0,void 0,function*(){yield this.connectRaw(e,t)})}createGuestRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.guestRequest||void 0===e.guestRequest)throw new f("guestRequest","Required parameter requestParameters.guestRequest was null or undefined when calling createGuest.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/guest",method:"POST",headers:i,query:r,body:e.guestRequest},t)))})}createGuest(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createGuestRaw(e,t);return yield r.value()})}deactivateUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling deactivateUser.");if(null===e.deactivateUserRequest||void 0===e.deactivateUserRequest)throw new f("deactivateUserRequest","Required parameter requestParameters.deactivateUserRequest was null or undefined when calling deactivateUser.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}/deactivate".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:i,query:r,body:e.deactivateUserRequest},t)))})}deactivateUser(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deactivateUserRaw(e,t);return yield r.value()})}deactivateUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.deactivateUsersRequest||void 0===e.deactivateUsersRequest)throw new f("deactivateUsersRequest","Required parameter requestParameters.deactivateUsersRequest was null or undefined when calling deactivateUsers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/deactivate",method:"POST",headers:i,query:r,body:e.deactivateUsersRequest},t)))})}deactivateUsers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deactivateUsersRaw(e,t);return yield r.value()})}deleteUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling deleteUser.");let r={};void 0!==e.markMessagesDeleted&&(r.mark_messages_deleted=e.markMessagesDeleted),void 0!==e.hardDelete&&(r.hard_delete=e.hardDelete),void 0!==e.deleteConversationChannels&&(r.delete_conversation_channels=e.deleteConversationChannels);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"DELETE",headers:i,query:r},t)))})}deleteUser(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteUserRaw(e,t);return yield r.value()})}deleteUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.deleteUsersRequest||void 0===e.deleteUsersRequest)throw new f("deleteUsersRequest","Required parameter requestParameters.deleteUsersRequest was null or undefined when calling deleteUsers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/delete",method:"POST",headers:i,query:r,body:e.deleteUsersRequest},t)))})}deleteUsers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteUsersRaw(e,t);return yield r.value()})}exportUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling exportUser.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}/export".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"GET",headers:i,query:r},t)))})}exportUser(e,t){return l(this,void 0,void 0,function*(){let r=yield this.exportUserRaw(e,t);return yield r.value()})}exportUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.exportUsersRequest||void 0===e.exportUsersRequest)throw new f("exportUsersRequest","Required parameter requestParameters.exportUsersRequest was null or undefined when calling exportUsers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/export/users",method:"POST",headers:i,query:r,body:e.exportUsersRequest},t)))})}exportUsers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.exportUsersRaw(e,t);return yield r.value()})}flagRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new f("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling flag.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/flag",method:"POST",headers:i,query:r,body:e.flagRequest},t)))})}flag(e,t){return l(this,void 0,void 0,function*(){let r=yield this.flagRaw(e,t);return yield r.value()})}longPollRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.json&&(r.json=e.json),void 0!==e.connectionId&&(r.connection_id=e.connectionId);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new v((yield this.request({path:"/longpoll",method:"GET",headers:i,query:r},t)))})}longPoll(e={},t){return l(this,void 0,void 0,function*(){yield this.longPollRaw(e,t)})}muteUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.muteUserRequest||void 0===e.muteUserRequest)throw new f("muteUserRequest","Required parameter requestParameters.muteUserRequest was null or undefined when calling muteUser.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/mute",method:"POST",headers:i,query:r,body:e.muteUserRequest},t)))})}muteUser(e,t){return l(this,void 0,void 0,function*(){let r=yield this.muteUserRaw(e,t);return yield r.value()})}queryBannedUsersRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.payload&&(r.payload=e.payload);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/query_banned_users",method:"GET",headers:i,query:r},t)))})}queryBannedUsers(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.queryBannedUsersRaw(e,t);return yield r.value()})}queryUsersRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.payload&&(r.payload=e.payload);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users",method:"GET",headers:i,query:r},t)))})}queryUsers(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.queryUsersRaw(e,t);return yield r.value()})}reactivateUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling reactivateUser.");if(null===e.reactivateUserRequest||void 0===e.reactivateUserRequest)throw new f("reactivateUserRequest","Required parameter requestParameters.reactivateUserRequest was null or undefined when calling reactivateUser.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}/reactivate".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:i,query:r,body:e.reactivateUserRequest},t)))})}reactivateUser(e,t){return l(this,void 0,void 0,function*(){let r=yield this.reactivateUserRaw(e,t);return yield r.value()})}reactivateUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.reactivateUsersRequest||void 0===e.reactivateUsersRequest)throw new f("reactivateUsersRequest","Required parameter requestParameters.reactivateUsersRequest was null or undefined when calling reactivateUsers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/reactivate",method:"POST",headers:i,query:r,body:e.reactivateUsersRequest},t)))})}reactivateUsers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.reactivateUsersRaw(e,t);return yield r.value()})}restoreUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.restoreUsersRequest||void 0===e.restoreUsersRequest)throw new f("restoreUsersRequest","Required parameter requestParameters.restoreUsersRequest was null or undefined when calling restoreUsers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/restore",method:"POST",headers:i,query:r,body:e.restoreUsersRequest},t)))})}restoreUsers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.restoreUsersRaw(e,t);return yield r.value()})}unbanRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.targetUserId&&(r.target_user_id=e.targetUserId),void 0!==e.type&&(r.type=e.type),void 0!==e.id&&(r.id=e.id),void 0!==e.createdBy&&(r.created_by=e.createdBy);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/ban",method:"DELETE",headers:i,query:r},t)))})}unban(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.unbanRaw(e,t);return yield r.value()})}unflagRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new f("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling unflag.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/unflag",method:"POST",headers:i,query:r,body:e.flagRequest},t)))})}unflag(e,t){return l(this,void 0,void 0,function*(){let r=yield this.unflagRaw(e,t);return yield r.value()})}unmuteUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.unmuteUserRequest||void 0===e.unmuteUserRequest)throw new f("unmuteUserRequest","Required parameter requestParameters.unmuteUserRequest was null or undefined when calling unmuteUser.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/unmute",method:"POST",headers:i,query:r,body:e.unmuteUserRequest},t)))})}unmuteUser(e,t){return l(this,void 0,void 0,function*(){let r=yield this.unmuteUserRaw(e,t);return yield r.value()})}updateUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.updateUsersRequest||void 0===e.updateUsersRequest)throw new f("updateUsersRequest","Required parameter requestParameters.updateUsersRequest was null or undefined when calling updateUsers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users",method:"POST",headers:i,query:r,body:e.updateUsersRequest},t)))})}updateUsers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateUsersRaw(e,t);return yield r.value()})}updateUsersPartialRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.updateUserPartialRequest||void 0===e.updateUserPartialRequest)throw new f("updateUserPartialRequest","Required parameter requestParameters.updateUserPartialRequest was null or undefined when calling updateUsersPartial.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users",method:"PATCH",headers:i,query:r,body:e.updateUserPartialRequest},t)))})}updateUsersPartial(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateUsersPartialRaw(e,t);return yield r.value()})}}class I{constructor(e,t,r){this.streamClient=e,this.type=t,this.id=r,this.delete=e=>this.channelsApi.deleteChannel(Object.assign(Object.assign({},this.baseRequest),null!=e?e:{})),this.update=e=>this.channelsApi.updateChannel(Object.assign(Object.assign({},this.baseRequest),{updateChannelRequest:e})),this.updatePartial=e=>this.channelsApi.updateChannelPartial(Object.assign(Object.assign({},this.baseRequest),{updateChannelPartialRequest:e})),this.getOrCreate=e=>l(this,void 0,void 0,function*(){if(this.id)return yield this.channelsApi.getOrCreateChannel(Object.assign(Object.assign({},this.baseRequest),{channelGetOrCreateRequest:null!=e?e:{}}));throw Error("This operation isn't yet implemented")}),this.markRead=e=>this.channelsApi.markRead(Object.assign(Object.assign({},this.baseRequest),{markReadRequest:e})),this.markUnread=e=>this.channelsApi.markUnread(Object.assign(Object.assign({},this.baseRequest),{markUnreadRequest:e})),this.show=e=>this.channelsApi.showChannel(Object.assign(Object.assign({},this.baseRequest),{showChannelRequest:e})),this.hide=e=>this.channelsApi.hideChannel(Object.assign(Object.assign({},this.baseRequest),{hideChannelRequest:e})),this.truncate=e=>this.channelsApi.truncateChannel(Object.assign(Object.assign({},this.baseRequest),{truncateChannelRequest:e})),this.queryMembers=e=>this.channelsApi.queryMembers({payload:Object.assign(Object.assign({},this.baseRequest),e)}),this.mute=e=>this.channelsApi.muteChannel({muteChannelRequest:Object.assign(Object.assign({},e),{channel_cids:[this.cid]})}),this.unmute=e=>this.channelsApi.unmuteChannel({unmuteChannelRequest:Object.assign(Object.assign({},e),{channel_cid:this.cid,channel_cids:[]})}),this.sendMessage=e=>this.messagesApi.sendMessage(Object.assign(Object.assign({},this.baseRequest),{sendMessageRequest:e})),this.deleteMessage=e=>this.messagesApi.deleteMessage(e),this.updateMessage=(e,t)=>this.messagesApi.updateMessage({id:e,updateMessageRequest:t}),this.updateMessagePartial=(e,t)=>this.messagesApi.updateMessagePartial({id:e,updateMessagePartialRequest:t}),this.getMessage=e=>this.messagesApi.getMessage(e),this.getManyMessages=e=>this.messagesApi.getManyMessages(Object.assign(Object.assign({},e),this.baseRequest)),this.translateMessage=(e,t)=>this.messagesApi.translateMessage({id:e,translateMessageRequest:t}),this.getMessagesAround=e=>this.messagesApi.getReplies(e),this.getOpenGraphData=e=>this.messagesApi.getOG(e),this.sendMessageReaction=(e,t)=>this.messagesApi.sendReaction({id:e,sendReactionRequest:t}),this.deleteMessageReaction=(e,t)=>this.messagesApi.deleteReaction(Object.assign(Object.assign({},t),{id:e})),this.getMessageReactions=(e,t)=>this.messagesApi.getReactions(Object.assign(Object.assign({},null!=t?t:{}),{id:e})),this.sendCustomEvent=e=>this.eventsApi.sendEvent(Object.assign(Object.assign({},this.baseRequest),{sendEventRequest:{event:e}}));let i=this.streamClient.getConfiguration();this.channelsApi=new w(i),this.messagesApi=new k(i),this.eventsApi=new x(i)}get cid(){return`${this.baseRequest.type}:${this.baseRequest.id}`}get baseRequest(){if(!this.id)throw Error("You need to initialize the channel with `getOrCreate`");return{id:this.id,type:this.type}}}class N{constructor(e){this.streamClient=e,this.channel=(e,t)=>new I(this.streamClient,e,t),this.createBlockList=e=>this.settingsApi.createBlockList({createBlockListRequest:e}),this.listBlockLists=()=>this.settingsApi.listBlockLists(),this.getBlockList=e=>this.settingsApi.getBlockList(e),this.updateBlockList=(e,t)=>this.settingsApi.updateBlockList({name:e,updateBlockListRequest:t}),this.deleteBlockList=e=>this.settingsApi.deleteBlockList(e),this.createChannelType=e=>this.channelTypesApi.createChannelType({createChannelTypeRequest:e}),this.deleteChannelType=e=>this.channelTypesApi.deleteChannelType(e),this.getChannelType=e=>this.channelTypesApi.getChannelType(e),this.listChannelTypes=()=>this.channelTypesApi.listChannelTypes(),this.updateChannelType=(e,t)=>this.channelTypesApi.updateChannelType({name:e,updateChannelTypeRequest:t}),this.queryChannels=e=>this.channelsApi.queryChannels({queryChannelsRequest:null!=e?e:null}),this.searchMessages=e=>this.channelsApi.search({payload:e}),this.exportChannels=e=>this.channelsApi.exportChannels({exportChannelsRequest:null!=e?e:null}),this.getExportStatus=e=>this.channelsApi.getExportChannelsStatus(e),this.listCommands=()=>this.commandsApi.listCommands(),this.createCommand=e=>this.commandsApi.createCommand({createCommandRequest:e}),this.getCommand=e=>this.commandsApi.getCommand(e),this.updateCommand=(e,t)=>this.commandsApi.updateCommand({name:e,updateCommandRequest:t}),this.deleteCommand=e=>this.commandsApi.deleteCommand(e);let t=this.streamClient.getConfiguration();this.settingsApi=new A(t),this.channelTypesApi=new b(t),this.channelsApi=new w(t),this.commandsApi=new S(t)}}let j="https://stream-io-api.com".replace(/\/+$/,"");class B{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:j}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t,r=""){return Object.keys(t).map(i=>(function t(r,i,n=""){let a=n+(n.length?`[${r}]`:r);if(i instanceof Array){let e=i.map(e=>encodeURIComponent(String(e))).join(`&${encodeURIComponent(a)}=`);return`${encodeURIComponent(a)}=${e}`}return i instanceof Set?t(r,Array.from(i),n):i instanceof Date?`${encodeURIComponent(a)}=${encodeURIComponent(i.toISOString())}`:i instanceof Object?e(i,a):`${encodeURIComponent(a)}=${encodeURIComponent(String(i))}`})(i,t[i],r)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:()=>l(this,void 0,void 0,function*(){return e})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}let U=new B;class L{constructor(e=U){this.configuration=e,this.fetchApi=(e,t)=>l(this,void 0,void 0,function*(){let r,i={url:e,init:t};for(let e of this.middleware)e.pre&&(i=(yield e.pre(Object.assign({fetch:this.fetchApi},i)))||i);try{r=yield(this.configuration.fetchApi||fetch)(i.url,i.init)}catch(e){for(let t of this.middleware)t.onError&&(r=(yield t.onError({fetch:this.fetchApi,url:i.url,init:i.init,error:e,response:r?r.clone():void 0}))||r);if(void 0===r){if(e instanceof Error)throw new D(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(r=(yield e.post({fetch:this.fetchApi,url:i.url,init:i.init,response:r.clone()}))||r);return r}),this.middleware=e.middleware}withMiddleware(...e){let t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){let t=e.map(e=>({pre:e}));return this.withMiddleware(...t)}withPostMiddleware(...e){let t=e.map(e=>({post:e}));return this.withMiddleware(...t)}isJsonMime(e){return!!e&&L.jsonRegex.test(e)}request(e,t){return l(this,void 0,void 0,function*(){let{url:r,init:i}=yield this.createFetchParams(e,t),n=yield this.fetchApi(r,i);if(n&&n.status>=200&&n.status<300)return n;throw new M(n,"Response returned an error code")})}createFetchParams(e,t){return l(this,void 0,void 0,function*(){var r,i;let n=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(n+="?"+this.configuration.queryParamsStringify(e.query));let a=Object.assign({},this.configuration.headers,e.headers);Object.keys(a).forEach(e=>void 0===a[e]?delete a[e]:{});let s={method:e.method,headers:a,body:e.body,credentials:this.configuration.credentials},o=Object.assign(Object.assign({},s),(yield("function"==typeof t?t:()=>l(this,void 0,void 0,function*(){return t}))({init:s,context:e})));return{url:n,init:Object.assign(Object.assign({},o),{body:(r=o.body,"undefined"!=typeof FormData&&r instanceof FormData||o.body instanceof URLSearchParams||(i=o.body,"undefined"!=typeof Blob&&i instanceof Blob))?o.body:JSON.stringify(o.body)})}})}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}}L.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class M extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class D extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class K extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class q{constructor(e,t=e=>e){this.raw=e,this.transformer=t}value(){return l(this,void 0,void 0,function*(){return this.transformer((yield this.raw.json()))})}}class ${constructor(e){this.raw=e}value(){return l(this,void 0,void 0,function*(){})}}class F extends L{blockUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling blockUser.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling blockUser.");if(null===e.videoBlockUserRequest||void 0===e.videoBlockUserRequest)throw new K("videoBlockUserRequest","Required parameter requestParameters.videoBlockUserRequest was null or undefined when calling blockUser.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/block".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoBlockUserRequest},t)))})}blockUser(e,t){return l(this,void 0,void 0,function*(){let r=yield this.blockUserRaw(e,t);return yield r.value()})}createDeviceRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoCreateDeviceRequest||void 0===e.videoCreateDeviceRequest)throw new K("videoCreateDeviceRequest","Required parameter requestParameters.videoCreateDeviceRequest was null or undefined when calling createDevice.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/devices",method:"POST",headers:i,query:r,body:e.videoCreateDeviceRequest},t)))})}createDevice(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createDeviceRaw(e,t);return yield r.value()})}createGuestRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoCreateGuestRequest||void 0===e.videoCreateGuestRequest)throw new K("videoCreateGuestRequest","Required parameter requestParameters.videoCreateGuestRequest was null or undefined when calling createGuest.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/guest",method:"POST",headers:i,query:r,body:e.videoCreateGuestRequest},t)))})}createGuest(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createGuestRaw(e,t);return yield r.value()})}deleteDeviceRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.id&&(r.id=e.id),void 0!==e.userId&&(r.user_id=e.userId);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/devices",method:"DELETE",headers:i,query:r},t)))})}deleteDevice(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.deleteDeviceRaw(e,t);return yield r.value()})}endCallRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling endCall.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling endCall.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/mark_ended".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r},t)))})}endCall(e,t){return l(this,void 0,void 0,function*(){let r=yield this.endCallRaw(e,t);return yield r.value()})}getCallRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling getCall.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling getCall.");let r={};void 0!==e.connectionId&&(r.connection_id=e.connectionId),void 0!==e.membersLimit&&(r.members_limit=e.membersLimit),void 0!==e.ring&&(r.ring=e.ring),void 0!==e.notify&&(r.notify=e.notify);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}getCall(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getCallRaw(e,t);return yield r.value()})}getEdgesRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/edges",method:"GET",headers:r,query:t},e)))})}getEdges(e){return l(this,void 0,void 0,function*(){let t=yield this.getEdgesRaw(e);return yield t.value()})}getOrCreateCallRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling getOrCreateCall.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling getOrCreateCall.");if(null===e.videoGetOrCreateCallRequest||void 0===e.videoGetOrCreateCallRequest)throw new K("videoGetOrCreateCallRequest","Required parameter requestParameters.videoGetOrCreateCallRequest was null or undefined when calling getOrCreateCall.");let r={};void 0!==e.connectionId&&(r.connection_id=e.connectionId);let i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoGetOrCreateCallRequest},t)))})}getOrCreateCall(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getOrCreateCallRaw(e,t);return yield r.value()})}goLiveRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling goLive.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling goLive.");if(null===e.videoGoLiveRequest||void 0===e.videoGoLiveRequest)throw new K("videoGoLiveRequest","Required parameter requestParameters.videoGoLiveRequest was null or undefined when calling goLive.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/go_live".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoGoLiveRequest},t)))})}goLive(e,t){return l(this,void 0,void 0,function*(){let r=yield this.goLiveRaw(e,t);return yield r.value()})}listDevicesRaw(e,t){return l(this,void 0,void 0,function*(){let r={};void 0!==e.userId&&(r.user_id=e.userId);let i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/devices",method:"GET",headers:i,query:r},t)))})}listDevices(e={},t){return l(this,void 0,void 0,function*(){let r=yield this.listDevicesRaw(e,t);return yield r.value()})}listRecordingsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling listRecordings.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling listRecordings.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/recordings".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}listRecordings(e,t){return l(this,void 0,void 0,function*(){let r=yield this.listRecordingsRaw(e,t);return yield r.value()})}listTranscriptionsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling listTranscriptions.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling listTranscriptions.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/transcriptions".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:i,query:r},t)))})}listTranscriptions(e,t){return l(this,void 0,void 0,function*(){let r=yield this.listTranscriptionsRaw(e,t);return yield r.value()})}muteUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling muteUsers.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling muteUsers.");if(null===e.videoMuteUsersRequest||void 0===e.videoMuteUsersRequest)throw new K("videoMuteUsersRequest","Required parameter requestParameters.videoMuteUsersRequest was null or undefined when calling muteUsers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/mute_users".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoMuteUsersRequest},t)))})}muteUsers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.muteUsersRaw(e,t);return yield r.value()})}queryCallsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoQueryCallsRequest||void 0===e.videoQueryCallsRequest)throw new K("videoQueryCallsRequest","Required parameter requestParameters.videoQueryCallsRequest was null or undefined when calling queryCalls.");let r={};void 0!==e.connectionId&&(r.connection_id=e.connectionId);let i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/calls",method:"POST",headers:i,query:r,body:e.videoQueryCallsRequest},t)))})}queryCalls(e,t){return l(this,void 0,void 0,function*(){let r=yield this.queryCallsRaw(e,t);return yield r.value()})}queryMembersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoQueryMembersRequest||void 0===e.videoQueryMembersRequest)throw new K("videoQueryMembersRequest","Required parameter requestParameters.videoQueryMembersRequest was null or undefined when calling queryMembers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/members",method:"POST",headers:i,query:r,body:e.videoQueryMembersRequest},t)))})}queryMembers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.queryMembersRaw(e,t);return yield r.value()})}sendEventRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling sendEvent.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling sendEvent.");if(null===e.videoSendEventRequest||void 0===e.videoSendEventRequest)throw new K("videoSendEventRequest","Required parameter requestParameters.videoSendEventRequest was null or undefined when calling sendEvent.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/event".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoSendEventRequest},t)))})}sendEvent(e,t){return l(this,void 0,void 0,function*(){let r=yield this.sendEventRaw(e,t);return yield r.value()})}startHLSBroadcastingRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling startHLSBroadcasting.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling startHLSBroadcasting.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/start_broadcasting".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r},t)))})}startHLSBroadcasting(e,t){return l(this,void 0,void 0,function*(){let r=yield this.startHLSBroadcastingRaw(e,t);return yield r.value()})}startRecordingRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling startRecording.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling startRecording.");if(null===e.videoStartRecordingRequest||void 0===e.videoStartRecordingRequest)throw new K("videoStartRecordingRequest","Required parameter requestParameters.videoStartRecordingRequest was null or undefined when calling startRecording.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/start_recording".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoStartRecordingRequest},t)))})}startRecording(e,t){return l(this,void 0,void 0,function*(){let r=yield this.startRecordingRaw(e,t);return yield r.value()})}startTranscriptionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling startTranscription.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling startTranscription.");if(null===e.videoStartTranscriptionRequest||void 0===e.videoStartTranscriptionRequest)throw new K("videoStartTranscriptionRequest","Required parameter requestParameters.videoStartTranscriptionRequest was null or undefined when calling startTranscription.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/start_transcription".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoStartTranscriptionRequest},t)))})}startTranscription(e,t){return l(this,void 0,void 0,function*(){let r=yield this.startTranscriptionRaw(e,t);return yield r.value()})}stopHLSBroadcastingRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling stopHLSBroadcasting.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling stopHLSBroadcasting.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/stop_broadcasting".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r},t)))})}stopHLSBroadcasting(e,t){return l(this,void 0,void 0,function*(){let r=yield this.stopHLSBroadcastingRaw(e,t);return yield r.value()})}stopLiveRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling stopLive.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling stopLive.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/stop_live".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r},t)))})}stopLive(e,t){return l(this,void 0,void 0,function*(){let r=yield this.stopLiveRaw(e,t);return yield r.value()})}stopRecordingRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling stopRecording.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling stopRecording.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/stop_recording".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r},t)))})}stopRecording(e,t){return l(this,void 0,void 0,function*(){let r=yield this.stopRecordingRaw(e,t);return yield r.value()})}stopTranscriptionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling stopTranscription.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling stopTranscription.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/stop_transcription".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r},t)))})}stopTranscription(e,t){return l(this,void 0,void 0,function*(){let r=yield this.stopTranscriptionRaw(e,t);return yield r.value()})}unblockUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling unblockUser.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling unblockUser.");if(null===e.videoUnblockUserRequest||void 0===e.videoUnblockUserRequest)throw new K("videoUnblockUserRequest","Required parameter requestParameters.videoUnblockUserRequest was null or undefined when calling unblockUser.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/unblock".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoUnblockUserRequest},t)))})}unblockUser(e,t){return l(this,void 0,void 0,function*(){let r=yield this.unblockUserRaw(e,t);return yield r.value()})}updateCallRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling updateCall.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling updateCall.");if(null===e.videoUpdateCallRequest||void 0===e.videoUpdateCallRequest)throw new K("videoUpdateCallRequest","Required parameter requestParameters.videoUpdateCallRequest was null or undefined when calling updateCall.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:i,query:r,body:e.videoUpdateCallRequest},t)))})}updateCall(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateCallRaw(e,t);return yield r.value()})}updateCallMembersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling updateCallMembers.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling updateCallMembers.");if(null===e.videoUpdateCallMembersRequest||void 0===e.videoUpdateCallMembersRequest)throw new K("videoUpdateCallMembersRequest","Required parameter requestParameters.videoUpdateCallMembersRequest was null or undefined when calling updateCallMembers.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/members".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoUpdateCallMembersRequest},t)))})}updateCallMembers(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateCallMembersRaw(e,t);return yield r.value()})}updateUserPermissionsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling updateUserPermissions.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling updateUserPermissions.");if(null===e.videoUpdateUserPermissionsRequest||void 0===e.videoUpdateUserPermissionsRequest)throw new K("videoUpdateUserPermissionsRequest","Required parameter requestParameters.videoUpdateUserPermissionsRequest was null or undefined when calling updateUserPermissions.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/user_permissions".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoUpdateUserPermissionsRequest},t)))})}updateUserPermissions(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateUserPermissionsRaw(e,t);return yield r.value()})}videoConnectRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoWSAuthMessageRequest||void 0===e.videoWSAuthMessageRequest)throw new K("videoWSAuthMessageRequest","Required parameter requestParameters.videoWSAuthMessageRequest was null or undefined when calling videoConnect.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new $((yield this.request({path:"/video/connect",method:"GET",headers:i,query:r,body:e.videoWSAuthMessageRequest},t)))})}videoConnect(e,t){return l(this,void 0,void 0,function*(){yield this.videoConnectRaw(e,t)})}videoPinRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling videoPin.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling videoPin.");if(null===e.videoPinRequest||void 0===e.videoPinRequest)throw new K("videoPinRequest","Required parameter requestParameters.videoPinRequest was null or undefined when calling videoPin.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/pin".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoPinRequest},t)))})}videoPin(e,t){return l(this,void 0,void 0,function*(){let r=yield this.videoPinRaw(e,t);return yield r.value()})}videoUnpinRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new K("type","Required parameter requestParameters.type was null or undefined when calling videoUnpin.");if(null===e.id||void 0===e.id)throw new K("id","Required parameter requestParameters.id was null or undefined when calling videoUnpin.");if(null===e.videoUnpinRequest||void 0===e.videoUnpinRequest)throw new K("videoUnpinRequest","Required parameter requestParameters.videoUnpinRequest was null or undefined when calling videoUnpin.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/call/{type}/{id}/unpin".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:i,query:r,body:e.videoUnpinRequest},t)))})}videoUnpin(e,t){return l(this,void 0,void 0,function*(){let r=yield this.videoUnpinRaw(e,t);return yield r.value()})}}class z extends L{checkExternalStorageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new K("name","Required parameter requestParameters.name was null or undefined when calling checkExternalStorage.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/external_storage/{name}/check".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:i,query:r},t)))})}checkExternalStorage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.checkExternalStorageRaw(e,t);return yield r.value()})}createCallTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoCreateCallTypeRequest||void 0===e.videoCreateCallTypeRequest)throw new K("videoCreateCallTypeRequest","Required parameter requestParameters.videoCreateCallTypeRequest was null or undefined when calling createCallType.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/calltypes",method:"POST",headers:i,query:r,body:e.videoCreateCallTypeRequest},t)))})}createCallType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createCallTypeRaw(e,t);return yield r.value()})}deleteCallTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new K("name","Required parameter requestParameters.name was null or undefined when calling deleteCallType.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deleteCallType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteCallTypeRaw(e,t);return yield r.value()})}getCallTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new K("name","Required parameter requestParameters.name was null or undefined when calling getCallType.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:i,query:r},t)))})}getCallType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.getCallTypeRaw(e,t);return yield r.value()})}listCallTypesRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/calltypes",method:"GET",headers:r,query:t},e)))})}listCallTypes(e){return l(this,void 0,void 0,function*(){let t=yield this.listCallTypesRaw(e);return yield t.value()})}updateCallTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new K("name","Required parameter requestParameters.name was null or undefined when calling updateCallType.");if(null===e.videoUpdateCallTypeRequest||void 0===e.videoUpdateCallTypeRequest)throw new K("videoUpdateCallTypeRequest","Required parameter requestParameters.videoUpdateCallTypeRequest was null or undefined when calling updateCallType.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:i,query:r,body:e.videoUpdateCallTypeRequest},t)))})}updateCallType(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateCallTypeRaw(e,t);return yield r.value()})}updateExternalStorageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new K("name","Required parameter requestParameters.name was null or undefined when calling updateExternalStorage.");if(null===e.videoUpdateExternalStorageRequest||void 0===e.videoUpdateExternalStorageRequest)throw new K("videoUpdateExternalStorageRequest","Required parameter requestParameters.videoUpdateExternalStorageRequest was null or undefined when calling updateExternalStorage.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/external_storage/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:i,query:r,body:e.videoUpdateExternalStorageRequest},t)))})}updateExternalStorage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.updateExternalStorageRaw(e,t);return yield r.value()})}}class V extends L{createExternalStorageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoCreateExternalStorageRequest||void 0===e.videoCreateExternalStorageRequest)throw new K("videoCreateExternalStorageRequest","Required parameter requestParameters.videoCreateExternalStorageRequest was null or undefined when calling createExternalStorage.");let r={},i={};return i["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/external_storage",method:"POST",headers:i,query:r,body:e.videoCreateExternalStorageRequest},t)))})}createExternalStorage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.createExternalStorageRaw(e,t);return yield r.value()})}deleteExternalStorageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new K("name","Required parameter requestParameters.name was null or undefined when calling deleteExternalStorage.");let r={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(r.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/external_storage/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:i,query:r},t)))})}deleteExternalStorage(e,t){return l(this,void 0,void 0,function*(){let r=yield this.deleteExternalStorageRaw(e,t);return yield r.value()})}listExternalStorageRaw(e){return l(this,void 0,void 0,function*(){let t={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),new q((yield this.request({path:"/video/external_storage",method:"GET",headers:r,query:t},e)))})}listExternalStorage(e){return l(this,void 0,void 0,function*(){let t=yield this.listExternalStorageRaw(e);return yield t.value()})}}class H{constructor(e,t,r){this.streamClient=e,this.type=t,this.id=r,this.blockUser=e=>this.apiClient.blockUser(Object.assign(Object.assign({},this.baseRequest),{videoBlockUserRequest:e})),this.endCall=()=>this.apiClient.endCall(Object.assign({},this.baseRequest)),this.get=e=>this.apiClient.getCall(Object.assign(Object.assign({},null!=e?e:{}),this.baseRequest)),this.getOrCreate=e=>this.apiClient.getOrCreateCall(Object.assign(Object.assign({},this.baseRequest),{videoGetOrCreateCallRequest:null!=e?e:{}})),this.create=e=>this.getOrCreate(e),this.goLive=e=>this.apiClient.goLive(Object.assign(Object.assign({},this.baseRequest),{videoGoLiveRequest:null!=e?e:{}})),this.listRecordings=()=>this.apiClient.listRecordings(Object.assign({},this.baseRequest)),this.listTranscriptions=()=>this.apiClient.listTranscriptions(Object.assign({},this.baseRequest)),this.muteUsers=e=>this.apiClient.muteUsers(Object.assign(Object.assign({},this.baseRequest),{videoMuteUsersRequest:e})),this.queryMembers=e=>this.apiClient.queryMembers({videoQueryMembersRequest:Object.assign(Object.assign({},null!=e?e:{}),this.baseRequest)}),this.sendCustomEvent=e=>this.apiClient.sendEvent(Object.assign({videoSendEventRequest:{custom:e}},this.baseRequest)),this.startHLSBroadcasting=()=>this.apiClient.startHLSBroadcasting(Object.assign({},this.baseRequest)),this.startRecording=e=>this.apiClient.startRecording(Object.assign(Object.assign({},this.baseRequest),{videoStartRecordingRequest:null!=e?e:{}})),this.startTranscription=(e={})=>this.apiClient.startTranscription(Object.assign(Object.assign({},this.baseRequest),{videoStartTranscriptionRequest:e})),this.stopHLSBroadcasting=()=>this.apiClient.stopHLSBroadcasting(Object.assign({},this.baseRequest)),this.stopLive=()=>this.apiClient.stopLive(Object.assign({},this.baseRequest)),this.stopRecording=()=>this.apiClient.stopRecording(Object.assign({},this.baseRequest)),this.stopTranscription=()=>this.apiClient.stopTranscription(Object.assign({},this.baseRequest)),this.unblockUser=e=>this.apiClient.unblockUser(Object.assign({videoUnblockUserRequest:e},this.baseRequest)),this.update=e=>this.apiClient.updateCall(Object.assign({videoUpdateCallRequest:e},this.baseRequest)),this.updateCallMembers=e=>this.apiClient.updateCallMembers(Object.assign({videoUpdateCallMembersRequest:e},this.baseRequest)),this.updateUserPermissions=e=>this.apiClient.updateUserPermissions(Object.assign({videoUpdateUserPermissionsRequest:e},this.baseRequest)),this.pinVideo=e=>this.apiClient.videoPin(Object.assign({videoPinRequest:e},this.baseRequest)),this.unpinVideo=e=>this.apiClient.videoUnpin(Object.assign({videoUnpinRequest:e},this.baseRequest)),this.baseRequest={id:this.id,type:this.type};let i=this.streamClient.getConfiguration("video");this.apiClient=new F(i)}}class W{constructor(e){this.streamClient=e,this.call=(e,t)=>new H(this.streamClient,e,t),this.queryCalls=e=>this.apiClient.queryCalls({videoQueryCallsRequest:null!=e?e:{}}),this.createCallType=e=>this.videoServerSideApiClient.createCallType({videoCreateCallTypeRequest:e}),this.deleteCallType=e=>this.videoServerSideApiClient.deleteCallType(e),this.getCallType=e=>this.videoServerSideApiClient.getCallType(e),this.listCallTypes=()=>this.videoServerSideApiClient.listCallTypes(),this.updateCallType=(e,t)=>this.videoServerSideApiClient.updateCallType({name:e,videoUpdateCallTypeRequest:t}),this.listExternalStorages=()=>this.settingsApi.listExternalStorage(),this.createExternalStorage=e=>this.settingsApi.createExternalStorage({videoCreateExternalStorageRequest:e}),this.deleteExternalStorage=e=>this.settingsApi.deleteExternalStorage(e),this.updateExternalStorage=(e,t)=>this.videoServerSideApiClient.updateExternalStorage({name:e,videoUpdateExternalStorageRequest:t}),this.checkExternalStorage=e=>this.videoServerSideApiClient.checkExternalStorage(e);let t=this.streamClient.getConfiguration("video");this.apiClient=new F(t),this.settingsApi=new V(t),this.videoServerSideApiClient=new z(t)}}function G(e,t,r={},i={}){if("string"!=typeof t)throw TypeError("userId should be a string");let n=Object.assign({user_id:t},r);if(null==a()||null==a().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");let s=Object.assign({algorithm:"HS256",noTimestamp:!0},i);return n.iat&&(s.noTimestamp=!1),a().sign(n,e,s)}class J{constructor(e,t,r){var n;this.apiKey=e,this.secret=t,this.config=r,this.options={},this.createDevice=e=>this.devicesApi.createDevice({createDeviceRequest:e}),this.deleteDevice=e=>this.devicesApi.deleteDevice(e),this.listDevices=e=>this.devicesApi.listDevices(e),this.listPushProviders=()=>this.pushApi.listPushProviders(),this.deletePushProvider=e=>this.pushApi.deletePushProvider(e),this.upsertPushProvider=e=>this.serversideApi.upsertPushProvider({upsertPushProviderRequest:{push_provider:e}}),this.checkPush=e=>this.testingApi.checkPush({checkPushRequest:e}),this.createGuest=e=>l(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.createGuest({guestRequest:e});return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.banUser=e=>(e.user=this.mapCustomDataBeforeSend(e.user),e.banned_by=this.mapCustomDataBeforeSend(e.banned_by),this.usersApi.ban({banRequest:e})),this.deactivateUser=e=>l(this,void 0,void 0,function*(){let t=yield this.usersApi.deactivateUser({deactivateUserRequest:e,userId:e.user_id});return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.deactivateUsers=e=>this.usersApi.deactivateUsers({deactivateUsersRequest:e}),this.deleteUser=e=>l(this,void 0,void 0,function*(){let t=yield this.usersApi.deleteUser(e);return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.deleteUsers=e=>this.usersApi.deleteUsers({deleteUsersRequest:e}),this.exportUser=e=>this.usersApi.exportUser(e),this.exportUsers=e=>this.usersApi.exportUsers({exportUsersRequest:e}),this.flag=e=>l(this,void 0,void 0,function*(){var t,r;e.user=this.mapCustomDataBeforeSend(e.user);let i=yield this.usersApi.flag({flagRequest:e});return(null===(t=i.flag)||void 0===t?void 0:t.user)&&(i.flag.user=this.mapCustomDataAfterReceive(null===(r=i.flag)||void 0===r?void 0:r.user)),i}),this.queryBannedUsers=e=>l(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.queryBannedUsers({payload:e});return t.bans.forEach(e=>{e.banned_by=this.mapCustomDataAfterReceive(e.banned_by),e.user=this.mapCustomDataAfterReceive(e.user)}),t}),this.queryUsers=e=>l(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.queryUsers({payload:e});return t.users=t.users.map(e=>this.mapCustomDataAfterReceive(e)),t}),this.reactivateUser=e=>l(this,void 0,void 0,function*(){let t=yield this.usersApi.reactivateUser({reactivateUserRequest:e,userId:e.user_id});t.user=this.mapCustomDataAfterReceive(t.user)}),this.reactivateUsers=e=>this.usersApi.reactivateUsers({reactivateUsersRequest:e}),this.restoreUsers=e=>this.usersApi.restoreUsers({restoreUsersRequest:e}),this.unbanUser=e=>this.usersApi.unban(e),this.unflag=e=>l(this,void 0,void 0,function*(){var t;let r=yield this.usersApi.unflag({flagRequest:e});return(null===(t=r.flag)||void 0===t?void 0:t.user)&&(r.flag.user=this.mapCustomDataAfterReceive(r.flag.user)),r}),this.upsertUsers=e=>l(this,void 0,void 0,function*(){Object.keys(e.users).forEach(t=>{e.users[t]=this.mapCustomDataBeforeSend(e.users[t])});let t=yield this.usersApi.updateUsers({updateUsersRequest:e});return Object.keys(t.users).forEach(e=>{t.users[e]=this.mapCustomDataAfterReceive(t.users[e])}),t}),this.updateUsersPartial=e=>l(this,void 0,void 0,function*(){let t=yield this.usersApi.updateUsersPartial({updateUserPartialRequest:e});return Object.keys(t.users).forEach(e=>{t.users[e]=this.mapCustomDataAfterReceive(t.users[e])}),t}),this.muteUser=e=>l(this,void 0,void 0,function*(){var t,r;e.user=this.mapCustomDataBeforeSend(e.user);let i=yield this.usersApi.muteUser({muteUserRequest:e});return(null===(t=i.mute)||void 0===t?void 0:t.user)&&(i.mute.user=this.mapCustomDataAfterReceive(null===(r=i.mute)||void 0===r?void 0:r.user)),i.mutes&&(i.mutes=i.mutes.map(e=>Object.assign(Object.assign({},e),{user:this.mapCustomDataAfterReceive(e.user)}))),i}),this.unmuteUser=e=>(e.user=this.mapCustomDataBeforeSend(e.user),this.usersApi.unmuteUser({unmuteUserRequest:e})),this.sendCustomEventToUser=(e,t)=>this.eventsApi.sendUserCustomEvent({userId:e,sendUserCustomEventRequest:{event:t}}),this.createRole=e=>this.permissionsApi.createRole({createRoleRequest:e}),this.deleteRole=e=>this.permissionsApi.deleteRole(e),this.getPermission=e=>this.permissionsApi.getPermission(e),this.listPermissions=()=>this.permissionsApi.listPermissions(),this.listRoles=()=>this.permissionsApi.listRoles(),this.getAppSettings=()=>this.settingsApi.getApp(),this.updateAppSettings=e=>this.settingsApi.updateApp({updateAppRequest:e}),this.getRateLimits=()=>this.settingsApi.getRateLimits(),this.getTaskStatus=e=>this.tasksApi.getTask(e),this.verifyWebhook=(e,t)=>{let r=Buffer.from(this.secret,"utf8"),i=o().createHmac("sha256",r).update(e).digest("hex");try{return o().timingSafeEqual(Buffer.from(i),Buffer.from(t))}catch(e){return!1}},this.getConfiguration=(e="chat")=>{var t;return new B({apiKey:e=>({"Stream-Auth-Type":"jwt",api_key:this.apiKey,Authorization:this.token})[e],basePath:null!==(t=this.options.basePath)&&void 0!==t?t:"chat"===e?"https://chat.stream-io-api.com":"https://video.stream-io-api.com",headers:{"X-Stream-Client":"stream-node-0.1.13"},middleware:[{pre:e=>(e.init.headers=Object.assign(Object.assign({},e.init.headers),{"x-client-request-id":(0,i.v4)(),"Accept-Encoding":"gzip"}),Promise.resolve(e))},{post:e=>l(this,void 0,void 0,function*(){if(e.response&&e.response.status<200||e.response.status>=300){let t=new q(e.response),r=yield t.value();throw Error(`Stream error code ${r.code}: ${r.message}`)}})},{pre:e=>(e.init.signal=AbortSignal.timeout(this.options.timeout),Promise.resolve(e)),onError:e=>{let t=e.error;if("AbortError"===t.name||"TimeoutError"===t.name)throw new D(t,`The request was aborted due to to the ${this.options.timeout}ms timeout, you can set the timeout in the StreamClient constructor`);return Promise.resolve(e.response)}}],queryParamsStringify:e=>{let t=[];for(let r in e)if(Array.isArray(e[r])||"object"==typeof e[r])t.push(`${r}=${encodeURIComponent(JSON.stringify(e[r]))}`);else{let i=e[r];("string"==typeof i||"number"==typeof i||"boolean"==typeof i)&&t.push(`${r}=${encodeURIComponent(i)}`)}return t.join("&")}})},this.reservedKeywords=["ban_expires","banned","id","invisible","language","push_notifications","revoke_tokens_issued_before","role","teams","created_at","deactivated_at","deleted_at","last_active","online","updated_at","shadow_banned","name","image"],this.mapCustomDataBeforeSend=e=>{if(!e)return;let t=Object.assign({},e);return delete t.custom,Object.assign(Object.assign({},t),e.custom)},this.token=function(e,t={}){let r=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return a().sign({server:!0},e,r)}(this.secret),"string"==typeof r?(this.options.basePath=r,this.options.timeout=J.DEFAULT_TIMEOUT):(r&&(this.options=r),this.options.timeout=null!==(n=null==r?void 0:r.timeout)&&void 0!==n?n:J.DEFAULT_TIMEOUT),this.video=new W(this),this.chat=new N(this);let s=this.getConfiguration();this.usersApi=new O(s),this.devicesApi=new _(s),this.pushApi=new C(s),this.serversideApi=new R(s),this.testingApi=new P(s),this.permissionsApi=new E(s),this.settingsApi=new A(s),this.eventsApi=new x(s),this.tasksApi=new T(s)}createToken(e,t=Math.round(new Date().getTime()/1e3)+3600,r=Math.round(Date.now()/1e3),i){let n={};return t&&(n.exp=t),r&&(n.iat=r),i&&(console.warn('Use createCallToken method for creating call tokens, the "call_cids" param will be removed from the createToken method with version 0.2.0'),n.call_cids=i),G(this.secret,e,n)}createCallToken(e,t,r=Math.round(new Date().getTime()/1e3)+3600,i=Math.round(Date.now()/1e3)){let n={};return r&&(n.exp=r),i&&(n.iat=i),n.call_cids=t,G(this.secret,e,n)}mapCustomDataAfterReceive(e){if(!e)return;let t={};return Object.keys(e).forEach(r=>{this.reservedKeywords.includes(r)?t[r]=e[r]:(t.custom||(t.custom={}),t.custom[r]=e[r])}),t}}J.DEFAULT_TIMEOUT=3e3},35354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Any:()=>ek,BaseBlock:()=>k,BaseStringBlock:()=>E,BitString:()=>K,BmpString:()=>ea,Boolean:()=>U,CharacterString:()=>eg,Choice:()=>eE,Constructed:()=>O,DATE:()=>eb,DateTime:()=>eS,Duration:()=>e_,EndOfContent:()=>N,Enumerated:()=>z,GeneralString:()=>em,GeneralizedTime:()=>ev,GraphicString:()=>ep,HexBlock:()=>v,IA5String:()=>eh,Integer:()=>F,Null:()=>j,NumericString:()=>el,ObjectIdentifier:()=>W,OctetString:()=>M,Primitive:()=>R,PrintableString:()=>ec,RawData:()=>eR,RelativeObjectIdentifier:()=>Y,Repeated:()=>eC,Sequence:()=>X,Set:()=>Q,TIME:()=>ex,TeletexString:()=>eu,TimeOfDay:()=>ew,UTCTime:()=>ey,UniversalString:()=>eo,Utf8String:()=>ei,ValueBlock:()=>w,VideotexString:()=>ed,ViewWriter:()=>l,VisibleString:()=>ef,compareSchema:()=>eA,fromBER:()=>T,verifySchema:()=>eT});var i=r(11235),n=r(95442);/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function a(){if("undefined"==typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function s(e){let t=0,r=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let i=new Uint8Array(t);for(let t=0;t<e.length;t++){let n=e[t];i.set(new Uint8Array(n),r),r+=n.byteLength}return i.buffer}function o(e,t,r,i){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):i<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-i<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class l{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return s(this.items)}}let c=[new Uint8Array([1])],u="0123456789",d="name",h="valueHexView",p=new ArrayBuffer(0),f=new Uint8Array(0),m="EndOfContent",g="OCTET STRING",y="BIT STRING";function v(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);let r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?i.BufferSourceConverter.toUint8Array(r.valueHex):f}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){let i=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!o(this,i,t,r))return -1;let n=t+r;return(this.valueHexView=i.subarray(t,n),this.valueHexView.length)?(this.blockLength=r,n):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",p)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:i.Convert.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class b{constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:n=f}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=i.BufferSourceConverter.toUint8Array(n)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:i.Convert.ToHex(this.valueBeforeDecodeView)}}}b.NAME="baseBlock";class w extends b{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}w.NAME="valueBlock";class S extends v(b){constructor({idBlock:e={}}={}){var t,r,n,a;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?i.BufferSourceConverter.toUint8Array(e.valueHex):f,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(n=e.tagNumber)&&void 0!==n?n:-1,this.isConstructed=null!==(a=e.isConstructed)&&void 0!==a&&a):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",p}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){let r=n.utilToBase(this.tagNumber,7),i=new Uint8Array(r),a=r.byteLength,s=new Uint8Array(a+1);if(s[0]=31|t,!e){for(let e=0;e<a-1;e++)s[e+1]=128|i[e];s[a]=i[a-1]}return s.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){let e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){let a=i.BufferSourceConverter.toUint8Array(e);if(!o(this,a,t,r))return -1;let s=a.subarray(t,t+r);if(0===s.length)return this.error="Zero buffer length",-1;switch(192&s[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&s[0])==32,this.isHexOnly=!1;let l=31&s[0];if(31!==l)this.tagNumber=l,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&s[e];){if(t[e-1]=127&s[e],++e>=s.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){r+=255;let e=new Uint8Array(r);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&s[e];let i=new Uint8Array(e);for(let r=0;r<e;r++)i[r]=t[r];(t=this.valueHexView=new Uint8Array(e)).set(i),this.blockLength<=9?this.tagNumber=n.utilFromBase(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}S.NAME="identificationBlock";class _ extends b{constructor({lenBlock:e={}}={}){var t,r,i;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(i=e.length)&&void 0!==i?i:0}fromBER(e,t,r){let a=i.BufferSourceConverter.toUint8Array(e);if(!o(this,a,t,r))return -1;let s=a.subarray(t,t+r);if(0===s.length)return this.error="Zero buffer length",-1;if(255===s[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===s[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&s[0]),!1===this.longFormUsed)return this.length=s[0],this.blockLength=1,t+this.blockLength;let l=127&s[0];if(l>8)return this.error="Too big integer",-1;if(l+1>s.length)return this.error="End of input reached before message was fully decoded",-1;let c=t+1,u=a.subarray(c,c+l);return 0===u[l-1]&&this.warnings.push("Needlessly long encoded length"),this.length=n.utilFromBase(u,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=l+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=128),t;if(this.longFormUsed){let i=n.utilToBase(this.length,8);if(i.byteLength>127)return this.error="Too big length",p;if(t=new ArrayBuffer(i.byteLength+1),e)return t;let a=new Uint8Array(i);(r=new Uint8Array(t))[0]=128|i.byteLength;for(let e=0;e<i.byteLength;e++)r[e+1]=a[e];return t}return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}_.NAME="lengthBlock";let x={};class k extends b{constructor({name:e="",optional:t=!1,primitiveSchema:r,...i}={},n){super(i),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new S(i),this.lenBlock=new _(i),this.valueBlock=n?new n(i):new w(i)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}toBER(e,t){let r=t||new l;t||function e(t){if(t instanceof x.Constructed)for(let r of t.valueBlock.value)e(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!t.lenBlock.isIndefiniteForm}(this);let i=this.idBlock.toBER(e);if(r.write(i),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;let i=this.lenBlock.toBER(e);r.write(i),r.write(t)}return t?p:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():i.Convert.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${i.Convert.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;let t=this.toBER(),r=e.toBER();return n.isEqualBuffer(t,r)}}k.NAME="BaseBlock";class E extends k{constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}E.NAME="BaseStringBlock";class C extends v(w){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}C.NAME="PrimitiveValueBlock";class R extends k{constructor(e={}){super(e,C),this.idBlock.isConstructed=!1}}function A(e,t=0,r=e.length){let i=t,n=new k({},w),a=new b;if(!o(a,e,t,r))return n.error=a.error,{offset:-1,result:n};if(!e.subarray(t,t+r).length)return n.error="Zero buffer length",{offset:-1,result:n};let s=n.idBlock.fromBER(e,t,r);if(n.idBlock.warnings.length&&n.warnings.concat(n.idBlock.warnings),-1===s)return n.error=n.idBlock.error,{offset:-1,result:n};if(t=s,r-=n.idBlock.blockLength,s=n.lenBlock.fromBER(e,t,r),n.lenBlock.warnings.length&&n.warnings.concat(n.lenBlock.warnings),-1===s)return n.error=n.lenBlock.error,{offset:-1,result:n};if(t=s,r-=n.lenBlock.blockLength,!n.idBlock.isConstructed&&n.lenBlock.isIndefiniteForm)return n.error="Indefinite length form used for primitive encoding form",{offset:-1,result:n};let l=k;if(1===n.idBlock.tagClass){if(n.idBlock.tagNumber>=37&&!1===n.idBlock.isHexOnly)return n.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:n};switch(n.idBlock.tagNumber){case 0:if(n.idBlock.isConstructed&&n.lenBlock.length>0)return n.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:n};l=x.EndOfContent;break;case 1:l=x.Boolean;break;case 2:l=x.Integer;break;case 3:l=x.BitString;break;case 4:l=x.OctetString;break;case 5:l=x.Null;break;case 6:l=x.ObjectIdentifier;break;case 10:l=x.Enumerated;break;case 12:l=x.Utf8String;break;case 13:l=x.RelativeObjectIdentifier;break;case 14:l=x.TIME;break;case 15:return n.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:n};case 16:l=x.Sequence;break;case 17:l=x.Set;break;case 18:l=x.NumericString;break;case 19:l=x.PrintableString;break;case 20:l=x.TeletexString;break;case 21:l=x.VideotexString;break;case 22:l=x.IA5String;break;case 23:l=x.UTCTime;break;case 24:l=x.GeneralizedTime;break;case 25:l=x.GraphicString;break;case 26:l=x.VisibleString;break;case 27:l=x.GeneralString;break;case 28:l=x.UniversalString;break;case 29:l=x.CharacterString;break;case 30:l=x.BmpString;break;case 31:l=x.DATE;break;case 32:l=x.TimeOfDay;break;case 33:l=x.DateTime;break;case 34:l=x.Duration;break;default:{let e=n.idBlock.isConstructed?new x.Constructed:new x.Primitive;e.idBlock=n.idBlock,e.lenBlock=n.lenBlock,e.warnings=n.warnings,n=e}}}else l=n.idBlock.isConstructed?x.Constructed:x.Primitive;return s=(n=function(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(n,l)).fromBER(e,t,n.lenBlock.isIndefiniteForm?r:n.lenBlock.length),n.valueBeforeDecodeView=e.subarray(i,i+n.blockLength),{offset:s,result:n}}function T(e){if(!e.byteLength){let e=new k({},w);return e.error="Input buffer has zero length",{offset:-1,result:e}}return A(i.BufferSourceConverter.toUint8Array(e).slice(),0,e.byteLength)}x.Primitive=R,R.NAME="PRIMITIVE";class P extends w{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){var n,a;let s=i.BufferSourceConverter.toUint8Array(e);if(!o(this,s,t,r))return -1;if(this.valueBeforeDecodeView=s.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let l=t;for(;n=this.isIndefiniteForm,a=r,(n?1:a)>0;){let e=A(s,l,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(l=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===m)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===m?this.value.pop():this.warnings.push("No EndOfContent block encoded")),l}toBER(e,t){let r=t||new l;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?p:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}}P.NAME="ConstructedValueBlock";class O extends k{constructor(e={}){super(e,P),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){let e=[];for(let t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map(e=>`  ${e}`).join("\n"));let t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join("\n")}`:`${t} :`}}x.Constructed=O,O.NAME="CONSTRUCTED";class I extends w{fromBER(e,t,r){return t}toBER(e){return p}}I.override="EndOfContentValueBlock";class N extends k{constructor(e={}){super(e,I),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}x.EndOfContent=N,N.NAME=m;class j extends k{constructor(e={}){super(e,w),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){let r=new ArrayBuffer(2);if(!e){let e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}x.Null=j,j.NAME="NULL";class B extends v(w){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=i.BufferSourceConverter.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){let a=i.BufferSourceConverter.toUint8Array(e);return o(this,a,t,r)?(this.valueHexView=a.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,n.utilDecodeTC.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}B.NAME="BooleanValueBlock";class U extends k{constructor(e={}){super(e,B),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}x.Boolean=U,U.NAME="BOOLEAN";class L extends v(P){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(i=P.prototype.fromBER.call(this,e,t,r)))return i;for(let e=0;e<this.value.length;e++){let t=this.value[e].constructor.NAME;if(t===m){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;break}if(t!==g)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,t,r),this.blockLength=r;return i}toBER(e,t){return this.isConstructed?P.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}L.NAME="OctetStringValueBlock";class M extends k{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!==(i=r.isConstructed)&&void 0!==i||(r.isConstructed=!!(null===(n=r.value)||void 0===n?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},L),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(i.byteLength){let e=A(i,0,i.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch(e){}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?O.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${i.Convert.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof M&&e.push(t.valueBlock.valueHexView);return i.BufferSourceConverter.concat(e)}}x.OctetString=M,M.NAME=g;class D extends v(P){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let n=-1;if(this.isConstructed){if(-1===(n=P.prototype.fromBER.call(this,e,t,r)))return n;for(let e of this.value){let t=e.constructor.NAME;if(t===m){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;break}if(t!==y)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return n}let a=i.BufferSourceConverter.toUint8Array(e);if(!o(this,a,t,r))return -1;let s=a.subarray(t,t+r);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let e=s.subarray(1);try{if(e.byteLength){let t=A(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch(e){}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,t+r}toBER(e,t){if(this.isConstructed)return P.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return p;let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}D.NAME="BitStringValueBlock";class K extends k{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!==(i=r.isConstructed)&&void 0!==i||(r.isConstructed=!!(null===(n=r.value)||void 0===n?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},D),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return O.prototype.onAsciiEncoding.call(this);{let e=[];for(let t of this.valueBlock.valueHexView)e.push(t.toString(2).padStart(8,"0"));let t=e.join("");return`${this.constructor.NAME} : ${t.substring(0,t.length-this.valueBlock.unusedBits)}`}}}function q(e){if(e>=c.length)for(let t=c.length;t<=e;t++){let e=new Uint8Array([0]),r=c[t-1].slice(0);for(let t=r.length-1;t>=0;t--){let i=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=i[0]/10,r[t]=i[0]%10}e[0]>0&&(r=n.utilConcatView(e,r)),c.push(r)}return c[e]}x.BitString=K,K.NAME=y;class $ extends v(w){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=n.utilDecodeTC.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(n.utilEncodeTC(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,i=0){let n=this.fromBER(e,t,r);if(-1===n)return n;let a=this.valueHexView;return 0===a[0]&&(128&a[1])!=0?this.valueHexView=a.subarray(1):0!==i&&a.length<i&&(i-a.length>1&&(i=a.length+1),this.valueHexView=a.subarray(i-a.length)),n}toDER(e=!1){let t=this.valueHexView;switch(!0){case(128&t[0])!=0:{let e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&(128&t[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){let i=super.fromBER(e,t,r);return -1===i||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e;let t=8*this.valueHexView.length-1,r=new Uint8Array(8*this.valueHexView.length/3),i=0,a=this.valueHexView,s="",o=!1;for(let o=a.byteLength-1;o>=0;o--){e=a[o];for(let a=0;a<8;a++)(1&e)==1&&(i===t?(r=function(e,t){let r,i=0,n=new Uint8Array(e),a=new Uint8Array(t),s=n.slice(0),o=s.length-1,l=a.slice(0),c=l.length-1,u=0;for(let e=c;e>=0;e--,u++)!0==(r=s[o-u]-l[c-u]-i)<0?(i=1,s[o-u]=r+10):(i=0,s[o-u]=r);if(i>0)for(let e=o-c+1;e>=0;e--,u++)if((r=s[o-u]-i)<0)i=1,s[o-u]=r+10;else{i=0,s[o-u]=r;break}return s.slice()}(q(i),r),s="-"):r=function(e,t){let r=new Uint8Array([0]),i=new Uint8Array(e),a=new Uint8Array(t),s=i.slice(0),o=s.length-1,l=a.slice(0),c=l.length-1,u=0,d=c<o?o:c,h=0;for(let e=d;e>=0;e--,h++)u=!0==h<l.length?s[o-h]+l[c-h]+r[0]:s[o-h]+r[0],(r[0]=u/10,!0==h>=s.length)?s=n.utilConcatView(new Uint8Array([u%10]),s):s[o-h]=u%10;return r[0]>0&&(s=n.utilConcatView(r,s)),s}(r,q(i))),i++,e>>=1}for(let e=0;e<r.length;e++)r[e]&&(o=!0),o&&(s+=u.charAt(r[e]));return!1===o&&(s+=u.charAt(0)),s}}$.NAME="IntegerValueBlock",Object.defineProperty($.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class F extends k{constructor(e={}){super(e,$),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return a(),BigInt(this.valueBlock.toString())}static fromBigInt(e){a();let t=BigInt(e),r=new l,n=t.toString(16).replace(/^-/,""),s=new Uint8Array(i.Convert.FromHex(n));if(t<0){let e=new Uint8Array(s.length+(128&s[0]?1:0));e[0]|=128;let n=BigInt(`0x${i.Convert.ToHex(e)}`),a=i.BufferSourceConverter.toUint8Array(i.Convert.FromHex((n+t).toString(16)));a[0]|=128,r.write(a)}else 128&s[0]&&r.write(new Uint8Array([0])),r.write(s);return new F({valueHex:r.final()})}convertToDER(){let e=new F({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new F({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}x.Integer=F,F.NAME="INTEGER";class z extends F{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}x.Enumerated=z,z.NAME="ENUMERATED";class V extends v(w){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;let a=i.BufferSourceConverter.toUint8Array(e);if(!o(this,a,t,r))return -1;let s=a.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&s[e],this.blockLength++,(128&s[e])!=0);e++);let l=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)l[e]=this.valueHexView[e];return(this.valueHexView=l,(128&s[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=n.utilFromBase(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){a();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=n.utilToBase(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",p;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r}toString(){let e="";if(this.isHexOnly)e=i.Convert.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}V.NAME="sidBlock";class H extends w{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new V;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e){let t=[];for(let r=0;r<this.value.length;r++){let i=this.value[r].toBER(e);if(0===i.byteLength)return this.error=this.value[r].error,p;t.push(i)}return s(t)}fromString(e){this.value=[];let t=0,r=0,i="",n=!1;do if(i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1,n){let e=this.value[0],t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}let r=parseInt(i,10);if(isNaN(r))return;e.valueDec=r+t,n=!1}else{let e=new V;if(i>Number.MAX_SAFE_INTEGER){a();let t=BigInt(i);e.valueBigInt=t}else if(e.valueDec=parseInt(i,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,n=!0),this.value.push(e)}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?(i=`{${i}}`,this.value[r].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}H.NAME="ObjectIdentifierValueBlock";class W extends k{constructor(e={}){super(e,H),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}x.ObjectIdentifier=W,W.NAME="OBJECT IDENTIFIER";class G extends v(b){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;let a=i.BufferSourceConverter.toUint8Array(e);if(!o(this,a,t,r))return -1;let s=a.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&s[e],this.blockLength++,(128&s[e])!=0);e++);let l=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)l[e]=this.valueHexView[e];return(this.valueHexView=l,(128&s[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=n.utilFromBase(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=n.utilToBase(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",p;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r.buffer}toString(){return this.isHexOnly?i.Convert.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}G.NAME="relativeSidBlock";class J extends w{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new G;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e,t){let r=[];for(let t=0;t<this.value.length;t++){let i=this.value[t].toBER(e);if(0===i.byteLength)return this.error=this.value[t].error,p;r.push(i)}return s(r)}fromString(e){this.value=[];let t=0,r=0,i="";do{i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1;let n=new G;if(n.valueDec=parseInt(i,10),isNaN(n.valueDec))break;this.value.push(n)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?e+=i=`{${i}}`:e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}J.NAME="RelativeObjectIdentifierValueBlock";class Y extends k{constructor(e={}){super(e,J),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}x.RelativeObjectIdentifier=Y,Y.NAME="RelativeObjectIdentifier";class X extends O{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}x.Sequence=X,X.NAME="SEQUENCE";class Q extends O{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}x.Set=Q,Q.NAME="SET";class Z extends v(w){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}Z.NAME="StringValueBlock";class ee extends Z{}ee.NAME="SimpleStringValueBlock";class et extends E{constructor({...e}={}){super(e,ee)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,i.BufferSourceConverter.toUint8Array(e))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);this.valueBlock.value=e}}et.NAME="SIMPLE STRING";class er extends et{fromBuffer(e){this.valueBlock.valueHexView=i.BufferSourceConverter.toUint8Array(e);try{this.valueBlock.value=i.Convert.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=i.Convert.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(i.Convert.FromUtf8String(e)),this.valueBlock.value=e}}er.NAME="Utf8StringValueBlock";class ei extends er{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}x.Utf8String=ei,ei.NAME="UTF8String";class en extends et{fromBuffer(e){this.valueBlock.value=i.Convert.ToUtf16String(e),this.valueBlock.valueHexView=i.BufferSourceConverter.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(i.Convert.FromUtf16String(e))}}en.NAME="BmpStringValueBlock";class ea extends en{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}x.BmpString=ea,ea.NAME="BMPString";class es extends et{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let i=0;i<t;i++){let t=n.utilToBase(e.charCodeAt(i),8),a=new Uint8Array(t);if(a.length>4)continue;let s=4-a.length;for(let e=a.length-1;e>=0;e--)r[4*i+e+s]=a[e]}this.valueBlock.value=e}}es.NAME="UniversalStringValueBlock";class eo extends es{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}x.UniversalString=eo,eo.NAME="UniversalString";class el extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}x.NumericString=el,el.NAME="NumericString";class ec extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}x.PrintableString=ec,ec.NAME="PrintableString";class eu extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}x.TeletexString=eu,eu.NAME="TeletexString";class ed extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}x.VideotexString=ed,ed.NAME="VideotexString";class eh extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}x.IA5String=eh,eh.NAME="IA5String";class ep extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}x.GraphicString=ep,ep.NAME="GraphicString";class ef extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}x.VisibleString=ef,ef.NAME="VisibleString";class em extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}x.GeneralString=em,em.NAME="GeneralString";class eg extends et{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}x.CharacterString=eg,eg.NAME="CharacterString";class ey extends ef{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,i.BufferSourceConverter.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(null===t){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){let e=Array(7);return e[0]=n.padNumber(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=n.padNumber(this.month,2),e[2]=n.padNumber(this.day,2),e[3]=n.padNumber(this.hour,2),e[4]=n.padNumber(this.minute,2),e[5]=n.padNumber(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}x.UTCTime=ey,ey.NAME="UTCTime";class ev extends ey{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,i="",n="",a=0,s=0,o=0;if("Z"===e[e.length-1])i=e.substring(0,e.length-1),r=!0;else{if(isNaN(new Number(e[e.length-1]).valueOf()))throw Error("Wrong input string for conversion");i=e}if(r){if(-1!==i.indexOf("+")||-1!==i.indexOf("-"))throw Error("Wrong input string for conversion")}else{let e=1,t=i.indexOf("+"),r="";if(-1===t&&(t=i.indexOf("-"),e=-1),-1!==t){if(r=i.substring(t+1),i=i.substring(0,t),2!==r.length&&4!==r.length)throw Error("Wrong input string for conversion");let n=parseInt(r.substring(0,2),10);if(isNaN(n.valueOf()))throw Error("Wrong input string for conversion");if(s=e*n,4===r.length){if(isNaN((n=parseInt(r.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");o=e*n}}}let l=i.indexOf(".");if(-1===l&&(l=i.indexOf(",")),-1!==l){let e=new Number(`0${i.substring(l)}`);if(isNaN(e.valueOf()))throw Error("Wrong input string for conversion");a=e.valueOf(),n=i.substring(0,l)}else n=i;switch(!0){case 8===n.length:if(t=/(\d{4})(\d{2})(\d{2})/ig,-1!==l)throw Error("Wrong input string for conversion");break;case 10===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*a;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*a;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=1e3*a;this.millisecond=Math.floor(e)}break;default:throw Error("Wrong input string for conversion")}let c=t.exec(n);if(null===c)throw Error("Wrong input string for conversion");for(let e=1;e<c.length;e++)switch(e){case 1:this.year=parseInt(c[e],10);break;case 2:this.month=parseInt(c[e],10);break;case 3:this.day=parseInt(c[e],10);break;case 4:this.hour=parseInt(c[e],10)+s;break;case 5:this.minute=parseInt(c[e],10)+o;break;case 6:this.second=parseInt(c[e],10);break;default:throw Error("Wrong input string for conversion")}if(!1===r){let e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){let e=[];return e.push(n.padNumber(this.year,4)),e.push(n.padNumber(this.month,2)),e.push(n.padNumber(this.day,2)),e.push(n.padNumber(this.hour,2)),e.push(n.padNumber(this.minute,2)),e.push(n.padNumber(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(n.padNumber(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}x.GeneralizedTime=ev,ev.NAME="GeneralizedTime";class eb extends ei{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}x.DATE=eb,eb.NAME="DATE";class ew extends ei{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}x.TimeOfDay=ew,ew.NAME="TimeOfDay";class eS extends ei{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}x.DateTime=eS,eS.NAME="DateTime";class e_ extends ei{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}x.Duration=e_,e_.NAME="Duration";class ex extends ei{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}x.TIME=ex,ex.NAME="TIME";class ek{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class eE extends ek{constructor({value:e=[],...t}={}){super(t),this.value=e}}class eC extends ek{constructor({value:e=new ek,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class eR{constructor({data:e=f}={}){this.dataView=i.BufferSourceConverter.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=i.BufferSourceConverter.toUint8Array(e)}fromBER(e,t,r){let n=t+r;return this.dataView=i.BufferSourceConverter.toUint8Array(e).subarray(t,n),n}toBER(e){return this.dataView.slice().buffer}}function eA(e,t,r){if(r instanceof eE){for(let i=0;i<r.value.length;i++)if(eA(e,t,r.value[i]).verified)return{verified:!0,result:e};{let e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(d)&&(e.name=r.name),e}}if(r instanceof ek)return r.hasOwnProperty(d)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1||"idBlock"in r==!1||"fromBER"in r.idBlock==!1||"toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.toBER(!1);if(0===i.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(i,0,i.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(h in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.valueHexView,n=t.idBlock.valueHexView;if(i.length!==n.length)return{verified:!1,result:e};for(let t=0;t<i.length;t++)if(i[t]!==n[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(e[r.name]=t)),r instanceof x.Constructed){let i=0,n={verified:!1,result:{error:"Unknown error"}},a=r.valueBlock.value.length;if(a>0&&r.valueBlock.value[0]instanceof eC&&(a=t.valueBlock.value.length),0===a)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let s=0;s<a;s++)if(s-i>=t.valueBlock.value.length){if(!1===r.valueBlock.value[s].optional){let t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof eC){if(!1===(n=eA(e,t.valueBlock.value[s],r.valueBlock.value[0].value)).verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;i++}if(d in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let i={};void 0===(i="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(i[r.valueBlock.value[0].name]=[]),i[r.valueBlock.value[0].name].push(t.valueBlock.value[s])}}else if(!1===(n=eA(e,t.valueBlock.value[s-i],r.valueBlock.value[s])).verified){if(!r.valueBlock.value[s].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;i++}if(!1===n.verified){let t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&h in t.valueBlock){let i=A(t.valueBlock.valueHexView);if(-1===i.offset){let t={verified:!1,result:i.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return eA(e,i.result,r.primitiveSchema)}return{verified:!0,result:e}}function eT(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=A(i.BufferSourceConverter.toUint8Array(e));return -1===r.offset?{verified:!1,result:r.result}:eA(r.result,r.result,t)}},41858:(e,t,r)=>{"use strict";var i=r(14300).Buffer,n=r(14300).SlowBuffer;function a(e,t){if(!i.isBuffer(e)||!i.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}e.exports=a,a.install=function(){i.prototype.equal=n.prototype.equal=function(e){return a(this,e)}};var s=i.prototype.equal,o=n.prototype.equal;a.restore=function(){i.prototype.equal=s,n.prototype.equal=o}},42786:(e,t)=>{"use strict";function r(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var i={},n=(t||{}).decode||r,a=0;a<e.length;){var s=e.indexOf("=",a);if(-1===s)break;var o=e.indexOf(";",a);if(-1===o)o=e.length;else if(o<s){a=e.lastIndexOf(";",s-1)+1;continue}var l=e.slice(a,s).trim();if(void 0===i[l]){var c=e.slice(s+1,o).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),i[l]=function(e,t){try{return t(e)}catch(t){return e}}(c,n)}a=o+1}return i},Object.prototype.toString},83191:(e,t)=>{"use strict";function r(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var i={},n=(t||{}).decode||r,a=0;a<e.length;){var s=e.indexOf("=",a);if(-1===s)break;var o=e.indexOf(";",a);if(-1===o)o=e.length;else if(o<s){a=e.lastIndexOf(";",s-1)+1;continue}var l=e.slice(a,s).trim();if(void 0===i[l]){var c=e.slice(s+1,o).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),i[l]=function(e,t){try{return t(e)}catch(t){return e}}(c,n)}a=o+1}return i},Object.prototype.toString},97834:e=>{"use strict";var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o(Array.isArray(e)?[]:{},e,t):e}function n(e,t,r){return e.concat(t).map(function(e){return i(e,r)})}function a(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[])}function s(e,t){try{return t in e}catch(e){return!1}}function o(e,r,l){(l=l||{}).arrayMerge=l.arrayMerge||n,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var c,u,d=Array.isArray(r);return d!==Array.isArray(e)?i(r,l):d?l.arrayMerge(e,r,l):(u={},(c=l).isMergeableObject(e)&&a(e).forEach(function(t){u[t]=i(e[t],c)}),a(r).forEach(function(t){(!s(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(s(e,t)&&c.isMergeableObject(r[t])?u[t]=(function(e,t){if(!t.customMerge)return o;var r=t.customMerge(e);return"function"==typeof r?r:o})(t,c)(e[t],r[t],c):u[t]=i(r[t],c))}),u)}o.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return o(e,r,t)},{})},e.exports=o},14438:e=>{"use strict";var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o(Array.isArray(e)?[]:{},e,t):e}function n(e,t,r){return e.concat(t).map(function(e){return i(e,r)})}function a(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[])}function s(e,t){try{return t in e}catch(e){return!1}}function o(e,r,l){(l=l||{}).arrayMerge=l.arrayMerge||n,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var c,u,d=Array.isArray(r);return d!==Array.isArray(e)?i(r,l):d?l.arrayMerge(e,r,l):(u={},(c=l).isMergeableObject(e)&&a(e).forEach(function(t){u[t]=i(e[t],c)}),a(r).forEach(function(t){(!s(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(s(e,t)&&c.isMergeableObject(r[t])?u[t]=(function(e,t){if(!t.customMerge)return o;var r=t.customMerge(e);return"function"==typeof r?r:o})(t,c)(e[t],r[t],c):u[t]=i(r[t],c))}),u)}o.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return o(e,r,t)},{})},e.exports=o},31076:(e,t,r)=>{"use strict";r.d(t,{dotCase:()=>a});var i=r(92346),n=r(10052);function a(e,t){return void 0===t&&(t={}),(0,n.noCase)(e,(0,i.__assign)({delimiter:"."},t))}},90037:(e,t,r)=>{"use strict";var i=r(24381).Buffer,n=r(99007);function a(e){if(i.isBuffer(e))return e;if("string"==typeof e)return i.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,r){for(var i=0;t+i<r&&0===e[t+i];)++i;return e[t+i]>=128&&--i,i}e.exports={derToJose:function(e,t){e=a(e);var r=n(t),s=r+1,o=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),o-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(o-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(o-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(o-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var d=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var h=e[l++];if(o-l!==h)throw Error('"s" specified length of "'+h+'", expected "'+(o-l)+'"');if(s<h)throw Error('"s" specified length of "'+h+'", max of "'+s+'" is acceptable');var p=l;if((l+=h)!==o)throw Error('Expected to consume entire buffer, but "'+(o-l)+'" bytes remain');var f=r-u,m=r-h,g=i.allocUnsafe(f+u+m+h);for(l=0;l<f;++l)g[l]=0;e.copy(g,l,d+Math.max(-f,0),d+u),l=r;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,p+Math.max(-m,0),p+h),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=a(e);var r=n(t),o=e.length;if(o!==2*r)throw TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+o+'"');var l=s(e,0,r),c=s(e,r,e.length),u=r-l,d=r-c,h=2+u+1+1+d,p=h<128,f=i.allocUnsafe((p?2:3)+h),m=0;return f[m++]=48,p?f[m++]=h:(f[m++]=129,f[m++]=255&h),f[m++]=2,f[m++]=u,l<0?(f[m++]=0,m+=e.copy(f,m,0,r)):m+=e.copy(f,m,l,r),f[m++]=2,f[m++]=d,c<0?(f[m++]=0,e.copy(f,m,r)):e.copy(f,m,r+c),f}}},99007:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},12697:(e,t,r)=>{var i=r(78155);e.exports=function(e,t){t=t||{};var r=i.decode(e,t);if(!r)return null;var n=r.payload;if("string"==typeof n)try{var a=JSON.parse(n);null!==a&&"object"==typeof a&&(n=a)}catch(e){}return!0===t.complete?{header:r.header,payload:n,signature:r.signature}:n}},9410:(e,t,r)=>{e.exports={decode:r(12697),verify:r(91192),sign:r(74473),JsonWebTokenError:r(6395),NotBeforeError:r(87962),TokenExpiredError:r(33726)}},6395:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},87962:(e,t,r)=>{var i=r(6395),n=function(e,t){i.call(this,e),this.name="NotBeforeError",this.date=t};n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},33726:(e,t,r)=>{var i=r(6395),n=function(e,t){i.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},76485:(e,t,r)=>{let i=r(44876);e.exports=i.satisfies(process.version,">=15.7.0")},26426:(e,t,r)=>{var i=r(44876);e.exports=i.satisfies(process.version,"^6.12.0 || >=8.0.0")},81730:(e,t,r)=>{let i=r(44876);e.exports=i.satisfies(process.version,">=16.9.0")},33704:(e,t,r)=>{var i=r(84158);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var n=i(e);if(void 0===n)return;return Math.floor(r+n/1e3)}if("number"==typeof e)return r+e}},50248:(e,t,r)=>{let i=r(76485),n=r(81730),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let o=a[r];if(!o)throw Error(`Unknown key type "${r}".`);if(!o.includes(e))throw Error(`"alg" parameter for "${r}" key type must be one of: ${o.join(", ")}.`);if(i)switch(r){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(n){let r=parseInt(e.slice(-3),10),{hashAlgorithm:i,mgf1HashAlgorithm:n,saltLength:a}=t.asymmetricKeyDetails;if(i!==`sha${r}`||n!==i)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==a&&a>r>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},74473:(e,t,r)=>{let i=r(33704),n=r(26426),a=r(50248),s=r(78155),o=r(20647),l=r(8376),c=r(11116),u=r(84004),d=r(26216),h=r(62265),p=r(23963),{KeyObject:f,createSecretKey:m,createPrivateKey:g}=r(6113),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];n&&y.splice(3,0,"PS256","PS384","PS512");let v={expiresIn:{isValid:function(e){return c(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function w(e,t,r,i){if(!d(r))throw Error('Expected "'+i+'" to be a plain object.');Object.keys(r).forEach(function(n){let a=e[n];if(!a){if(!t)throw Error('"'+n+'" is not allowed in "'+i+'"');return}if(!a.isValid(r[n]))throw Error(a.message)})}let S={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},_=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,n){var o,l;"function"==typeof r?(n=r,r={}):r=r||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:r.algorithm||"HS256",typ:c?"JWT":void 0,kid:r.keyid},r.header);function d(e){if(n)return n(e);throw e}if(!t&&"none"!==r.algorithm)return d(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof f))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return d(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return d(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return d(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return d(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return d(Error("payload is required"));if(c){try{o=e,w(b,!0,o,"payload")}catch(e){return d(e)}r.mutatePayload||(e=Object.assign({},e))}else{let t=_.filter(function(e){return void 0!==r[e]});if(t.length>0)return d(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return d(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return d(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=r,w(v,!1,l,"options")}catch(e){return d(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{a(u.alg,t)}catch(e){return d(e)}let h=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:c&&(e.iat=h),void 0!==r.notBefore){try{e.nbf=i(r.notBefore,h)}catch(e){return d(e)}if(void 0===e.nbf)return d(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=i(r.expiresIn,h)}catch(e){return d(e)}if(void 0===e.exp)return d(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(S).forEach(function(t){let i=S[t];if(void 0!==r[t]){if(void 0!==e[i])return d(Error('Bad "options.'+t+'" option. The payload already has an "'+i+'" property.'));e[i]=r[t]}});let y=r.encoding||"utf8";if("function"==typeof n)n=n&&p(n),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",n).once("done",function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return n(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));n(null,e)});else{let i=s.sign({header:u,payload:e,secret:t,encoding:y});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&i.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return i}}},91192:(e,t,r)=>{let i=r(6395),n=r(87962),a=r(33726),s=r(12697),o=r(33704),l=r(50248),c=r(26426),u=r(78155),{KeyObject:d,createSecretKey:h,createPublicKey:p}=r(6113),f=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(f.splice(f.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){let v,b,w;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),v=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return v(new i("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return v(new i("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return v(new i("allowInvalidAsymmetricKeyTypes must be a boolean"));let S=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return v(new i("jwt must be provided"));if("string"!=typeof e)return v(new i("jwt must be a string"));let _=e.split(".");if(3!==_.length)return v(new i("jwt malformed"));try{b=s(e,{complete:!0})}catch(e){return v(e)}if(!b)return v(new i("invalid token"));let x=b.header;if("function"==typeof t){if(!c)return v(new i("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,r){return r(null,t)};return w(x,function(t,s){let c;if(t)return v(new i("error in secret or public key callback: "+t.message));let w=""!==_[2].trim();if(!w&&s)return v(new i("jwt signature is required"));if(w&&!s)return v(new i("secret or public key must be provided"));if(!w&&!r.algorithms)return v(new i('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof d))try{s=p(s)}catch(e){try{s=h("string"==typeof s?Buffer.from(s):s)}catch(e){return v(new i("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===s.type?r.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?r.algorithms=g:"ec"===s.asymmetricKeyType?r.algorithms=m:r.algorithms=f),-1===r.algorithms.indexOf(b.header.alg))return v(new i("invalid algorithm"));if(x.alg.startsWith("HS")&&"secret"!==s.type)return v(new i(`secretOrPublicKey must be a symmetric key when using ${x.alg}`));if(/^(?:RS|PS|ES)/.test(x.alg)&&"public"!==s.type)return v(new i(`secretOrPublicKey must be an asymmetric key when using ${x.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{l(x.alg,s)}catch(e){return v(e)}try{c=u.verify(e,b.header.alg,s)}catch(e){return v(e)}if(!c)return v(new i("invalid signature"));let k=b.payload;if(void 0!==k.nbf&&!r.ignoreNotBefore){if("number"!=typeof k.nbf)return v(new i("invalid nbf value"));if(k.nbf>S+(r.clockTolerance||0))return v(new n("jwt not active",new Date(1e3*k.nbf)))}if(void 0!==k.exp&&!r.ignoreExpiration){if("number"!=typeof k.exp)return v(new i("invalid exp value"));if(S>=k.exp+(r.clockTolerance||0))return v(new a("jwt expired",new Date(1e3*k.exp)))}if(r.audience){let e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(k.aud)?k.aud:[k.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return v(new i("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&k.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(k.iss)))return v(new i("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&k.sub!==r.subject)return v(new i("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&k.jti!==r.jwtid)return v(new i("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&k.nonce!==r.nonce)return v(new i("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof k.iat)return v(new i("iat required when maxAge is specified"));let e=o(r.maxAge,k.iat);if(void 0===e)return v(new i('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(S>=e+(r.clockTolerance||0))return v(new a("maxAge exceeded",new Date(1e3*e)))}return!0===r.complete?v(null,{header:x,payload:k,signature:b.signature}):v(null,k)})}},44300:(e,t,r)=>{var i=r(41858),n=r(24381).Buffer,a=r(6113),s=r(90037),o=r(73837),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof a.createPublicKey;function d(e){if(!n.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function h(e){if(!n.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function p(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(o.format.bind(o,e).apply(null,t))}function g(e){var t;return t=e,n.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){(function(e){if(!n.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(r),t=g(t);var i=a.createHmac("sha"+e,r);return p((i.update(t),i.digest("base64")))}}function v(e){return function(t,r,a){var s=y(e)(t,a);return i(n.from(r),n.from(s))}}function b(e){return function(t,r){h(r),t=g(t);var i=a.createSign("RSA-SHA"+e);return p((i.update(t),i.sign(r,"base64")))}}function w(e){return function(t,r,i){d(i),t=g(t),r=f(r);var n=a.createVerify("RSA-SHA"+e);return n.update(t),n.verify(i,r,"base64")}}function S(e){return function(t,r){h(r),t=g(t);var i=a.createSign("RSA-SHA"+e);return p((i.update(t),i.sign({key:r,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,r,i){d(i),t=g(t),r=f(r);var n=a.createVerify("RSA-SHA"+e);return n.update(t),n.verify({key:i,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function x(e){var t=b(e);return function(){var r=t.apply(null,arguments);return s.derToJose(r,"ES"+e)}}function k(e){var t=w(e);return function(r,i,n){return t(r,i=s.joseToDer(i,"ES"+e).toString("base64"),n)}}function E(){return function(){return""}}function C(){return function(e,t){return""===t}}u&&(c+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var r=(t[1]||t[3]).toLowerCase(),i=t[2];return{sign:({hs:y,rs:b,ps:S,es:x,none:E})[r](i),verify:({hs:v,rs:w,ps:_,es:k,none:C})[r](i)}}},78155:(e,t,r)=>{var i=r(22443),n=r(21571);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=i.sign,t.verify=n.verify,t.decode=n.decode,t.isValid=n.isValid,t.createSign=function(e){return new i(e)},t.createVerify=function(e){return new n(e)}},16877:(e,t,r)=>{var i=r(24381).Buffer,n=r(12781);function a(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=i.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=i.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}r(73837).inherits(a,n),a.prototype.write=function(e){this.buffer=i.concat([this.buffer,i.from(e)]),this.emit("data",e)},a.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=a},22443:(e,t,r)=>{var i=r(24381).Buffer,n=r(16877),a=r(44300),s=r(12781),o=r(99246),l=r(73837);function c(e,t){return i.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,r,i,n=e.header,s=e.payload,u=e.secret||e.privateKey,d=e.encoding,h=a(n.alg),p=(t=(t=d)||"utf8",r=c(o(n),"binary"),i=c(o(s),t),l.format("%s.%s",r,i)),f=h.sign(p,u);return l.format("%s.%s",p,f)}function d(e){var t=new n(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new n(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(d,s),d.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.sign=u,e.exports=d},99246:(e,t,r)=>{var i=r(14300).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||i.isBuffer(e)?e.toString():JSON.stringify(e)}},21571:(e,t,r)=>{var i=r(24381).Buffer,n=r(16877),a=r(44300),s=r(12781),o=r(99246),l=r(73837),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(i.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function h(e){return c.test(e)&&!!u(e)}function p(e,t,r){if(!t){var i=Error("Missing algorithm parameter for jws.verify");throw i.code="MISSING_ALGORITHM",i}var n=d(e=o(e)),s=e.split(".",2).join(".");return a(t).verify(s,n,r)}function f(e,t){if(t=t||{},!h(e=o(e)))return null;var r,n,a=u(e);if(!a)return null;var s=(r=r||"utf8",n=e.split(".")[1],i.from(n,"base64").toString(r));return("JWT"===a.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:a,payload:s,signature:d(e)}}function m(e){var t=new n((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new n(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=p(this.signature.buffer,this.algorithm,this.key.buffer),t=f(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=f,m.isValid=h,m.verify=p,e.exports=m},20647:e=>{var t,r,i=1/0,n=0/0,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function d(e){return e!=e}var h=Object.prototype,p=h.hasOwnProperty,f=h.toString,m=h.propertyIsEnumerable,g=(t=Object.keys,r=Object,function(e){return t(r(e))}),y=Math.max,v=Array.isArray;function b(e){var t,r;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(r=w(e)?f.call(e):"")||"[object GeneratorFunction]"==r)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){return!!e&&"object"==typeof e}e.exports=function(e,t,r,_){e=b(e)?e:(x=e)?function(e,t){for(var r=-1,i=e?e.length:0,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}(b(x)?function(e,t){var r,i=v(e)||S(e)&&b(e)&&p.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==f.call(e))?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],n=i.length,a=!!n;for(var s in e)p.call(e,s)&&!(a&&("length"==s||(r=null==(r=n)?9007199254740991:r)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<r))&&i.push(s);return i}(x):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||h))return g(e);var t,r=[];for(var i in Object(e))p.call(e,i)&&"constructor"!=i&&r.push(i);return r}(x),function(e){return x[e]}):[],r=r&&!_?(C=(E=(k=r)?(k=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||S(t)&&"[object Symbol]"==f.call(t))return n;if(w(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=w(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var i=o.test(e);return i||l.test(e)?u(e.slice(2),i?2:8):s.test(e)?n:+e}(k))===i||k===-i?(k<0?-1:1)*17976931348623157e292:k==k?k:0:0===k?k:0)%1,E==E?C?E-C:E:0):0;var x,k,E,C,R,A=e.length;return r<0&&(r=y(A+r,0)),"string"==typeof(R=e)||!v(R)&&S(R)&&"[object String]"==f.call(R)?r<=A&&e.indexOf(t,r)>-1:!!A&&function(e,t,r){if(t!=t)return function(e,t,r,i){for(var n=e.length,a=r+(i?1:-1);i?a--:++a<n;)if(t(e[a],a,e))return a;return -1}(e,d,r);for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return -1}(e,t,r)>-1}},8376:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},11116:e=>{var t=1/0,r=0/0,i=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,d,h;return"number"==typeof e&&e==(h=(d=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):n.test(e)?r:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,d==d?h?d-h:d:0)}},84004:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},26216:e=>{var t,r,i=Object.prototype,n=Function.prototype.toString,a=i.hasOwnProperty,s=n.call(Object),o=i.toString,l=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var r=a.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&n.call(r)==s}},62265:e=>{var t=Object.prototype.toString,r=Array.isArray;e.exports=function(e){var i;return"string"==typeof e||!r(e)&&!!(i=e)&&"object"==typeof i&&"[object String]"==t.call(e)}},23963:e=>{var t=1/0,r=0/0,i=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var d,h,p,f;if("function"!=typeof u)throw TypeError("Expected a function");return f=(p=(h=e)?(h=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):n.test(e)?r:+e}(h))===t||h===-t?(h<0?-1:1)*17976931348623157e292:h==h?h:0:0===h?h:0)%1,e=p==p?f?p-f:p:0,function(){return--e>0&&(d=u.apply(this,arguments)),e<=1&&(u=void 0),d}}(2,e)}},88626:(e,t,r)=>{"use strict";function i(e){return e.toLowerCase()}r.d(t,{lowerCase:()=>i})},33382:e=>{"use strict";let t=e=>"object"==typeof e&&null!==e,r=Symbol("skip"),i=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),n=(e,t,a,s=new WeakMap)=>{if(a={deep:!1,target:{},...a},s.has(e))return s.get(e);s.set(e,a.target);let{target:o}=a;delete a.target;let l=e=>e.map(e=>i(e)?n(e,t,a,s):e);if(Array.isArray(e))return l(e);for(let[c,u]of Object.entries(e)){let d=t(c,u,e);if(d===r)continue;let[h,p,{shouldRecurse:f=!0}={}]=d;"__proto__"!==h&&(a.deep&&f&&i(p)&&(p=Array.isArray(p)?l(p):n(p,t,a,s)),o[h]=p)}return o};e.exports=(e,r,i)=>{if(!t(e))throw TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return n(e,r,i)},e.exports.mapObjectSkip=r},10573:e=>{"use strict";let t=e=>"object"==typeof e&&null!==e,r=Symbol("skip"),i=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),n=(e,t,a,s=new WeakMap)=>{if(a={deep:!1,target:{},...a},s.has(e))return s.get(e);s.set(e,a.target);let{target:o}=a;delete a.target;let l=e=>e.map(e=>i(e)?n(e,t,a,s):e);if(Array.isArray(e))return l(e);for(let[c,u]of Object.entries(e)){let d=t(c,u,e);if(d===r)continue;let[h,p,{shouldRecurse:f=!0}={}]=d;"__proto__"!==h&&(a.deep&&f&&i(p)&&(p=Array.isArray(p)?l(p):n(p,t,a,s)),o[h]=p)}return o};e.exports=(e,r,i)=>{if(!t(e))throw TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return n(e,r,i)},e.exports.mapObjectSkip=r},84158:e=>{function t(e,t,r,i){return Math.round(e/r)+" "+i+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var i,n,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===a&&isFinite(e))return r.long?(i=Math.abs(e))>=864e5?t(e,i,864e5,"day"):i>=36e5?t(e,i,36e5,"hour"):i>=6e4?t(e,i,6e4,"minute"):i>=1e3?t(e,i,1e3,"second"):e+" ms":(n=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":n>=36e5?Math.round(e/36e5)+"h":n>=6e4?Math.round(e/6e4)+"m":n>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},77949:(e,t,r)=>{"use strict";r.r(t);var i=r(15552),n={};for(let e in i)"default"!==e&&(n[e]=()=>i[e]);r.d(t,n)},7439:(e,t,r)=>{"use strict";r.r(t);var i=r(28290),n={};for(let e in i)"default"!==e&&(n[e]=()=>i[e]);r.d(t,n)},16274:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var i=r(48026),n=r.n(i)},52810:(e,t,r)=>{"use strict";r.r(t);var i=r(82472),n={};for(let e in i)"default"!==e&&(n[e]=()=>i[e]);r.d(t,n)},867:(e,t,r)=>{"use strict";r.r(t);var i=r(19738),n={};for(let e in i)"default"!==e&&(n[e]=()=>i[e]);r.d(t,n)},79351:(e,t,r)=>{"use strict";var i=r(59590);r.o(i,"NextRequest")&&r.d(t,{NextRequest:function(){return i.NextRequest}})},98984:(e,t,r)=>{"use strict";var i=r(39729);r.o(i,"NextRequest")&&r.d(t,{NextRequest:function(){return i.NextRequest}}),r.o(i,"NextResponse")&&r.d(t,{NextResponse:function(){return i.NextResponse}})},17824:(e,t)=>{"use strict";function r(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`);if("AsyncFunction"!==r.constructor.name){let e=r.name||"";throw Error(`A "use server" file can only export async functions.${e?` Found "${e}" that is not an async function.`:""}
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`)}}}Object.defineProperty(t,"ensureServerEntryExports",{enumerable:!0,get:function(){return r}})},86843:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createProxy",{enumerable:!0,get:function(){return i}});let i=r(18195).createClientModuleProxy},60398:(e,t,r)=>{"use strict";Object.defineProperty(t,"registerServerReference",{enumerable:!0,get:function(){return a}});let i=r(29489),n=Symbol.for("react.server.reference");function a(e,t){return t&&t.$$typeof===n?t:(0,i.registerServerReference)(t,e,null)}},77519:(e,t,r)=>{"use strict";let{createProxy:i}=r(86843);e.exports=i("C:\\Users\\FAST COMPUTER\\Desktop\\CN project\\nextjs-zoom-clone\\node_modules\\next\\dist\\client\\components\\app-router.js")},60418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bailoutToClientRendering",{enumerable:!0,get:function(){return a}});let i=r(86973),n=r(45869);function a(e){let t=n.staticGenerationAsyncStorage.getStore();if((null==t||!t.forceStatic)&&(null==t?void 0:t.isStaticGeneration))throw new i.BailoutToCSRError(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},34778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bailoutToClientRendering",{enumerable:!0,get:function(){return a}});let i=r(38675),n=r(45869);function a(e){let t=n.staticGenerationAsyncStorage.getStore();if((null==t||!t.forceStatic)&&(null==t?void 0:t.isStaticGeneration))throw new i.BailoutToCSRError(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},80570:(e,t,r)=>{"use strict";function i(e){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clientHookInServerComponentError",{enumerable:!0,get:function(){return i}}),r(67280),r(15028),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84552:(e,t,r)=>{"use strict";function i(e){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clientHookInServerComponentError",{enumerable:!0,get:function(){return i}}),r(46783),r(40002),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},44946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraftMode",{enumerable:!0,get:function(){return n}});let i=r(61066);class n{get isEnabled(){return this._provider.isEnabled}enable(){if(!(0,i.staticGenerationBailout)("draftMode().enable()"))return this._provider.enable()}disable(){if(!(0,i.staticGenerationBailout)("draftMode().disable()"))return this._provider.disable()}constructor(e){this._provider=e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},58284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraftMode",{enumerable:!0,get:function(){return n}});let i=r(72973);class n{get isEnabled(){return this._provider.isEnabled}enable(){if(!(0,i.staticGenerationBailout)("draftMode().enable()"))return this._provider.enable()}disable(){if(!(0,i.staticGenerationBailout)("draftMode().disable()"))return this._provider.disable()}constructor(e){this._provider=e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},62563:(e,t,r)=>{"use strict";let{createProxy:i}=r(86843);e.exports=i("C:\\Users\\FAST COMPUTER\\Desktop\\CN project\\nextjs-zoom-clone\\node_modules\\next\\dist\\client\\components\\error-boundary.js")},15552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{headers:function(){return u},cookies:function(){return d},draftMode:function(){return h}});let i=r(80224),n=r(45673),a=r(47429),s=r(54580),o=r(72934),l=r(61066),c=r(44946);function u(){if((0,l.staticGenerationBailout)("headers",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return n.HeadersAdapter.seal(new Headers({}));let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: headers() expects to have requestAsyncStorage, none available.");return e.headers}function d(){if((0,l.staticGenerationBailout)("cookies",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return i.RequestCookiesAdapter.seal(new a.RequestCookies(new Headers({})));let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: cookies() expects to have requestAsyncStorage, none available.");let t=o.actionAsyncStorage.getStore();return t&&(t.isAction||t.isAppRoute)?e.mutableCookies:e.cookies}function h(){let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: draftMode() expects to have requestAsyncStorage, none available.");return new c.DraftMode(e.draftMode)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},28290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{headers:function(){return u},cookies:function(){return d},draftMode:function(){return h}});let i=r(97366),n=r(3022),a=r(63608),s=r(54580),o=r(72934),l=r(72973),c=r(58284);function u(){if((0,l.staticGenerationBailout)("headers",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return n.HeadersAdapter.seal(new Headers({}));let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: headers() expects to have requestAsyncStorage, none available.");return e.headers}function d(){if((0,l.staticGenerationBailout)("cookies",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return i.RequestCookiesAdapter.seal(new a.RequestCookies(new Headers({})));let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: cookies() expects to have requestAsyncStorage, none available.");let t=o.actionAsyncStorage.getStore();return t&&(t.isAction||t.isAppRoute)?e.mutableCookies:e.cookies}function h(){let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: draftMode() expects to have requestAsyncStorage, none available.");return new c.DraftMode(e.draftMode)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},96740:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return i},isDynamicServerError:function(){return n}});let r="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},48096:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return i},isDynamicServerError:function(){return n}});let r="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72517:(e,t,r)=>{"use strict";let{createProxy:i}=r(86843);e.exports=i("C:\\Users\\FAST COMPUTER\\Desktop\\CN project\\nextjs-zoom-clone\\node_modules\\next\\dist\\client\\components\\layout-router.js")},82472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return f},useSearchParams:function(){return m},usePathname:function(){return g},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return c.useServerInsertedHTML},useRouter:function(){return y},useParams:function(){return v},useSelectedLayoutSegments:function(){return b},useSelectedLayoutSegment:function(){return w},redirect:function(){return u.redirect},permanentRedirect:function(){return u.permanentRedirect},RedirectType:function(){return u.RedirectType},notFound:function(){return d.notFound}});let i=r(15028),n=r(93425),a=r(64319),s=r(80570),o=r(79955),l=r(37924),c=r(33051),u=r(91993),d=r(43141),h=Symbol("internal for urlsearchparams readonly");function p(){return Error("ReadonlyURLSearchParams cannot be modified")}class f{[Symbol.iterator](){return this[h][Symbol.iterator]()}append(){throw p()}delete(){throw p()}set(){throw p()}sort(){throw p()}constructor(e){this[h]=e,this.entries=e.entries.bind(e),this.forEach=e.forEach.bind(e),this.get=e.get.bind(e),this.getAll=e.getAll.bind(e),this.has=e.has.bind(e),this.keys=e.keys.bind(e),this.values=e.values.bind(e),this.toString=e.toString.bind(e),this.size=e.size}}function m(){(0,s.clientHookInServerComponentError)("useSearchParams");let e=(0,i.useContext)(a.SearchParamsContext),t=(0,i.useMemo)(()=>e?new f(e):null,[e]);{let{bailoutToClientRendering:e}=r(60418);e("useSearchParams()")}return t}function g(){return(0,s.clientHookInServerComponentError)("usePathname"),(0,i.useContext)(a.PathnameContext)}function y(){(0,s.clientHookInServerComponentError)("useRouter");let e=(0,i.useContext)(n.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function v(){(0,s.clientHookInServerComponentError)("useParams");let e=(0,i.useContext)(n.GlobalLayoutRouterContext),t=(0,i.useContext)(a.PathParamsContext);return(0,i.useMemo)(()=>(null==e?void 0:e.tree)?function e(t,r){for(let i of(void 0===r&&(r={}),Object.values(t[1]))){let t=i[0],n=Array.isArray(t),a=n?t[1]:t;!a||a.startsWith(l.PAGE_SEGMENT_KEY)||(n&&("c"===t[2]||"oc"===t[2])?r[t[0]]=t[1].split("/"):n&&(r[t[0]]=t[1]),r=e(i,r))}return r}(e.tree):t,[null==e?void 0:e.tree,t])}function b(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:t}=(0,i.useContext)(n.LayoutRouterContext);return function e(t,r,i,n){let a;if(void 0===i&&(i=!0),void 0===n&&(n=[]),i)a=t[1][r];else{var s;let e=t[1];a=null!=(s=e.children)?s:Object.values(e)[0]}if(!a)return n;let c=a[0],u=(0,o.getSegmentValue)(c);return!u||u.startsWith(l.PAGE_SEGMENT_KEY)?n:(n.push(u),e(a,r,!1,n))}(t,e)}function w(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegment");let t=b(e);return 0===t.length?null:t[0]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return f},useSearchParams:function(){return m},usePathname:function(){return g},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return c.useServerInsertedHTML},useRouter:function(){return y},useParams:function(){return v},useSelectedLayoutSegments:function(){return b},useSelectedLayoutSegment:function(){return w},redirect:function(){return u.redirect},permanentRedirect:function(){return u.permanentRedirect},RedirectType:function(){return u.RedirectType},notFound:function(){return d.notFound}});let i=r(40002),n=r(78726),a=r(57210),s=r(84552),o=r(83092),l=r(65458),c=r(80545),u=r(8010),d=r(1988),h=Symbol("internal for urlsearchparams readonly");function p(){return Error("ReadonlyURLSearchParams cannot be modified")}class f{[Symbol.iterator](){return this[h][Symbol.iterator]()}append(){throw p()}delete(){throw p()}set(){throw p()}sort(){throw p()}constructor(e){this[h]=e,this.entries=e.entries.bind(e),this.forEach=e.forEach.bind(e),this.get=e.get.bind(e),this.getAll=e.getAll.bind(e),this.has=e.has.bind(e),this.keys=e.keys.bind(e),this.values=e.values.bind(e),this.toString=e.toString.bind(e),this.size=e.size}}function m(){(0,s.clientHookInServerComponentError)("useSearchParams");let e=(0,i.useContext)(a.SearchParamsContext),t=(0,i.useMemo)(()=>e?new f(e):null,[e]);{let{bailoutToClientRendering:e}=r(34778);e("useSearchParams()")}return t}function g(){return(0,s.clientHookInServerComponentError)("usePathname"),(0,i.useContext)(a.PathnameContext)}function y(){(0,s.clientHookInServerComponentError)("useRouter");let e=(0,i.useContext)(n.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function v(){(0,s.clientHookInServerComponentError)("useParams");let e=(0,i.useContext)(n.GlobalLayoutRouterContext),t=(0,i.useContext)(a.PathParamsContext);return(0,i.useMemo)(()=>(null==e?void 0:e.tree)?function e(t,r){for(let i of(void 0===r&&(r={}),Object.values(t[1]))){let t=i[0],n=Array.isArray(t),a=n?t[1]:t;!a||a.startsWith(l.PAGE_SEGMENT_KEY)||(n&&("c"===t[2]||"oc"===t[2])?r[t[0]]=t[1].split("/"):n&&(r[t[0]]=t[1]),r=e(i,r))}return r}(e.tree):t,[null==e?void 0:e.tree,t])}function b(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:t}=(0,i.useContext)(n.LayoutRouterContext);return function e(t,r,i,n){let a;if(void 0===i&&(i=!0),void 0===n&&(n=[]),i)a=t[1][r];else{var s;let e=t[1];a=null!=(s=e.children)?s:Object.values(e)[0]}if(!a)return n;let c=a[0],u=(0,o.getSegmentValue)(c);return!u||u.startsWith(l.PAGE_SEGMENT_KEY)?n:(n.push(u),e(a,r,!1,n))}(t,e)}function w(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegment");let t=b(e);return 0===t.length?null:t[0]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},31150:(e,t,r)=>{"use strict";let{createProxy:i}=r(86843);e.exports=i("C:\\Users\\FAST COMPUTER\\Desktop\\CN project\\nextjs-zoom-clone\\node_modules\\next\\dist\\client\\components\\not-found-boundary.js")},69361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}}),r(46783);let i=r(25036);r(40002);let n={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function a(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("title",{children:"404: This page could not be found."}),(0,i.jsx)("div",{style:n.error,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),(0,i.jsx)("h1",{className:"next-error-h1",style:n.h1,children:"404"}),(0,i.jsx)("div",{style:n.desc,children:(0,i.jsx)("h2",{style:n.h2,children:"This page could not be found."})})]})})]})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{notFound:function(){return i},isNotFoundError:function(){return n}});let r="NEXT_NOT_FOUND";function i(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{notFound:function(){return i},isNotFoundError:function(){return n}});let r="NEXT_NOT_FOUND";function i(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},67237:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},45858:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91993:(e,t,r)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return i},getRedirectError:function(){return l},redirect:function(){return c},permanentRedirect:function(){return u},isRedirectError:function(){return d},getURLFromRedirectError:function(){return h},getRedirectTypeFromError:function(){return p},getRedirectStatusCodeFromError:function(){return f}});let n=r(54580),a=r(72934),s=r(67237),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let i=Error(o);i.digest=o+";"+t+";"+e+";"+r+";";let a=n.requestAsyncStorage.getStore();return a&&(i.mutableCookies=a.mutableCookies),i}function c(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,i,n]=e.digest.split(";",4),a=Number(n);return t===o&&("replace"===r||"push"===r)&&"string"==typeof i&&!isNaN(a)&&a in s.RedirectStatusCode}function h(e){return d(e)?e.digest.split(";",3)[2]:null}function p(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(i||(i={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8010:(e,t,r)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return i},getRedirectError:function(){return l},redirect:function(){return c},permanentRedirect:function(){return u},isRedirectError:function(){return d},getURLFromRedirectError:function(){return h},getRedirectTypeFromError:function(){return p},getRedirectStatusCodeFromError:function(){return f}});let n=r(54580),a=r(72934),s=r(45858),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let i=Error(o);i.digest=o+";"+t+";"+e+";"+r+";";let a=n.requestAsyncStorage.getStore();return a&&(i.mutableCookies=a.mutableCookies),i}function c(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=a.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,i,n]=e.digest.split(";",4),a=Number(n);return t===o&&("replace"===r||"push"===r)&&"string"==typeof i&&!isNaN(a)&&a in s.RedirectStatusCode}function h(e){return d(e)?e.digest.split(";",3)[2]:null}function p(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(i||(i={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},80571:(e,t,r)=>{"use strict";let{createProxy:i}=r(86843);e.exports=i("C:\\Users\\FAST COMPUTER\\Desktop\\CN project\\nextjs-zoom-clone\\node_modules\\next\\dist\\client\\components\\render-from-template-context.js")},79955:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83092:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},88650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createSearchParamsBailoutProxy",{enumerable:!0,get:function(){return n}});let i=r(72973);function n(){return new Proxy({},{get(e,t){"string"==typeof t&&(0,i.staticGenerationBailout)("searchParams."+t)}})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isStaticGenBailoutError:function(){return o},staticGenerationBailout:function(){return c}});let i=r(96740),n=r(45869),a="NEXT_STATIC_GEN_BAILOUT";class s extends Error{constructor(...e){super(...e),this.code=a}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===a}function l(e,t){let{dynamic:r,link:i}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(i?" See more info here: "+i:"")}let c=(e,t)=>{let{dynamic:r,link:a}=void 0===t?{}:t,o=n.staticGenerationAsyncStorage.getStore();if(!o)return!1;if(o.forceStatic)return!0;if(o.dynamicShouldError)throw new s(l(e,{link:a,dynamic:null!=r?r:"error"}));let c=l(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==o.postpone||o.postpone.call(o,e),o.revalidate=0,o.isStaticGeneration){let t=new i.DynamicServerError(c);throw o.dynamicUsageDescription=e,o.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isStaticGenBailoutError:function(){return o},staticGenerationBailout:function(){return c}});let i=r(48096),n=r(45869),a="NEXT_STATIC_GEN_BAILOUT";class s extends Error{constructor(...e){super(...e),this.code=a}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===a}function l(e,t){let{dynamic:r,link:i}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(i?" See more info here: "+i:"")}let c=(e,t)=>{let{dynamic:r,link:a}=void 0===t?{}:t,o=n.staticGenerationAsyncStorage.getStore();if(!o)return!1;if(o.forceStatic)return!0;if(o.dynamicShouldError)throw new s(l(e,{link:a,dynamic:null!=r?r:"error"}));let c=l(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==o.postpone||o.postpone.call(o,e),o.revalidate=0,o.isStaticGeneration){let t=new i.DynamicServerError(c);throw o.dynamicUsageDescription=e,o.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2336:(e,t,r)=>{"use strict";let{createProxy:i}=r(86843);e.exports=i("C:\\Users\\FAST COMPUTER\\Desktop\\CN project\\nextjs-zoom-clone\\node_modules\\next\\dist\\client\\components\\static-generation-searchparams-bailout-provider.js")},48026:(e,t,r)=>{"use strict";let{createProxy:i}=r(86843);e.exports=i("C:\\Users\\FAST COMPUTER\\Desktop\\CN project\\nextjs-zoom-clone\\node_modules\\next\\dist\\client\\link.js")},97144:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,a={};function s(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[i,n]=[r.slice(0,e),r.slice(e+1)];try{t.set(i,decodeURIComponent(null!=n?n:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[i,n],...a]=o(e),{domain:s,expires:l,httponly:d,maxage:h,path:p,samesite:f,secure:m,priority:g}=Object.fromEntries(a.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:i,value:decodeURIComponent(n),domain:s,...l&&{expires:new Date(l)},...d&&{httpOnly:!0},..."string"==typeof h&&{maxAge:Number(h)},path:p,...f&&{sameSite:c.includes(t=(t=f).toLowerCase())?t:void 0},...m&&{secure:!0},...g&&{priority:u.includes(r=(r=g).toLowerCase())?r:void 0}})}((e,r)=>{for(var i in r)t(e,i,{get:r[i],enumerable:!0})})(a,{RequestCookies:()=>d,ResponseCookies:()=>h,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>s}),e.exports=((e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let s of i(a))n.call(e,s)||void 0===s||t(e,s,{get:()=>a[s],enumerable:!(o=r(a,s))||o.enumerable});return e})(t({},"__esModule",{value:!0}),a);var c=["strict","lax","none"],u=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(i).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},h=class{constructor(e){var t,r,i;this._parsed=new Map,this._headers=e;let n=null!=(i=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?i:[];for(let e of Array.isArray(n)?n:function(e){if(!e)return[];var t,r,i,n,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=n,s.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(n)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,r,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,n=this._parsed;return n.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...i})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=s(r);t.append("set-cookie",e)}}(n,this._headers),this}delete(...e){let[t,r,i]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:i,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},97347:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,a={};function s(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[i,n]=[r.slice(0,e),r.slice(e+1)];try{t.set(i,decodeURIComponent(null!=n?n:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[i,n],...a]=o(e),{domain:s,expires:l,httponly:d,maxage:h,path:p,samesite:f,secure:m,priority:g}=Object.fromEntries(a.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:i,value:decodeURIComponent(n),domain:s,...l&&{expires:new Date(l)},...d&&{httpOnly:!0},..."string"==typeof h&&{maxAge:Number(h)},path:p,...f&&{sameSite:c.includes(t=(t=f).toLowerCase())?t:void 0},...m&&{secure:!0},...g&&{priority:u.includes(r=(r=g).toLowerCase())?r:void 0}})}((e,r)=>{for(var i in r)t(e,i,{get:r[i],enumerable:!0})})(a,{RequestCookies:()=>d,ResponseCookies:()=>h,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>s}),e.exports=((e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let s of i(a))n.call(e,s)||void 0===s||t(e,s,{get:()=>a[s],enumerable:!(o=r(a,s))||o.enumerable});return e})(t({},"__esModule",{value:!0}),a);var c=["strict","lax","none"],u=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(i).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},h=class{constructor(e){var t,r,i;this._parsed=new Map,this._headers=e;let n=null!=(i=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?i:[];for(let e of Array.isArray(n)?n:function(e){if(!e)return[];var t,r,i,n,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=n,s.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(n)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,r,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,n=this._parsed;return n.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...i})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=s(r);t.append("set-cookie",e)}}(n,this._headers),this}delete(...e){let[t,r,i]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:i,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},78226:e=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let i=r(223),n=r(172),a=r(930),s="context",o=new i.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,n.registerGlobal)(s,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...i){return this._getContextManager().with(e,t,r,...i)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,n.getGlobal)(s)||o}disable(){this._getContextManager().disable(),(0,n.unregisterGlobal)(s,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let i=r(56),n=r(912),a=r(957),s=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,s.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var i,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(i=e.stack)&&void 0!==i?i:e.message),!1}"number"==typeof r&&(r={logLevel:r});let c=(0,s.getGlobal)("diag"),u=(0,n.createLogLevelDiagLogger)(null!==(o=r.logLevel)&&void 0!==o?o:a.DiagLogLevel.INFO,e);if(c&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";c.warn(`Current logger will be overwritten from ${e}`),u.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",u,t,!0)},t.disable=()=>{(0,s.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new i.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let i=r(660),n=r(172),a=r(930),s="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,n.registerGlobal)(s,e,a.DiagAPI.instance())}getMeterProvider(){return(0,n.getGlobal)(s)||i.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,n.unregisterGlobal)(s,a.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let i=r(172),n=r(874),a=r(194),s=r(277),o=r(369),l=r(930),c="propagation",u=new n.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,i.registerGlobal)(c,e,l.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,i.unregisterGlobal)(c,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,i.getGlobal)(c)||u}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let i=r(172),n=r(846),a=r(139),s=r(607),o=r(930),l="trace";class c{constructor(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalTracerProvider(e){let t=(0,i.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,i.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,i.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider}}t.TraceAPI=c},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let i=r(491),n=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(n)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(i.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(n,t)},t.deleteBaggage=function(e){return e.deleteValue(n)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let i=new r(this._entries);return i._entries.set(e,t),i}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let i=r(930),n=r(993),a=r(830),s=i.DiagAPI.instance();t.createBaggage=function(e={}){return new n.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let i=r(491);t.context=i.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let i=r(780);class n{active(){return i.ROOT_CONTEXT}with(e,t,r,...i){return t.call(r,...i)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=n},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,i)=>{let n=new r(t._currentContext);return n._currentContext.set(e,i),n},t.deleteValue=e=>{let i=new r(t._currentContext);return i._currentContext.delete(e),i}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let i=r(930);t.diag=i.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let i=r(172);class n{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return a("debug",this._namespace,e)}error(...e){return a("error",this._namespace,e)}info(...e){return a("info",this._namespace,e)}warn(...e){return a("warn",this._namespace,e)}verbose(...e){return a("verbose",this._namespace,e)}}function a(e,t,r){let n=(0,i.getGlobal)("diag");if(n)return r.unshift(t),n[e](...r)}t.DiagComponentLogger=n},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class i{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=i},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let i=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,i){let n=t[r];return"function"==typeof n&&e>=i?n.bind(t):function(){}}return e<i.DiagLogLevel.NONE?e=i.DiagLogLevel.NONE:e>i.DiagLogLevel.ALL&&(e=i.DiagLogLevel.ALL),t=t||{},{error:r("error",i.DiagLogLevel.ERROR),warn:r("warn",i.DiagLogLevel.WARN),info:r("info",i.DiagLogLevel.INFO),debug:r("debug",i.DiagLogLevel.DEBUG),verbose:r("verbose",i.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let i=r(200),n=r(521),a=r(130),s=n.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${s}`),l=i._globalThis;t.registerGlobal=function(e,t,r,i=!1){var a;let s=l[o]=null!==(a=l[o])&&void 0!==a?a:{version:n.VERSION};if(!i&&s[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(s.version!==n.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${n.VERSION}`);return r.error(t.stack||t.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${n.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let i=null===(t=l[o])||void 0===t?void 0:t.version;if(i&&(0,a.isCompatible)(i))return null===(r=l[o])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${n.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let i=r(521),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,i=e.match(n);if(!i)return()=>!1;let a={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=a.prerelease)return function(t){return t===e};function s(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let i=e.match(n);if(!i)return s(e);let o={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};return null!=o.prerelease||a.major!==o.major?s(e):0===a.major?a.minor===o.minor&&a.patch<=o.patch?(t.add(e),!0):s(e):a.minor<=o.minor?(t.add(e),!0):s(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(i.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let i=r(653);t.metrics=i.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class i{}t.NoopMetric=i;class n extends i{add(e,t){}}t.NoopCounterMetric=n;class a extends i{add(e,t){}}t.NoopUpDownCounterMetric=a;class s extends i{record(e,t){}}t.NoopHistogramMetric=s;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class c extends o{}t.NoopObservableGaugeMetric=c;class u extends o{}t.NoopObservableUpDownCounterMetric=u,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new n,t.NOOP_HISTOGRAM_METRIC=new s,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new c,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let i=r(102);class n{getMeter(e,t,r){return i.NOOP_METER}}t.NoopMeterProvider=n,t.NOOP_METER_PROVIDER=new n},200:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let i=r(181);t.propagation=i.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let i=r(997);t.trace=i.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let i=r(476);class n{constructor(e=i.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=n},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let i=r(491),n=r(607),a=r(403),s=r(139),o=i.ContextAPI.getInstance();class l{startSpan(e,t,r=o.active()){if(null==t?void 0:t.root)return new a.NonRecordingSpan;let i=r&&(0,n.getSpanContext)(r);return"object"==typeof i&&"string"==typeof i.spanId&&"string"==typeof i.traceId&&"number"==typeof i.traceFlags&&(0,s.isSpanContextValid)(i)?new a.NonRecordingSpan(i):new a.NonRecordingSpan}startActiveSpan(e,t,r,i){let a,s,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=r):(a=t,s=r,l=i);let c=null!=s?s:o.active(),u=this.startSpan(e,a,c),d=(0,n.setSpan)(c,u);return o.with(d,l,void 0,u)}}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let i=r(614);class n{getTracer(e,t,r){return new i.NoopTracer}}t.NoopTracerProvider=n},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let i=new(r(614)).NoopTracer;class n{constructor(e,t,r,i){this._provider=e,this.name=t,this.version=r,this.options=i}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,i){let n=this._getTracer();return Reflect.apply(n.startActiveSpan,n,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):i}}t.ProxyTracer=n},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let i=r(125),n=new(r(124)).NoopTracerProvider;class a{getTracer(e,t,r){var n;return null!==(n=this.getDelegateTracer(e,t,r))&&void 0!==n?n:new i.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:n}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var i;return null===(i=this._delegate)||void 0===i?void 0:i.getTracer(e,t,r)}}t.ProxyTracerProvider=a},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let i=r(780),n=r(403),a=r(491),s=(0,i.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(s)||void 0}function l(e,t){return e.setValue(s,t)}t.getSpan=o,t.getActiveSpan=function(){return o(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(s)},t.setSpanContext=function(e,t){return l(e,new n.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let i=r(564);class n{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),n=r.indexOf("=");if(-1!==n){let a=r.slice(0,n),s=r.slice(n+1,t.length);(0,i.validateKey)(a)&&(0,i.validateValue)(s)&&e.set(a,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new n;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=n},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",i=`[a-z]${r}{0,255}`,n=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${i}|${n})$`),s=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return s.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let i=r(325);t.createTraceState=function(e){return new i.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let i=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:i.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let i=r(476),n=r(403),a=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function o(e){return a.test(e)&&e!==i.INVALID_TRACEID}function l(e){return s.test(e)&&e!==i.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},s=!0;try{t[e].call(a.exports,a,a.exports,i),s=!1}finally{s&&delete r[e]}return a.exports}i.ab=__dirname+"/";var n={};(()=>{Object.defineProperty(n,"__esModule",{value:!0}),n.trace=n.propagation=n.metrics=n.diag=n.context=n.INVALID_SPAN_CONTEXT=n.INVALID_TRACEID=n.INVALID_SPANID=n.isValidSpanId=n.isValidTraceId=n.isSpanContextValid=n.createTraceState=n.TraceFlags=n.SpanStatusCode=n.SpanKind=n.SamplingDecision=n.ProxyTracerProvider=n.ProxyTracer=n.defaultTextMapSetter=n.defaultTextMapGetter=n.ValueType=n.createNoopMeter=n.DiagLogLevel=n.DiagConsoleLogger=n.ROOT_CONTEXT=n.createContextKey=n.baggageEntryMetadataFromString=void 0;var e=i(369);Object.defineProperty(n,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=i(780);Object.defineProperty(n,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(n,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=i(972);Object.defineProperty(n,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var a=i(957);Object.defineProperty(n,"DiagLogLevel",{enumerable:!0,get:function(){return a.DiagLogLevel}});var s=i(102);Object.defineProperty(n,"createNoopMeter",{enumerable:!0,get:function(){return s.createNoopMeter}});var o=i(901);Object.defineProperty(n,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var l=i(194);Object.defineProperty(n,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(n,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var c=i(125);Object.defineProperty(n,"ProxyTracer",{enumerable:!0,get:function(){return c.ProxyTracer}});var u=i(846);Object.defineProperty(n,"ProxyTracerProvider",{enumerable:!0,get:function(){return u.ProxyTracerProvider}});var d=i(996);Object.defineProperty(n,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var h=i(357);Object.defineProperty(n,"SpanKind",{enumerable:!0,get:function(){return h.SpanKind}});var p=i(847);Object.defineProperty(n,"SpanStatusCode",{enumerable:!0,get:function(){return p.SpanStatusCode}});var f=i(475);Object.defineProperty(n,"TraceFlags",{enumerable:!0,get:function(){return f.TraceFlags}});var m=i(98);Object.defineProperty(n,"createTraceState",{enumerable:!0,get:function(){return m.createTraceState}});var g=i(139);Object.defineProperty(n,"isSpanContextValid",{enumerable:!0,get:function(){return g.isSpanContextValid}}),Object.defineProperty(n,"isValidTraceId",{enumerable:!0,get:function(){return g.isValidTraceId}}),Object.defineProperty(n,"isValidSpanId",{enumerable:!0,get:function(){return g.isValidSpanId}});var y=i(476);Object.defineProperty(n,"INVALID_SPANID",{enumerable:!0,get:function(){return y.INVALID_SPANID}}),Object.defineProperty(n,"INVALID_TRACEID",{enumerable:!0,get:function(){return y.INVALID_TRACEID}}),Object.defineProperty(n,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return y.INVALID_SPAN_CONTEXT}});let v=i(67);Object.defineProperty(n,"context",{enumerable:!0,get:function(){return v.context}});let b=i(506);Object.defineProperty(n,"diag",{enumerable:!0,get:function(){return b.diag}});let w=i(886);Object.defineProperty(n,"metrics",{enumerable:!0,get:function(){return w.metrics}});let S=i(939);Object.defineProperty(n,"propagation",{enumerable:!0,get:function(){return S.propagation}});let _=i(845);Object.defineProperty(n,"trace",{enumerable:!0,get:function(){return _.trace}}),n.default={context:v.context,diag:b.diag,metrics:w.metrics,propagation:S.propagation,trace:_.trace}})(),e.exports=n})()},98739:(e,t,r)=>{"use strict";var i=r(62168),n=r(15028),a={stream:!0},s=new Map;function o(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function l(){}var c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,u=Symbol.for("react.element"),d=Symbol.for("react.provider"),h=Symbol.for("react.server_context"),p=Symbol.for("react.lazy"),f=Symbol.for("react.default_value"),m=Symbol.iterator,g=Array.isArray,y=Object.getPrototypeOf,v=Object.prototype,b=new WeakMap;function w(e,t,r,i){var n=1,a=0,s=null;e=JSON.stringify(e,function e(o,l){if(null===l)return null;if("object"==typeof l){if("function"==typeof l.then){null===s&&(s=new FormData),a++;var c,u,d=n++;return l.then(function(i){i=JSON.stringify(i,e);var n=s;n.append(t+d,i),0==--a&&r(n)},function(e){i(e)}),"$@"+d.toString(16)}if(g(l))return l;if(l instanceof FormData){null===s&&(s=new FormData);var h=s,p=t+(o=n++)+"_";return l.forEach(function(e,t){h.append(p+t,e)}),"$K"+o.toString(16)}if(l instanceof Map)return l=JSON.stringify(Array.from(l),e),null===s&&(s=new FormData),o=n++,s.append(t+o,l),"$Q"+o.toString(16);if(l instanceof Set)return l=JSON.stringify(Array.from(l),e),null===s&&(s=new FormData),o=n++,s.append(t+o,l),"$W"+o.toString(16);if(null===(u=l)||"object"!=typeof u?null:"function"==typeof(u=m&&u[m]||u["@@iterator"])?u:null)return Array.from(l);if((o=y(l))!==v&&(null===o||null!==y(o)))throw Error("Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported.");return l}if("string"==typeof l)return"Z"===l[l.length-1]&&this[o]instanceof Date?"$D"+l:l="$"===l[0]?"$"+l:l;if("boolean"==typeof l)return l;if("number"==typeof l)return Number.isFinite(c=l)?0===c&&-1/0==1/c?"$-0":c:1/0===c?"$Infinity":-1/0===c?"$-Infinity":"$NaN";if(void 0===l)return"$undefined";if("function"==typeof l){if(void 0!==(l=b.get(l)))return l=JSON.stringify(l,e),null===s&&(s=new FormData),o=n++,s.set(t+o,l),"$F"+o.toString(16);throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof l){if(Symbol.for(o=l.description)!==l)throw Error("Only global symbols received from Symbol.for(...) can be passed to Server Functions. The symbol Symbol.for("+l.description+") cannot be found among global symbols.");return"$S"+o}if("bigint"==typeof l)return"$n"+l.toString(10);throw Error("Type "+typeof l+" is not supported as an argument to a Server Function.")}),null===s?r(e):(s.set(t+"0",e),0===a&&r(s))}var S=new WeakMap;function _(e){var t=b.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var r=null;if(null!==t.bound){if((r=S.get(t))||(i=t,s=new Promise(function(e,t){n=e,a=t}),w(i,"",function(e){if("string"==typeof e){var t=new FormData;t.append("0",e),e=t}s.status="fulfilled",s.value=e,n(e)},function(e){s.status="rejected",s.reason=e,a(e)}),r=s,S.set(t,r)),"rejected"===r.status)throw r.reason;if("fulfilled"!==r.status)throw r;t=r.value;var i,n,a,s,o=new FormData;t.forEach(function(t,r){o.append("$ACTION_"+e+":"+r,t)}),r=o,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:r}}function x(e,t){var r=b.get(this);if(!r)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(r.id!==e)return!1;var i=r.bound;if(null===i)return 0===t;switch(i.status){case"fulfilled":return i.value.length===t;case"pending":throw i;case"rejected":throw i.reason;default:throw"string"!=typeof i.status&&(i.status="pending",i.then(function(e){i.status="fulfilled",i.value=e},function(e){i.status="rejected",i.reason=e})),i}}function k(e,t){Object.defineProperties(e,{$$FORM_ACTION:{value:_},$$IS_SIGNATURE_EQUAL:{value:x},bind:{value:R}}),b.set(e,t)}var E=Function.prototype.bind,C=Array.prototype.slice;function R(){var e=E.apply(this,arguments),t=b.get(this);if(t){var r=C.call(arguments,1),i=null;i=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(r)}):Promise.resolve(r),k(e,{id:t.id,bound:i})}return e}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ContextRegistry;function T(e,t,r,i){this.status=e,this.value=t,this.reason=r,this._response=i}function P(e){switch(e.status){case"resolved_model":L(e);break;case"resolved_module":M(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":throw e;default:throw e.reason}}function O(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function I(e,t,r){switch(e.status){case"fulfilled":O(t,e.value);break;case"pending":case"blocked":case"cyclic":e.value=t,e.reason=r;break;case"rejected":r&&O(r,e.reason)}}function N(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.reason;e.status="rejected",e.reason=t,null!==r&&O(r,t)}}function j(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.value,i=e.reason;e.status="resolved_module",e.value=t,null!==r&&(M(e),I(e,r,i))}}T.prototype=Object.create(Promise.prototype),T.prototype.then=function(e,t){switch(this.status){case"resolved_model":L(this);break;case"resolved_module":M(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":case"cyclic":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var B=null,U=null;function L(e){var t=B,r=U;B=e,U=null;var i=e.value;e.status="cyclic",e.value=null,e.reason=null;try{var n=JSON.parse(i,e._response._fromJSON);if(null!==U&&0<U.deps)U.value=n,e.status="blocked",e.value=null,e.reason=null;else{var a=e.value;e.status="fulfilled",e.value=n,null!==a&&O(a,n)}}catch(t){e.status="rejected",e.reason=t}finally{B=t,U=r}}function M(e){try{var t=e.value,r=globalThis.__next_require__(t[0]);if(4===t.length&&"function"==typeof r.then){if("fulfilled"===r.status)r=r.value;else throw r.reason}var i="*"===t[2]?r:""===t[2]?r.__esModule?r.default:r:r[t[2]];e.status="fulfilled",e.value=i}catch(t){e.status="rejected",e.reason=t}}function D(e,t){e._chunks.forEach(function(e){"pending"===e.status&&N(e,t)})}function K(e,t){var r=e._chunks,i=r.get(t);return i||(i=new T("pending",null,null,e),r.set(t,i)),i}function q(e,t){if("resolved_model"===(e=K(e,t)).status&&L(e),"fulfilled"===e.status)return e.value;throw e.reason}function $(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function F(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function z(e){var t,r=e.ssrManifest.moduleMap;return(r={_bundlerConfig:r,_moduleLoading:e.ssrManifest.moduleLoading,_callServer:void 0!==F?F:$,_nonce:e="string"==typeof e.nonce?e.nonce:void 0,_chunks:new Map,_stringDecoder:new TextDecoder,_fromJSON:null,_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]})._fromJSON=(t=r,function(e,r){return"string"==typeof r?function(e,t,r,i){if("$"===i[0]){if("$"===i)return u;switch(i[1]){case"$":return i.slice(1);case"L":return{$$typeof:p,_payload:e=K(e,t=parseInt(i.slice(2),16)),_init:P};case"@":return K(e,t=parseInt(i.slice(2),16));case"S":return Symbol.for(i.slice(2));case"P":return A[e=i.slice(2)]||((t={$$typeof:h,_currentValue:f,_currentValue2:f,_defaultValue:f,_threadCount:0,Provider:null,Consumer:null,_globalName:e}).Provider={$$typeof:d,_context:t},A[e]=t),A[e].Provider;case"F":return t=q(e,t=parseInt(i.slice(2),16)),function(e,t){function r(){var e=Array.prototype.slice.call(arguments),r=t.bound;return r?"fulfilled"===r.status?i(t.id,r.value.concat(e)):Promise.resolve(r).then(function(r){return i(t.id,r.concat(e))}):i(t.id,e)}var i=e._callServer;return k(r,t),r}(e,t);case"Q":return e=q(e,t=parseInt(i.slice(2),16)),new Map(e);case"W":return e=q(e,t=parseInt(i.slice(2),16)),new Set(e);case"I":return 1/0;case"-":return"$-0"===i?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(i.slice(2)));case"n":return BigInt(i.slice(2));default:switch((e=K(e,i=parseInt(i.slice(1),16))).status){case"resolved_model":L(e);break;case"resolved_module":M(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":var n;return i=B,e.then(function(e,t,r,i){if(U){var n=U;i||n.deps++}else n=U={deps:i?0:1,value:null};return function(i){t[r]=i,n.deps--,0===n.deps&&"blocked"===e.status&&(i=e.value,e.status="fulfilled",e.value=n.value,null!==i&&O(i,n.value))}}(i,t,r,"cyclic"===e.status),(n=i,function(e){return N(n,e)})),null;default:throw e.reason}}}return i}(t,this,e,r):"object"==typeof r&&null!==r?e=r[0]===u?{$$typeof:u,type:r[1],key:r[2],ref:null,props:r[3],_owner:null}:r:r}),r}function V(e,t){function i(t){D(e,t)}var n=t.getReader();n.read().then(function t(u){var d=u.value;if(u.done)D(e,Error("Connection closed."));else{var h=0,p=e._rowState,f=e._rowID,m=e._rowTag,g=e._rowLength;u=e._buffer;for(var y=d.length;h<y;){var v=-1;switch(p){case 0:58===(v=d[h++])?p=1:f=f<<4|(96<v?v-87:v-48);continue;case 1:84===(p=d[h])?(m=p,p=2,h++):64<p&&91>p?(m=p,p=3,h++):(m=0,p=3);continue;case 2:44===(v=d[h++])?p=4:g=g<<4|(96<v?v-87:v-48);continue;case 3:v=d.indexOf(10,h);break;case 4:(v=h+g)>d.length&&(v=-1)}var b=d.byteOffset+h;if(-1<v){h=new Uint8Array(d.buffer,b,v-h),g=e,b=m;var w=g._stringDecoder;m="";for(var S=0;S<u.length;S++)m+=w.decode(u[S],a);switch(m+=w.decode(h),b){case 73:!function(e,t,i){var n=e._chunks,a=n.get(t);i=JSON.parse(i,e._fromJSON);var u=function(e,t){if(e){var r=e[t[0]];if(e=r[t[2]])r=e.name;else{if(!(e=r["*"]))throw Error('Could not find the module "'+t[0]+'" in the React SSR Manifest. This is probably a bug in the React Server Components bundler.');r=t[2]}return 4===t.length?[e.id,e.chunks,r,1]:[e.id,e.chunks,r]}return t}(e._bundlerConfig,i);if(function(e,t,r){if(null!==e)for(var i=1;i<t.length;i+=2){var n=c.current;if(n){var a=n.preinitScript,s=e.prefix+t[i],o=e.crossOrigin;o="string"==typeof o?"use-credentials"===o?o:"":void 0,a.call(n,s,{crossOrigin:o,nonce:r})}}}(e._moduleLoading,i[1],e._nonce),i=function(e){for(var t=e[1],i=[],n=0;n<t.length;){var a=t[n++];t[n++];var c=s.get(a);if(void 0===c){c=r.e(a),i.push(c);var u=s.set.bind(s,a,null);c.then(u,l),s.set(a,c)}else null!==c&&i.push(c)}return 4===e.length?0===i.length?o(e[0]):Promise.all(i).then(function(){return o(e[0])}):0<i.length?Promise.all(i):null}(u)){if(a){var d=a;d.status="blocked"}else d=new T("blocked",null,null,e),n.set(t,d);i.then(function(){return j(d,u)},function(e){return N(d,e)})}else a?j(a,u):n.set(t,new T("resolved_module",u,null,e))}(g,f,m);break;case 72:if(f=m[0],g=JSON.parse(m=m.slice(1),g._fromJSON),m=c.current)switch(f){case"D":m.prefetchDNS(g);break;case"C":"string"==typeof g?m.preconnect(g):m.preconnect(g[0],g[1]);break;case"L":f=g[0],h=g[1],3===g.length?m.preload(f,h,g[2]):m.preload(f,h);break;case"m":"string"==typeof g?m.preloadModule(g):m.preloadModule(g[0],g[1]);break;case"S":"string"==typeof g?m.preinitStyle(g):m.preinitStyle(g[0],0===g[1]?void 0:g[1],3===g.length?g[2]:void 0);break;case"X":"string"==typeof g?m.preinitScript(g):m.preinitScript(g[0],g[1]);break;case"M":"string"==typeof g?m.preinitModuleScript(g):m.preinitModuleScript(g[0],g[1])}break;case 69:h=(m=JSON.parse(m)).digest,(m=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.")).stack="Error: "+m.message,m.digest=h,(b=(h=g._chunks).get(f))?N(b,m):h.set(f,new T("rejected",null,m,g));break;case 84:g._chunks.set(f,new T("fulfilled",m,null,g));break;default:(b=(h=g._chunks).get(f))?(g=b,f=m,"pending"===g.status&&(m=g.value,h=g.reason,g.status="resolved_model",g.value=f,null!==m&&(L(g),I(g,m,h)))):h.set(f,new T("resolved_model",m,null,g))}h=v,3===p&&h++,g=f=m=p=0,u.length=0}else{d=new Uint8Array(d.buffer,b,d.byteLength-h),u.push(d),g-=d.byteLength;break}}return e._rowState=p,e._rowID=f,e._rowTag=m,e._rowLength=g,n.read().then(t).catch(i)}}).catch(i)}t.createFromFetch=function(e,t){var r=z(t);return e.then(function(e){V(r,e.body)},function(e){D(r,e)}),K(r,0)},t.createFromReadableStream=function(e,t){return V(t=z(t),e),K(t,0)},t.createServerReference=function(e){return function(e,t){function r(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return k(r,{id:e,bound:null}),r}(e,F)},t.encodeReply=function(e){return new Promise(function(t,r){w(e,"",t,r)})}},51002:(e,t,r)=>{"use strict";e.exports=r(98739)},62511:()=>{},70168:(e,t,r)=>{var i;(()=>{var n={226:function(n,a){!function(s,o){"use strict";var l="function",c="undefined",u="object",d="string",h="major",p="model",f="name",m="type",g="vendor",y="version",v="architecture",b="console",w="mobile",S="tablet",_="smarttv",x="wearable",k="embedded",E="Amazon",C="Apple",R="ASUS",A="BlackBerry",T="Browser",P="Chrome",O="Firefox",I="Google",N="Huawei",j="Microsoft",B="Motorola",U="Opera",L="Samsung",M="Sharp",D="Sony",K="Xiaomi",q="Zebra",$="Facebook",F="Chromium OS",z="Mac OS",V=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},H=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===d&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===c?e:e.substring(0,350)},Y=function(e,t){for(var r,i,n,a,s,c,d=0;d<t.length&&!s;){var h=t[d],p=t[d+1];for(r=i=0;r<h.length&&!s&&h[r];)if(s=h[r++].exec(e))for(n=0;n<p.length;n++)c=s[++i],typeof(a=p[n])===u&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):o:this[a[0]]=c?a[1].call(this,c,a[2]):o:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):o):this[a]=c||o;d+=2}},X=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(W(t[r][i],e))return"?"===r?o:r}else if(W(t[r],e))return"?"===r?o:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,y],[/opios[\/ ]+([\w\.]+)/i],[y,[f,U+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[f,U]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[f,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+T],y],[/\bfocus\/([\w\.]+)/i],[y,[f,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[f,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[f,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[f,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[y,[f,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+T]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+T],y],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,$],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[f,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,P+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[f,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[y,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[f,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,y],[/(cobalt)\/([\w\.]+)/i],[f,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,G]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[g,L],[m,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[g,L],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[g,C],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[g,C],[m,S]],[/(macintosh);/i],[p,[g,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[g,M],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[g,N],[m,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[g,N],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[g,K],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[g,K],[m,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[g,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[g,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[g,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[g,B],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[g,B],[m,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[g,"LG"],[m,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[g,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[g,"Lenovo"],[m,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[g,"Nokia"],[m,w]],[/(pixel c)\b/i],[p,[g,I],[m,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[g,I],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[g,D],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[g,D],[m,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[g,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[g,E],[m,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[g,E],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[p,g,[m,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[g,A],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[g,R],[m,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[g,R],[m,w]],[/(nexus 9)/i],[p,[g,"HTC"],[m,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[p,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[g,"Acer"],[m,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[g,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,p,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,p,[m,S]],[/(surface duo)/i],[p,[g,j],[m,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[g,"Fairphone"],[m,w]],[/(u304aa)/i],[p,[g,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[p,[g,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[p,[g,"RCA"],[m,S]],[/\b(venue[\d ]{2,7}) b/i],[p,[g,"Dell"],[m,S]],[/\b(q(?:mv|ta)\w+) b/i],[p,[g,"Verizon"],[m,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[g,"Barnes & Noble"],[m,S]],[/\b(tm\d{3}\w+) b/i],[p,[g,"NuVision"],[m,S]],[/\b(k88) b/i],[p,[g,"ZTE"],[m,S]],[/\b(nx\d{3}j) b/i],[p,[g,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[p,[g,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[p,[g,"Swiss"],[m,S]],[/\b((zeki)?tb.*\b) b/i],[p,[g,"Zeki"],[m,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],p,[m,S]],[/\b(ns-?\w{0,9}) b/i],[p,[g,"Insignia"],[m,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[g,"NextBook"],[m,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],p,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],p,[m,w]],[/\b(ph-1) /i],[p,[g,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[g,"Envizen"],[m,S]],[/\b(trio[-\w\. ]+) b/i],[p,[g,"MachSpeed"],[m,S]],[/\btu_(1491) b/i],[p,[g,"Rotor"],[m,S]],[/(shield[\w ]+) b/i],[p,[g,"Nvidia"],[m,S]],[/(sprint) (\w+)/i],[g,p,[m,w]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[g,j],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[g,q],[m,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[g,q],[m,w]],[/smart-tv.+(samsung)/i],[g,[m,_]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[g,L],[m,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,_]],[/(apple) ?tv/i],[g,[p,C+" TV"],[m,_]],[/crkey/i],[[p,P+"cast"],[g,I],[m,_]],[/droid.+aft(\w)( bui|\))/i],[p,[g,E],[m,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[g,M],[m,_]],[/(bravia[\w ]+)( bui|\))/i],[p,[g,D],[m,_]],[/(mitv-\w{5}) bui/i],[p,[g,K],[m,_]],[/Hbbtv.*(technisat) (.*);/i],[g,p,[m,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,J],[p,J],[m,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,p,[m,b]],[/droid.+; (shield) bui/i],[p,[g,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[p,[g,D],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[g,j],[m,b]],[/((pebble))app/i],[g,p,[m,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[g,C],[m,x]],[/droid.+; (glass) \d/i],[p,[g,I],[m,x]],[/droid.+; (wt63?0{2,3})\)/i],[p,[g,q],[m,x]],[/(quest( 2| pro)?)/i],[p,[g,$],[m,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,k]],[/(aeobc)\b/i],[p,[g,E],[m,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[m,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[y,X,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[y,X,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,z],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,y],[/\(bb(10);/i],[y,[f,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[f,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[f,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,F],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,y],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,y]]},ee=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof s!==c&&s.navigator?s.navigator:o,i=e||(r&&r.userAgent?r.userAgent:""),n=r&&r.userAgentData?r.userAgentData:o,a=t?V(Z,t):Z,b=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[f]=o,t[y]=o,Y.call(t,i,a.browser),t[h]=typeof(e=t[y])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,b&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[v]=o,Y.call(e,i,a.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[p]=o,e[m]=o,Y.call(e,i,a.device),b&&!e[m]&&n&&n.mobile&&(e[m]=w),b&&"Macintosh"==e[p]&&r&&typeof r.standalone!==c&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[p]="iPad",e[m]=S),e},this.getEngine=function(){var e={};return e[f]=o,e[y]=o,Y.call(e,i,a.engine),e},this.getOS=function(){var e={};return e[f]=o,e[y]=o,Y.call(e,i,a.os),b&&!e[f]&&n&&"Unknown"!=n.platform&&(e[f]=n.platform.replace(/chrome os/i,F).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===d&&e.length>350?J(e,350):e,this},this.setUA(i),this};ee.VERSION="1.0.35",ee.BROWSER=H([f,y,h]),ee.CPU=H([v]),ee.DEVICE=H([p,g,m,b,w,_,S,x,k]),ee.ENGINE=ee.OS=H([f,y]),typeof a!==c?(n.exports&&(a=n.exports=ee),a.UAParser=ee):r.amdO?void 0!==(i=(function(){return ee}).call(t,r,t,e))&&(e.exports=i):typeof s!==c&&(s.UAParser=ee);var et=typeof s!==c&&(s.jQuery||s.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},i=!0;try{n[e].call(r.exports,r,r.exports,s),i=!1}finally{i&&delete a[e]}return r.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},42881:(e,t,r)=>{var i;(()=>{var n={226:function(n,a){!function(s,o){"use strict";var l="function",c="undefined",u="object",d="string",h="major",p="model",f="name",m="type",g="vendor",y="version",v="architecture",b="console",w="mobile",S="tablet",_="smarttv",x="wearable",k="embedded",E="Amazon",C="Apple",R="ASUS",A="BlackBerry",T="Browser",P="Chrome",O="Firefox",I="Google",N="Huawei",j="Microsoft",B="Motorola",U="Opera",L="Samsung",M="Sharp",D="Sony",K="Xiaomi",q="Zebra",$="Facebook",F="Chromium OS",z="Mac OS",V=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},H=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===d&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===c?e:e.substring(0,350)},Y=function(e,t){for(var r,i,n,a,s,c,d=0;d<t.length&&!s;){var h=t[d],p=t[d+1];for(r=i=0;r<h.length&&!s&&h[r];)if(s=h[r++].exec(e))for(n=0;n<p.length;n++)c=s[++i],typeof(a=p[n])===u&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):o:this[a[0]]=c?a[1].call(this,c,a[2]):o:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):o):this[a]=c||o;d+=2}},X=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(W(t[r][i],e))return"?"===r?o:r}else if(W(t[r],e))return"?"===r?o:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,y],[/opios[\/ ]+([\w\.]+)/i],[y,[f,U+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[f,U]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[f,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+T],y],[/\bfocus\/([\w\.]+)/i],[y,[f,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[f,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[f,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[f,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[y,[f,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+T]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+T],y],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,$],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[f,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,P+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[f,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[y,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[f,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,y],[/(cobalt)\/([\w\.]+)/i],[f,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,G]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[g,L],[m,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[g,L],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[g,C],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[g,C],[m,S]],[/(macintosh);/i],[p,[g,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[g,M],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[g,N],[m,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[g,N],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[g,K],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[g,K],[m,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[g,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[g,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[g,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[g,B],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[g,B],[m,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[g,"LG"],[m,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[g,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[g,"Lenovo"],[m,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[g,"Nokia"],[m,w]],[/(pixel c)\b/i],[p,[g,I],[m,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[g,I],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[g,D],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[g,D],[m,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[g,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[g,E],[m,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[g,E],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[p,g,[m,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[g,A],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[g,R],[m,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[g,R],[m,w]],[/(nexus 9)/i],[p,[g,"HTC"],[m,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[p,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[g,"Acer"],[m,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[g,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,p,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,p,[m,S]],[/(surface duo)/i],[p,[g,j],[m,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[g,"Fairphone"],[m,w]],[/(u304aa)/i],[p,[g,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[p,[g,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[p,[g,"RCA"],[m,S]],[/\b(venue[\d ]{2,7}) b/i],[p,[g,"Dell"],[m,S]],[/\b(q(?:mv|ta)\w+) b/i],[p,[g,"Verizon"],[m,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[g,"Barnes & Noble"],[m,S]],[/\b(tm\d{3}\w+) b/i],[p,[g,"NuVision"],[m,S]],[/\b(k88) b/i],[p,[g,"ZTE"],[m,S]],[/\b(nx\d{3}j) b/i],[p,[g,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[p,[g,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[p,[g,"Swiss"],[m,S]],[/\b((zeki)?tb.*\b) b/i],[p,[g,"Zeki"],[m,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],p,[m,S]],[/\b(ns-?\w{0,9}) b/i],[p,[g,"Insignia"],[m,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[g,"NextBook"],[m,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],p,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],p,[m,w]],[/\b(ph-1) /i],[p,[g,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[g,"Envizen"],[m,S]],[/\b(trio[-\w\. ]+) b/i],[p,[g,"MachSpeed"],[m,S]],[/\btu_(1491) b/i],[p,[g,"Rotor"],[m,S]],[/(shield[\w ]+) b/i],[p,[g,"Nvidia"],[m,S]],[/(sprint) (\w+)/i],[g,p,[m,w]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[g,j],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[g,q],[m,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[g,q],[m,w]],[/smart-tv.+(samsung)/i],[g,[m,_]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[g,L],[m,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,_]],[/(apple) ?tv/i],[g,[p,C+" TV"],[m,_]],[/crkey/i],[[p,P+"cast"],[g,I],[m,_]],[/droid.+aft(\w)( bui|\))/i],[p,[g,E],[m,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[g,M],[m,_]],[/(bravia[\w ]+)( bui|\))/i],[p,[g,D],[m,_]],[/(mitv-\w{5}) bui/i],[p,[g,K],[m,_]],[/Hbbtv.*(technisat) (.*);/i],[g,p,[m,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,J],[p,J],[m,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,p,[m,b]],[/droid.+; (shield) bui/i],[p,[g,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[p,[g,D],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[g,j],[m,b]],[/((pebble))app/i],[g,p,[m,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[g,C],[m,x]],[/droid.+; (glass) \d/i],[p,[g,I],[m,x]],[/droid.+; (wt63?0{2,3})\)/i],[p,[g,q],[m,x]],[/(quest( 2| pro)?)/i],[p,[g,$],[m,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,k]],[/(aeobc)\b/i],[p,[g,E],[m,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[m,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[y,X,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[y,X,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,z],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,y],[/\(bb(10);/i],[y,[f,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[f,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[f,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,F],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,y],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,y]]},ee=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof s!==c&&s.navigator?s.navigator:o,i=e||(r&&r.userAgent?r.userAgent:""),n=r&&r.userAgentData?r.userAgentData:o,a=t?V(Z,t):Z,b=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[f]=o,t[y]=o,Y.call(t,i,a.browser),t[h]=typeof(e=t[y])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,b&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[v]=o,Y.call(e,i,a.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[p]=o,e[m]=o,Y.call(e,i,a.device),b&&!e[m]&&n&&n.mobile&&(e[m]=w),b&&"Macintosh"==e[p]&&r&&typeof r.standalone!==c&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[p]="iPad",e[m]=S),e},this.getEngine=function(){var e={};return e[f]=o,e[y]=o,Y.call(e,i,a.engine),e},this.getOS=function(){var e={};return e[f]=o,e[y]=o,Y.call(e,i,a.os),b&&!e[f]&&n&&"Unknown"!=n.platform&&(e[f]=n.platform.replace(/chrome os/i,F).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===d&&e.length>350?J(e,350):e,this},this.setUA(i),this};ee.VERSION="1.0.35",ee.BROWSER=H([f,y,h]),ee.CPU=H([v]),ee.DEVICE=H([p,g,m,b,w,_,S,x,k]),ee.ENGINE=ee.OS=H([f,y]),typeof a!==c?(n.exports&&(a=n.exports=ee),a.UAParser=ee):r.amdO?void 0!==(i=(function(){return ee}).call(t,r,t,e))&&(e.exports=i):typeof s!==c&&(s.UAParser=ee);var et=typeof s!==c&&(s.jQuery||s.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},i=!0;try{n[e].call(r.exports,r,r.exports,s),i=!1}finally{i&&delete a[e]}return r.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},62595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return r}});class r{constructor(){let e,t;this.promise=new Promise((r,i)=>{e=r,t=i}),this.resolve=e,this.reject=t}}},22899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{scheduleOnNextTick:function(){return r},scheduleImmediate:function(){return i}});let r=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},i=e=>{setImmediate(e)}},9756:(e,t)=>{"use strict";let r,i;function n(e){let t=new Uint8Array(e),r=t.byteLength;if(r<65535)return String.fromCharCode.apply(null,t);let i="";for(let e=0;e<r;e++)i+=String.fromCharCode(t[e]);return i}function a(e){let t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r}function s(e,t,r){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,r)}function o(e,t,r){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r)}async function l(e){if(e&&void 0!==i)return i;let t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),a=btoa(n(await crypto.subtle.exportKey("raw",t)));return r=t,e&&(i=a),a}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{arrayBufferToString:function(){return n},stringToUint8Array:function(){return a},encrypt:function(){return s},decrypt:function(){return o},generateRandomActionKeyRaw:function(){return l},setReferenceManifestsSingleton:function(){return u},getServerModuleMap:function(){return d},getClientReferenceManifestSingleton:function(){return h},getActionEncryptionKey:function(){return p}});let c=Symbol.for("next.server.action-manifests");function u({clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}){globalThis[c]={clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}}function d(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.serverModuleMap}function h(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.clientReferenceManifest}async function p(){if(r)return r;let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Error("Missing encryption key for Server Actions");return r=await crypto.subtle.importKey("raw",a(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},75811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{encryptActionBoundArgs:function(){return d},decryptActionBoundArgs:function(){return h}}),r(62511);let i=r(29489),n=r(51002),a=r(22365),s=r(9756),o=new TextEncoder,l=new TextDecoder;async function c(e,t){let r=await (0,s.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let i=atob(t),n=i.slice(0,16),a=i.slice(16);if(void 0===a)throw Error("Invalid Server Action payload.");let o=l.decode(await (0,s.decrypt)(r,(0,s.stringToUint8Array)(n),(0,s.stringToUint8Array)(a)));if(!o.startsWith(e))throw Error("Invalid Server Action payload: failed to decrypt.");return o.slice(e.length)}async function u(e,t){let r=await (0,s.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let i=new Uint8Array(16);crypto.getRandomValues(i);let n=(0,s.arrayBufferToString)(i.buffer),a=await (0,s.encrypt)(r,i,o.encode(e+t));return btoa(n+(0,s.arrayBufferToString)(a))}async function d(e,t){let r=(0,s.getClientReferenceManifestSingleton)(),n=await (0,a.streamToString)((0,i.renderToReadableStream)(t,r.clientModules));return await u(e,n)}async function h(e,t){let r=await c(e,await t),a=await (0,n.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(new TextEncoder().encode(r)),e.close()}}),{ssrManifest:{moduleLoading:{},moduleMap:{}}}),o=(0,s.getServerModuleMap)();return await (0,i.decodeReply)(await (0,n.encodeReply)(a),o)}},68300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{renderToReadableStream:function(){return i.renderToReadableStream},decodeReply:function(){return i.decodeReply},decodeAction:function(){return i.decodeAction},decodeFormState:function(){return i.decodeFormState},AppRouter:function(){return n.default},LayoutRouter:function(){return a.default},RenderFromTemplateContext:function(){return s.default},staticGenerationAsyncStorage:function(){return o.staticGenerationAsyncStorage},requestAsyncStorage:function(){return l.requestAsyncStorage},actionAsyncStorage:function(){return c.actionAsyncStorage},staticGenerationBailout:function(){return u.staticGenerationBailout},createSearchParamsBailoutProxy:function(){return h.createSearchParamsBailoutProxy},serverHooks:function(){return p},preloadStyle:function(){return g.preloadStyle},preloadFont:function(){return g.preloadFont},preconnect:function(){return g.preconnect},taintObjectReference:function(){return y.taintObjectReference},StaticGenerationSearchParamsBailoutProvider:function(){return d.default},NotFoundBoundary:function(){return f.NotFoundBoundary},patchFetch:function(){return w}});let i=r(18195),n=v(r(77519)),a=v(r(72517)),s=v(r(80571)),o=r(45869),l=r(54580),c=r(72934),u=r(72973),d=v(r(2336)),h=r(88650),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(48096)),f=r(31150),m=r(99678);r(62563);let g=r(31806),y=r(22730);function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function w(){return(0,m.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:o.staticGenerationAsyncStorage})}},31806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{preloadStyle:function(){return n},preloadFont:function(){return a},preconnect:function(){return s}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(25091));function n(e,t){let r={as:"style"};"string"==typeof t&&(r.crossOrigin=t),i.default.preload(e,r)}function a(e,t,r){let n={as:"font",type:t};"string"==typeof r&&(n.crossOrigin=r),i.default.preload(e,n)}function s(e,t){i.default.preconnect(e,"string"==typeof t?{crossOrigin:t}:void 0)}},22730:(e,t,r)=>{"use strict";function i(){throw Error("Taint can only be used with the taint flag.")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{taintObjectReference:function(){return n},taintUniqueValue:function(){return a}}),r(40002);let n=i,a=i},50482:(e,t,r)=>{"use strict";e.exports=r(20399)},93425:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.AppRouterContext},78726:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.AppRouterContext},64319:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.HooksClientContext},57210:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.HooksClientContext},33051:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.ServerInsertedHtml},80545:(e,t,r)=>{"use strict";e.exports=r(50482).vendored.contexts.ServerInsertedHtml},62168:(e,t,r)=>{"use strict";e.exports=r(50482).vendored["react-rsc"].ReactDOM},25091:(e,t,r)=>{"use strict";e.exports=r(50482).vendored["react-rsc"].ReactDOM},25036:(e,t,r)=>{"use strict";e.exports=r(50482).vendored["react-rsc"].ReactJsxRuntime},29489:(e,t,r)=>{"use strict";e.exports=r(50482).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},18195:(e,t,r)=>{"use strict";e.exports=r(50482).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},15028:(e,t,r)=>{"use strict";e.exports=r(50482).vendored["react-rsc"].React},40002:(e,t,r)=>{"use strict";e.exports=r(50482).vendored["react-rsc"].React},19102:(e,t)=>{"use strict";var r,i,n,a,s,o,l,c,u,d,h;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NextVanillaSpanAllowlist:function(){return p},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return i},NextServerSpan:function(){return n},NextNodeServerSpan:function(){return a},StartServerSpan:function(){return s},RenderSpan:function(){return o},RouterSpan:function(){return c},AppRenderSpan:function(){return l},NodeSpan:function(){return u},AppRouteRouteHandlersSpan:function(){return d},ResolveMetadataSpan:function(){return h}}),function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(r||(r={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(i||(i={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(n||(n={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(a||(a={})),(s||(s={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(o||(o={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(l||(l={})),(c||(c={})).executeRoute="Router.executeRoute",(u||(u={})).runHandler="Node.runHandler",(d||(d={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(h||(h={}));let p=["BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule"]},36742:(e,t,r)=>{"use strict";let i;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getTracer:function(){return v},SpanStatusCode:function(){return l},SpanKind:function(){return c}});let n=r(19102);try{i=r(78226)}catch(e){i=r(78226)}let{context:a,propagation:s,trace:o,SpanStatusCode:l,SpanKind:c,ROOT_CONTEXT:u}=i,d=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,h=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},p=new Map,f=i.createContextKey("next.rootSpanId"),m=0,g=()=>m++;class y{getTracerInstance(){return o.getTracer("next.js","0.0.1")}getContext(){return a}getActiveScopeSpan(){return o.getSpan(null==a?void 0:a.active())}withPropagatedContext(e,t,r){let i=a.active();if(o.getSpanContext(i))return t();let n=s.extract(i,e,r);return a.with(n,t)}trace(...e){var t;let[r,i,s]=e,{fn:l,options:c}="function"==typeof i?{fn:i,options:{}}:{fn:s,options:{...i}};if(!n.NextVanillaSpanAllowlist.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||c.hideSpan)return l();let m=c.spanName??r,y=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan()),v=!1;y?(null==(t=o.getSpanContext(y))?void 0:t.isRemote)&&(v=!0):(y=u,v=!0);let b=g();return c.attributes={"next.span_name":m,"next.span_type":r,...c.attributes},a.with(y.setValue(f,b),()=>this.getTracerInstance().startActiveSpan(m,c,e=>{let t=()=>{p.delete(b)};v&&p.set(b,new Map(Object.entries(c.attributes??{})));try{if(l.length>1)return l(e,t=>h(e,t));let r=l(e);if(d(r))return r.then(t=>(e.end(),t)).catch(t=>{throw h(e,t),t}).finally(t);return e.end(),t(),r}catch(r){throw h(e,r),t(),r}}))}wrap(...e){let t=this,[r,i,s]=3===e.length?e:[e[0],{},e[1]];return n.NextVanillaSpanAllowlist.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=i;"function"==typeof e&&"function"==typeof s&&(e=e.apply(this,arguments));let n=arguments.length-1,o=arguments[n];if("function"!=typeof o)return t.trace(r,e,()=>s.apply(this,arguments));{let i=t.getContext().bind(a.active(),o);return t.trace(r,e,(e,t)=>(arguments[n]=function(e){return null==t||t(e),i.apply(this,arguments)},s.apply(this,arguments)))}}:s}startSpan(...e){let[t,r]=e,i=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,i)}getSpanContext(e){return e?o.setSpan(a.active(),e):void 0}getRootSpanAttributes(){let e=a.active().getValue(f);return p.get(e)}}let v=(()=>{let e=new y;return()=>e})()},27336:(e,t)=>{"use strict";function r(e=new TextDecoder){return new TransformStream({transform:(t,r)=>r.enqueue(e.decode(t,{stream:!0})),flush:t=>t.enqueue(e.decode())})}function i(e=new TextEncoder){return new TransformStream({transform:(t,r)=>r.enqueue(e.encode(t))})}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createDecodeTransformStream:function(){return r},createEncodeTransformStream:function(){return i}})},22365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{cloneTransformStream:function(){return l},chainStreams:function(){return c},streamFromString:function(){return u},streamToString:function(){return d},createBufferedTransformStream:function(){return h},renderToInitialFizzStream:function(){return f},createRootLayoutValidatorStream:function(){return y},continueFizzStream:function(){return b},continuePostponedFizzStream:function(){return w}});let i=r(36742),n=r(19102),a=r(27336),s=r(62595),o=r(22899);function l(e){let t=e.readable.getReader();return new TransformStream({async start(e){for(;;){let{done:r,value:i}=await t.read();if(r)break;e.enqueue(i)}},transform(){}})}function c(...e){let{readable:t,writable:r}=new TransformStream,i=Promise.resolve();for(let t=0;t<e.length;++t)i=i.then(()=>e[t].pipeTo(r,{preventClose:t+1<e.length}));return i.catch(()=>{}),t}function u(e){let t=new TextEncoder;return new ReadableStream({start(r){r.enqueue(t.encode(e)),r.close()}})}async function d(e){let t="";return await e.pipeThrough((0,a.createDecodeTransformStream)()).pipeTo(new WritableStream({write(e){t+=e}})),t}function h(){let e,t=new Uint8Array,r=r=>{if(e)return;let i=new s.DetachedPromise;e=i,(0,o.scheduleImmediate)(()=>{try{r.enqueue(t),t=new Uint8Array}catch{}finally{e=void 0,i.resolve()}})};return new TransformStream({transform(e,i){let n=new Uint8Array(t.length+e.byteLength);n.set(t),n.set(e,t.length),t=n,r(i)},flush(){if(e)return e.promise}})}function p(e){let t=new TextEncoder;return new TransformStream({transform:async(r,i)=>{let n=await e();n&&i.enqueue(t.encode(n)),i.enqueue(r)}})}function f({ReactDOMServer:e,element:t,streamOptions:r}){return(0,i.getTracer)().trace(n.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function m(e){let t=!1,r=null,i=t=>{let i=e.getReader(),n=new s.DetachedPromise;r=n,(0,o.scheduleImmediate)(async()=>{try{for(;;){let{done:e,value:r}=await i.read();if(e)return;t.enqueue(r)}}catch(e){t.error(e)}finally{n.resolve()}})};return new TransformStream({transform(e,r){r.enqueue(e),t||(t=!0,i(r))},flush(){if(r&&t)return r.promise}})}function g(e){let t=!1,r=new TextEncoder,i=new TextDecoder;return new TransformStream({transform(n,a){if(t)return a.enqueue(n);let s=i.decode(n),o=s.indexOf(e);if(o>-1){if(t=!0,s.length===e.length)return;let i=s.slice(0,o);if(n=r.encode(i),a.enqueue(n),s.length>e.length+o){let t=s.slice(o+e.length);n=r.encode(t),a.enqueue(n)}}else a.enqueue(n)},flush(t){t.enqueue(r.encode(e))}})}function y(e="",t){let r=!1,i=!1,n=new TextEncoder,a=new TextDecoder,s="";return new TransformStream({async transform(e,t){(!r||!i)&&(s+=a.decode(e,{stream:!0}),!r&&s.includes("<html")&&(r=!0),!i&&s.includes("<body")&&(i=!0)),t.enqueue(e)},flush(o){(!r||!i)&&(s+=a.decode(),!r&&s.includes("<html")&&(r=!0),!i&&s.includes("<body")&&(i=!0));let l=[];r||l.push("html"),i||l.push("body"),l.length>0&&o.enqueue(n.encode(`<script>self.__next_root_layout_missing_tags_error=${JSON.stringify({missingTags:l,assetPrefix:e??"",tree:t()})}</script>`))}})}function v(e,t){let r=e;for(let e of t)e&&(r=r.pipeThrough(e));return r}async function b(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:i,getServerInsertedHTML:n,serverInsertedHTMLToHead:a,validateRootLayout:l}){let c="</body></html>",u=t?t.split(c,1)[0]:null;return i&&"allReady"in e&&await e.allReady,v(e,[h(),n&&!a?p(n):null,null!=u&&u.length>0?function(e){let t,r=!1,i=new TextEncoder,n=r=>{let n=new s.DetachedPromise;t=n,(0,o.scheduleImmediate)(()=>{try{r.enqueue(i.encode(e))}catch{}finally{t=void 0,n.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),r||(r=!0,n(t))},flush(n){if(t)return t.promise;r||n.enqueue(i.encode(e))}})}(u):null,r?m(r):null,g(c),n&&a?function(e){let t=!1,r=!1,i=new TextEncoder,n=new TextDecoder;return new TransformStream({async transform(a,s){if(r){s.enqueue(a);return}let l=await e();if(t)s.enqueue(i.encode(l)),s.enqueue(a),r=!0;else{let e=n.decode(a),o=e.indexOf("</head>");if(-1!==o){let n=e.slice(0,o)+l+e.slice(o);s.enqueue(i.encode(n)),r=!0,t=!0}}t?(0,o.scheduleImmediate)(()=>{r=!1}):s.enqueue(a)},async flush(t){let r=await e();r&&t.enqueue(i.encode(r))}})}(n):null,l?y(l.assetPrefix,l.getTree):null])}async function w(e,{inlinedDataStream:t,isStaticGeneration:r,getServerInsertedHTML:i,serverInsertedHTMLToHead:n}){return r&&"allReady"in e&&await e.allReady,v(e,[h(),i&&!n?p(i):null,t?m(t):null,g("</body></html>")])}},64476:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return i},RemovedUAError:function(){return n}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class n extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},8397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return i},RemovedUAError:function(){return n}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class n extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},59590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return i.ImageResponse},NextRequest:function(){return n.NextRequest},NextResponse:function(){return a.NextResponse},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString},URLPattern:function(){return o.URLPattern}});let i=r(10381),n=r(41408),a=r(26993),s=r(80909),o=r(30602)},39729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return i.ImageResponse},NextRequest:function(){return n.NextRequest},NextResponse:function(){return a.NextResponse},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString},URLPattern:function(){return o.URLPattern}});let i=r(78496),n=r(71868),a=r(70457),s=r(44214),o=r(27449)},95790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return u}});let i=r(25421),n=r(80652),a=r(24645),s=r(17894),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class u{constructor(e,t,r){let i,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,n=r||{}):n=r||t||{},this[c]={url:l(e,i??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,r,n,o;let l=(0,s.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),u=(0,a.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(u):(0,i.detectDomainLocale)(null==(t=this[c].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,u);let d=(null==(r=this[c].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[c].options.nextConfig)?void 0:null==(n=o.i18n)?void 0:n.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=d,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??d,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,n.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,r;if(!this[c].locale||!(null==(r=this[c].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[c].options)}}},10514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return u}});let i=r(737),n=r(65418),a=r(40283),s=r(23588),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class u{constructor(e,t,r){let i,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,n=r||{}):n=r||t||{},this[c]={url:l(e,i??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,r,n,o;let l=(0,s.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),u=(0,a.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(u):(0,i.detectDomainLocale)(null==(t=this[c].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,u);let d=(null==(r=this[c].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[c].options.nextConfig)?void 0:null==(n=o.i18n)?void 0:n.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=d,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??d,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,n.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,r;if(!this[c].locale||!(null==(r=this[c].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[c].options)}}},45673:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyHeadersError:function(){return n},HeadersAdapter:function(){return a}});let i=r(88666);class n extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new n}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return i.ReflectAdapter.get(t,r,n);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return i.ReflectAdapter.get(t,s,n)},set(t,r,n,a){if("symbol"==typeof r)return i.ReflectAdapter.set(t,r,n,a);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return i.ReflectAdapter.set(t,o??r,n,a)},has(t,r){if("symbol"==typeof r)return i.ReflectAdapter.has(t,r);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==a&&i.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return i.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===a||i.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return n.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,i]of this.entries())e.call(t,i,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},3022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyHeadersError:function(){return n},HeadersAdapter:function(){return a}});let i=r(6250);class n extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new n}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return i.ReflectAdapter.get(t,r,n);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return i.ReflectAdapter.get(t,s,n)},set(t,r,n,a){if("symbol"==typeof r)return i.ReflectAdapter.set(t,r,n,a);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return i.ReflectAdapter.set(t,o??r,n,a)},has(t,r){if("symbol"==typeof r)return i.ReflectAdapter.has(t,r);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==a&&i.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return i.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===a||i.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return n.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,i]of this.entries())e.call(t,i,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},88666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i}static set(e,t,r,i){return Reflect.set(e,t,r,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},6250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i}static set(e,t,r,i){return Reflect.set(e,t,r,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},80224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyRequestCookiesError:function(){return a},RequestCookiesAdapter:function(){return s},getModifiedCookieValues:function(){return l},appendMutableCookies:function(){return c},MutableRequestCookiesAdapter:function(){return u}});let i=r(47429),n=r(88666);class a extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new a}}class s{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return a.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}}let o=Symbol.for("next.mutated.cookies");function l(e){let t=e[o];return t&&Array.isArray(t)&&0!==t.length?t:[]}function c(e,t){let r=l(t);if(0===r.length)return!1;let n=new i.ResponseCookies(e),a=n.getAll();for(let e of r)n.set(e);for(let e of a)n.set(e);return!0}class u{static wrap(e,t){let r=new i.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let a=[],s=new Set,l=()=>{var e;let n=null==fetch.__nextGetStaticStore?void 0:null==(e=fetch.__nextGetStaticStore.call(fetch))?void 0:e.getStore();if(n&&(n.pathWasRevalidated=!0),a=r.getAll().filter(e=>s.has(e.name)),t){let e=[];for(let t of a){let r=new i.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}};return new Proxy(r,{get(e,t,r){switch(t){case o:return a;case"delete":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{l()}};case"set":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{l()}};default:return n.ReflectAdapter.get(e,t,r)}}})}}},97366:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyRequestCookiesError:function(){return a},RequestCookiesAdapter:function(){return s},getModifiedCookieValues:function(){return l},appendMutableCookies:function(){return c},MutableRequestCookiesAdapter:function(){return u}});let i=r(63608),n=r(6250);class a extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new a}}class s{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return a.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}}let o=Symbol.for("next.mutated.cookies");function l(e){let t=e[o];return t&&Array.isArray(t)&&0!==t.length?t:[]}function c(e,t){let r=l(t);if(0===r.length)return!1;let n=new i.ResponseCookies(e),a=n.getAll();for(let e of r)n.set(e);for(let e of a)n.set(e);return!0}class u{static wrap(e,t){let r=new i.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let a=[],s=new Set,l=()=>{var e;let n=null==fetch.__nextGetStaticStore?void 0:null==(e=fetch.__nextGetStaticStore.call(fetch))?void 0:e.getStore();if(n&&(n.pathWasRevalidated=!0),a=r.getAll().filter(e=>s.has(e.name)),t){let e=[];for(let t of a){let r=new i.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}};return new Proxy(r,{get(e,t,r){switch(t){case o:return a;case"delete":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{l()}};case"set":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{l()}};default:return n.ReflectAdapter.get(e,t,r)}}})}}},47429:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return i.RequestCookies},ResponseCookies:function(){return i.ResponseCookies}});let i=r(97144)},63608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return i.RequestCookies},ResponseCookies:function(){return i.ResponseCookies}});let i=r(97347)},10381:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},78496:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},41408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let i=r(95790),n=r(55614),a=r(64476),s=r(47429),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,n.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let a=new i.NextURL(r,{headers:(0,n.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},71868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let i=r(10514),n=r(68670),a=r(8397),s=r(63608),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,n.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let a=new i.NextURL(r,{headers:(0,n.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},26993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return c}});let i=r(95790),n=r(55614),a=r(47429),s=Symbol("internal response"),o=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[i,n]of e.request.headers)t.set("x-middleware-request-"+i,n),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class c extends Response{constructor(e,t={}){super(e,t),this[s]={cookies:new a.ResponseCookies(this.headers),url:t.url?new i.NextURL(t.url,{headers:(0,n.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[s].cookies}static json(e,t){let r=Response.json(e,t);return new c(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!o.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let i="object"==typeof t?t:{},a=new Headers(null==i?void 0:i.headers);return a.set("Location",(0,n.validateURL)(e)),new c(null,{...i,headers:a,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,n.validateURL)(e)),l(t,r),new c(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new c(null,{...e,headers:t})}}},70457:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return c}});let i=r(10514),n=r(68670),a=r(63608),s=Symbol("internal response"),o=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[i,n]of e.request.headers)t.set("x-middleware-request-"+i,n),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class c extends Response{constructor(e,t={}){super(e,t),this[s]={cookies:new a.ResponseCookies(this.headers),url:t.url?new i.NextURL(t.url,{headers:(0,n.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[s].cookies}static json(e,t){let r=Response.json(e,t);return new c(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!o.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let i="object"==typeof t?t:{},a=new Headers(null==i?void 0:i.headers);return a.set("Location",(0,n.validateURL)(e)),new c(null,{...i,headers:a,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,n.validateURL)(e)),l(t,r),new c(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new c(null,{...e,headers:t})}}},30602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},27449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},80909:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return n},userAgentFromString:function(){return a},userAgent:function(){return s}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(70168));function n(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,i.default)(e),isBot:void 0!==e&&n(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},44214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return n},userAgentFromString:function(){return a},userAgent:function(){return s}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(42881));function n(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,i.default)(e),isBot:void 0!==e&&n(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},55614:(e,t)=>{"use strict";function r(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function i(e){var t,r,i,n,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=n,s.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function n(e){let t={},r=[];if(e)for(let[n,a]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...i(a)),t[n]=1===r.length?r[0]:r):t[n]=a;return t}function a(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return r},splitCookiesString:function(){return i},toNodeOutgoingHttpHeaders:function(){return n},validateURL:function(){return a}})},68670:(e,t)=>{"use strict";function r(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function i(e){var t,r,i,n,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=n,s.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function n(e){let t={},r=[];if(e)for(let[n,a]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...i(a)),t[n]=1===r.length?r[0]:r):t[n]=a;return t}function a(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return r},splitCookiesString:function(){return i},toNodeOutgoingHttpHeaders:function(){return n},validateURL:function(){return a}})},24645:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},40283:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},25421:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var i,n;if(t===(null==(i=a.domain)?void 0:i.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(n=a.locales)?void 0:n.some(e=>e.toLowerCase()===r)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},737:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var i,n;if(t===(null==(i=a.domain)?void 0:i.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(n=a.locales)?void 0:n.some(e=>e.toLowerCase()===r)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},25863:(e,t)=>{"use strict";function r(e,t){let r;let i=e.split("/");return(t||[]).some(t=>!!i[1]&&i[1].toLowerCase()===t.toLowerCase()&&(r=t,i.splice(1,1),e=i.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},73935:(e,t)=>{"use strict";function r(e,t){let r;let i=e.split("/");return(t||[]).some(t=>!!i[1]&&i[1].toLowerCase()===t.toLowerCase()&&(r=t,i.splice(1,1),e=i.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},86973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return n}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},38675:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return n}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},34012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let i=r(88243),n=r(73284);function a(e,t,r,a){if(!t||t===r)return e;let s=e.toLowerCase();return!a&&((0,n.pathHasPrefix)(s,"/api")||(0,n.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,i.addPathPrefix)(e,"/"+t)}},28030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let i=r(23495),n=r(67211);function a(e,t,r,a){if(!t||t===r)return e;let s=e.toLowerCase();return!a&&((0,n.pathHasPrefix)(s,"/api")||(0,n.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,i.addPathPrefix)(e,"/"+t)}},88243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return n}});let i=r(52172);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=(0,i.parsePath)(e);return""+t+r+n+a}},23495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return n}});let i=r(81955);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=(0,i.parsePath)(e);return""+t+r+n+a}},51404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return n}});let i=r(52172);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=(0,i.parsePath)(e);return""+r+t+n+a}},2348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return n}});let i=r(81955);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=(0,i.parsePath)(e);return""+r+t+n+a}},80652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let i=r(44221),n=r(88243),a=r(51404),s=r(34012);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,n.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,n.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,i.removeTrailingSlash)(t)}},65418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let i=r(5545),n=r(23495),a=r(2348),s=r(28030);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,n.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,n.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,i.removeTrailingSlash)(t)}},17894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let i=r(25863),n=r(73158),a=r(73284);function s(e,t){var r,s;let{basePath:o,i18n:l,trailingSlash:c}=null!=(r=t.nextConfig)?r:{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):c};o&&(0,a.pathHasPrefix)(u.pathname,o)&&(u.pathname=(0,n.removePathPrefix)(u.pathname,o),u.basePath=o);let d=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];u.buildId=r,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(u.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,i.normalizeLocalePath)(u.pathname,l.locales);u.locale=e.detectedLocale,u.pathname=null!=(s=e.pathname)?s:u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,i.normalizeLocalePath)(d,l.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}},23588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let i=r(73935),n=r(37188),a=r(67211);function s(e,t){var r,s;let{basePath:o,i18n:l,trailingSlash:c}=null!=(r=t.nextConfig)?r:{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):c};o&&(0,a.pathHasPrefix)(u.pathname,o)&&(u.pathname=(0,n.removePathPrefix)(u.pathname,o),u.basePath=o);let d=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];u.buildId=r,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(u.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,i.normalizeLocalePath)(u.pathname,l.locales);u.locale=e.detectedLocale,u.pathname=null!=(s=e.pathname)?s:u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,i.normalizeLocalePath)(d,l.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}},52172:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},81955:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},73284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return n}});let i=r(52172);function n(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},67211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return n}});let i=r(81955);function n(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},73158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return n}});let i=r(73284);function n(e,t){if(!(0,i.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},37188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return n}});let i=r(67211);function n(e,t){if(!(0,i.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},44221:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},5545:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},37924:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isGroupSegment:function(){return r},PAGE_SEGMENT_KEY:function(){return i},DEFAULT_SEGMENT_KEY:function(){return n}});let i="__PAGE__",n="__DEFAULT__"},65458:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isGroupSegment:function(){return r},PAGE_SEGMENT_KEY:function(){return i},DEFAULT_SEGMENT_KEY:function(){return n}});let i="__PAGE__",n="__DEFAULT__"},10052:(e,t,r)=>{"use strict";r.d(t,{noCase:()=>s});var i=r(88626),n=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function s(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,s=t.stripRegexp,l=t.transform,c=void 0===l?i.lowerCase:l,u=t.delimiter,d=o(o(e,void 0===r?n:r,"$1\x00$2"),void 0===s?a:s,"\x00"),h=0,p=d.length;"\x00"===d.charAt(h);)h++;for(;"\x00"===d.charAt(p-1);)p--;return d.slice(h,p).split("\x00").map(c).join(void 0===u?" ":u)}function o(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce(function(e,t){return e.replace(t,r)},e)}},11235:(e,t,r)=>{"use strict";r.d(t,{BufferSourceConverter:()=>i,Convert:()=>u,combine:()=>d});class i{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let r=i.toUint8Array(e),n=i.toUint8Array(t);if(r.length!==n.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let r=0;for(let e of t)r+=e.byteLength;let i=new Uint8Array(r),n=0;for(let e of t){let t=this.toUint8Array(e);i.set(t,n),n+=t.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}}let n="string",a=/^[0-9a-f]+$/i,s=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,o=/^[a-zA-Z0-9-_]+$/;class l{static fromString(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){let t=i.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class c{static toString(e,t=!1){let r=i.toArrayBuffer(e),n=new DataView(r),a="";for(let e=0;e<r.byteLength;e+=2)a+=String.fromCharCode(n.getUint16(e,t));return a}static fromString(e,t=!1){let r=new ArrayBuffer(2*e.length),i=new DataView(r);for(let r=0;r<e.length;r++)i.setUint16(2*r,e.charCodeAt(r),t);return r}}class u{static isHex(e){return typeof e===n&&a.test(e)}static isBase64(e){return typeof e===n&&s.test(e)}static isBase64Url(e){return typeof e===n&&o.test(e)}static ToString(e,t="utf8"){let r=i.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return c.toString(r,!0);case"utf16":case"utf16be":return c.toString(r);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return c.fromString(e,!0);case"utf16":case"utf16be":return c.fromString(e);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=i.toUint8Array(e);return"undefined"!=typeof btoa?btoa(this.ToString(t,"binary")):Buffer.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!u.isBase64(t))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!u.isBase64Url(t))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=u.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return l.fromString(e);case"utf16":case"utf16be":return c.fromString(e);case"utf16le":case"usc2":return c.fromString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=u.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return l.toString(e);case"utf16":case"utf16be":return c.toString(e);case"utf16le":case"usc2":return c.toString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r.buffer}static ToBinary(e){let t=i.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){let t=i.toUint8Array(e),r="",n=t.length;for(let e=0;e<n;e++){let i=t[e];i<16&&(r+="0"),r+=i.toString(16)}return r}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!u.isHex(t))throw TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){let i=t.slice(e,e+2);r[e/2]=parseInt(i,16)}return r.buffer}static ToUtf16String(e,t=!1){return c.toString(e,t)}static FromUtf16String(e,t=!1){return c.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}function d(...e){let t=e.map(e=>e.byteLength).reduce((e,t)=>e+t),r=new Uint8Array(t),i=0;return e.map(e=>new Uint8Array(e)).forEach(e=>{for(let t of e)r[i++]=t}),r.buffer}u.DEFAULT_UTF8_ENCODING="utf8"},95442:(e,t,r)=>{"use strict";function i(e,t){let r=0;if(1===e.length)return e[0];for(let i=e.length-1;i>=0;i--)r+=e[e.length-1-i]*Math.pow(2,t*i);return r}function n(e,t,r=-1){let i=e,n=0,a=Math.pow(2,t);for(let s=1;s<8;s++){if(e<a){let e;if(r<0)e=new ArrayBuffer(s),n=s;else{if(r<s)return new ArrayBuffer(0);e=new ArrayBuffer(r),n=r}let a=new Uint8Array(e);for(let e=s-1;e>=0;e--){let r=Math.pow(2,e*t);a[n-e-1]=Math.floor(i/r),i-=a[n-e-1]*r}return e}a*=Math.pow(2,t)}return new ArrayBuffer(0)}function a(...e){let t=0,r=0;for(let r of e)t+=r.length;let i=new ArrayBuffer(t),n=new Uint8Array(i);for(let t of e)n.set(t,r),r+=t.length;return n}function s(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let t=255===e[0]&&128&e[1],r=0===e[0]&&(128&e[1])==0;(t||r)&&this.warnings.push("Needlessly long format")}let t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++)r[e]=0;r[0]=128&e[0];let n=i(r,8),a=new ArrayBuffer(this.valueHex.byteLength),s=new Uint8Array(a);for(let t=0;t<this.valueHex.byteLength;t++)s[t]=e[t];return s[0]&=127,i(s,8)-n}function o(e){let t=e<0?-1*e:e,r=128;for(let i=1;i<8;i++){if(t<=r){if(e<0){let e=n(r-t,8,i),a=new Uint8Array(e);return a[0]|=128,e}let a=n(t,8,i),s=new Uint8Array(a);if(128&s[0]){let e=a.slice(0),t=new Uint8Array(e);a=new ArrayBuffer(a.byteLength+1),s=new Uint8Array(a);for(let r=0;r<e.byteLength;r++)s[r+1]=t[r];s[0]=0}return a}r*=256}return new ArrayBuffer(0)}function l(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}function c(e,t){let r=e.toString(10);if(t<r.length)return"";let i=t-r.length,n=Array(i);for(let e=0;e<i;e++)n[e]="0";return n.join("").concat(r)}r.d(t,{isEqualBuffer:()=>l,padNumber:()=>c,utilConcatView:()=>a,utilDecodeTC:()=>s,utilEncodeTC:()=>o,utilFromBase:()=>i,utilToBase:()=>n})},24381:(e,t,r)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=r(14300),n=i.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=s),s.prototype=Object.create(n.prototype),a(n,s),s.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},56613:(e,t,r)=>{let i=Symbol("SemVer ANY");class n{static get ANY(){return i}constructor(e,t){if(t=a(t),e instanceof n){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=n;let a=r(67090),{safeRe:s,t:o}=r(9758),l=r(8980),c=r(95521),u=r(406),d=r(13141)},13141:(e,t,r)=>{class i{constructor(e,t){if(t=a(t),e instanceof i){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new i(e.raw,t)}if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,r=n.get(t);if(r)return r;let i=this.options.loose,a=i?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];o("hyphen replace",e=e.replace(a,T(this.options.includePrerelease))),o("comparator trim",e=e.replace(c[u.COMPARATORTRIM],d)),o("tilde trim",e=e.replace(c[u.TILDETRIM],h)),o("caret trim",e=e.replace(c[u.CARETTRIM],p));let l=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>A(e,this.options));i&&(l=l.filter(e=>(o("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE])))),o("range list",l);let y=new Map;for(let e of l.map(e=>new s(e,this.options))){if(g(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");let v=[...y.values()];return n.set(t,v),v}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(r=>v(r,t)&&e.set.some(e=>v(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let n=new(r(78666)),a=r(67090),s=r(56613),o=r(95521),l=r(406),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=r(9758),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=r(64204),g=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let r=!0,i=e.slice(),n=i.pop();for(;r&&i.length;)r=i.every(e=>n.intersects(e,t)),n=i.pop();return r},b=(e,t)=>(o("comp",e,t),o("caret",e=x(e,t)),o("tildes",e=S(e,t)),o("xrange",e=E(e,t)),o("stars",e=R(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{let r=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(r,(t,r,i,n,a)=>{let s;return o("tilde",e,t,r,i,n,a),w(r)?s="":w(i)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:w(n)?s=`>=${r}.${i}.0 <${r}.${+i+1}.0-0`:a?(o("replaceTilde pr",a),s=`>=${r}.${i}.${n}-${a} <${r}.${+i+1}.0-0`):s=`>=${r}.${i}.${n} <${r}.${+i+1}.0-0`,o("tilde return",s),s})},x=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{o("caret",e,t);let r=t.loose?c[u.CARETLOOSE]:c[u.CARET],i=t.includePrerelease?"-0":"";return e.replace(r,(t,r,n,a,s)=>{let l;return o("caret",e,t,r,n,a,s),w(r)?l="":w(n)?l=`>=${r}.0.0${i} <${+r+1}.0.0-0`:w(a)?l="0"===r?`>=${r}.${n}.0${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${i} <${+r+1}.0.0-0`:s?(o("replaceCaret pr",s),l="0"===r?"0"===n?`>=${r}.${n}.${a}-${s} <${r}.${n}.${+a+1}-0`:`>=${r}.${n}.${a}-${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${a}-${s} <${+r+1}.0.0-0`):(o("no pr"),l="0"===r?"0"===n?`>=${r}.${n}.${a}${i} <${r}.${n}.${+a+1}-0`:`>=${r}.${n}.${a}${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${a} <${+r+1}.0.0-0`),o("caret return",l),l})},E=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();let r=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(r,(r,i,n,a,s,l)=>{o("xRange",e,r,i,n,a,s,l);let c=w(n),u=c||w(a),d=u||w(s);return"="===i&&d&&(i=""),l=t.includePrerelease?"-0":"",c?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&d?(u&&(a=0),s=0,">"===i?(i=">=",u?(n=+n+1,a=0):a=+a+1,s=0):"<="===i&&(i="<",u?n=+n+1:a=+a+1),"<"===i&&(l="-0"),r=`${i+n}.${a}.${s}${l}`):u?r=`>=${n}.0.0${l} <${+n+1}.0.0-0`:d&&(r=`>=${n}.${a}.0${l} <${n}.${+a+1}.0-0`),o("xRange return",r),r})},R=(e,t)=>(o("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),A=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),T=e=>(t,r,i,n,a,s,o,l,c,u,d,h)=>(r=w(i)?"":w(n)?`>=${i}.0.0${e?"-0":""}`:w(a)?`>=${i}.${n}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`,l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`,`${r} ${l}`.trim()),P=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(o(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){let i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},406:(e,t,r)=>{let i=r(95521),{MAX_LENGTH:n,MAX_SAFE_INTEGER:a}=r(64204),{safeRe:s,t:o}=r(9758),l=r(67090),{compareIdentifiers:c}=r(10602);class u{constructor(e,t){if(t=l(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>n)throw TypeError(`version is longer than ${n} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;if(r===n)continue;else return c(r,n)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let r=this.build[t],n=e.build[t];if(i("build compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;if(r===n)continue;else return c(r,n)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===r&&(i=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},926:(e,t,r)=>{let i=r(71720);e.exports=(e,t)=>{let r=i(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},8980:(e,t,r)=>{let i=r(32130),n=r(11777),a=r(22450),s=r(82608),o=r(43126),l=r(54135);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return i(e,r,c);case"!=":return n(e,r,c);case">":return a(e,r,c);case">=":return s(e,r,c);case"<":return o(e,r,c);case"<=":return l(e,r,c);default:throw TypeError(`Invalid operator: ${t}`)}}},23627:(e,t,r)=>{let i=r(406),n=r(71720),{safeRe:a,t:s}=r(9758);e.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let i;let n=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];for(;(i=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&i.index+i[0].length===r.index+r[0].length||(r=i),n.lastIndex=i.index+i[1].length+i[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===r)return null;let o=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return n(`${o}.${l}.${c}${u}${d}`,t)}},74156:(e,t,r)=>{let i=r(406);e.exports=(e,t,r)=>{let n=new i(e,r),a=new i(t,r);return n.compare(a)||n.compareBuild(a)}},95179:(e,t,r)=>{let i=r(16409);e.exports=(e,t)=>i(e,t,!0)},16409:(e,t,r)=>{let i=r(406);e.exports=(e,t,r)=>new i(e,r).compare(new i(t,r))},16448:(e,t,r)=>{let i=r(71720);e.exports=(e,t)=>{let r=i(e,null,!0),n=i(t,null,!0),a=r.compare(n);if(0===a)return null;let s=a>0,o=s?r:n,l=s?n:r,c=!!o.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?o.patch?"patch":o.minor?"minor":"major":"major";let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"}},32130:(e,t,r)=>{let i=r(16409);e.exports=(e,t,r)=>0===i(e,t,r)},22450:(e,t,r)=>{let i=r(16409);e.exports=(e,t,r)=>i(e,t,r)>0},82608:(e,t,r)=>{let i=r(16409);e.exports=(e,t,r)=>i(e,t,r)>=0},25235:(e,t,r)=>{let i=r(406);e.exports=(e,t,r,n,a)=>{"string"==typeof r&&(a=n,n=r,r=void 0);try{return new i(e instanceof i?e.version:e,r).inc(t,n,a).version}catch(e){return null}}},43126:(e,t,r)=>{let i=r(16409);e.exports=(e,t,r)=>0>i(e,t,r)},54135:(e,t,r)=>{let i=r(16409);e.exports=(e,t,r)=>0>=i(e,t,r)},98852:(e,t,r)=>{let i=r(406);e.exports=(e,t)=>new i(e,t).major},64839:(e,t,r)=>{let i=r(406);e.exports=(e,t)=>new i(e,t).minor},11777:(e,t,r)=>{let i=r(16409);e.exports=(e,t,r)=>0!==i(e,t,r)},71720:(e,t,r)=>{let i=r(406);e.exports=(e,t,r=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(e){if(!r)return null;throw e}}},32117:(e,t,r)=>{let i=r(406);e.exports=(e,t)=>new i(e,t).patch},3810:(e,t,r)=>{let i=r(71720);e.exports=(e,t)=>{let r=i(e,t);return r&&r.prerelease.length?r.prerelease:null}},40324:(e,t,r)=>{let i=r(16409);e.exports=(e,t,r)=>i(t,e,r)},19260:(e,t,r)=>{let i=r(74156);e.exports=(e,t)=>e.sort((e,r)=>i(r,e,t))},65715:(e,t,r)=>{let i=r(13141);e.exports=(e,t,r)=>{try{t=new i(t,r)}catch(e){return!1}return t.test(e)}},61386:(e,t,r)=>{let i=r(74156);e.exports=(e,t)=>e.sort((e,r)=>i(e,r,t))},87109:(e,t,r)=>{let i=r(71720);e.exports=(e,t)=>{let r=i(e,t);return r?r.version:null}},44876:(e,t,r)=>{let i=r(9758),n=r(64204),a=r(406),s=r(10602),o=r(71720),l=r(87109),c=r(926),u=r(25235),d=r(16448),h=r(98852),p=r(64839),f=r(32117),m=r(3810),g=r(16409),y=r(40324),v=r(95179),b=r(74156),w=r(61386),S=r(19260),_=r(22450),x=r(43126),k=r(32130),E=r(11777),C=r(82608),R=r(54135),A=r(8980),T=r(23627),P=r(56613),O=r(13141),I=r(65715),N=r(20807),j=r(63837),B=r(83266),U=r(60230),L=r(93696),M=r(13648),D=r(49483),K=r(66482),q=r(958),$=r(71284),F=r(66329);e.exports={parse:o,valid:l,clean:c,inc:u,diff:d,major:h,minor:p,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:S,gt:_,lt:x,eq:k,neq:E,gte:C,lte:R,cmp:A,coerce:T,Comparator:P,Range:O,satisfies:I,toComparators:N,maxSatisfying:j,minSatisfying:B,minVersion:U,validRange:L,outside:M,gtr:D,ltr:K,intersects:q,simplifyRange:$,subset:F,SemVer:a,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},64204:e=>{let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},95521:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},10602:e=>{let t=/^[0-9]+$/,r=(e,r)=>{let i=t.test(e),n=t.test(r);return i&&n&&(e=+e,r=+r),e===r?0:i&&!n?-1:n&&!i?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},78666:e=>{class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},67090:e=>{let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},9758:(e,t,r)=>{let{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:a}=r(64204),s=r(95521),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={},d=0,h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",a],[h,n]],f=e=>{for(let[t,r]of p)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},m=(e,t,r)=>{let i=f(t),n=d++;s(e,n,t),u[e]=n,c[n]=t,o[n]=new RegExp(t,r?"g":void 0),l[n]=new RegExp(i,r?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?`+"(?:$|[^\\d])"),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},49483:(e,t,r)=>{let i=r(13648);e.exports=(e,t,r)=>i(e,t,">",r)},958:(e,t,r)=>{let i=r(13141);e.exports=(e,t,r)=>(e=new i(e,r),t=new i(t,r),e.intersects(t,r))},66482:(e,t,r)=>{let i=r(13648);e.exports=(e,t,r)=>i(e,t,"<",r)},63837:(e,t,r)=>{let i=r(406),n=r(13141);e.exports=(e,t,r)=>{let a=null,s=null,o=null;try{o=new n(t,r)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||-1===s.compare(e))&&(s=new i(a=e,r))}),a}},83266:(e,t,r)=>{let i=r(406),n=r(13141);e.exports=(e,t,r)=>{let a=null,s=null,o=null;try{o=new n(t,r)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||1===s.compare(e))&&(s=new i(a=e,r))}),a}},60230:(e,t,r)=>{let i=r(406),n=r(13141),a=r(22450);e.exports=(e,t)=>{e=new n(e,t);let r=new i("0.0.0");if(e.test(r)||(r=new i("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let n=e.set[t],s=null;n.forEach(e=>{let t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||a(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!r||a(r,s))&&(r=s)}return r&&e.test(r)?r:null}},13648:(e,t,r)=>{let i=r(406),n=r(56613),{ANY:a}=n,s=r(13141),o=r(65715),l=r(22450),c=r(43126),u=r(54135),d=r(82608);e.exports=(e,t,r,h)=>{let p,f,m,g,y;switch(e=new i(e,h),t=new s(t,h),r){case">":p=l,f=u,m=c,g=">",y=">=";break;case"<":p=c,f=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,h))return!1;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null,o=null;if(i.forEach(e=>{e.semver===a&&(e=new n(">=0.0.0")),s=s||e,o=o||e,p(e.semver,s.semver,h)?s=e:m(e.semver,o.semver,h)&&(o=e)}),s.operator===g||s.operator===y||(!o.operator||o.operator===g)&&f(e,o.semver)||o.operator===y&&m(e,o.semver))return!1}return!0}},71284:(e,t,r)=>{let i=r(65715),n=r(16409);e.exports=(e,t,r)=>{let a=[],s=null,o=null,l=e.sort((e,t)=>n(e,t,r));for(let e of l)i(e,t,r)?(o=e,s||(s=e)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);let c=[];for(let[e,t]of a)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},66329:(e,t,r)=>{let i=r(13141),n=r(56613),{ANY:a}=n,s=r(65715),o=r(16409),l=[new n(">=0.0.0-0")],c=[new n(">=0.0.0")],u=(e,t,r)=>{let i,n,u,p,f,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=r.includePrerelease?l:c}if(1===t.length&&t[0].semver===a){if(r.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?i=d(i,t,r):"<"===t.operator||"<="===t.operator?n=h(n,t,r):y.add(t.semver);if(y.size>1||i&&n&&((u=o(i.semver,n.semver,r))>0||0===u&&(">="!==i.operator||"<="!==n.operator)))return null;for(let e of y){if(i&&!s(e,String(i),r)||n&&!s(e,String(n),r))return null;for(let i of t)if(!s(e,String(i),r))return!1;return!0}let v=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver,b=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver;for(let e of(v&&1===v.prerelease.length&&"<"===n.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,i){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((p=d(i,e,r))===e&&p!==i)return!1}else if(">="===i.operator&&!s(i.semver,String(e),r))return!1}if(n){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((f=h(n,e,r))===e&&f!==n)return!1}else if("<="===n.operator&&!s(n.semver,String(e),r))return!1}if(!e.operator&&(n||i)&&0!==u)return!1}return(!i||!m||!!n||0===u)&&(!n||!g||!!i||0===u)&&!b&&!v},d=(e,t,r)=>{if(!e)return t;let i=o(e.semver,t.semver,r);return i>0?e:i<0?t:">"===t.operator&&">="===e.operator?t:e},h=(e,t,r)=>{if(!e)return t;let i=o(e.semver,t.semver,r);return i<0?e:i>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new i(e,r),t=new i(t,r);let n=!1;e:for(let i of e.set){for(let e of t.set){let t=u(i,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0}},20807:(e,t,r)=>{let i=r(13141);e.exports=(e,t)=>new i(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},93696:(e,t,r)=>{let i=r(13141);e.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(e){return null}}},35370:(e,t,r)=>{"use strict";r.r(t),r.d(t,{snakeCase:()=>a});var i=r(92346),n=r(31076);function a(e,t){return void 0===t&&(t={}),(0,n.dotCase)(e,(0,i.__assign)({delimiter:"_"},t))}},9314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{snakeCase:()=>l});var i=r(40245);function n(e){return e.toLowerCase()}var a=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function o(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce(function(e,t){return e.replace(t,r)},e)}function l(e,t){var r;return void 0===t&&(t={}),void 0===(r=(0,i.pi)({delimiter:"_"},t))&&(r={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,i=t.stripRegexp,l=t.transform,c=t.delimiter,u=o(o(e,void 0===r?a:r,"$1\x00$2"),void 0===i?s:i,"\x00"),d=0,h=u.length;"\x00"===u.charAt(d);)d++;for(;"\x00"===u.charAt(h-1);)h--;return u.slice(d,h).split("\x00").map(void 0===l?n:l).join(void 0===c?" ":c)}(e,(0,i.pi)({delimiter:"."},r))}},80180:(e,t,r)=>{"use strict";let i=r(33382),{snakeCase:n}=r(35370);e.exports=function(e,t){return i(e,function(e,r){return[t.exclude.some(function(t){return"string"==typeof t?t===e:t.test(e)})?e:n(e,t.parsingOptions),r]},t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t))}},78591:(e,t,r)=>{"use strict";let i=r(10573),{snakeCase:n}=r(9314);e.exports=function(e,t){return i(e,function(e,r){return[t.exclude.some(function(t){return"string"==typeof t?t===e:t.test(e)})?e:n(e,t.parsingOptions),r]},t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t))}},92346:(e,t,r)=>{"use strict";r.d(t,{__assign:()=>i,__decorate:()=>n});var i=function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function n(e,t,r,i){var n,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,r,s):n(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}Object.create,Object.create},40245:(e,t,r)=>{"use strict";r.d(t,{gn:()=>n,pi:()=>i});var i=function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function n(e,t,r,i){var n,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,r,s):n(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}Object.create,Object.create},3078:(e,t,r)=>{"use strict";r.d(t,{v4:()=>i.default});var i=r(7378)},34263:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var i=r(6113);let n={randomUUID:r.n(i)().randomUUID}},11601:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var i=r(6113),n=r.n(i);let a=new Uint8Array(256),s=a.length;function o(){return s>a.length-16&&(n().randomFillSync(a),s=0),a.slice(s,s+=16)}},33073:(e,t,r)=>{"use strict";r.d(t,{unsafeStringify:()=>n});let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function n(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}},7378:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var i=r(34263),n=r(11601),a=r(33073);let s=function(e,t,r){if(i.default.randomUUID&&!t&&!e)return i.default.randomUUID();let s=(e=e||{}).random||(e.rng||n.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,a.unsafeStringify)(s)}},58483:(e,t,r)=>{"use strict";r.d(t,{AesCbcProvider:()=>m,AesCmacProvider:()=>g,AesCtrProvider:()=>y,AesEcbProvider:()=>v,AesGcmProvider:()=>b,AesKwProvider:()=>w,AlgorithmError:()=>c,BufferSourceConverter:()=>i.BufferSourceConverter,Crypto:()=>eE,CryptoError:()=>l,CryptoKey:()=>T,DesProvider:()=>S,EcCurves:()=>ev,EcUtils:()=>V,EcdhEsProvider:()=>O,EcdhProvider:()=>P,EcdsaProvider:()=>R,EdDsaProvider:()=>I,HkdfProvider:()=>eS,HmacProvider:()=>eb,OperationError:()=>d,Pbkdf2Provider:()=>ew,ProviderCrypto:()=>p,RsaOaepProvider:()=>E,RsaPssProvider:()=>k,RsaSsaProvider:()=>x,Shake128Provider:()=>ex,Shake256Provider:()=>ek,SubtleCrypto:()=>eT,asn1:()=>ey});var i=r(11235),n=r(58412),a=r(32771),s=r(86141),o=r(35354);/*!
 Copyright (c) Peculiar Ventures, LLC
*/class l extends Error{}class c extends l{}class u extends l{constructor(e){super(`Unsupported operation: ${e?`${e}`:""}`)}}class d extends l{}class h extends l{constructor(e){super(`${e}: Missing required property`)}}class p{async digest(...e){return this.checkDigest.apply(this,e),this.onDigest.apply(this,e)}checkDigest(e,t){this.checkAlgorithmName(e)}async onDigest(e,t){throw new u("digest")}async generateKey(...e){return this.checkGenerateKey.apply(this,e),this.onGenerateKey.apply(this,e)}checkGenerateKey(e,t,r,...i){let n;if(this.checkAlgorithmName(e),this.checkGenerateKeyParams(e),!(r&&r.length))throw TypeError("Usages cannot be empty when creating a key.");n=Array.isArray(this.usages)?this.usages:this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(r,n)}checkGenerateKeyParams(e){}async onGenerateKey(e,t,r,...i){throw new u("generateKey")}async sign(...e){return this.checkSign.apply(this,e),this.onSign.apply(this,e)}checkSign(e,t,r,...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"sign")}async onSign(e,t,r,...i){throw new u("sign")}async verify(...e){return this.checkVerify.apply(this,e),this.onVerify.apply(this,e)}checkVerify(e,t,r,i,...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"verify")}async onVerify(e,t,r,i,...n){throw new u("verify")}async encrypt(...e){return this.checkEncrypt.apply(this,e),this.onEncrypt.apply(this,e)}checkEncrypt(e,t,r,i={},...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"encrypt":void 0)}async onEncrypt(e,t,r,...i){throw new u("encrypt")}async decrypt(...e){return this.checkDecrypt.apply(this,e),this.onDecrypt.apply(this,e)}checkDecrypt(e,t,r,i={},...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"decrypt":void 0)}async onDecrypt(e,t,r,...i){throw new u("decrypt")}async deriveBits(...e){return this.checkDeriveBits.apply(this,e),this.onDeriveBits.apply(this,e)}checkDeriveBits(e,t,r,i={},...n){if(this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"deriveBits":void 0),r%8!=0)throw new d("length: Is not multiple of 8")}async onDeriveBits(e,t,r,...i){throw new u("deriveBits")}async exportKey(...e){return this.checkExportKey.apply(this,e),this.onExportKey.apply(this,e)}checkExportKey(e,t,...r){if(this.checkKeyFormat(e),this.checkCryptoKey(t),!t.extractable)throw new l("key: Is not extractable")}async onExportKey(e,t,...r){throw new u("exportKey")}async importKey(...e){return this.checkImportKey.apply(this,e),this.onImportKey.apply(this,e)}checkImportKey(e,t,r,i,n,...a){this.checkKeyFormat(e),this.checkKeyData(e,t),this.checkAlgorithmName(r),this.checkImportParams(r),Array.isArray(this.usages)&&this.checkKeyUsages(n,this.usages)}async onImportKey(e,t,r,i,n,...a){throw new u("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase())throw new c("Unrecognized name")}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,t){for(let r of e)if(-1===t.indexOf(r))throw TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(e,t){if(this.checkAlgorithmName(e.algorithm),t&&-1===e.usages.indexOf(t))throw new l("key does not match that of operation")}checkRequiredProperty(e,t){if(!(t in e))throw new h(t)}checkHashAlgorithm(e,t){for(let r of t)if(r.toLowerCase()===e.name.toLowerCase())return;throw new d(`hash: Must be one of ${t.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,t){if(!t)throw TypeError("keyData: Cannot be empty on empty on key importing");if("jwk"===e){if(!("object"==typeof t&&"kty"in t))throw TypeError("keyData: Is not JsonWebToken")}else if(!i.BufferSourceConverter.isBufferSource(t))throw TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(e){return i.BufferSourceConverter.toArrayBuffer(e)}}class f extends p{checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");switch(e.length){case 128:case 192:case 256:break;default:throw TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class m extends f{constructor(){super(...arguments),this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.iv.byteLength)throw TypeError("iv: Must have length 16 bytes")}}class g extends f{constructor(){super(...arguments),this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new d("length: Must be more than 0")}}class y extends f{constructor(){super(...arguments),this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"counter"),!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter)))throw TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.counter.byteLength)throw TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new d("length: Must be more than 0")}}class v extends f{constructor(){super(...arguments),this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class b extends f{constructor(){super(...arguments),this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){var t;if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength<1)throw new d("iv: Must have length more than 0 and less than 2^64 - 1");switch(null!==(t=e.tagLength)&&void 0!==t||(e.tagLength=128),e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new d("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class w extends f{constructor(){super(...arguments),this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}}class S extends p{constructor(){super(...arguments),this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==this.ivSize)throw TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");if(e.length!==this.keySizeBits)throw new d(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class _ extends p{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=i.Convert.ToBase64(e.publicExponent);if(!("Aw=="===t||"AQAB"===t))throw TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength%8||e.modulusLength<256||e.modulusLength>16384)throw TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class x extends _{constructor(){super(...arguments),this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class k extends _{constructor(){super(...arguments),this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"saltLength"),"number"!=typeof e.saltLength)throw TypeError("saltLength: Is not a Number");if(e.saltLength<0)throw RangeError("saltLength: Must be positive number")}}class E extends _{constructor(){super(...arguments),this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label)))throw TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}class C extends p{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve"),this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(let t of this.namedCurves)if(t.toLowerCase()===e.toLowerCase())return;throw new d(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class R extends C{constructor(){super(...arguments),this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}let A=["secret","private","public"];class T{static create(e,t,r,i){let n=new this;return n.algorithm=e,n.type=t,n.extractable=r,n.usages=i,n}static isKeyType(e){return -1!==A.indexOf(e)}get[Symbol.toStringTag](){return"CryptoKey"}}class P extends C{constructor(){super(...arguments),this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"public"),!(e.public instanceof T))throw TypeError("public: Is not a CryptoKey");if("public"!==e.public.type)throw new d("public: Is not a public key");if(e.public.algorithm.name!==this.name)throw new d(`public: Is not ${this.name} key`)}}class O extends P{constructor(){super(...arguments),this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}}class I extends C{constructor(){super(...arguments),this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}}let N=class{constructor(e){e&&(this.value=e)}};(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.ObjectIdentifier})],N.prototype,"value",void 0),N=(0,a.__decorate)([(0,n.AsnType)({type:n.AsnTypeTypes.Choice})],N);class j{constructor(e){Object.assign(this,e)}}(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.ObjectIdentifier})],j.prototype,"algorithm",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Any,optional:!0})],j.prototype,"parameters",void 0);class B{constructor(){this.version=0,this.privateKeyAlgorithm=new j,this.privateKey=new ArrayBuffer(0)}}(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer})],B.prototype,"version",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:j})],B.prototype,"privateKeyAlgorithm",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.OctetString})],B.prototype,"privateKey",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Any,optional:!0})],B.prototype,"attributes",void 0);class U{constructor(){this.publicKeyAlgorithm=new j,this.publicKey=new ArrayBuffer(0)}}(0,a.__decorate)([(0,n.AsnProp)({type:j})],U.prototype,"publicKeyAlgorithm",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.BitString})],U.prototype,"publicKey",void 0);let L={fromJSON:e=>i.Convert.FromBase64Url(e),toJSON:e=>i.Convert.ToBase64Url(new Uint8Array(e))},M={fromASN:e=>{let t=e.valueBlock.valueHex;return new Uint8Array(t)[0]?e.valueBlock.valueHex:e.valueBlock.valueHex.slice(1)},toASN:e=>{let t=new Uint8Array(e)[0]>127?(0,i.combine)(new Uint8Array([0]).buffer,e):e;return new o.Integer({valueHex:t})}};class D{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}}(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:n.AsnIntegerConverter})],D.prototype,"version",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"n",converter:L})],D.prototype,"modulus",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"e",converter:L})],D.prototype,"publicExponent",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"d",converter:L})],D.prototype,"privateExponent",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"p",converter:L})],D.prototype,"prime1",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"q",converter:L})],D.prototype,"prime2",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"dp",converter:L})],D.prototype,"exponent1",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"dq",converter:L})],D.prototype,"exponent2",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"qi",converter:L})],D.prototype,"coefficient",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Any,optional:!0})],D.prototype,"otherPrimeInfos",void 0);class K{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}}(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"n",converter:L})],K.prototype,"modulus",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:M}),(0,s.JsonProp)({name:"e",converter:L})],K.prototype,"publicExponent",void 0);let q=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){let e=new Uint8Array(this.value);if(4!==e[0])throw new l("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");let t=(e=new Uint8Array(this.value.slice(1))).length/2;return{x:i.Convert.ToBase64Url(e.buffer.slice(0,0+t)),y:i.Convert.ToBase64Url(e.buffer.slice(0+t,0+t+t))}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");if(!("y"in e))throw Error("y: Missing required property");let t=i.Convert.FromBase64Url(e.x),r=i.Convert.FromBase64Url(e.y),n=(0,i.combine)(new Uint8Array([4]).buffer,t,r);return this.value=new Uint8Array(n).buffer,this}};(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.OctetString})],q.prototype,"value",void 0),q=(0,a.__decorate)([(0,n.AsnType)({type:n.AsnTypeTypes.Choice})],q);class ${constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e))throw Error("d: Missing required property");if(this.privateKey=i.Convert.FromBase64Url(e.d),"x"in e){let t=new q;t.fromJSON(e);let r=n.AsnSerializer.toASN(t);"valueHex"in r.valueBlock&&(this.publicKey=r.valueBlock.valueHex)}return this}toJSON(){let e={};return e.d=i.Convert.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(e,new q(this.publicKey).toJSON()),e}}(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:n.AsnIntegerConverter})],$.prototype,"version",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.OctetString})],$.prototype,"privateKey",void 0),(0,a.__decorate)([(0,n.AsnProp)({context:0,type:n.AsnPropTypes.Any,optional:!0})],$.prototype,"parameters",void 0),(0,a.__decorate)([(0,n.AsnProp)({context:1,type:n.AsnPropTypes.BitString,optional:!0})],$.prototype,"publicKey",void 0);let F={fromASN:e=>{let t=new Uint8Array(e.valueBlock.valueHex);return 0===t[0]?t.buffer.slice(1):t.buffer},toASN:e=>{let t=new Uint8Array(e);if(t[0]>127){let e=new Uint8Array(t.length+1);return e.set(t,1),new o.Integer({valueHex:e.buffer})}return new o.Integer({valueHex:e})}};var z=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:F});class V{static decodePoint(e,t){let r=i.BufferSourceConverter.toUint8Array(e);if(0===r.length||4!==r[0])throw Error("Only uncompressed point format supported");let n=(r.length-1)/2;if(n!==Math.ceil(t/8))throw Error("Point does not match field size");return{x:r.slice(1,n+1),y:r.slice(n+1,n+1+n)}}static encodePoint(e,t){let r=Math.ceil(t/8);if(e.x.byteLength!==r||e.y.byteLength!==r)throw Error("X,Y coordinates don't match point size criteria");let n=i.BufferSourceConverter.toUint8Array(e.x),a=i.BufferSourceConverter.toUint8Array(e.y),s=new Uint8Array(2*r+1);return s[0]=4,s.set(n,1),s.set(a,r+1),s}static getSize(e){return Math.ceil(e/8)}static encodeSignature(e,t){let r=this.getSize(t),n=i.BufferSourceConverter.toUint8Array(e.r),a=i.BufferSourceConverter.toUint8Array(e.s),s=new Uint8Array(2*r);return s.set(this.padStart(n,r)),s.set(this.padStart(a,r),r),s}static decodeSignature(e,t){let r=this.getSize(t),n=i.BufferSourceConverter.toUint8Array(e);if(n.length!==2*r)throw Error("Incorrect size of the signature");let a=n.slice(0,r),s=n.slice(r);return{r:this.trimStart(a),s:this.trimStart(s)}}static trimStart(e){let t=0;for(;t<e.length-1&&0===e[t];)t++;return 0===t?e:e.slice(t,e.length)}static padStart(e,t){if(t===e.length)return e;let r=new Uint8Array(t);return r.set(e,t-e.length),r}}class H{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){let t=e.byteLength/2,r=V.decodeSignature(e,8*t),n=new H;return n.r=i.BufferSourceConverter.toArrayBuffer(r.r),n.s=i.BufferSourceConverter.toArrayBuffer(r.s),n}toWebCryptoSignature(e){return null!=e||(e=8*Math.max(this.r.byteLength,this.s.byteLength)),V.encodeSignature(this,e).buffer}}(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:F})],H.prototype,"r",void 0),(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.Integer,converter:F})],H.prototype,"s",void 0);class W extends B{}(0,a.__decorate)([(0,n.AsnProp)({context:1,implicit:!0,type:n.AsnPropTypes.BitString,optional:!0})],W.prototype,"publicKey",void 0);let G=class{constructor(){this.value=new ArrayBuffer(0)}fromJSON(e){if(!e.d)throw Error("d: Missing required property");return this.value=i.Convert.FromBase64Url(e.d),this}toJSON(){return{d:i.Convert.ToBase64Url(this.value)}}};(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.OctetString})],G.prototype,"value",void 0),G=(0,a.__decorate)([(0,n.AsnType)({type:n.AsnTypeTypes.Choice})],G);let J=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){return{x:i.Convert.ToBase64Url(this.value)}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");return this.value=i.Convert.FromBase64Url(e.x),this}};(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.BitString})],J.prototype,"value",void 0),J=(0,a.__decorate)([(0,n.AsnType)({type:n.AsnTypeTypes.Choice})],J);let Y=class{};(0,a.__decorate)([(0,n.AsnProp)({type:n.AsnPropTypes.OctetString}),(0,s.JsonProp)({type:s.JsonPropTypes.String,converter:L})],Y.prototype,"d",void 0),Y=(0,a.__decorate)([(0,n.AsnType)({type:n.AsnTypeTypes.Choice})],Y);let X="1.2.840.10045.3.1.7",Q="1.3.132.0",Z=`${Q}.34`,ee=`${Q}.35`,et=`${Q}.10`,er="1.3.36.3.3.2.8.1.1",ei=`${er}.1`,en=`${er}.2`,ea=`${er}.3`,es=`${er}.4`,eo=`${er}.5`,el=`${er}.6`,ec=`${er}.7`,eu=`${er}.8`,ed=`${er}.9`,eh=`${er}.10`,ep=`${er}.11`,ef=`${er}.12`,em=`${er}.13`,eg=`${er}.14`;var ey=Object.freeze({__proto__:null,AlgorithmIdentifier:j,get CurvePrivateKey(){return Y},EcDsaSignature:H,EcPrivateKey:$,get EcPublicKey(){return q},get EdPrivateKey(){return G},get EdPublicKey(){return J},get ObjectIdentifier(){return N},OneAsymmetricKey:W,PrivateKeyInfo:B,PublicKeyInfo:U,RsaPrivateKey:D,RsaPublicKey:K,converters:z,idBrainpoolP160r1:ei,idBrainpoolP160t1:en,idBrainpoolP192r1:ea,idBrainpoolP192t1:es,idBrainpoolP224r1:eo,idBrainpoolP224t1:el,idBrainpoolP256r1:ec,idBrainpoolP256t1:eu,idBrainpoolP320r1:ed,idBrainpoolP320t1:eh,idBrainpoolP384r1:ep,idBrainpoolP384t1:ef,idBrainpoolP512r1:em,idBrainpoolP512t1:eg,idEd25519:"1.3.101.112",idEd448:"1.3.101.113",idEllipticCurve:Q,idSecp256k1:et,idSecp256r1:X,idSecp384r1:Z,idSecp521r1:ee,idVersionOne:er,idX25519:"1.3.101.110",idX448:"1.3.101.111"});class ev{constructor(){}static register(e){let t=new N;t.value=e.id;let r=n.AsnConvert.serialize(t);this.items.push({...e,raw:r}),this.names.push(e.name)}static find(e){for(let t of(e=e.toUpperCase(),this.items))if(t.name.toUpperCase()===e||t.id.toUpperCase()===e)return t;return null}static get(e){let t=this.find(e);if(!t)throw Error(`Unsupported EC named curve '${e}'`);return t}}ev.items=[],ev.names=[],ev.register({name:"P-256",id:X,size:256}),ev.register({name:"P-384",id:Z,size:384}),ev.register({name:"P-521",id:ee,size:521}),ev.register({name:"K-256",id:et,size:256}),ev.register({name:"brainpoolP160r1",id:ei,size:160}),ev.register({name:"brainpoolP160t1",id:en,size:160}),ev.register({name:"brainpoolP192r1",id:ea,size:192}),ev.register({name:"brainpoolP192t1",id:es,size:192}),ev.register({name:"brainpoolP224r1",id:eo,size:224}),ev.register({name:"brainpoolP224t1",id:el,size:224}),ev.register({name:"brainpoolP256r1",id:ec,size:256}),ev.register({name:"brainpoolP256t1",id:eu,size:256}),ev.register({name:"brainpoolP320r1",id:ed,size:320}),ev.register({name:"brainpoolP320t1",id:eh,size:320}),ev.register({name:"brainpoolP384r1",id:ep,size:384}),ev.register({name:"brainpoolP384t1",id:ef,size:384}),ev.register({name:"brainpoolP512r1",id:em,size:512}),ev.register({name:"brainpoolP512t1",id:eg,size:512});class eb extends p{constructor(){super(...arguments),this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),"length"in e){if("number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw RangeError("length: Number is out of range")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class ew extends p{constructor(){super(...arguments),this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"iterations"),"number"!=typeof e.iterations)throw TypeError("iterations: Is not a Number");if(e.iterations<1)throw TypeError("iterations: Is less than 1")}checkImportKey(e,t,r,i,n,...a){if(super.checkImportKey(e,t,r,i,n,...a),i)throw SyntaxError("extractable: Must be 'false'")}}class eS extends p{constructor(){super(...arguments),this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!i.BufferSourceConverter.isBufferSource(e.salt)||(this.checkRequiredProperty(e,"info"),!i.BufferSourceConverter.isBufferSource(e.info)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(e,t,r,i,n,...a){if(super.checkImportKey(e,t,r,i,n,...a),i)throw SyntaxError("extractable: Must be 'false'")}}class e_ extends p{constructor(){super(...arguments),this.usages=[],this.defaultLength=0}digest(...e){return e[0]={length:this.defaultLength,...e[0]},super.digest.apply(this,e)}checkDigest(e,t){super.checkDigest(e,t);let r=e.length||0;if("number"!=typeof r)throw TypeError("length: Is not a Number");if(r<0)throw TypeError("length: Is negative")}}class ex extends e_{constructor(){super(...arguments),this.name="shake128",this.defaultLength=16}}class ek extends e_{constructor(){super(...arguments),this.name="shake256",this.defaultLength=32}}class eE{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){let e=this.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=i.Convert.ToHex(e).toLowerCase();return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16,20)}-${t.substring(20)}`}}class eC{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){let t=this.get(e.toLowerCase());return t&&delete this.items[e],t}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){let e=[];for(let t in this.items){let r=this.items[t];e.push(r.name)}return e.sort()}}let eR={jwk:["private","public","secret"],pkcs8:["private"],spki:["public"],raw:["secret","public"]},eA=["pkcs8","spki","raw"];class eT{constructor(){this.providers=new eC}static isHashedAlgorithm(e){return!!e&&"object"==typeof e&&"name"in e&&"hash"in e}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");let[t,r,...n]=e,a=this.prepareAlgorithm(t),s=i.BufferSourceConverter.toArrayBuffer(r),o=this.getProvider(a.name);return await o.digest(a,s,...n)}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");let[t,r,i,...n]=e,a=this.prepareAlgorithm(t),s=this.getProvider(a.name);return await s.generateKey({...a,name:s.name},r,i,...n)}async sign(...e){this.checkRequiredArguments(e,3,"sign");let[t,r,n,...a]=e;this.checkCryptoKey(r);let s=this.prepareAlgorithm(t),o=i.BufferSourceConverter.toArrayBuffer(n),l=this.getProvider(s.name);return await l.sign({...s,name:l.name},r,o,...a)}async verify(...e){this.checkRequiredArguments(e,4,"verify");let[t,r,n,a,...s]=e;this.checkCryptoKey(r);let o=this.prepareAlgorithm(t),l=i.BufferSourceConverter.toArrayBuffer(a),c=i.BufferSourceConverter.toArrayBuffer(n),u=this.getProvider(o.name);return await u.verify({...o,name:u.name},r,c,l,...s)}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");let[t,r,n,...a]=e;this.checkCryptoKey(r);let s=this.prepareAlgorithm(t),o=i.BufferSourceConverter.toArrayBuffer(n),l=this.getProvider(s.name);return await l.encrypt({...s,name:l.name},r,o,{keyUsage:!0},...a)}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");let[t,r,n,...a]=e;this.checkCryptoKey(r);let s=this.prepareAlgorithm(t),o=i.BufferSourceConverter.toArrayBuffer(n),l=this.getProvider(s.name);return await l.decrypt({...s,name:l.name},r,o,{keyUsage:!0},...a)}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");let[t,r,i,...n]=e;this.checkCryptoKey(r);let a=this.prepareAlgorithm(t),s=this.getProvider(a.name);return await s.deriveBits({...a,name:s.name},r,i,{keyUsage:!0},...n)}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");let[t,r,i,n,a,...s]=e,o=this.prepareAlgorithm(i);this.getProvider(o.name).checkDerivedKeyParams(o);let l=this.prepareAlgorithm(t),c=this.getProvider(l.name);c.checkCryptoKey(r,"deriveKey");let u=await c.deriveBits({...l,name:c.name},r,i.length||512,{keyUsage:!1},...s);return this.importKey("raw",u,i,n,a,...s)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");let[t,r,...i]=e;if(this.checkCryptoKey(r),!eR[t])throw TypeError("Invalid keyFormat argument");if(!eR[t].includes(r.type))throw new DOMException("The key is not of the expected type");let n=this.getProvider(r.algorithm.name);return await n.exportKey(t,r,...i)}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");let[t,r,n,a,s,...o]=e,l=this.prepareAlgorithm(n),c=this.getProvider(l.name);if("jwk"===t){if("object"!=typeof r||!r.kty)throw TypeError("Key data must be an object for JWK import")}else if(eA.includes(t)){if(!i.BufferSourceConverter.isBufferSource(r))throw TypeError("Key data must be a BufferSource for non-JWK formats")}else throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView or JsonWebKey)'");return c.importKey(t,r,{...l,name:c.name},a,s,...o)}async wrapKey(e,t,r,n,...a){let s=await this.exportKey(e,t,...a);if("jwk"===e){let e=JSON.stringify(s);s=i.Convert.FromUtf8String(e)}let o=this.prepareAlgorithm(n),l=i.BufferSourceConverter.toArrayBuffer(s),c=this.getProvider(o.name);return c.encrypt({...o,name:c.name},r,l,{keyUsage:!1},...a)}async unwrapKey(e,t,r,n,a,s,o,...l){let c=this.prepareAlgorithm(n),u=i.BufferSourceConverter.toArrayBuffer(t),d=this.getProvider(c.name),h=await d.decrypt({...c,name:d.name},r,u,{keyUsage:!1},...l);if("jwk"===e)try{h=JSON.parse(i.Convert.ToUtf8String(h))}catch(t){let e=TypeError("wrappedKey: Is not a JSON");throw e.internal=t,e}return this.importKey(e,h,a,s,o,...l)}checkRequiredArguments(e,t,r){if(e.length<t)throw TypeError(`Failed to execute '${r}' on 'SubtleCrypto': ${t} arguments required, but only ${e.length} present`)}prepareAlgorithm(e){if("string"==typeof e)return{name:e};if(eT.isHashedAlgorithm(e)){let t={...e};return t.hash=this.prepareAlgorithm(e.hash),t}return{...e}}getProvider(e){let t=this.providers.get(e);if(!t)throw new c("Unrecognized name");return t}checkCryptoKey(e){if(!(e instanceof T))throw TypeError("Key is not of type 'CryptoKey'")}}},58052:()=>{},52054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(64096),n=r(87561),a=r(49411);r(88849),r(22286),r(65628),r(84492),r(72254),r(47261),r(41041),r(87503);let{stat:s}=n.promises,o=(e,t,r="")=>new i._Blob([new c({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:r}),l=(e,t,r="")=>new i.File([new c({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],a.basename(t),{type:r,lastModified:e.mtimeMs});class c{#e;#t;constructor(e){this.#e=e.path,this.#t=e.start,this.size=e.size,this.lastModified=e.lastModified,this.originalSize=void 0===e.originalSize?e.size:e.originalSize}slice(e,t){return new c({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:t-e,start:this.#t+e})}async *stream(){let{mtimeMs:e,size:t}=await s(this.#e);if(e>this.lastModified||this.originalSize!==t)throw new i.nodeDomexception("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*n.createReadStream(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}let u=globalThis.fetch||i.fetch,d=globalThis.Blob||i._Blob,h=globalThis.File||i.File,p=globalThis.FormData||i.FormData,f=globalThis.Headers||i.Headers,m=globalThis.Request||i.Request,g=globalThis.Response||i.Response,y=globalThis.AbortController||i.AbortController;t.AbortError=i.AbortError,t.FetchError=i.FetchError,t.isRedirect=i.isRedirect,t.AbortController=y,t.Blob=d,t.File=h,t.FormData=p,t.Headers=f,t.Request=m,t.Response=g,t.blobFrom=(e,t)=>s(e).then(r=>o(r,e,t)),t.blobFromSync=(e,t)=>o(n.statSync(e),e,t),t.default=u,t.fetch=u,t.fileFrom=(e,t)=>s(e).then(r=>l(r,e,t)),t.fileFromSync=(e,t)=>l(n.statSync(e),e,t)},2218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(39306),n=r(87561),a=r(49411);r(88849),r(22286),r(65628),r(84492),r(72254),r(47261),r(41041),r(87503);let{stat:s}=n.promises,o=(e,t,r="")=>new i._Blob([new c({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:r}),l=(e,t,r="")=>new i.File([new c({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],a.basename(t),{type:r,lastModified:e.mtimeMs});class c{#e;#t;constructor(e){this.#e=e.path,this.#t=e.start,this.size=e.size,this.lastModified=e.lastModified,this.originalSize=void 0===e.originalSize?e.size:e.originalSize}slice(e,t){return new c({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:t-e,start:this.#t+e})}async *stream(){let{mtimeMs:e,size:t}=await s(this.#e);if(e>this.lastModified||this.originalSize!==t)throw new i.nodeDomexception("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*n.createReadStream(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}let u=globalThis.fetch||i.fetch,d=globalThis.Blob||i._Blob,h=globalThis.File||i.File,p=globalThis.FormData||i.FormData,f=globalThis.Headers||i.Headers,m=globalThis.Request||i.Request,g=globalThis.Response||i.Response,y=globalThis.AbortController||i.AbortController;t.AbortError=i.AbortError,t.FetchError=i.FetchError,t.isRedirect=i.isRedirect,t.AbortController=y,t.Blob=d,t.File=h,t.FormData=p,t.Headers=f,t.Request=m,t.Response=g,t.blobFrom=(e,t)=>s(e).then(r=>o(r,e,t)),t.blobFromSync=(e,t)=>o(n.statSync(e),e,t),t.default=u,t.fetch=u,t.fileFrom=(e,t)=>s(e).then(r=>l(r,e,t)),t.fileFromSync=(e,t)=>l(n.statSync(e),e,t)},64096:(e,t,r)=>{"use strict";let i=r(88849),n=r(22286),a=r(65628),s=r(84492),o=r(72254),l=r(47261),c=r(41041),u=r(87503);r(87561),r(49411);var d,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},p={exports:{}};if(!globalThis.ReadableStream)try{let e=r(97742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(72477)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,(d||(d=1,function(e){let t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function r(){}let i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==h?h:void 0;function n(e){return"object"==typeof e&&null!==e||"function"==typeof e}let a=Promise,s=Promise.prototype.then,o=Promise.resolve.bind(a),l=Promise.reject.bind(a);function c(e){return new a(e)}function u(e,t,r){return s.call(e,t,r)}function d(e,t,i){u(u(e,t,i),void 0,r)}function p(e,t){d(e,void 0,t)}function f(e){u(e,void 0,r)}let m=(()=>{let e=i&&i.queueMicrotask;if("function"==typeof e)return e;let t=o(void 0);return e=>u(t,e)})();function g(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function y(e,t,r){try{var i;return i=g(e,t,r),o(i)}catch(e){return l(e)}}class v{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,i=r+1,n=e._elements,a=n[r];return 16384===i&&(t=e._next,i=0),--this._size,this._cursor=i,e!==t&&(this._front=t),n[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,i=r._elements;for(;(t!==i.length||void 0!==r._next)&&(t!==i.length||(i=(r=r._next)._elements,t=0,0!==i.length));)e(i[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}function b(e,t){var r;e._ownerReadableStream=t,t._reader=e,"readable"===t._state?x(e):"closed"===t._state?(x(e),E(e)):(r=t._storedError,x(e),k(e,r))}function w(e,t){return tF(e._ownerReadableStream,t)}function S(e){var t,r;"readable"===e._ownerReadableStream._state?k(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=e,r=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),x(t),k(t,r)),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function _(e){return TypeError("Cannot "+e+" a stream using a released reader")}function x(e){e._closedPromise=c((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function k(e,t){void 0!==e._closedPromise_reject&&(f(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function E(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let C=t("[[AbortSteps]]"),R=t("[[ErrorSteps]]"),A=t("[[CancelSteps]]"),T=t("[[PullSteps]]"),P=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},O=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function I(e,t){if(void 0!==e&&!("object"==typeof e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function N(e,t){if("function"!=typeof e)throw TypeError(`${t} is not a function.`)}function j(e,t){if(!("object"==typeof e&&null!==e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function B(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function U(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function L(e){return Number(e)}function M(e,t){var r,i;let n=Number.MAX_SAFE_INTEGER,a=Number(e);if(!P(a=0===(r=a)?0:r))throw TypeError(`${t} is not a finite number`);if((a=0===(i=O(a))?0:i)<0||a>n)throw TypeError(`${t} is outside the accepted range of 0 to ${n}, inclusive`);return P(a)&&0!==a?a:0}function D(e,t){if(!tq(e))throw TypeError(`${t} is not a ReadableStream.`)}function K(e){return new V(e)}function q(e,t){e._reader._readRequests.push(t)}function $(e,t,r){let i=e._reader._readRequests.shift();r?i._closeSteps():i._chunkSteps(t)}function F(e){return e._reader._readRequests.length}function z(e){let t=e._reader;return!!(void 0!==t&&H(t))}class V{constructor(e){if(B(e,1,"ReadableStreamDefaultReader"),D(e,"First parameter"),t$(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");b(this,e),this._readRequests=new v}get closed(){return H(this)?this._closedPromise:l(G("closed"))}cancel(e){return H(this)?void 0===this._ownerReadableStream?l(_("cancel")):w(this,e):l(G("cancel"))}read(){let e,t;if(!H(this))return l(G("read"));if(void 0===this._ownerReadableStream)return l(_("read from"));let r=c((r,i)=>{e=r,t=i});return W(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!H(this))throw G("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}}}function H(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_readRequests"))&&e instanceof V}function W(e,t){let r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[T](t)}function G(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(V.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(V.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let J=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Y{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?u(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?u(this._ongoingPromise,t,t):t()}_nextSteps(){let e,t;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let r=this._reader;if(void 0===r._ownerReadableStream)return l(_("iterate"));let i=c((r,i)=>{e=r,t=i});return W(r,{_chunkSteps:t=>{this._ongoingPromise=void 0,m(()=>e({value:t,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,S(r),e({value:void 0,done:!0})},_errorSteps:e=>{this._ongoingPromise=void 0,this._isFinished=!0,S(r),t(e)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(void 0===t._ownerReadableStream)return l(_("finish iterating"));if(!this._preventCancel){let r=w(t,e);return S(t),u(r,()=>({value:e,done:!0}),void 0)}return S(t),o({value:e,done:!0})}}let X={next(){return Q(this)?this._asyncIteratorImpl.next():l(Z("next"))},return(e){return Q(this)?this._asyncIteratorImpl.return(e):l(Z("return"))}};function Q(e){if(!n(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Y}catch(e){return!1}}function Z(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==J&&Object.setPrototypeOf(X,J);let ee=Number.isNaN||function(e){return e!=e};function et(e){return e.slice()}function er(e,t,r,i,n){new Uint8Array(e).set(new Uint8Array(r,i,n),t)}function ei(e,t,r){if(e.slice)return e.slice(t,r);let i=r-t,n=new ArrayBuffer(i);return er(n,0,e,t,i),n}function en(e){let t=ei(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ea(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function es(e,t,r){if(!(!("number"!=typeof r||ee(r))&&!(r<0))||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function eo(e){e._queue=new v,e._queueTotalSize=0}class el{constructor(){throw TypeError("Illegal constructor")}get view(){if(!ed(this))throw eN("view");return this._view}respond(e){if(!ed(this))throw eN("respond");if(B(e,1,"respond"),e=M(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");this._view.buffer,eP(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ed(this))throw eN("respondWithNewView");if(B(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");e.buffer,eO(this._associatedReadableByteStreamController,e)}}Object.defineProperties(el.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(el.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ec{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!eu(this))throw ej("byobRequest");return eA(this)}get desiredSize(){if(!eu(this))throw ej("desiredSize");return eT(this)}close(){if(!eu(this))throw ej("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);eE(this)}enqueue(e){if(!eu(this))throw ej("enqueue");if(B(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);eC(this,e)}error(e){if(!eu(this))throw ej("error");eR(this,e)}[A](e){ep(this),eo(this);let t=this._cancelAlgorithm(e);return ek(this),t}[T](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0){let t=this._queue.shift();this._queueTotalSize-=t.byteLength,eb(this);let r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e._chunkSteps(r);return}let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}let i={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}q(t,e),eh(this)}}function eu(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))&&e instanceof ec}function ed(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))&&e instanceof el}function eh(e){if(function(e){let t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(z(t)&&F(t)>0||eL(t)&&eU(t)>0||eT(e)>0)}(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,d(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,eh(e))},t=>{eR(e,t)})}}function ep(e){ew(e),e._pendingPullIntos=new v}function ef(e,t){let r=!1;"closed"===e._state&&(r=!0);let i=em(t);"default"===t.readerType?$(e,i,r):function(e,t,r){let i=e._reader._readIntoRequests.shift();r?i._closeSteps(t):i._chunkSteps(t)}(e,i,r)}function em(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function eg(e,t,r,i){e._queue.push({buffer:t,byteOffset:r,byteLength:i}),e._queueTotalSize+=i}function ey(e,t){let r=t.elementSize,i=t.bytesFilled-t.bytesFilled%r,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+n,s=a-a%r,o=n,l=!1;s>i&&(o=s-t.bytesFilled,l=!0);let c=e._queue;for(;o>0;){let r=c.peek(),i=Math.min(o,r.byteLength),n=t.byteOffset+t.bytesFilled;er(t.buffer,n,r.buffer,r.byteOffset,i),r.byteLength===i?c.shift():(r.byteOffset+=i,r.byteLength-=i),e._queueTotalSize-=i,ev(e,i,t),o-=i}return l}function ev(e,t,r){r.bytesFilled+=t}function eb(e){0===e._queueTotalSize&&e._closeRequested?(ek(e),tz(e._controlledReadableByteStream)):eh(e)}function ew(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function eS(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();ey(e,t)&&(ex(e),ef(e._controlledReadableByteStream,t))}}function e_(e,t){let r=e._pendingPullIntos.peek();ew(e),"closed"===e._controlledReadableByteStream._state?function(e,t){let r=e._controlledReadableByteStream;if(eL(r))for(;eU(r)>0;)ef(r,ex(e))}(e):function(e,t,r){if(ev(e,t,r),r.bytesFilled<r.elementSize)return;ex(e);let i=r.bytesFilled%r.elementSize;if(i>0){let t=r.byteOffset+r.bytesFilled,n=ei(r.buffer,t-i,t);eg(e,n,0,n.byteLength)}r.bytesFilled-=i,ef(e._controlledReadableByteStream,r),eS(e)}(e,t,r),eh(e)}function ex(e){return e._pendingPullIntos.shift()}function ek(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function eE(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw eR(e,t),t}ek(e),tz(t)}}function eC(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let i=t.buffer,n=t.byteOffset,a=t.byteLength;if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}ew(e),z(r)?0===F(r)?eg(e,i,n,a):(e._pendingPullIntos.length>0&&ex(e),$(r,new Uint8Array(i,n,a),!1)):eL(r)?(eg(e,i,n,a),eS(e)):eg(e,i,n,a),eh(e)}function eR(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(ep(e),eo(e),ek(e),tV(r,t))}function eA(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=Object.create(el.prototype);i._associatedReadableByteStreamController=e,i._view=r,e._byobRequest=i}return e._byobRequest}function eT(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function eP(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=r.buffer,e_(e,t)}function eO(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let i=t.byteLength;r.buffer=t.buffer,e_(e,i)}function eI(e,t,r,i,n,a,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,eo(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=i,t._cancelAlgorithm=n,t._autoAllocateChunkSize=s,t._pendingPullIntos=new v,e._readableStreamController=t,d(o(r()),()=>{t._started=!0,eh(t)},e=>{eR(t,e)})}function eN(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function ej(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function eB(e,t){e._reader._readIntoRequests.push(t)}function eU(e){return e._reader._readIntoRequests.length}function eL(e){let t=e._reader;return!!(void 0!==t&&eD(t))}Object.defineProperties(ec.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ec.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class eM{constructor(e){if(B(e,1,"ReadableStreamBYOBReader"),D(e,"First parameter"),t$(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!eu(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");b(this,e),this._readIntoRequests=new v}get closed(){return eD(this)?this._closedPromise:l(eq("closed"))}cancel(e){return eD(this)?void 0===this._ownerReadableStream?l(_("cancel")):w(this,e):l(eq("cancel"))}read(e){let t,r;if(!eD(this))return l(eq("read"));if(!ArrayBuffer.isView(e))return l(TypeError("view must be an array buffer view"));if(0===e.byteLength)return l(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return l(TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return l(_("read from"));let i=c((e,i)=>{t=e,r=i});return eK(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),i}releaseLock(){if(!eD(this))throw eq("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}}}function eD(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))&&e instanceof eM}function eK(e,t,r){let i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?r._errorSteps(i._storedError):function(e,t,r){let i=e._controlledReadableByteStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);let a=t.constructor,s=t.buffer,o={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(o),eB(i,r);return}if("closed"===i._state){let e=new a(o.buffer,o.byteOffset,0);r._closeSteps(e);return}if(e._queueTotalSize>0){if(ey(e,o)){let t=em(o);eb(e),r._chunkSteps(t);return}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");eR(e,t),r._errorSteps(t);return}}e._pendingPullIntos.push(o),eB(i,r),eh(e)}(i._readableStreamController,t,r)}function eq(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function e$(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(ee(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function eF(e){let{size:t}=e;return t||(()=>1)}function ez(e,t){I(e,t);let r=null==e?void 0:e.highWaterMark,i=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:L(r),size:void 0===i?void 0:(N(i,`${t} has member 'size' that`),e=>L(i(e)))}}function eV(e,t){if(!eJ(e))throw TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(eM.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eM.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let eH="function"==typeof AbortController;class eW{constructor(e={},t={}){void 0===e?e=null:j(e,"First parameter");let r=ez(t,"Second parameter"),i=function(e,t){I(e,t);let r=null==e?void 0:e.abort,i=null==e?void 0:e.close,n=null==e?void 0:e.start,a=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:(N(r,`${t} has member 'abort' that`),t=>y(r,e,[t])),close:void 0===i?void 0:(N(i,`${t} has member 'close' that`),()=>y(i,e,[])),start:void 0===n?void 0:(N(n,`${t} has member 'start' that`),t=>g(n,e,[t])),write:void 0===s?void 0:(N(s,`${t} has member 'write' that`),(t,r)=>y(s,e,[t,r])),type:a}}(e,"First parameter");if(eG(this),void 0!==i.type)throw RangeError("Invalid type is specified");let n=eF(r);(function(e,t,r,i){let n=Object.create(tr.prototype),a=()=>void 0,s=()=>o(void 0),l=()=>o(void 0),c=()=>o(void 0);void 0!==t.start&&(a=()=>t.start(n)),void 0!==t.write&&(s=e=>t.write(e,n)),void 0!==t.close&&(l=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),tn(e,n,a,s,l,c,r,i)})(this,i,e$(r,1),n)}get locked(){if(!eJ(this))throw tu("locked");return eY(this)}abort(e){return eJ(this)?eY(this)?l(TypeError("Cannot abort a stream that already has a writer")):eX(this,e):l(tu("abort"))}close(){return eJ(this)?eY(this)?l(TypeError("Cannot close a stream that already has a writer")):e2(this)?l(TypeError("Cannot close an already-closing stream")):eQ(this):l(tu("close"))}getWriter(){if(!eJ(this))throw tu("getWriter");return new e4(this)}}function eG(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new v,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function eJ(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))&&e instanceof eW}function eY(e){return void 0!==e._writer}function eX(e,t){var r;if("closed"===e._state||"errored"===e._state)return o(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();let i=e._state;if("closed"===i||"errored"===i)return o(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===i&&(n=!0,t=void 0);let a=c((r,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}});return e._pendingAbortRequest._promise=a,n||e0(e,t),a}function eQ(e){var t;let r=e._state;if("closed"===r||"errored"===r)return l(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let i=c((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===r&&tw(n),es(t=e._writableStreamController,tt,0),to(t),i}function eZ(e,t){if("writable"===e._state){e0(e,t);return}e1(e)}function e0(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let i=e._writer;void 0!==i&&e7(i,t),!(void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest)&&r._started&&e1(e)}function e1(e){e._state="errored",e._writableStreamController[R]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new v,void 0===e._pendingAbortRequest){e3(e);return}let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),e3(e);return}d(e._writableStreamController[C](r._reason),()=>{r._resolve(),e3(e)},t=>{r._reject(t),e3(e)})}function e2(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function e3(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&tm(t,e._storedError)}function e8(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?ty(r):tw(r)),e._backpressure=t}Object.defineProperties(eW.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eW.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class e4{constructor(e){if(B(e,1,"WritableStreamDefaultWriter"),eV(e,"First parameter"),eY(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let t=e._state;if("writable"===t)!e2(e)&&e._backpressure?ty(this):(ty(this),tw(this)),tf(this);else if("erroring"===t)tv(this,e._storedError),tf(this);else if("closed"===t)ty(this),tw(this),tf(this),tg(this);else{let t=e._storedError;tv(this,t),tf(this),tm(this,t)}}get closed(){return e6(this)?this._closedPromise:l(th("closed"))}get desiredSize(){if(!e6(this))throw th("desiredSize");if(void 0===this._ownerWritableStream)throw tp("desiredSize");return function(e){let t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:ts(t._writableStreamController)}(this)}get ready(){return e6(this)?this._readyPromise:l(th("ready"))}abort(e){return e6(this)?void 0===this._ownerWritableStream?l(tp("abort")):eX(this._ownerWritableStream,e):l(th("abort"))}close(){if(!e6(this))return l(th("close"));let e=this._ownerWritableStream;return void 0===e?l(tp("close")):e2(e)?l(TypeError("Cannot close an already-closing stream")):e5(this)}releaseLock(){if(!e6(this))throw th("releaseLock");void 0!==this._ownerWritableStream&&e9(this)}write(e){return e6(this)?void 0===this._ownerWritableStream?l(tp("write to")):te(this,e):l(th("write"))}}function e6(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))&&e instanceof e4}function e5(e){return eQ(e._ownerWritableStream)}function e7(e,t){"pending"===e._readyPromiseState?tb(e,t):tv(e,t)}function e9(e){var t,r;let i=e._ownerWritableStream,n=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");e7(e,n),"pending"===e._closedPromiseState?tm(e,n):(t=e,r=n,tf(t),tm(t,r)),i._writer=void 0,e._ownerWritableStream=void 0}function te(e,t){let r=e._ownerWritableStream,i=r._writableStreamController,n=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return tl(e,t),1}}(i,t);if(r!==e._ownerWritableStream)return l(tp("write to"));let a=r._state;if("errored"===a)return l(r._storedError);if(e2(r)||"closed"===a)return l(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return l(r._storedError);let s=c((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{es(e,t,r)}catch(t){tl(e,t);return}let i=e._controlledWritableStream;e2(i)||"writable"!==i._state||e8(i,0>=ts(e)),to(e)}(i,t,n),s}Object.defineProperties(e4.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(e4.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let tt={};class tr{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!ti(this))throw td("abortReason");return this._abortReason}get signal(){if(!ti(this))throw td("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!ti(this))throw td("error");"writable"===this._controlledWritableStream._state&&tc(this,e)}[C](e){let t=this._abortAlgorithm(e);return ta(this),t}[R](){eo(this)}}function ti(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))&&e instanceof tr}function tn(e,t,r,i,n,a,s,l){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,eo(t),t._abortReason=void 0,t._abortController=function(){if(eH)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=l,t._strategyHWM=s,t._writeAlgorithm=i,t._closeAlgorithm=n,t._abortAlgorithm=a,e8(e,0>=ts(t)),d(o(r()),()=>{t._started=!0,to(t)},r=>{t._started=!0,eZ(e,r)})}function ta(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ts(e){return e._strategyHWM-e._queueTotalSize}function to(e){let t=e._controlledWritableStream;if(!e._started||void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state){e1(t);return}if(0===e._queue.length)return;let r=e._queue.peek().value;r===tt?function(e){let t=e._controlledWritableStream;t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,ea(e);let r=e._closeAlgorithm();ta(e),d(r,()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let t=e._writer;void 0!==t&&tg(t)}(t)},e=>{t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),eZ(t,e)})}(e):function(e,t){let r=e._controlledWritableStream;r._inFlightWriteRequest=r._writeRequests.shift(),d(e._writeAlgorithm(t),()=>{r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0;let t=r._state;ea(e),e2(r)||"writable"!==t||e8(r,0>=ts(e)),to(e)},t=>{"writable"===r._state&&ta(e),r._inFlightWriteRequest._reject(t),r._inFlightWriteRequest=void 0,eZ(r,t)})}(e,r)}function tl(e,t){"writable"===e._controlledWritableStream._state&&tc(e,t)}function tc(e,t){let r=e._controlledWritableStream;ta(e),e0(r,t)}function tu(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function td(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function th(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function tp(e){return TypeError("Cannot "+e+" a stream using a released writer")}function tf(e){e._closedPromise=c((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function tm(e,t){void 0!==e._closedPromise_reject&&(f(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function tg(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ty(e){e._readyPromise=c((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function tv(e,t){ty(e),tb(e,t)}function tb(e,t){void 0!==e._readyPromise_reject&&(f(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function tw(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(tr.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tr.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let tS="undefined"!=typeof DOMException?DOMException:void 0,t_=!function(e){if(!("function"==typeof e||"object"==typeof e))return!1;try{return new e,!0}catch(e){return!1}}(tS)?function(){let e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}():tS;function tx(e,t,i,n,a,s){let h=K(e),m=new e4(t);e._disturbed=!0;let g=!1,y=o(void 0);return c((v,b)=>{var w,_;let x;if(void 0!==s){if(x=()=>{let r=new t_("Aborted","AbortError"),i=[];n||i.push(()=>"writable"===t._state?eX(t,r):o(void 0)),a||i.push(()=>"readable"===e._state?tF(e,r):o(void 0)),C(()=>Promise.all(i.map(e=>e())),!0,r)},s.aborted){x();return}s.addEventListener("abort",x)}if(E(e,h._closedPromise,e=>{n?R(!0,e):C(()=>eX(t,e),!0,e)}),E(t,m._closedPromise,t=>{a?R(!0,t):C(()=>tF(e,t),!0,t)}),w=h._closedPromise,_=()=>{i?R():C(()=>(function(e){let t=e._ownerWritableStream,r=t._state;return e2(t)||"closed"===r?o(void 0):"errored"===r?l(t._storedError):e5(e)})(m))},"closed"===e._state?_():d(w,_),e2(t)||"closed"===t._state){let t=TypeError("the destination writable stream closed before all data could be piped to it");a?R(!0,t):C(()=>tF(e,t),!0,t)}function k(){let e=y;return u(y,()=>e!==y?k():void 0)}function E(e,t,r){"errored"===e._state?r(e._storedError):p(t,r)}function C(e,r,i){!g&&((g=!0,"writable"!==t._state||e2(t))?n():d(k(),n));function n(){d(e(),()=>A(r,i),e=>A(!0,e))}}function R(e,r){!g&&((g=!0,"writable"!==t._state||e2(t))?A(e,r):d(k(),()=>A(e,r)))}function A(e,t){e9(m),S(h),void 0!==s&&s.removeEventListener("abort",x),e?b(t):v(void 0)}f(c((e,t)=>{!function i(n){n?e():u(g?o(!0):u(m._readyPromise,()=>c((e,t)=>{W(h,{_chunkSteps:t=>{y=u(te(m,t),void 0,r),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})),i,t)}(!1)}))})}class tk{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!tE(this))throw tB("desiredSize");return tI(this)}close(){if(!tE(this))throw tB("close");if(!tN(this))throw TypeError("The stream is not in a state that permits close");tT(this)}enqueue(e){if(!tE(this))throw tB("enqueue");if(!tN(this))throw TypeError("The stream is not in a state that permits enqueue");return tP(this,e)}error(e){if(!tE(this))throw tB("error");tO(this,e)}[A](e){eo(this);let t=this._cancelAlgorithm(e);return tA(this),t}[T](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=ea(this);this._closeRequested&&0===this._queue.length?(tA(this),tz(t)):tC(this),e._chunkSteps(r)}else q(t,e),tC(this)}}function tE(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))&&e instanceof tk}function tC(e){if(tR(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,d(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,tC(e))},t=>{tO(e,t)})}}function tR(e){let t=e._controlledReadableStream;return!!tN(e)&&!!e._started&&!!(t$(t)&&F(t)>0||tI(e)>0)}function tA(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tT(e){if(!tN(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(tA(e),tz(t))}function tP(e,t){if(!tN(e))return;let r=e._controlledReadableStream;if(t$(r)&&F(r)>0)$(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw tO(e,t),t}try{es(e,t,r)}catch(t){throw tO(e,t),t}}tC(e)}function tO(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(eo(e),tA(e),tV(r,t))}function tI(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function tN(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function tj(e,t,r,i,n,a,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,eo(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._pullAlgorithm=i,t._cancelAlgorithm=n,e._readableStreamController=t,d(o(r()),()=>{t._started=!0,tC(t)},e=>{tO(t,e)})}function tB(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function tU(e,t){I(e,t);let r=null==e?void 0:e.preventAbort,i=null==e?void 0:e.preventCancel,n=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(`${t} is not an AbortSignal.`)}(a,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!i,preventClose:!!n,signal:a}}Object.defineProperties(tk.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tk.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class tL{constructor(e={},t={}){void 0===e?e=null:j(e,"First parameter");let r=ez(t,"Second parameter"),i=function(e,t){I(e,t);let r=null==e?void 0:e.autoAllocateChunkSize,i=null==e?void 0:e.cancel,n=null==e?void 0:e.pull,a=null==e?void 0:e.start,s=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===r?void 0:M(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:(N(i,`${t} has member 'cancel' that`),t=>y(i,e,[t])),pull:void 0===n?void 0:(N(n,`${t} has member 'pull' that`),t=>y(n,e,[t])),start:void 0===a?void 0:(N(a,`${t} has member 'start' that`),t=>g(a,e,[t])),type:void 0===s?void 0:function(e,t){if("bytes"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}(s,`${t} has member 'type' that`)}}(e,"First parameter");if(tK(this),"bytes"===i.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){let i=Object.create(ec.prototype),n=()=>void 0,a=()=>o(void 0),s=()=>o(void 0);void 0!==t.start&&(n=()=>t.start(i)),void 0!==t.pull&&(a=()=>t.pull(i)),void 0!==t.cancel&&(s=e=>t.cancel(e));let l=t.autoAllocateChunkSize;if(0===l)throw TypeError("autoAllocateChunkSize must be greater than 0");eI(e,i,n,a,s,r,l)}(this,i,e$(r,0))}else{let e=eF(r);!function(e,t,r,i){let n=Object.create(tk.prototype),a=()=>void 0,s=()=>o(void 0),l=()=>o(void 0);void 0!==t.start&&(a=()=>t.start(n)),void 0!==t.pull&&(s=()=>t.pull(n)),void 0!==t.cancel&&(l=e=>t.cancel(e)),tj(e,n,a,s,l,r,i)}(this,i,e$(r,1),e)}}get locked(){if(!tq(this))throw tH("locked");return t$(this)}cancel(e){return tq(this)?t$(this)?l(TypeError("Cannot cancel a stream that already has a reader")):tF(this,e):l(tH("cancel"))}getReader(e){if(!tq(this))throw tH("getReader");return void 0===function(e,t){I(e,t);let r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:function(e,t){if("byob"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?K(this):new eM(this)}pipeThrough(e,t={}){if(!tq(this))throw tH("pipeThrough");B(e,1,"pipeThrough");let r=function(e,t){I(e,t);let r=null==e?void 0:e.readable;U(r,"readable","ReadableWritablePair"),D(r,`${t} has member 'readable' that`);let i=null==e?void 0:e.writable;return U(i,"writable","ReadableWritablePair"),eV(i,`${t} has member 'writable' that`),{readable:r,writable:i}}(e,"First parameter"),i=tU(t,"Second parameter");if(t$(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(eY(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return f(tx(this,r.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),r.readable}pipeTo(e,t={}){let r;if(!tq(this))return l(tH("pipeTo"));if(void 0===e)return l("Parameter 1 is required in 'pipeTo'.");if(!eJ(e))return l(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=tU(t,"Second parameter")}catch(e){return l(e)}return t$(this)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):eY(e)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tx(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!tq(this))throw tH("tee");let e=eu(this._readableStreamController)?function(e){let t,r,i,n,a,s=K(e),l=!1,u=!1,d=!1,h=!1,f=!1,g=c(e=>{a=e});function y(e){p(e._closedPromise,t=>{e===s&&(eR(i._readableStreamController,t),eR(n._readableStreamController,t),h&&f||a(void 0))})}function v(){eD(s)&&(S(s),y(s=K(e))),W(s,{_chunkSteps:t=>{m(()=>{u=!1,d=!1;let r=t;if(!h&&!f)try{r=en(t)}catch(t){eR(i._readableStreamController,t),eR(n._readableStreamController,t),a(tF(e,t));return}h||eC(i._readableStreamController,t),f||eC(n._readableStreamController,r),l=!1,u?w():d&&_()})},_closeSteps:()=>{l=!1,h||eE(i._readableStreamController),f||eE(n._readableStreamController),i._readableStreamController._pendingPullIntos.length>0&&eP(i._readableStreamController,0),n._readableStreamController._pendingPullIntos.length>0&&eP(n._readableStreamController,0),h&&f||a(void 0)},_errorSteps:()=>{l=!1}})}function b(t,r){H(s)&&(S(s),y(s=new eM(e)));let o=r?n:i,c=r?i:n;eK(s,t,{_chunkSteps:t=>{m(()=>{u=!1,d=!1;let i=r?f:h;if(r?h:f)i||eO(o._readableStreamController,t);else{let r;try{r=en(t)}catch(t){eR(o._readableStreamController,t),eR(c._readableStreamController,t),a(tF(e,t));return}i||eO(o._readableStreamController,t),eC(c._readableStreamController,r)}l=!1,u?w():d&&_()})},_closeSteps:e=>{l=!1;let t=r?f:h,i=r?h:f;t||eE(o._readableStreamController),i||eE(c._readableStreamController),void 0!==e&&(t||eO(o._readableStreamController,e),!i&&c._readableStreamController._pendingPullIntos.length>0&&eP(c._readableStreamController,0)),t&&i||a(void 0)},_errorSteps:()=>{l=!1}})}function w(){if(l)return u=!0,o(void 0);l=!0;let e=eA(i._readableStreamController);return null===e?v():b(e._view,!1),o(void 0)}function _(){if(l)return d=!0,o(void 0);l=!0;let e=eA(n._readableStreamController);return null===e?v():b(e._view,!0),o(void 0)}function x(){}return i=tD(x,w,function(i){if(h=!0,t=i,f){let i=tF(e,et([t,r]));a(i)}return g}),n=tD(x,_,function(i){if(f=!0,r=i,h){let i=tF(e,et([t,r]));a(i)}return g}),y(s),[i,n]}(this):function(e,t){let r,i,n,a,s;let l=K(e),u=!1,d=!1,h=!1,f=!1,g=c(e=>{s=e});function y(){return u?d=!0:(u=!0,W(l,{_chunkSteps:e=>{m(()=>{d=!1,h||tP(n._readableStreamController,e),f||tP(a._readableStreamController,e),u=!1,d&&y()})},_closeSteps:()=>{u=!1,h||tT(n._readableStreamController),f||tT(a._readableStreamController),h&&f||s(void 0)},_errorSteps:()=>{u=!1}})),o(void 0)}function v(){}return n=tM(v,y,function(t){if(h=!0,r=t,f){let t=tF(e,et([r,i]));s(t)}return g}),a=tM(v,y,function(t){if(f=!0,i=t,h){let t=tF(e,et([r,i]));s(t)}return g}),p(l._closedPromise,e=>{tO(n._readableStreamController,e),tO(a._readableStreamController,e),h&&f||s(void 0)}),[n,a]}(this);return et(e)}values(e){if(!tq(this))throw tH("values");return function(e,t){let r=new Y(K(e),t),i=Object.create(X);return i._asyncIteratorImpl=r,i}(this,(I(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}).preventCancel)}}function tM(e,t,r,i=1,n=()=>1){let a=Object.create(tL.prototype);return tK(a),tj(a,Object.create(tk.prototype),e,t,r,i,n),a}function tD(e,t,r){let i=Object.create(tL.prototype);return tK(i),eI(i,Object.create(ec.prototype),e,t,r,0,void 0),i}function tK(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function tq(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))&&e instanceof tL}function t$(e){return void 0!==e._reader}function tF(e,t){if(e._disturbed=!0,"closed"===e._state)return o(void 0);if("errored"===e._state)return l(e._storedError);tz(e);let i=e._reader;return void 0!==i&&eD(i)&&(i._readIntoRequests.forEach(e=>{e._closeSteps(void 0)}),i._readIntoRequests=new v),u(e._readableStreamController[A](t),r,void 0)}function tz(e){e._state="closed";let t=e._reader;void 0!==t&&(E(t),H(t)&&(t._readRequests.forEach(e=>{e._closeSteps()}),t._readRequests=new v))}function tV(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(k(r,t),H(r)?(r._readRequests.forEach(e=>{e._errorSteps(t)}),r._readRequests=new v):(r._readIntoRequests.forEach(e=>{e._errorSteps(t)}),r._readIntoRequests=new v))}function tH(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function tW(e,t){I(e,t);let r=null==e?void 0:e.highWaterMark;return U(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:L(r)}}Object.defineProperties(tL.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tL.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(tL.prototype,t.asyncIterator,{value:tL.prototype.values,writable:!0,configurable:!0});let tG=e=>e.byteLength;try{Object.defineProperty(tG,"name",{value:"size",configurable:!0})}catch(e){}class tJ{constructor(e){B(e,1,"ByteLengthQueuingStrategy"),e=tW(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!tX(this))throw tY("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!tX(this))throw tY("size");return tG}}function tY(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function tX(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark"))&&e instanceof tJ}Object.defineProperties(tJ.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tJ.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let tQ=()=>1;try{Object.defineProperty(tQ,"name",{value:"size",configurable:!0})}catch(e){}class tZ{constructor(e){B(e,1,"CountQueuingStrategy"),e=tW(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!t1(this))throw t0("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!t1(this))throw t0("size");return tQ}}function t0(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function t1(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark"))&&e instanceof tZ}Object.defineProperties(tZ.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tZ.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class t2{constructor(e={},t={},r={}){let i;void 0===e&&(e=null);let n=ez(t,"Second parameter"),a=ez(r,"Third parameter"),s=function(e,t){I(e,t);let r=null==e?void 0:e.flush,i=null==e?void 0:e.readableType,n=null==e?void 0:e.start,a=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:(N(r,`${t} has member 'flush' that`),t=>y(r,e,[t])),readableType:i,start:void 0===n?void 0:(N(n,`${t} has member 'start' that`),t=>g(n,e,[t])),transform:void 0===a?void 0:(N(a,`${t} has member 'transform' that`),(t,r)=>y(a,e,[t,r])),writableType:s}}(e,"First parameter");if(void 0!==s.readableType)throw RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw RangeError("Invalid writableType specified");let d=e$(a,0),h=eF(a),p=e$(n,1),f=eF(n);(function(e,t,r,i,n,a){function s(){return t}e._writable=function(e,t,r,i,n=1,a=()=>1){let s=Object.create(eW.prototype);return eG(s),tn(s,Object.create(tr.prototype),e,t,r,i,n,a),s}(s,function(t){return function(e,t){let r=e._transformStreamController;return e._backpressure?u(e._backpressureChangePromise,()=>{let i=e._writable;if("erroring"===i._state)throw i._storedError;return rt(r,t)},void 0):rt(r,t)}(e,t)},function(){return function(e){let t=e._readable,r=e._transformStreamController,i=r._flushAlgorithm();return t9(r),u(i,()=>{if("errored"===t._state)throw t._storedError;tT(t._readableStreamController)},r=>{throw t8(e,r),t._storedError})}(e)},function(t){return t8(e,t),o(void 0)},r,i),e._readable=tM(s,function(){return t6(e,!1),e._backpressureChangePromise},function(t){return t4(e,t),o(void 0)},n,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,t6(e,!0),e._transformStreamController=void 0})(this,c(e=>{i=e}),p,f,d,h),function(e,t){var r,i;let n=Object.create(t5.prototype),a=e=>{try{return re(n,e),o(void 0)}catch(e){return l(e)}},s=()=>o(void 0);void 0!==t.transform&&(a=e=>t.transform(e,n)),void 0!==t.flush&&(s=()=>t.flush(n)),r=a,i=s,n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=r,n._flushAlgorithm=i}(this,s),void 0!==s.start?i(s.start(this._transformStreamController)):i(void 0)}get readable(){if(!t3(this))throw ri("readable");return this._readable}get writable(){if(!t3(this))throw ri("writable");return this._writable}}function t3(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))&&e instanceof t2}function t8(e,t){tO(e._readable._readableStreamController,t),t4(e,t)}function t4(e,t){t9(e._transformStreamController),tl(e._writable._writableStreamController,t),e._backpressure&&t6(e,!1)}function t6(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=c(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(t2.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(t2.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class t5{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!t7(this))throw rr("desiredSize");return tI(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!t7(this))throw rr("enqueue");re(this,e)}error(e){if(!t7(this))throw rr("error");t8(this._controlledTransformStream,e)}terminate(){if(!t7(this))throw rr("terminate");(function(e){let t=e._controlledTransformStream;tT(t._readable._readableStreamController),t4(t,TypeError("TransformStream terminated"))})(this)}}function t7(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))&&e instanceof t5}function t9(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function re(e,t){let r=e._controlledTransformStream,i=r._readable._readableStreamController;if(!tN(i))throw TypeError("Readable side is not in a state that permits enqueue");try{tP(i,t)}catch(e){throw t4(r,e),r._readable._storedError}!tR(i)!==r._backpressure&&t6(r,!0)}function rt(e,t){return u(e._transformAlgorithm(t),void 0,t=>{throw t8(e._controlledTransformStream,t),t})}function rr(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ri(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(t5.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(t5.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=tJ,e.CountQueuingStrategy=tZ,e.ReadableByteStreamController=ec,e.ReadableStream=tL,e.ReadableStreamBYOBReader=eM,e.ReadableStreamBYOBRequest=el,e.ReadableStreamDefaultController=tk,e.ReadableStreamDefaultReader=V,e.TransformStream=t2,e.TransformStreamDefaultController=t5,e.WritableStream=eW,e.WritableStreamDefaultController=tr,e.WritableStreamDefaultWriter=e4,Object.defineProperty(e,"__esModule",{value:!0})}(p.exports)),p.exports))}try{let{Blob:e}=r(14300);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0,r=this;return new ReadableStream({type:"bytes",async pull(e){let i=r.slice(t,Math.min(r.size,t+65536)),n=await i.arrayBuffer();t+=n.byteLength,e.enqueue(new Uint8Array(n)),t===r.size&&e.close()}})})}catch(e){}async function*f(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r)){if(t){let e=r.byteOffset,t=r.byteOffset+r.byteLength;for(;e!==t;){let i=Math.min(t-e,65536),n=r.buffer.slice(e,e+i);e+=n.byteLength,yield new Uint8Array(n)}}else yield r}else{let e=0;for(;e!==r.size;){let t=r.slice(e,Math.min(r.size,e+65536)),i=await t.arrayBuffer();e+=i.byteLength,yield new Uint8Array(i)}}}let m=class e{#r=[];#i="";#n=0;#a="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});let i=new TextEncoder;for(let r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:i.encode(`${r}`);let n=ArrayBuffer.isView(t)?t.byteLength:t.size;n&&(this.#n+=n,this.#r.push(t))}this.#a=`${void 0===r.endings?"transparent":r.endings}`;let n=void 0===r.type?"":String(r.type);this.#i=/^[\x20-\x7E]*$/.test(n)?n:""}get size(){return this.#n}get type(){return this.#i}async text(){let e=new TextDecoder,t="";for await(let r of f(this.#r,!1))t+=e.decode(r,{stream:!0});return t+e.decode()}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let r of f(this.#r,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){let e=f(this.#r,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,i=""){let{size:n}=this,a=t<0?Math.max(n+t,0):Math.min(t,n),s=r<0?Math.max(n+r,0):Math.min(r,n),o=Math.max(s-a,0),l=this.#r,c=[],u=0;for(let e of l){if(u>=o)break;let t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(a&&t<=a)a-=t,s-=t;else{let r;ArrayBuffer.isView(e)?u+=(r=e.subarray(a,Math.min(t,s))).byteLength:u+=(r=e.slice(a,Math.min(t,s))).size,s-=t,c.push(r),a=0}}let d=new e([],{type:String(i).toLowerCase()});return d.#n=o,d.#r=c,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(m.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});let g=m,y=class extends g{#s=0;#o="";constructor(e,t,r={}){if(arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});let i=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(i)||(this.#s=i),this.#o=String(t)}get name(){return this.#o}get lastModified(){return this.#s}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof g&&/^(File)$/.test(e[Symbol.toStringTag])}};/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */var{toStringTag:v,iterator:b,hasInstance:w}=Symbol,S=Math.random,_="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),x=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[v])?[(r=void 0!==r?r+"":"File"==t[v]?t.name:"blob",e),t.name!==r||"blob"==t[v]?new y([t],r,t):t]:[e,t+""]),k=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),E=(e,t,r)=>{if(t.length<r)throw TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};let C=class{#l=[];constructor(...e){if(e.length)throw TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[v](){return"FormData"}[b](){return this.entries()}static[w](e){return e&&"object"==typeof e&&"FormData"===e[v]&&!_.some(t=>"function"!=typeof e[t])}append(...e){E("append",arguments,2),this.#l.push(x(...e))}delete(e){E("delete",arguments,1),e+="",this.#l=this.#l.filter(([t])=>t!==e)}get(e){E("get",arguments,1),e+="";for(var t=this.#l,r=t.length,i=0;i<r;i++)if(t[i][0]===e)return t[i][1];return null}getAll(e,t){return E("getAll",arguments,1),t=[],e+="",this.#l.forEach(r=>r[0]===e&&t.push(r[1])),t}has(e){return E("has",arguments,1),e+="",this.#l.some(t=>t[0]===e)}forEach(e,t){for(var[r,i]of(E("forEach",arguments,1),this))e.call(t,i,r,this)}set(...e){E("set",arguments,2);var t=[],r=!0;e=x(...e),this.#l.forEach(i=>{i[0]===e[0]?r&&(r=!t.push(e)):t.push(i)}),r&&t.push(e),this.#l=t}*entries(){yield*this.#l}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};class R extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class A extends R{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}let T=Symbol.toStringTag,P=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[T],O=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[T]),I=e=>"object"==typeof e&&("AbortSignal"===e[T]||"EventTarget"===e[T]),N=(e,t)=>{let r=new URL(t).hostname,i=new URL(e).hostname;return r===i||r.endsWith(`.${i}`)},j=(e,t)=>new URL(t).protocol===new URL(e).protocol,B=l.promisify(s.pipeline),U=Symbol("Body internals");class L{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:P(e)?e=o.Buffer.from(e.toString()):O(e)||o.Buffer.isBuffer(e)||(l.types.isAnyArrayBuffer(e)?e=o.Buffer.from(e):ArrayBuffer.isView(e)?e=o.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof s||(e instanceof C?r=(e=function(e,t=g){var r=`${S()}${S()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],n=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((e,t)=>"string"==typeof e?i.push(n+k(t)+`"\r
\r
${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r
`):i.push(n+k(t)+`"; filename="${k(e.name,1)}"\r
Content-Type: ${e.type||"application/octet-stream"}\r
\r
`,e,"\r\n")),i.push(`--${r}--`),new t(i,{type:"multipart/form-data; boundary="+r})}(e)).type.split("=")[1]:e=o.Buffer.from(String(e))));let i=e;o.Buffer.isBuffer(e)?i=s.Readable.from(e):O(e)&&(i=s.Readable.from(e.stream())),this[U]={body:e,stream:i,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof s&&e.on("error",e=>{let t=e instanceof R?e:new A(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[U].error=t})}get body(){return this[U].stream}get bodyUsed(){return this[U].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await M(this);return e.slice(t,t+r)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let e=new C;for(let[t,r]of new URLSearchParams(await this.text()))e.append(t,r);return e}let{toFormData:t}=await r.e(682).then(r.t.bind(r,90682,19));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[U].body&&this[U].body.type||"";return new g([await this.arrayBuffer()],{type:e})}async json(){return JSON.parse(await this.text())}async text(){let e=await M(this);return new TextDecoder().decode(e)}buffer(){return M(this)}}async function M(e){if(e[U].disturbed)throw TypeError(`body used already for: ${e.url}`);if(e[U].disturbed=!0,e[U].error)throw e[U].error;let{body:t}=e;if(null===t||!(t instanceof s))return o.Buffer.alloc(0);let r=[],i=0;try{for await(let n of t){if(e.size>0&&i+n.length>e.size){let r=new A(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}i+=n.length,r.push(n)}}catch(t){throw t instanceof R?t:new A(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0===t.readableEnded||!0===t._readableState.ended)try{if(r.every(e=>"string"==typeof e))return o.Buffer.from(r.join(""));return o.Buffer.concat(r,i)}catch(t){throw new A(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}else throw new A(`Premature close of server response while trying to fetch ${e.url}`)}L.prototype.buffer=l.deprecate(L.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(L.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:l.deprecate(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});let D=(e,t)=>{let r,i;let{body:n}=e[U];if(e.bodyUsed)throw Error("cannot clone body after it is used");return n instanceof s&&"function"!=typeof n.getBoundary&&(r=new s.PassThrough({highWaterMark:t}),i=new s.PassThrough({highWaterMark:t}),n.pipe(r),n.pipe(i),e[U].stream=r,n=i),n},K=l.deprecate(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),q=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":P(e)?"application/x-www-form-urlencoded;charset=UTF-8":O(e)?e.type||null:o.Buffer.isBuffer(e)||l.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof C?`multipart/form-data; boundary=${t[U].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${K(e)}`:e instanceof s?null:"text/plain;charset=UTF-8",$=e=>{let{body:t}=e[U];return null===t?0:O(t)?t.size:o.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},F=async(e,{body:t})=>{null===t?e.end():await B(t,e)},z="function"==typeof i.validateHeaderName?i.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},V="function"==typeof i.validateHeaderValue?i.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let t=TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class H extends URLSearchParams{constructor(e){let t=[];if(e instanceof H)for(let[r,i]of Object.entries(e.raw()))t.push(...i.map(e=>[r,e]));else if(null==e);else if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");else{let r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw TypeError("Header pairs must be iterable");t=[...e].map(e=>{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw TypeError("Each header pair must be an iterable object");return[...e]}).map(e=>{if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");return[...e]})}}return super(t=t.length>0?t.map(([e,t])=>(z(e),V(e,String(t)),[String(e).toLowerCase(),String(t)])):void 0),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,i)=>(z(r),V(r,String(i)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(i)));case"delete":case"has":case"getAll":return r=>(z(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(let r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let r=this.getAll(t);return"host"===t?e[t]=r[0]:e[t]=r.length>1?r:r[0],e},{})}}Object.defineProperties(H.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));let W=new Set([301,302,303,307,308]),G=e=>W.has(e),J=Symbol("Response internals");class Y extends L{constructor(e=null,t={}){super(e,t);let r=null!=t.status?t.status:200,i=new H(t.headers);if(null!==e&&!i.has("Content-Type")){let t=q(e,this);t&&i.append("Content-Type",t)}this[J]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:i,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[J].type}get url(){return this[J].url||""}get status(){return this[J].status}get ok(){return this[J].status>=200&&this[J].status<300}get redirected(){return this[J].counter>0}get statusText(){return this[J].statusText}get headers(){return this[J].headers}get highWaterMark(){return this[J].highWaterMark}clone(){return new Y(D(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!G(t))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Y(null,{headers:{location:new URL(e).toString()},status:t})}static error(){let e=new Y(null,{status:0,statusText:""});return e[J].type="error",e}static json(e,t={}){let r=JSON.stringify(e);if(void 0===r)throw TypeError("data is not JSON serializable");let i=new H(t&&t.headers);return i.has("content-type")||i.set("content-type","application/json"),new Y(r,{...t,headers:i})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(Y.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});let X=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""};function Q(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}let Z=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function ee(e){return!!(/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||/^(blob|filesystem):$/.test(e.protocol))||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=u.isIP(t);return!!(4===r&&/^127\./.test(t)||6===r&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||!("localhost"===e.host||e.host.endsWith(".localhost"))&&"file:"===e.protocol}(e)}let et=Symbol("Request internals"),er=e=>"object"==typeof e&&"object"==typeof e[et],ei=l.deprecate(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class en extends L{constructor(e,t={}){let r;if(er(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw TypeError(`${r} is an url with embedded credentials.`);let i=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!er(t)&&"data"in t&&ei(),(null!=t.body||er(e)&&null!==e.body)&&("GET"===i||"HEAD"===i))throw TypeError("Request with GET/HEAD method cannot have body");let n=t.body?t.body:er(e)&&null!==e.body?D(e):null;super(n,{size:t.size||e.size||0});let a=new H(t.headers||e.headers||{});if(null!==n&&!a.has("Content-Type")){let e=q(n,this);e&&a.set("Content-Type",e)}let s=er(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&!I(s))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let o=null==t.referrer?e.referrer:t.referrer;if(""===o)o="no-referrer";else if(o){let e=new URL(o);o=/^about:(\/\/)?client$/.test(e)?"client":e}else o=void 0;this[et]={method:i,redirect:t.redirect||e.redirect||"follow",headers:a,parsedURL:r,signal:s,referrer:o},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[et].method}get url(){return c.format(this[et].parsedURL)}get headers(){return this[et].headers}get redirect(){return this[et].redirect}get signal(){return this[et].signal}get referrer(){return"no-referrer"===this[et].referrer?"":"client"===this[et].referrer?"about:client":this[et].referrer?this[et].referrer.toString():void 0}get referrerPolicy(){return this[et].referrerPolicy}set referrerPolicy(e){this[et].referrerPolicy=function(e){if(!Z.has(e))throw TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new en(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(en.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});let ea=e=>{let{parsedURL:t}=e[et],r=new H(e[et].headers);r.has("Accept")||r.set("Accept","*/*");let i=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(i="0"),null!==e.body){let t=$(e);"number"!=typeof t||Number.isNaN(t)||(i=String(t))}i&&r.set("Content-Length",i),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[et].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;let i=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";let n=e.referrer,a=Q(n),s=Q(n,!0);a.toString().length>4096&&(a=s),t&&(a=t(a)),r&&(s=r(s));let o=new URL(e.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return a;case"strict-origin":if(ee(a)&&!ee(o))return"no-referrer";return s.toString();case"strict-origin-when-cross-origin":if(a.origin===o.origin)return a;if(ee(a)&&!ee(o))return"no-referrer";return s;case"same-origin":if(a.origin===o.origin)return a;return"no-referrer";case"origin-when-cross-origin":if(a.origin===o.origin)return a;return s;case"no-referrer-when-downgrade":if(ee(a)&&!ee(o))return"no-referrer";return a;default:throw TypeError(`Invalid referrerPolicy: ${i}`)}}(e):e[et].referrer="no-referrer",e[et].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:n}=e;"function"==typeof n&&(n=n(t)),r.has("Connection")||n||r.set("Connection","close");let a=X(t),s={path:t.pathname+a,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:n};return{parsedURL:t,options:s}};class es extends R{constructor(e,t="aborted"){super(e,t)}}/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */if(!globalThis.DOMException)try{let{MessageChannel:e}=r(71267),t=new e().port1,i=new ArrayBuffer;t.postMessage(i,[i,i])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}var eo=globalThis.DOMException;let el=new Set(["data:","http:","https:"]);async function ec(e,t){return new Promise((r,l)=>{let c=new en(e,t),{parsedURL:u,options:d}=ea(c);if(!el.has(u.protocol))throw TypeError(`node-fetch cannot load ${e}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===u.protocol){let e=function(e){if(!/^data:/i.test(e))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');let t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),i="",n=!1,a=r[0]||"text/plain",s=a;for(let e=1;e<r.length;e++)"base64"===r[e]?n=!0:(s+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(i=r[e].substring(8)));r[0]||i.length||(s+=";charset=US-ASCII",i="US-ASCII");let o=n?"base64":"ascii",l=unescape(e.substring(t+1)),c=Buffer.from(l,o);return c.type=a,c.typeFull=s,c.charset=i,c}(c.url);r(new Y(e,{headers:{"Content-Type":e.typeFull}}));return}let h=("https:"===u.protocol?n:i).request,{signal:p}=c,f=null,m=()=>{let e=new es("The operation was aborted.");l(e),c.body&&c.body instanceof s.Readable&&c.body.destroy(e),f&&f.body&&f.body.emit("error",e)};if(p&&p.aborted){m();return}let g=()=>{m(),v()},y=h(u.toString(),d);p&&p.addEventListener("abort",g);let v=()=>{y.abort(),p&&p.removeEventListener("abort",g)};y.on("error",e=>{l(new A(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),v()}),function(e,t){let r;let i=o.Buffer.from("0\r\n\r\n"),n=!1,a=!1;e.on("response",e=>{let{headers:t}=e;n="chunked"===t["transfer-encoding"]&&!t["content-length"]}),e.on("socket",s=>{let l=()=>{if(n&&!a){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}},c=e=>{(a=0===o.Buffer.compare(e.slice(-5),i))||!r||(a=0===o.Buffer.compare(r.slice(-3),i.slice(0,3))&&0===o.Buffer.compare(e.slice(-2),i.slice(3))),r=e};s.prependListener("close",l),s.on("data",c),e.on("close",()=>{s.removeListener("close",l),s.removeListener("data",c)})})}(y,e=>{f&&f.body&&f.body.destroy(e)}),process.version<"v14"&&y.on("socket",e=>{let t;e.prependListener("end",()=>{t=e._eventsCount}),e.prependListener("close",r=>{if(f&&t<e._eventsCount&&!r){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",e)}})}),y.on("response",e=>{y.setTimeout(0);let i=function(e=[]){return new H(e.reduce((e,t,r,i)=>(r%2==0&&e.push(i.slice(r,r+2)),e),[]).filter(([e,t])=>{try{return z(e),V(e,String(t)),!0}catch{return!1}}))}(e.rawHeaders);if(G(e.statusCode)){let n=i.get("Location"),a=null;try{a=null===n?null:new URL(n,c.url)}catch{if("manual"!==c.redirect){l(new A(`uri requested responds with an invalid redirect URL: ${n}`,"invalid-redirect")),v();return}}switch(c.redirect){case"error":l(new A(`uri requested responds with a redirect, redirect mode is set to error: ${c.url}`,"no-redirect")),v();return;case"manual":break;case"follow":{if(null===a)break;if(c.counter>=c.follow){l(new A(`maximum redirect reached at: ${c.url}`,"max-redirect")),v();return}let n={headers:new H(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:D(c),signal:c.signal,size:c.size,referrer:c.referrer,referrerPolicy:c.referrerPolicy};if(!N(c.url,a)||!j(c.url,a))for(let e of["authorization","www-authenticate","cookie","cookie2"])n.headers.delete(e);if(303!==e.statusCode&&c.body&&t.body instanceof s.Readable){l(new A("Cannot follow redirect with body being a readable stream","unsupported-redirect")),v();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===c.method)&&(n.method="GET",n.body=void 0,n.headers.delete("content-length"));let o=function(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let e of t)e&&Z.has(e)&&(r=e);return r}(i);o&&(n.referrerPolicy=o),r(ec(new en(a,n))),v();return}default:return l(TypeError(`Redirect option '${c.redirect}' is not a valid value of RequestRedirect`))}}p&&e.once("end",()=>{p.removeEventListener("abort",g)});let n=s.pipeline(e,new s.PassThrough,e=>{e&&l(e)});process.version<"v12.10"&&e.on("aborted",g);let o={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:i,size:c.size,counter:c.counter,highWaterMark:c.highWaterMark},u=i.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===u||204===e.statusCode||304===e.statusCode){r(f=new Y(n,o));return}let d={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"===u||"x-gzip"===u){r(f=new Y(n=s.pipeline(n,a.createGunzip(d),e=>{e&&l(e)}),o));return}if("deflate"===u||"x-deflate"===u){let t=s.pipeline(e,new s.PassThrough,e=>{e&&l(e)});t.once("data",e=>{r(f=new Y(n=(15&e[0])==8?s.pipeline(n,a.createInflate(),e=>{e&&l(e)}):s.pipeline(n,a.createInflateRaw(),e=>{e&&l(e)}),o))}),t.once("end",()=>{f||r(f=new Y(n,o))});return}if("br"===u){r(f=new Y(n=s.pipeline(n,a.createBrotliDecompress(),e=>{e&&l(e)}),o));return}r(f=new Y(n,o))}),F(y,c).catch(l)})}/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */let eu=new WeakMap,ed=new WeakMap;function eh(e){let t=eu.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function ep(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function ef(e,t){eu.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let e=0;e<r.length;++e){let t=r[e];t in this||Object.defineProperty(this,t,em(t))}}function em(e){return{get(){return eh(this).event[e]},set(t){eh(this).event[e]=t},configurable:!0,enumerable:!0}}function eg(e,t){eh(e).passiveListener=t}ef.prototype={get type(){return eh(this).event.type},get target(){return eh(this).eventTarget},get currentTarget(){return eh(this).currentTarget},composedPath(){let e=eh(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return eh(this).eventPhase},stopPropagation(){let e=eh(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=eh(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!eh(this).event.bubbles},get cancelable(){return!!eh(this).event.cancelable},preventDefault(){ep(eh(this))},get defaultPrevented(){return eh(this).canceled},get composed(){return!!eh(this).event.composed},get timeStamp(){return eh(this).timeStamp},get srcElement(){return eh(this).eventTarget},get cancelBubble(){return eh(this).stopped},set cancelBubble(value){if(!value)return;let e=eh(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!eh(this).canceled},set returnValue(value){value||ep(eh(this))},initEvent(){}},Object.defineProperty(ef.prototype,"constructor",{value:ef,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(ef.prototype,window.Event.prototype),ed.set(window.Event.prototype,ef));let ey=new WeakMap;function ev(e){return null!==e&&"object"==typeof e}function eb(e){let t=ey.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function ew(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=eb(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||ev(e)||(e=null);let r=eb(this),i=null,n=r.get(t);for(;null!=n;)3===n.listenerType?null!==i?i.next=n.next:null!==n.next?r.set(t,n.next):r.delete(t):i=n,n=n.next;if(null!==e){let n={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===i?r.set(t,n):i.next=n}},configurable:!0,enumerable:!0})}function eS(e){function t(){e_.call(this)}t.prototype=Object.create(e_.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)ew(t.prototype,e[r]);return t}function e_(){if(this instanceof e_){ey.set(this,new Map);return}if(1==arguments.length&&Array.isArray(arguments[0]))return eS(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return eS(e)}throw TypeError("Cannot call a class as a function")}e_.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!ev(t))throw TypeError("'listener' should be a function or an object.");let i=eb(this),n=ev(r),a=(n?r.capture:r)?1:2,s={listener:t,listenerType:a,passive:n&&!!r.passive,once:n&&!!r.once,next:null},o=i.get(e);if(void 0===o){i.set(e,s);return}let l=null;for(;null!=o;){if(o.listener===t&&o.listenerType===a)return;l=o,o=o.next}l.next=s},removeEventListener(e,t,r){if(null==t)return;let i=eb(this),n=(ev(r)?r.capture:r)?1:2,a=null,s=i.get(e);for(;null!=s;){if(s.listener===t&&s.listenerType===n){null!==a?a.next=s.next:null!==s.next?i.set(e,s.next):i.delete(e);return}a=s,s=s.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=eb(this),r=e.type,i=t.get(r);if(null==i)return!0;let n=new(function e(t){if(null==t||t===Object.prototype)return ef;let r=ed.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function i(t,r){e.call(this,t,r)}i.prototype=Object.create(e.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){let a=r[n];if(!(a in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,a).value;Object.defineProperty(i.prototype,a,e?function(e){return{value(){let t=eh(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(a):em(a))}}return i}(e(Object.getPrototypeOf(t)),t),ed.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),a=null;for(;null!=i;){if(i.once?null!==a?a.next=i.next:null!==i.next?t.set(r,i.next):t.delete(r):a=i,eg(n,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,n)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==i.listenerType&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(n);if(eh(n).immediateStopped)break;i=i.next}return eg(n,null),eh(n).eventPhase=0,eh(n).currentTarget=null,!n.defaultPrevented}},Object.defineProperty(e_.prototype,"constructor",{value:e_,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(e_.prototype,window.EventTarget.prototype);class ex extends e_{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=ek.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}ew(ex.prototype,"abort");let ek=new WeakMap;Object.defineProperties(ex.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ex.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class eE{constructor(){eC.set(this,function(){let e=Object.create(ex.prototype);return e_.call(e),ek.set(e,!1),e}())}get signal(){return eR(this)}abort(){var e;e=eR(this),!1===ek.get(e)&&(ek.set(e,!0),e.dispatchEvent({type:"abort"}))}}let eC=new WeakMap;function eR(e){let t=eC.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(eE.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(eE.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=eE,t.AbortError=es,t.FetchError=A,t.File=y,t.FormData=C,t.Headers=H,t.Request=en,t.Response=Y,t._Blob=g,t.fetch=ec,t.isRedirect=G,t.nodeDomexception=eo},39306:(e,t,r)=>{"use strict";let i=r(88849),n=r(22286),a=r(65628),s=r(84492),o=r(72254),l=r(47261),c=r(41041),u=r(87503);r(87561),r(49411);var d,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},p={exports:{}};if(!globalThis.ReadableStream)try{let e=r(97742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(72477)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,(d||(d=1,function(e){let t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function r(){}let i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==h?h:void 0;function n(e){return"object"==typeof e&&null!==e||"function"==typeof e}let a=Promise,s=Promise.prototype.then,o=Promise.resolve.bind(a),l=Promise.reject.bind(a);function c(e){return new a(e)}function u(e,t,r){return s.call(e,t,r)}function d(e,t,i){u(u(e,t,i),void 0,r)}function p(e,t){d(e,void 0,t)}function f(e){u(e,void 0,r)}let m=(()=>{let e=i&&i.queueMicrotask;if("function"==typeof e)return e;let t=o(void 0);return e=>u(t,e)})();function g(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function y(e,t,r){try{var i;return i=g(e,t,r),o(i)}catch(e){return l(e)}}class v{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,i=r+1,n=e._elements,a=n[r];return 16384===i&&(t=e._next,i=0),--this._size,this._cursor=i,e!==t&&(this._front=t),n[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,i=r._elements;for(;(t!==i.length||void 0!==r._next)&&(t!==i.length||(i=(r=r._next)._elements,t=0,0!==i.length));)e(i[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}function b(e,t){var r;e._ownerReadableStream=t,t._reader=e,"readable"===t._state?x(e):"closed"===t._state?(x(e),E(e)):(r=t._storedError,x(e),k(e,r))}function w(e,t){return tF(e._ownerReadableStream,t)}function S(e){var t,r;"readable"===e._ownerReadableStream._state?k(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=e,r=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),x(t),k(t,r)),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function _(e){return TypeError("Cannot "+e+" a stream using a released reader")}function x(e){e._closedPromise=c((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function k(e,t){void 0!==e._closedPromise_reject&&(f(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function E(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let C=t("[[AbortSteps]]"),R=t("[[ErrorSteps]]"),A=t("[[CancelSteps]]"),T=t("[[PullSteps]]"),P=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},O=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function I(e,t){if(void 0!==e&&!("object"==typeof e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function N(e,t){if("function"!=typeof e)throw TypeError(`${t} is not a function.`)}function j(e,t){if(!("object"==typeof e&&null!==e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function B(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function U(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function L(e){return Number(e)}function M(e,t){var r,i;let n=Number.MAX_SAFE_INTEGER,a=Number(e);if(!P(a=0===(r=a)?0:r))throw TypeError(`${t} is not a finite number`);if((a=0===(i=O(a))?0:i)<0||a>n)throw TypeError(`${t} is outside the accepted range of 0 to ${n}, inclusive`);return P(a)&&0!==a?a:0}function D(e,t){if(!tq(e))throw TypeError(`${t} is not a ReadableStream.`)}function K(e){return new V(e)}function q(e,t){e._reader._readRequests.push(t)}function $(e,t,r){let i=e._reader._readRequests.shift();r?i._closeSteps():i._chunkSteps(t)}function F(e){return e._reader._readRequests.length}function z(e){let t=e._reader;return!!(void 0!==t&&H(t))}class V{constructor(e){if(B(e,1,"ReadableStreamDefaultReader"),D(e,"First parameter"),t$(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");b(this,e),this._readRequests=new v}get closed(){return H(this)?this._closedPromise:l(G("closed"))}cancel(e){return H(this)?void 0===this._ownerReadableStream?l(_("cancel")):w(this,e):l(G("cancel"))}read(){let e,t;if(!H(this))return l(G("read"));if(void 0===this._ownerReadableStream)return l(_("read from"));let r=c((r,i)=>{e=r,t=i});return W(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!H(this))throw G("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}}}function H(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_readRequests"))&&e instanceof V}function W(e,t){let r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[T](t)}function G(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(V.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(V.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let J=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Y{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?u(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?u(this._ongoingPromise,t,t):t()}_nextSteps(){let e,t;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let r=this._reader;if(void 0===r._ownerReadableStream)return l(_("iterate"));let i=c((r,i)=>{e=r,t=i});return W(r,{_chunkSteps:t=>{this._ongoingPromise=void 0,m(()=>e({value:t,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,S(r),e({value:void 0,done:!0})},_errorSteps:e=>{this._ongoingPromise=void 0,this._isFinished=!0,S(r),t(e)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(void 0===t._ownerReadableStream)return l(_("finish iterating"));if(!this._preventCancel){let r=w(t,e);return S(t),u(r,()=>({value:e,done:!0}),void 0)}return S(t),o({value:e,done:!0})}}let X={next(){return Q(this)?this._asyncIteratorImpl.next():l(Z("next"))},return(e){return Q(this)?this._asyncIteratorImpl.return(e):l(Z("return"))}};function Q(e){if(!n(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Y}catch(e){return!1}}function Z(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==J&&Object.setPrototypeOf(X,J);let ee=Number.isNaN||function(e){return e!=e};function et(e){return e.slice()}function er(e,t,r,i,n){new Uint8Array(e).set(new Uint8Array(r,i,n),t)}function ei(e,t,r){if(e.slice)return e.slice(t,r);let i=r-t,n=new ArrayBuffer(i);return er(n,0,e,t,i),n}function en(e){let t=ei(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ea(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function es(e,t,r){if(!(!("number"!=typeof r||ee(r))&&!(r<0))||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function eo(e){e._queue=new v,e._queueTotalSize=0}class el{constructor(){throw TypeError("Illegal constructor")}get view(){if(!ed(this))throw eN("view");return this._view}respond(e){if(!ed(this))throw eN("respond");if(B(e,1,"respond"),e=M(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");this._view.buffer,eP(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ed(this))throw eN("respondWithNewView");if(B(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");e.buffer,eO(this._associatedReadableByteStreamController,e)}}Object.defineProperties(el.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(el.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ec{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!eu(this))throw ej("byobRequest");return eA(this)}get desiredSize(){if(!eu(this))throw ej("desiredSize");return eT(this)}close(){if(!eu(this))throw ej("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);eE(this)}enqueue(e){if(!eu(this))throw ej("enqueue");if(B(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);eC(this,e)}error(e){if(!eu(this))throw ej("error");eR(this,e)}[A](e){ep(this),eo(this);let t=this._cancelAlgorithm(e);return ek(this),t}[T](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0){let t=this._queue.shift();this._queueTotalSize-=t.byteLength,eb(this);let r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e._chunkSteps(r);return}let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}let i={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}q(t,e),eh(this)}}function eu(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))&&e instanceof ec}function ed(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))&&e instanceof el}function eh(e){if(function(e){let t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(z(t)&&F(t)>0||eL(t)&&eU(t)>0||eT(e)>0)}(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,d(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,eh(e))},t=>{eR(e,t)})}}function ep(e){ew(e),e._pendingPullIntos=new v}function ef(e,t){let r=!1;"closed"===e._state&&(r=!0);let i=em(t);"default"===t.readerType?$(e,i,r):function(e,t,r){let i=e._reader._readIntoRequests.shift();r?i._closeSteps(t):i._chunkSteps(t)}(e,i,r)}function em(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function eg(e,t,r,i){e._queue.push({buffer:t,byteOffset:r,byteLength:i}),e._queueTotalSize+=i}function ey(e,t){let r=t.elementSize,i=t.bytesFilled-t.bytesFilled%r,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+n,s=a-a%r,o=n,l=!1;s>i&&(o=s-t.bytesFilled,l=!0);let c=e._queue;for(;o>0;){let r=c.peek(),i=Math.min(o,r.byteLength),n=t.byteOffset+t.bytesFilled;er(t.buffer,n,r.buffer,r.byteOffset,i),r.byteLength===i?c.shift():(r.byteOffset+=i,r.byteLength-=i),e._queueTotalSize-=i,ev(e,i,t),o-=i}return l}function ev(e,t,r){r.bytesFilled+=t}function eb(e){0===e._queueTotalSize&&e._closeRequested?(ek(e),tz(e._controlledReadableByteStream)):eh(e)}function ew(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function eS(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();ey(e,t)&&(ex(e),ef(e._controlledReadableByteStream,t))}}function e_(e,t){let r=e._pendingPullIntos.peek();ew(e),"closed"===e._controlledReadableByteStream._state?function(e,t){let r=e._controlledReadableByteStream;if(eL(r))for(;eU(r)>0;)ef(r,ex(e))}(e):function(e,t,r){if(ev(e,t,r),r.bytesFilled<r.elementSize)return;ex(e);let i=r.bytesFilled%r.elementSize;if(i>0){let t=r.byteOffset+r.bytesFilled,n=ei(r.buffer,t-i,t);eg(e,n,0,n.byteLength)}r.bytesFilled-=i,ef(e._controlledReadableByteStream,r),eS(e)}(e,t,r),eh(e)}function ex(e){return e._pendingPullIntos.shift()}function ek(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function eE(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw eR(e,t),t}ek(e),tz(t)}}function eC(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let i=t.buffer,n=t.byteOffset,a=t.byteLength;if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}ew(e),z(r)?0===F(r)?eg(e,i,n,a):(e._pendingPullIntos.length>0&&ex(e),$(r,new Uint8Array(i,n,a),!1)):eL(r)?(eg(e,i,n,a),eS(e)):eg(e,i,n,a),eh(e)}function eR(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(ep(e),eo(e),ek(e),tV(r,t))}function eA(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=Object.create(el.prototype);i._associatedReadableByteStreamController=e,i._view=r,e._byobRequest=i}return e._byobRequest}function eT(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function eP(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=r.buffer,e_(e,t)}function eO(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let i=t.byteLength;r.buffer=t.buffer,e_(e,i)}function eI(e,t,r,i,n,a,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,eo(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=i,t._cancelAlgorithm=n,t._autoAllocateChunkSize=s,t._pendingPullIntos=new v,e._readableStreamController=t,d(o(r()),()=>{t._started=!0,eh(t)},e=>{eR(t,e)})}function eN(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function ej(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function eB(e,t){e._reader._readIntoRequests.push(t)}function eU(e){return e._reader._readIntoRequests.length}function eL(e){let t=e._reader;return!!(void 0!==t&&eD(t))}Object.defineProperties(ec.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ec.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class eM{constructor(e){if(B(e,1,"ReadableStreamBYOBReader"),D(e,"First parameter"),t$(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!eu(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");b(this,e),this._readIntoRequests=new v}get closed(){return eD(this)?this._closedPromise:l(eq("closed"))}cancel(e){return eD(this)?void 0===this._ownerReadableStream?l(_("cancel")):w(this,e):l(eq("cancel"))}read(e){let t,r;if(!eD(this))return l(eq("read"));if(!ArrayBuffer.isView(e))return l(TypeError("view must be an array buffer view"));if(0===e.byteLength)return l(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return l(TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return l(_("read from"));let i=c((e,i)=>{t=e,r=i});return eK(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),i}releaseLock(){if(!eD(this))throw eq("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}}}function eD(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))&&e instanceof eM}function eK(e,t,r){let i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?r._errorSteps(i._storedError):function(e,t,r){let i=e._controlledReadableByteStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);let a=t.constructor,s=t.buffer,o={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(o),eB(i,r);return}if("closed"===i._state){let e=new a(o.buffer,o.byteOffset,0);r._closeSteps(e);return}if(e._queueTotalSize>0){if(ey(e,o)){let t=em(o);eb(e),r._chunkSteps(t);return}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");eR(e,t),r._errorSteps(t);return}}e._pendingPullIntos.push(o),eB(i,r),eh(e)}(i._readableStreamController,t,r)}function eq(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function e$(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(ee(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function eF(e){let{size:t}=e;return t||(()=>1)}function ez(e,t){I(e,t);let r=null==e?void 0:e.highWaterMark,i=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:L(r),size:void 0===i?void 0:(N(i,`${t} has member 'size' that`),e=>L(i(e)))}}function eV(e,t){if(!eJ(e))throw TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(eM.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eM.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let eH="function"==typeof AbortController;class eW{constructor(e={},t={}){void 0===e?e=null:j(e,"First parameter");let r=ez(t,"Second parameter"),i=function(e,t){I(e,t);let r=null==e?void 0:e.abort,i=null==e?void 0:e.close,n=null==e?void 0:e.start,a=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:(N(r,`${t} has member 'abort' that`),t=>y(r,e,[t])),close:void 0===i?void 0:(N(i,`${t} has member 'close' that`),()=>y(i,e,[])),start:void 0===n?void 0:(N(n,`${t} has member 'start' that`),t=>g(n,e,[t])),write:void 0===s?void 0:(N(s,`${t} has member 'write' that`),(t,r)=>y(s,e,[t,r])),type:a}}(e,"First parameter");if(eG(this),void 0!==i.type)throw RangeError("Invalid type is specified");let n=eF(r);(function(e,t,r,i){let n=Object.create(tr.prototype),a=()=>void 0,s=()=>o(void 0),l=()=>o(void 0),c=()=>o(void 0);void 0!==t.start&&(a=()=>t.start(n)),void 0!==t.write&&(s=e=>t.write(e,n)),void 0!==t.close&&(l=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),tn(e,n,a,s,l,c,r,i)})(this,i,e$(r,1),n)}get locked(){if(!eJ(this))throw tu("locked");return eY(this)}abort(e){return eJ(this)?eY(this)?l(TypeError("Cannot abort a stream that already has a writer")):eX(this,e):l(tu("abort"))}close(){return eJ(this)?eY(this)?l(TypeError("Cannot close a stream that already has a writer")):e2(this)?l(TypeError("Cannot close an already-closing stream")):eQ(this):l(tu("close"))}getWriter(){if(!eJ(this))throw tu("getWriter");return new e4(this)}}function eG(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new v,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function eJ(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))&&e instanceof eW}function eY(e){return void 0!==e._writer}function eX(e,t){var r;if("closed"===e._state||"errored"===e._state)return o(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();let i=e._state;if("closed"===i||"errored"===i)return o(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===i&&(n=!0,t=void 0);let a=c((r,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}});return e._pendingAbortRequest._promise=a,n||e0(e,t),a}function eQ(e){var t;let r=e._state;if("closed"===r||"errored"===r)return l(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let i=c((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===r&&tw(n),es(t=e._writableStreamController,tt,0),to(t),i}function eZ(e,t){if("writable"===e._state){e0(e,t);return}e1(e)}function e0(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let i=e._writer;void 0!==i&&e7(i,t),!(void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest)&&r._started&&e1(e)}function e1(e){e._state="errored",e._writableStreamController[R]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new v,void 0===e._pendingAbortRequest){e3(e);return}let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),e3(e);return}d(e._writableStreamController[C](r._reason),()=>{r._resolve(),e3(e)},t=>{r._reject(t),e3(e)})}function e2(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function e3(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&tm(t,e._storedError)}function e8(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?ty(r):tw(r)),e._backpressure=t}Object.defineProperties(eW.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eW.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class e4{constructor(e){if(B(e,1,"WritableStreamDefaultWriter"),eV(e,"First parameter"),eY(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let t=e._state;if("writable"===t)!e2(e)&&e._backpressure?ty(this):(ty(this),tw(this)),tf(this);else if("erroring"===t)tv(this,e._storedError),tf(this);else if("closed"===t)ty(this),tw(this),tf(this),tg(this);else{let t=e._storedError;tv(this,t),tf(this),tm(this,t)}}get closed(){return e6(this)?this._closedPromise:l(th("closed"))}get desiredSize(){if(!e6(this))throw th("desiredSize");if(void 0===this._ownerWritableStream)throw tp("desiredSize");return function(e){let t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:ts(t._writableStreamController)}(this)}get ready(){return e6(this)?this._readyPromise:l(th("ready"))}abort(e){return e6(this)?void 0===this._ownerWritableStream?l(tp("abort")):eX(this._ownerWritableStream,e):l(th("abort"))}close(){if(!e6(this))return l(th("close"));let e=this._ownerWritableStream;return void 0===e?l(tp("close")):e2(e)?l(TypeError("Cannot close an already-closing stream")):e5(this)}releaseLock(){if(!e6(this))throw th("releaseLock");void 0!==this._ownerWritableStream&&e9(this)}write(e){return e6(this)?void 0===this._ownerWritableStream?l(tp("write to")):te(this,e):l(th("write"))}}function e6(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))&&e instanceof e4}function e5(e){return eQ(e._ownerWritableStream)}function e7(e,t){"pending"===e._readyPromiseState?tb(e,t):tv(e,t)}function e9(e){var t,r;let i=e._ownerWritableStream,n=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");e7(e,n),"pending"===e._closedPromiseState?tm(e,n):(t=e,r=n,tf(t),tm(t,r)),i._writer=void 0,e._ownerWritableStream=void 0}function te(e,t){let r=e._ownerWritableStream,i=r._writableStreamController,n=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return tl(e,t),1}}(i,t);if(r!==e._ownerWritableStream)return l(tp("write to"));let a=r._state;if("errored"===a)return l(r._storedError);if(e2(r)||"closed"===a)return l(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return l(r._storedError);let s=c((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{es(e,t,r)}catch(t){tl(e,t);return}let i=e._controlledWritableStream;e2(i)||"writable"!==i._state||e8(i,0>=ts(e)),to(e)}(i,t,n),s}Object.defineProperties(e4.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(e4.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let tt={};class tr{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!ti(this))throw td("abortReason");return this._abortReason}get signal(){if(!ti(this))throw td("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!ti(this))throw td("error");"writable"===this._controlledWritableStream._state&&tc(this,e)}[C](e){let t=this._abortAlgorithm(e);return ta(this),t}[R](){eo(this)}}function ti(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))&&e instanceof tr}function tn(e,t,r,i,n,a,s,l){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,eo(t),t._abortReason=void 0,t._abortController=function(){if(eH)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=l,t._strategyHWM=s,t._writeAlgorithm=i,t._closeAlgorithm=n,t._abortAlgorithm=a,e8(e,0>=ts(t)),d(o(r()),()=>{t._started=!0,to(t)},r=>{t._started=!0,eZ(e,r)})}function ta(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ts(e){return e._strategyHWM-e._queueTotalSize}function to(e){let t=e._controlledWritableStream;if(!e._started||void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state){e1(t);return}if(0===e._queue.length)return;let r=e._queue.peek().value;r===tt?function(e){let t=e._controlledWritableStream;t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,ea(e);let r=e._closeAlgorithm();ta(e),d(r,()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let t=e._writer;void 0!==t&&tg(t)}(t)},e=>{t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),eZ(t,e)})}(e):function(e,t){let r=e._controlledWritableStream;r._inFlightWriteRequest=r._writeRequests.shift(),d(e._writeAlgorithm(t),()=>{r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0;let t=r._state;ea(e),e2(r)||"writable"!==t||e8(r,0>=ts(e)),to(e)},t=>{"writable"===r._state&&ta(e),r._inFlightWriteRequest._reject(t),r._inFlightWriteRequest=void 0,eZ(r,t)})}(e,r)}function tl(e,t){"writable"===e._controlledWritableStream._state&&tc(e,t)}function tc(e,t){let r=e._controlledWritableStream;ta(e),e0(r,t)}function tu(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function td(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function th(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function tp(e){return TypeError("Cannot "+e+" a stream using a released writer")}function tf(e){e._closedPromise=c((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function tm(e,t){void 0!==e._closedPromise_reject&&(f(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function tg(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ty(e){e._readyPromise=c((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function tv(e,t){ty(e),tb(e,t)}function tb(e,t){void 0!==e._readyPromise_reject&&(f(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function tw(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(tr.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tr.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let tS="undefined"!=typeof DOMException?DOMException:void 0,t_=!function(e){if(!("function"==typeof e||"object"==typeof e))return!1;try{return new e,!0}catch(e){return!1}}(tS)?function(){let e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}():tS;function tx(e,t,i,n,a,s){let h=K(e),m=new e4(t);e._disturbed=!0;let g=!1,y=o(void 0);return c((v,b)=>{var w,_;let x;if(void 0!==s){if(x=()=>{let r=new t_("Aborted","AbortError"),i=[];n||i.push(()=>"writable"===t._state?eX(t,r):o(void 0)),a||i.push(()=>"readable"===e._state?tF(e,r):o(void 0)),C(()=>Promise.all(i.map(e=>e())),!0,r)},s.aborted){x();return}s.addEventListener("abort",x)}if(E(e,h._closedPromise,e=>{n?R(!0,e):C(()=>eX(t,e),!0,e)}),E(t,m._closedPromise,t=>{a?R(!0,t):C(()=>tF(e,t),!0,t)}),w=h._closedPromise,_=()=>{i?R():C(()=>(function(e){let t=e._ownerWritableStream,r=t._state;return e2(t)||"closed"===r?o(void 0):"errored"===r?l(t._storedError):e5(e)})(m))},"closed"===e._state?_():d(w,_),e2(t)||"closed"===t._state){let t=TypeError("the destination writable stream closed before all data could be piped to it");a?R(!0,t):C(()=>tF(e,t),!0,t)}function k(){let e=y;return u(y,()=>e!==y?k():void 0)}function E(e,t,r){"errored"===e._state?r(e._storedError):p(t,r)}function C(e,r,i){!g&&((g=!0,"writable"!==t._state||e2(t))?n():d(k(),n));function n(){d(e(),()=>A(r,i),e=>A(!0,e))}}function R(e,r){!g&&((g=!0,"writable"!==t._state||e2(t))?A(e,r):d(k(),()=>A(e,r)))}function A(e,t){e9(m),S(h),void 0!==s&&s.removeEventListener("abort",x),e?b(t):v(void 0)}f(c((e,t)=>{!function i(n){n?e():u(g?o(!0):u(m._readyPromise,()=>c((e,t)=>{W(h,{_chunkSteps:t=>{y=u(te(m,t),void 0,r),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})),i,t)}(!1)}))})}class tk{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!tE(this))throw tB("desiredSize");return tI(this)}close(){if(!tE(this))throw tB("close");if(!tN(this))throw TypeError("The stream is not in a state that permits close");tT(this)}enqueue(e){if(!tE(this))throw tB("enqueue");if(!tN(this))throw TypeError("The stream is not in a state that permits enqueue");return tP(this,e)}error(e){if(!tE(this))throw tB("error");tO(this,e)}[A](e){eo(this);let t=this._cancelAlgorithm(e);return tA(this),t}[T](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=ea(this);this._closeRequested&&0===this._queue.length?(tA(this),tz(t)):tC(this),e._chunkSteps(r)}else q(t,e),tC(this)}}function tE(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))&&e instanceof tk}function tC(e){if(tR(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,d(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,tC(e))},t=>{tO(e,t)})}}function tR(e){let t=e._controlledReadableStream;return!!tN(e)&&!!e._started&&!!(t$(t)&&F(t)>0||tI(e)>0)}function tA(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tT(e){if(!tN(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(tA(e),tz(t))}function tP(e,t){if(!tN(e))return;let r=e._controlledReadableStream;if(t$(r)&&F(r)>0)$(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw tO(e,t),t}try{es(e,t,r)}catch(t){throw tO(e,t),t}}tC(e)}function tO(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(eo(e),tA(e),tV(r,t))}function tI(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function tN(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function tj(e,t,r,i,n,a,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,eo(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._pullAlgorithm=i,t._cancelAlgorithm=n,e._readableStreamController=t,d(o(r()),()=>{t._started=!0,tC(t)},e=>{tO(t,e)})}function tB(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function tU(e,t){I(e,t);let r=null==e?void 0:e.preventAbort,i=null==e?void 0:e.preventCancel,n=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(`${t} is not an AbortSignal.`)}(a,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!i,preventClose:!!n,signal:a}}Object.defineProperties(tk.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tk.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class tL{constructor(e={},t={}){void 0===e?e=null:j(e,"First parameter");let r=ez(t,"Second parameter"),i=function(e,t){I(e,t);let r=null==e?void 0:e.autoAllocateChunkSize,i=null==e?void 0:e.cancel,n=null==e?void 0:e.pull,a=null==e?void 0:e.start,s=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===r?void 0:M(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:(N(i,`${t} has member 'cancel' that`),t=>y(i,e,[t])),pull:void 0===n?void 0:(N(n,`${t} has member 'pull' that`),t=>y(n,e,[t])),start:void 0===a?void 0:(N(a,`${t} has member 'start' that`),t=>g(a,e,[t])),type:void 0===s?void 0:function(e,t){if("bytes"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}(s,`${t} has member 'type' that`)}}(e,"First parameter");if(tK(this),"bytes"===i.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){let i=Object.create(ec.prototype),n=()=>void 0,a=()=>o(void 0),s=()=>o(void 0);void 0!==t.start&&(n=()=>t.start(i)),void 0!==t.pull&&(a=()=>t.pull(i)),void 0!==t.cancel&&(s=e=>t.cancel(e));let l=t.autoAllocateChunkSize;if(0===l)throw TypeError("autoAllocateChunkSize must be greater than 0");eI(e,i,n,a,s,r,l)}(this,i,e$(r,0))}else{let e=eF(r);!function(e,t,r,i){let n=Object.create(tk.prototype),a=()=>void 0,s=()=>o(void 0),l=()=>o(void 0);void 0!==t.start&&(a=()=>t.start(n)),void 0!==t.pull&&(s=()=>t.pull(n)),void 0!==t.cancel&&(l=e=>t.cancel(e)),tj(e,n,a,s,l,r,i)}(this,i,e$(r,1),e)}}get locked(){if(!tq(this))throw tH("locked");return t$(this)}cancel(e){return tq(this)?t$(this)?l(TypeError("Cannot cancel a stream that already has a reader")):tF(this,e):l(tH("cancel"))}getReader(e){if(!tq(this))throw tH("getReader");return void 0===function(e,t){I(e,t);let r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:function(e,t){if("byob"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?K(this):new eM(this)}pipeThrough(e,t={}){if(!tq(this))throw tH("pipeThrough");B(e,1,"pipeThrough");let r=function(e,t){I(e,t);let r=null==e?void 0:e.readable;U(r,"readable","ReadableWritablePair"),D(r,`${t} has member 'readable' that`);let i=null==e?void 0:e.writable;return U(i,"writable","ReadableWritablePair"),eV(i,`${t} has member 'writable' that`),{readable:r,writable:i}}(e,"First parameter"),i=tU(t,"Second parameter");if(t$(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(eY(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return f(tx(this,r.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),r.readable}pipeTo(e,t={}){let r;if(!tq(this))return l(tH("pipeTo"));if(void 0===e)return l("Parameter 1 is required in 'pipeTo'.");if(!eJ(e))return l(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=tU(t,"Second parameter")}catch(e){return l(e)}return t$(this)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):eY(e)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tx(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!tq(this))throw tH("tee");let e=eu(this._readableStreamController)?function(e){let t,r,i,n,a,s=K(e),l=!1,u=!1,d=!1,h=!1,f=!1,g=c(e=>{a=e});function y(e){p(e._closedPromise,t=>{e===s&&(eR(i._readableStreamController,t),eR(n._readableStreamController,t),h&&f||a(void 0))})}function v(){eD(s)&&(S(s),y(s=K(e))),W(s,{_chunkSteps:t=>{m(()=>{u=!1,d=!1;let r=t;if(!h&&!f)try{r=en(t)}catch(t){eR(i._readableStreamController,t),eR(n._readableStreamController,t),a(tF(e,t));return}h||eC(i._readableStreamController,t),f||eC(n._readableStreamController,r),l=!1,u?w():d&&_()})},_closeSteps:()=>{l=!1,h||eE(i._readableStreamController),f||eE(n._readableStreamController),i._readableStreamController._pendingPullIntos.length>0&&eP(i._readableStreamController,0),n._readableStreamController._pendingPullIntos.length>0&&eP(n._readableStreamController,0),h&&f||a(void 0)},_errorSteps:()=>{l=!1}})}function b(t,r){H(s)&&(S(s),y(s=new eM(e)));let o=r?n:i,c=r?i:n;eK(s,t,{_chunkSteps:t=>{m(()=>{u=!1,d=!1;let i=r?f:h;if(r?h:f)i||eO(o._readableStreamController,t);else{let r;try{r=en(t)}catch(t){eR(o._readableStreamController,t),eR(c._readableStreamController,t),a(tF(e,t));return}i||eO(o._readableStreamController,t),eC(c._readableStreamController,r)}l=!1,u?w():d&&_()})},_closeSteps:e=>{l=!1;let t=r?f:h,i=r?h:f;t||eE(o._readableStreamController),i||eE(c._readableStreamController),void 0!==e&&(t||eO(o._readableStreamController,e),!i&&c._readableStreamController._pendingPullIntos.length>0&&eP(c._readableStreamController,0)),t&&i||a(void 0)},_errorSteps:()=>{l=!1}})}function w(){if(l)return u=!0,o(void 0);l=!0;let e=eA(i._readableStreamController);return null===e?v():b(e._view,!1),o(void 0)}function _(){if(l)return d=!0,o(void 0);l=!0;let e=eA(n._readableStreamController);return null===e?v():b(e._view,!0),o(void 0)}function x(){}return i=tD(x,w,function(i){if(h=!0,t=i,f){let i=tF(e,et([t,r]));a(i)}return g}),n=tD(x,_,function(i){if(f=!0,r=i,h){let i=tF(e,et([t,r]));a(i)}return g}),y(s),[i,n]}(this):function(e,t){let r,i,n,a,s;let l=K(e),u=!1,d=!1,h=!1,f=!1,g=c(e=>{s=e});function y(){return u?d=!0:(u=!0,W(l,{_chunkSteps:e=>{m(()=>{d=!1,h||tP(n._readableStreamController,e),f||tP(a._readableStreamController,e),u=!1,d&&y()})},_closeSteps:()=>{u=!1,h||tT(n._readableStreamController),f||tT(a._readableStreamController),h&&f||s(void 0)},_errorSteps:()=>{u=!1}})),o(void 0)}function v(){}return n=tM(v,y,function(t){if(h=!0,r=t,f){let t=tF(e,et([r,i]));s(t)}return g}),a=tM(v,y,function(t){if(f=!0,i=t,h){let t=tF(e,et([r,i]));s(t)}return g}),p(l._closedPromise,e=>{tO(n._readableStreamController,e),tO(a._readableStreamController,e),h&&f||s(void 0)}),[n,a]}(this);return et(e)}values(e){if(!tq(this))throw tH("values");return function(e,t){let r=new Y(K(e),t),i=Object.create(X);return i._asyncIteratorImpl=r,i}(this,(I(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}).preventCancel)}}function tM(e,t,r,i=1,n=()=>1){let a=Object.create(tL.prototype);return tK(a),tj(a,Object.create(tk.prototype),e,t,r,i,n),a}function tD(e,t,r){let i=Object.create(tL.prototype);return tK(i),eI(i,Object.create(ec.prototype),e,t,r,0,void 0),i}function tK(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function tq(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))&&e instanceof tL}function t$(e){return void 0!==e._reader}function tF(e,t){if(e._disturbed=!0,"closed"===e._state)return o(void 0);if("errored"===e._state)return l(e._storedError);tz(e);let i=e._reader;return void 0!==i&&eD(i)&&(i._readIntoRequests.forEach(e=>{e._closeSteps(void 0)}),i._readIntoRequests=new v),u(e._readableStreamController[A](t),r,void 0)}function tz(e){e._state="closed";let t=e._reader;void 0!==t&&(E(t),H(t)&&(t._readRequests.forEach(e=>{e._closeSteps()}),t._readRequests=new v))}function tV(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(k(r,t),H(r)?(r._readRequests.forEach(e=>{e._errorSteps(t)}),r._readRequests=new v):(r._readIntoRequests.forEach(e=>{e._errorSteps(t)}),r._readIntoRequests=new v))}function tH(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function tW(e,t){I(e,t);let r=null==e?void 0:e.highWaterMark;return U(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:L(r)}}Object.defineProperties(tL.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tL.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(tL.prototype,t.asyncIterator,{value:tL.prototype.values,writable:!0,configurable:!0});let tG=e=>e.byteLength;try{Object.defineProperty(tG,"name",{value:"size",configurable:!0})}catch(e){}class tJ{constructor(e){B(e,1,"ByteLengthQueuingStrategy"),e=tW(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!tX(this))throw tY("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!tX(this))throw tY("size");return tG}}function tY(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function tX(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark"))&&e instanceof tJ}Object.defineProperties(tJ.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tJ.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let tQ=()=>1;try{Object.defineProperty(tQ,"name",{value:"size",configurable:!0})}catch(e){}class tZ{constructor(e){B(e,1,"CountQueuingStrategy"),e=tW(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!t1(this))throw t0("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!t1(this))throw t0("size");return tQ}}function t0(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function t1(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark"))&&e instanceof tZ}Object.defineProperties(tZ.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tZ.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class t2{constructor(e={},t={},r={}){let i;void 0===e&&(e=null);let n=ez(t,"Second parameter"),a=ez(r,"Third parameter"),s=function(e,t){I(e,t);let r=null==e?void 0:e.flush,i=null==e?void 0:e.readableType,n=null==e?void 0:e.start,a=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:(N(r,`${t} has member 'flush' that`),t=>y(r,e,[t])),readableType:i,start:void 0===n?void 0:(N(n,`${t} has member 'start' that`),t=>g(n,e,[t])),transform:void 0===a?void 0:(N(a,`${t} has member 'transform' that`),(t,r)=>y(a,e,[t,r])),writableType:s}}(e,"First parameter");if(void 0!==s.readableType)throw RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw RangeError("Invalid writableType specified");let d=e$(a,0),h=eF(a),p=e$(n,1),f=eF(n);(function(e,t,r,i,n,a){function s(){return t}e._writable=function(e,t,r,i,n=1,a=()=>1){let s=Object.create(eW.prototype);return eG(s),tn(s,Object.create(tr.prototype),e,t,r,i,n,a),s}(s,function(t){return function(e,t){let r=e._transformStreamController;return e._backpressure?u(e._backpressureChangePromise,()=>{let i=e._writable;if("erroring"===i._state)throw i._storedError;return rt(r,t)},void 0):rt(r,t)}(e,t)},function(){return function(e){let t=e._readable,r=e._transformStreamController,i=r._flushAlgorithm();return t9(r),u(i,()=>{if("errored"===t._state)throw t._storedError;tT(t._readableStreamController)},r=>{throw t8(e,r),t._storedError})}(e)},function(t){return t8(e,t),o(void 0)},r,i),e._readable=tM(s,function(){return t6(e,!1),e._backpressureChangePromise},function(t){return t4(e,t),o(void 0)},n,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,t6(e,!0),e._transformStreamController=void 0})(this,c(e=>{i=e}),p,f,d,h),function(e,t){var r,i;let n=Object.create(t5.prototype),a=e=>{try{return re(n,e),o(void 0)}catch(e){return l(e)}},s=()=>o(void 0);void 0!==t.transform&&(a=e=>t.transform(e,n)),void 0!==t.flush&&(s=()=>t.flush(n)),r=a,i=s,n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=r,n._flushAlgorithm=i}(this,s),void 0!==s.start?i(s.start(this._transformStreamController)):i(void 0)}get readable(){if(!t3(this))throw ri("readable");return this._readable}get writable(){if(!t3(this))throw ri("writable");return this._writable}}function t3(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))&&e instanceof t2}function t8(e,t){tO(e._readable._readableStreamController,t),t4(e,t)}function t4(e,t){t9(e._transformStreamController),tl(e._writable._writableStreamController,t),e._backpressure&&t6(e,!1)}function t6(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=c(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(t2.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(t2.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class t5{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!t7(this))throw rr("desiredSize");return tI(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!t7(this))throw rr("enqueue");re(this,e)}error(e){if(!t7(this))throw rr("error");t8(this._controlledTransformStream,e)}terminate(){if(!t7(this))throw rr("terminate");(function(e){let t=e._controlledTransformStream;tT(t._readable._readableStreamController),t4(t,TypeError("TransformStream terminated"))})(this)}}function t7(e){return!!(n(e)&&Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))&&e instanceof t5}function t9(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function re(e,t){let r=e._controlledTransformStream,i=r._readable._readableStreamController;if(!tN(i))throw TypeError("Readable side is not in a state that permits enqueue");try{tP(i,t)}catch(e){throw t4(r,e),r._readable._storedError}!tR(i)!==r._backpressure&&t6(r,!0)}function rt(e,t){return u(e._transformAlgorithm(t),void 0,t=>{throw t8(e._controlledTransformStream,t),t})}function rr(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ri(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(t5.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(t5.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=tJ,e.CountQueuingStrategy=tZ,e.ReadableByteStreamController=ec,e.ReadableStream=tL,e.ReadableStreamBYOBReader=eM,e.ReadableStreamBYOBRequest=el,e.ReadableStreamDefaultController=tk,e.ReadableStreamDefaultReader=V,e.TransformStream=t2,e.TransformStreamDefaultController=t5,e.WritableStream=eW,e.WritableStreamDefaultController=tr,e.WritableStreamDefaultWriter=e4,Object.defineProperty(e,"__esModule",{value:!0})}(p.exports)),p.exports))}try{let{Blob:e}=r(14300);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0,r=this;return new ReadableStream({type:"bytes",async pull(e){let i=r.slice(t,Math.min(r.size,t+65536)),n=await i.arrayBuffer();t+=n.byteLength,e.enqueue(new Uint8Array(n)),t===r.size&&e.close()}})})}catch(e){}async function*f(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r)){if(t){let e=r.byteOffset,t=r.byteOffset+r.byteLength;for(;e!==t;){let i=Math.min(t-e,65536),n=r.buffer.slice(e,e+i);e+=n.byteLength,yield new Uint8Array(n)}}else yield r}else{let e=0;for(;e!==r.size;){let t=r.slice(e,Math.min(r.size,e+65536)),i=await t.arrayBuffer();e+=i.byteLength,yield new Uint8Array(i)}}}let m=class e{#r=[];#i="";#n=0;#a="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});let i=new TextEncoder;for(let r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:i.encode(`${r}`);let n=ArrayBuffer.isView(t)?t.byteLength:t.size;n&&(this.#n+=n,this.#r.push(t))}this.#a=`${void 0===r.endings?"transparent":r.endings}`;let n=void 0===r.type?"":String(r.type);this.#i=/^[\x20-\x7E]*$/.test(n)?n:""}get size(){return this.#n}get type(){return this.#i}async text(){let e=new TextDecoder,t="";for await(let r of f(this.#r,!1))t+=e.decode(r,{stream:!0});return t+e.decode()}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let r of f(this.#r,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){let e=f(this.#r,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,i=""){let{size:n}=this,a=t<0?Math.max(n+t,0):Math.min(t,n),s=r<0?Math.max(n+r,0):Math.min(r,n),o=Math.max(s-a,0),l=this.#r,c=[],u=0;for(let e of l){if(u>=o)break;let t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(a&&t<=a)a-=t,s-=t;else{let r;ArrayBuffer.isView(e)?u+=(r=e.subarray(a,Math.min(t,s))).byteLength:u+=(r=e.slice(a,Math.min(t,s))).size,s-=t,c.push(r),a=0}}let d=new e([],{type:String(i).toLowerCase()});return d.#n=o,d.#r=c,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(m.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});let g=m,y=class extends g{#s=0;#o="";constructor(e,t,r={}){if(arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});let i=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(i)||(this.#s=i),this.#o=String(t)}get name(){return this.#o}get lastModified(){return this.#s}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof g&&/^(File)$/.test(e[Symbol.toStringTag])}};/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */var{toStringTag:v,iterator:b,hasInstance:w}=Symbol,S=Math.random,_="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),x=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[v])?[(r=void 0!==r?r+"":"File"==t[v]?t.name:"blob",e),t.name!==r||"blob"==t[v]?new y([t],r,t):t]:[e,t+""]),k=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),E=(e,t,r)=>{if(t.length<r)throw TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};let C=class{#l=[];constructor(...e){if(e.length)throw TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[v](){return"FormData"}[b](){return this.entries()}static[w](e){return e&&"object"==typeof e&&"FormData"===e[v]&&!_.some(t=>"function"!=typeof e[t])}append(...e){E("append",arguments,2),this.#l.push(x(...e))}delete(e){E("delete",arguments,1),e+="",this.#l=this.#l.filter(([t])=>t!==e)}get(e){E("get",arguments,1),e+="";for(var t=this.#l,r=t.length,i=0;i<r;i++)if(t[i][0]===e)return t[i][1];return null}getAll(e,t){return E("getAll",arguments,1),t=[],e+="",this.#l.forEach(r=>r[0]===e&&t.push(r[1])),t}has(e){return E("has",arguments,1),e+="",this.#l.some(t=>t[0]===e)}forEach(e,t){for(var[r,i]of(E("forEach",arguments,1),this))e.call(t,i,r,this)}set(...e){E("set",arguments,2);var t=[],r=!0;e=x(...e),this.#l.forEach(i=>{i[0]===e[0]?r&&(r=!t.push(e)):t.push(i)}),r&&t.push(e),this.#l=t}*entries(){yield*this.#l}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};class R extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class A extends R{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}let T=Symbol.toStringTag,P=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[T],O=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[T]),I=e=>"object"==typeof e&&("AbortSignal"===e[T]||"EventTarget"===e[T]),N=(e,t)=>{let r=new URL(t).hostname,i=new URL(e).hostname;return r===i||r.endsWith(`.${i}`)},j=(e,t)=>new URL(t).protocol===new URL(e).protocol,B=l.promisify(s.pipeline),U=Symbol("Body internals");class L{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:P(e)?e=o.Buffer.from(e.toString()):O(e)||o.Buffer.isBuffer(e)||(l.types.isAnyArrayBuffer(e)?e=o.Buffer.from(e):ArrayBuffer.isView(e)?e=o.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof s||(e instanceof C?r=(e=function(e,t=g){var r=`${S()}${S()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],n=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((e,t)=>"string"==typeof e?i.push(n+k(t)+`"\r
\r
${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r
`):i.push(n+k(t)+`"; filename="${k(e.name,1)}"\r
Content-Type: ${e.type||"application/octet-stream"}\r
\r
`,e,"\r\n")),i.push(`--${r}--`),new t(i,{type:"multipart/form-data; boundary="+r})}(e)).type.split("=")[1]:e=o.Buffer.from(String(e))));let i=e;o.Buffer.isBuffer(e)?i=s.Readable.from(e):O(e)&&(i=s.Readable.from(e.stream())),this[U]={body:e,stream:i,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof s&&e.on("error",e=>{let t=e instanceof R?e:new A(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[U].error=t})}get body(){return this[U].stream}get bodyUsed(){return this[U].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await M(this);return e.slice(t,t+r)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let e=new C;for(let[t,r]of new URLSearchParams(await this.text()))e.append(t,r);return e}let{toFormData:t}=await r.e(680).then(r.t.bind(r,10680,19));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[U].body&&this[U].body.type||"";return new g([await this.arrayBuffer()],{type:e})}async json(){return JSON.parse(await this.text())}async text(){let e=await M(this);return new TextDecoder().decode(e)}buffer(){return M(this)}}async function M(e){if(e[U].disturbed)throw TypeError(`body used already for: ${e.url}`);if(e[U].disturbed=!0,e[U].error)throw e[U].error;let{body:t}=e;if(null===t||!(t instanceof s))return o.Buffer.alloc(0);let r=[],i=0;try{for await(let n of t){if(e.size>0&&i+n.length>e.size){let r=new A(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}i+=n.length,r.push(n)}}catch(t){throw t instanceof R?t:new A(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0===t.readableEnded||!0===t._readableState.ended)try{if(r.every(e=>"string"==typeof e))return o.Buffer.from(r.join(""));return o.Buffer.concat(r,i)}catch(t){throw new A(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}else throw new A(`Premature close of server response while trying to fetch ${e.url}`)}L.prototype.buffer=l.deprecate(L.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(L.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:l.deprecate(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});let D=(e,t)=>{let r,i;let{body:n}=e[U];if(e.bodyUsed)throw Error("cannot clone body after it is used");return n instanceof s&&"function"!=typeof n.getBoundary&&(r=new s.PassThrough({highWaterMark:t}),i=new s.PassThrough({highWaterMark:t}),n.pipe(r),n.pipe(i),e[U].stream=r,n=i),n},K=l.deprecate(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),q=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":P(e)?"application/x-www-form-urlencoded;charset=UTF-8":O(e)?e.type||null:o.Buffer.isBuffer(e)||l.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof C?`multipart/form-data; boundary=${t[U].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${K(e)}`:e instanceof s?null:"text/plain;charset=UTF-8",$=e=>{let{body:t}=e[U];return null===t?0:O(t)?t.size:o.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},F=async(e,{body:t})=>{null===t?e.end():await B(t,e)},z="function"==typeof i.validateHeaderName?i.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},V="function"==typeof i.validateHeaderValue?i.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let t=TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class H extends URLSearchParams{constructor(e){let t=[];if(e instanceof H)for(let[r,i]of Object.entries(e.raw()))t.push(...i.map(e=>[r,e]));else if(null==e);else if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");else{let r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw TypeError("Header pairs must be iterable");t=[...e].map(e=>{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw TypeError("Each header pair must be an iterable object");return[...e]}).map(e=>{if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");return[...e]})}}return super(t=t.length>0?t.map(([e,t])=>(z(e),V(e,String(t)),[String(e).toLowerCase(),String(t)])):void 0),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,i)=>(z(r),V(r,String(i)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(i)));case"delete":case"has":case"getAll":return r=>(z(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(let r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let r=this.getAll(t);return"host"===t?e[t]=r[0]:e[t]=r.length>1?r:r[0],e},{})}}Object.defineProperties(H.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));let W=new Set([301,302,303,307,308]),G=e=>W.has(e),J=Symbol("Response internals");class Y extends L{constructor(e=null,t={}){super(e,t);let r=null!=t.status?t.status:200,i=new H(t.headers);if(null!==e&&!i.has("Content-Type")){let t=q(e,this);t&&i.append("Content-Type",t)}this[J]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:i,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[J].type}get url(){return this[J].url||""}get status(){return this[J].status}get ok(){return this[J].status>=200&&this[J].status<300}get redirected(){return this[J].counter>0}get statusText(){return this[J].statusText}get headers(){return this[J].headers}get highWaterMark(){return this[J].highWaterMark}clone(){return new Y(D(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!G(t))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Y(null,{headers:{location:new URL(e).toString()},status:t})}static error(){let e=new Y(null,{status:0,statusText:""});return e[J].type="error",e}static json(e,t={}){let r=JSON.stringify(e);if(void 0===r)throw TypeError("data is not JSON serializable");let i=new H(t&&t.headers);return i.has("content-type")||i.set("content-type","application/json"),new Y(r,{...t,headers:i})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(Y.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});let X=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""};function Q(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}let Z=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function ee(e){return!!(/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||/^(blob|filesystem):$/.test(e.protocol))||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=u.isIP(t);return!!(4===r&&/^127\./.test(t)||6===r&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||!("localhost"===e.host||e.host.endsWith(".localhost"))&&"file:"===e.protocol}(e)}let et=Symbol("Request internals"),er=e=>"object"==typeof e&&"object"==typeof e[et],ei=l.deprecate(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class en extends L{constructor(e,t={}){let r;if(er(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw TypeError(`${r} is an url with embedded credentials.`);let i=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!er(t)&&"data"in t&&ei(),(null!=t.body||er(e)&&null!==e.body)&&("GET"===i||"HEAD"===i))throw TypeError("Request with GET/HEAD method cannot have body");let n=t.body?t.body:er(e)&&null!==e.body?D(e):null;super(n,{size:t.size||e.size||0});let a=new H(t.headers||e.headers||{});if(null!==n&&!a.has("Content-Type")){let e=q(n,this);e&&a.set("Content-Type",e)}let s=er(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&!I(s))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let o=null==t.referrer?e.referrer:t.referrer;if(""===o)o="no-referrer";else if(o){let e=new URL(o);o=/^about:(\/\/)?client$/.test(e)?"client":e}else o=void 0;this[et]={method:i,redirect:t.redirect||e.redirect||"follow",headers:a,parsedURL:r,signal:s,referrer:o},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[et].method}get url(){return c.format(this[et].parsedURL)}get headers(){return this[et].headers}get redirect(){return this[et].redirect}get signal(){return this[et].signal}get referrer(){return"no-referrer"===this[et].referrer?"":"client"===this[et].referrer?"about:client":this[et].referrer?this[et].referrer.toString():void 0}get referrerPolicy(){return this[et].referrerPolicy}set referrerPolicy(e){this[et].referrerPolicy=function(e){if(!Z.has(e))throw TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new en(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(en.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});let ea=e=>{let{parsedURL:t}=e[et],r=new H(e[et].headers);r.has("Accept")||r.set("Accept","*/*");let i=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(i="0"),null!==e.body){let t=$(e);"number"!=typeof t||Number.isNaN(t)||(i=String(t))}i&&r.set("Content-Length",i),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[et].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;let i=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";let n=e.referrer,a=Q(n),s=Q(n,!0);a.toString().length>4096&&(a=s),t&&(a=t(a)),r&&(s=r(s));let o=new URL(e.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return a;case"strict-origin":if(ee(a)&&!ee(o))return"no-referrer";return s.toString();case"strict-origin-when-cross-origin":if(a.origin===o.origin)return a;if(ee(a)&&!ee(o))return"no-referrer";return s;case"same-origin":if(a.origin===o.origin)return a;return"no-referrer";case"origin-when-cross-origin":if(a.origin===o.origin)return a;return s;case"no-referrer-when-downgrade":if(ee(a)&&!ee(o))return"no-referrer";return a;default:throw TypeError(`Invalid referrerPolicy: ${i}`)}}(e):e[et].referrer="no-referrer",e[et].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:n}=e;"function"==typeof n&&(n=n(t)),r.has("Connection")||n||r.set("Connection","close");let a=X(t),s={path:t.pathname+a,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:n};return{parsedURL:t,options:s}};class es extends R{constructor(e,t="aborted"){super(e,t)}}/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */if(!globalThis.DOMException)try{let{MessageChannel:e}=r(71267),t=new e().port1,i=new ArrayBuffer;t.postMessage(i,[i,i])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}var eo=globalThis.DOMException;let el=new Set(["data:","http:","https:"]);async function ec(e,t){return new Promise((r,l)=>{let c=new en(e,t),{parsedURL:u,options:d}=ea(c);if(!el.has(u.protocol))throw TypeError(`node-fetch cannot load ${e}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===u.protocol){let e=function(e){if(!/^data:/i.test(e))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');let t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),i="",n=!1,a=r[0]||"text/plain",s=a;for(let e=1;e<r.length;e++)"base64"===r[e]?n=!0:(s+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(i=r[e].substring(8)));r[0]||i.length||(s+=";charset=US-ASCII",i="US-ASCII");let o=n?"base64":"ascii",l=unescape(e.substring(t+1)),c=Buffer.from(l,o);return c.type=a,c.typeFull=s,c.charset=i,c}(c.url);r(new Y(e,{headers:{"Content-Type":e.typeFull}}));return}let h=("https:"===u.protocol?n:i).request,{signal:p}=c,f=null,m=()=>{let e=new es("The operation was aborted.");l(e),c.body&&c.body instanceof s.Readable&&c.body.destroy(e),f&&f.body&&f.body.emit("error",e)};if(p&&p.aborted){m();return}let g=()=>{m(),v()},y=h(u.toString(),d);p&&p.addEventListener("abort",g);let v=()=>{y.abort(),p&&p.removeEventListener("abort",g)};y.on("error",e=>{l(new A(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),v()}),function(e,t){let r;let i=o.Buffer.from("0\r\n\r\n"),n=!1,a=!1;e.on("response",e=>{let{headers:t}=e;n="chunked"===t["transfer-encoding"]&&!t["content-length"]}),e.on("socket",s=>{let l=()=>{if(n&&!a){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}},c=e=>{(a=0===o.Buffer.compare(e.slice(-5),i))||!r||(a=0===o.Buffer.compare(r.slice(-3),i.slice(0,3))&&0===o.Buffer.compare(e.slice(-2),i.slice(3))),r=e};s.prependListener("close",l),s.on("data",c),e.on("close",()=>{s.removeListener("close",l),s.removeListener("data",c)})})}(y,e=>{f&&f.body&&f.body.destroy(e)}),process.version<"v14"&&y.on("socket",e=>{let t;e.prependListener("end",()=>{t=e._eventsCount}),e.prependListener("close",r=>{if(f&&t<e._eventsCount&&!r){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",e)}})}),y.on("response",e=>{y.setTimeout(0);let i=function(e=[]){return new H(e.reduce((e,t,r,i)=>(r%2==0&&e.push(i.slice(r,r+2)),e),[]).filter(([e,t])=>{try{return z(e),V(e,String(t)),!0}catch{return!1}}))}(e.rawHeaders);if(G(e.statusCode)){let n=i.get("Location"),a=null;try{a=null===n?null:new URL(n,c.url)}catch{if("manual"!==c.redirect){l(new A(`uri requested responds with an invalid redirect URL: ${n}`,"invalid-redirect")),v();return}}switch(c.redirect){case"error":l(new A(`uri requested responds with a redirect, redirect mode is set to error: ${c.url}`,"no-redirect")),v();return;case"manual":break;case"follow":{if(null===a)break;if(c.counter>=c.follow){l(new A(`maximum redirect reached at: ${c.url}`,"max-redirect")),v();return}let n={headers:new H(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:D(c),signal:c.signal,size:c.size,referrer:c.referrer,referrerPolicy:c.referrerPolicy};if(!N(c.url,a)||!j(c.url,a))for(let e of["authorization","www-authenticate","cookie","cookie2"])n.headers.delete(e);if(303!==e.statusCode&&c.body&&t.body instanceof s.Readable){l(new A("Cannot follow redirect with body being a readable stream","unsupported-redirect")),v();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===c.method)&&(n.method="GET",n.body=void 0,n.headers.delete("content-length"));let o=function(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let e of t)e&&Z.has(e)&&(r=e);return r}(i);o&&(n.referrerPolicy=o),r(ec(new en(a,n))),v();return}default:return l(TypeError(`Redirect option '${c.redirect}' is not a valid value of RequestRedirect`))}}p&&e.once("end",()=>{p.removeEventListener("abort",g)});let n=s.pipeline(e,new s.PassThrough,e=>{e&&l(e)});process.version<"v12.10"&&e.on("aborted",g);let o={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:i,size:c.size,counter:c.counter,highWaterMark:c.highWaterMark},u=i.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===u||204===e.statusCode||304===e.statusCode){r(f=new Y(n,o));return}let d={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"===u||"x-gzip"===u){r(f=new Y(n=s.pipeline(n,a.createGunzip(d),e=>{e&&l(e)}),o));return}if("deflate"===u||"x-deflate"===u){let t=s.pipeline(e,new s.PassThrough,e=>{e&&l(e)});t.once("data",e=>{r(f=new Y(n=(15&e[0])==8?s.pipeline(n,a.createInflate(),e=>{e&&l(e)}):s.pipeline(n,a.createInflateRaw(),e=>{e&&l(e)}),o))}),t.once("end",()=>{f||r(f=new Y(n,o))});return}if("br"===u){r(f=new Y(n=s.pipeline(n,a.createBrotliDecompress(),e=>{e&&l(e)}),o));return}r(f=new Y(n,o))}),F(y,c).catch(l)})}/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */let eu=new WeakMap,ed=new WeakMap;function eh(e){let t=eu.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function ep(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function ef(e,t){eu.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let e=0;e<r.length;++e){let t=r[e];t in this||Object.defineProperty(this,t,em(t))}}function em(e){return{get(){return eh(this).event[e]},set(t){eh(this).event[e]=t},configurable:!0,enumerable:!0}}function eg(e,t){eh(e).passiveListener=t}ef.prototype={get type(){return eh(this).event.type},get target(){return eh(this).eventTarget},get currentTarget(){return eh(this).currentTarget},composedPath(){let e=eh(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return eh(this).eventPhase},stopPropagation(){let e=eh(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=eh(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!eh(this).event.bubbles},get cancelable(){return!!eh(this).event.cancelable},preventDefault(){ep(eh(this))},get defaultPrevented(){return eh(this).canceled},get composed(){return!!eh(this).event.composed},get timeStamp(){return eh(this).timeStamp},get srcElement(){return eh(this).eventTarget},get cancelBubble(){return eh(this).stopped},set cancelBubble(value){if(!value)return;let e=eh(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!eh(this).canceled},set returnValue(value){value||ep(eh(this))},initEvent(){}},Object.defineProperty(ef.prototype,"constructor",{value:ef,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(ef.prototype,window.Event.prototype),ed.set(window.Event.prototype,ef));let ey=new WeakMap;function ev(e){return null!==e&&"object"==typeof e}function eb(e){let t=ey.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function ew(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=eb(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||ev(e)||(e=null);let r=eb(this),i=null,n=r.get(t);for(;null!=n;)3===n.listenerType?null!==i?i.next=n.next:null!==n.next?r.set(t,n.next):r.delete(t):i=n,n=n.next;if(null!==e){let n={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===i?r.set(t,n):i.next=n}},configurable:!0,enumerable:!0})}function eS(e){function t(){e_.call(this)}t.prototype=Object.create(e_.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)ew(t.prototype,e[r]);return t}function e_(){if(this instanceof e_){ey.set(this,new Map);return}if(1==arguments.length&&Array.isArray(arguments[0]))return eS(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return eS(e)}throw TypeError("Cannot call a class as a function")}e_.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!ev(t))throw TypeError("'listener' should be a function or an object.");let i=eb(this),n=ev(r),a=(n?r.capture:r)?1:2,s={listener:t,listenerType:a,passive:n&&!!r.passive,once:n&&!!r.once,next:null},o=i.get(e);if(void 0===o){i.set(e,s);return}let l=null;for(;null!=o;){if(o.listener===t&&o.listenerType===a)return;l=o,o=o.next}l.next=s},removeEventListener(e,t,r){if(null==t)return;let i=eb(this),n=(ev(r)?r.capture:r)?1:2,a=null,s=i.get(e);for(;null!=s;){if(s.listener===t&&s.listenerType===n){null!==a?a.next=s.next:null!==s.next?i.set(e,s.next):i.delete(e);return}a=s,s=s.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=eb(this),r=e.type,i=t.get(r);if(null==i)return!0;let n=new(function e(t){if(null==t||t===Object.prototype)return ef;let r=ed.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function i(t,r){e.call(this,t,r)}i.prototype=Object.create(e.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){let a=r[n];if(!(a in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,a).value;Object.defineProperty(i.prototype,a,e?function(e){return{value(){let t=eh(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(a):em(a))}}return i}(e(Object.getPrototypeOf(t)),t),ed.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),a=null;for(;null!=i;){if(i.once?null!==a?a.next=i.next:null!==i.next?t.set(r,i.next):t.delete(r):a=i,eg(n,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,n)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==i.listenerType&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(n);if(eh(n).immediateStopped)break;i=i.next}return eg(n,null),eh(n).eventPhase=0,eh(n).currentTarget=null,!n.defaultPrevented}},Object.defineProperty(e_.prototype,"constructor",{value:e_,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(e_.prototype,window.EventTarget.prototype);class ex extends e_{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=ek.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}ew(ex.prototype,"abort");let ek=new WeakMap;Object.defineProperties(ex.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ex.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class eE{constructor(){eC.set(this,function(){let e=Object.create(ex.prototype);return e_.call(e),ek.set(e,!1),e}())}get signal(){return eR(this)}abort(){var e;e=eR(this),!1===ek.get(e)&&(ek.set(e,!0),e.dispatchEvent({type:"abort"}))}}let eC=new WeakMap;function eR(e){let t=eC.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(eE.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(eE.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=eE,t.AbortError=es,t.FetchError=A,t.File=y,t.FormData=C,t.Headers=H,t.Request=en,t.Response=Y,t._Blob=g,t.fetch=ec,t.isRedirect=G,t.nodeDomexception=eo},4716:(e,t,r)=>{let i=r(52054);function n(e,t){return i.fetch(e,t)}for(let e in i)n[e]=i[e];e.exports=n},41434:(e,t,r)=>{let i=r(2218);function n(e,t){return i.fetch(e,t)}for(let e in i)n[e]=i[e];e.exports=n},69996:(e,t,r)=>{"use strict";function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}r.r(t),r.d(t,{_:()=>i,_class_private_field_loose_base:()=>i})},67074:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_:()=>n,_class_private_field_loose_key:()=>n});var i=0;function n(e){return"__private_"+i+++"_"+e}},39694:(e,t,r)=>{"use strict";function i(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>i,_interop_require_default:()=>i})},80056:(e,t,r)=>{"use strict";function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}r.r(t),r.d(t,{_:()=>n,_interop_require_wildcard:()=>n})},56815:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=function(){for(var e,t,r=0,i="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,i,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(i=e(t[r]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i)}return n}(e))&&(i&&(i+=" "),i+=t);return i}},90132:(e,t,r)=>{"use strict";let i,n;r.d(t,{x0:()=>s});var a=r(6005);function s(e=21){var t;t=e-=0,!i||i.length<t?(i=Buffer.allocUnsafe(128*t),a.webcrypto.getRandomValues(i),n=0):n+t>i.length&&(a.webcrypto.getRandomValues(i),n=0),n+=t;let r="";for(let t=n-e;t<n;t++)r+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&i[t]];return r}},35813:(e,t,r)=>{"use strict";r.d(t,{callWithRetry:()=>i.callWithRetry});var i=r(35831);r(18225)},35831:(e,t,r)=>{"use strict";async function i(e,t=1,r=5){try{return await e()}catch(a){var n;if(t>=r)throw a;return await (n=2**t*100,new Promise(e=>setTimeout(e,n))),i(e,t+1,r)}}r.d(t,{callWithRetry:()=>i})},62405:(e,t,r)=>{"use strict";r.d(t,{ClerkAPIResponseError:()=>a,buildErrorThrower:()=>o});var i=r(24139);function n(e){var t,r,i,n,a;return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:null==(t=null==e?void 0:e.meta)?void 0:t.param_name,sessionId:null==(r=null==e?void 0:e.meta)?void 0:r.session_id,emailAddresses:null==(i=null==e?void 0:e.meta)?void 0:i.email_addresses,identifiers:null==(n=null==e?void 0:e.meta)?void 0:n.identifiers,zxcvbn:null==(a=null==e?void 0:e.meta)?void 0:a.zxcvbn}}}var a=class e extends Error{constructor(t,{data:r,status:i,clerkTraceId:a}){super(t),this.toString=()=>{let e=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(e=>JSON.stringify(e))}`;return this.clerkTraceId&&(e+=`
Clerk Trace ID: ${this.clerkTraceId}`),e},Object.setPrototypeOf(this,e.prototype),this.status=i,this.message=t,this.clerkTraceId=a,this.clerkError=!0,this.errors=function(e=[]){return e.length>0?e.map(n):[]}(r)}};new Proxy({Expired:"expired",Failed:"failed"},{get:(e,t,r)=>((0,i.deprecated)("MagicLinkErrorCode","Use `EmailLinkErrorCode` instead."),Reflect.get(e,t,r))});var s=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."});function o({packageName:e,customMessages:t}){let r=e,i={...s,...t};function n(e,t){if(!t)return`${r}: ${e}`;let i=e;for(let r of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[r[1]]||"").toString();i=i.replace(`{{${r[1]}}}`,e)}return`${r}: ${i}`}return{setPackageName({packageName:e}){return"string"==typeof e&&(r=e),this},setMessages({customMessages:e}){return Object.assign(i,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(n(i.InvalidPublishableKeyErrorMessage,e))},throwInvalidFrontendApiError(e){throw Error(n(i.InvalidFrontendApiErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(n(i.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(n(i.MissingPublishableKeyErrorMessage))}}}},90646:(e,t,r)=>{"use strict";r.d(t,{createDevOrStagingUrlCache:()=>s,isDevelopmentFromApiKey:()=>o,isProductionFromApiKey:()=>l,parsePublishableKey:()=>a});var i=r(15989),n="pk_live_";function a(e){if(!function(e){let t=(e=e||"").startsWith(n)||e.startsWith("pk_test_"),r=(0,i.isomorphicAtob)(e.split("_")[2]||"").endsWith("$");return t&&r}(e=e||""))return null;let t=e.startsWith(n)?"production":"development",r=(0,i.isomorphicAtob)(e.split("_")[2]);return r.endsWith("$")?{instanceType:t,frontendApi:r=r.slice(0,-1)}:null}function s(){let e=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],t=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;let i="string"==typeof r?r:r.hostname,n=t.get(i);return void 0===n&&(n=e.some(e=>i.endsWith(e)),t.set(i,n)),n}}}function o(e){return e.startsWith("test_")||e.startsWith("sk_test_")}function l(e){return e.startsWith("live_")||e.startsWith("sk_live_")}},24139:(e,t,r)=>{"use strict";r.d(t,{deprecated:()=>s,deprecatedObjectProperty:()=>l,deprecatedProperty:()=>o});var i=()=>!1,n=()=>{try{return!0}catch(e){}return!1},a=new Set,s=(e,t,r)=>{let s=i()||n(),o=null!=r?r:e;a.has(o)||s||(a.add(o),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},o=(e,t,r,i=!1)=>{let n=i?e:e.prototype,a=n[t];Object.defineProperty(n,t,{get:()=>(s(t,r,`${e.name}:${t}`),a),set(e){a=e}})},l=(e,t,r,i)=>{let n=e[t];Object.defineProperty(e,t,{get:()=>(s(t,r,i),n),set(e){n=e}})}},94127:(e,t,r)=>{"use strict";r.d(t,{Mr:()=>o,x6:()=>l,x9:()=>s});var i=()=>!1,n=()=>{try{return!0}catch(e){}return!1},a=new Set,s=(e,t,r)=>{let s=i()||n(),o=null!=r?r:e;a.has(o)||s||(a.add(o),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},o=(e,t,r,i=!1)=>{let n=i?e:e.prototype,a=n[t];Object.defineProperty(n,t,{get:()=>(s(t,r,`${e.name}:${t}`),a),set(e){a=e}})},l=(e,t,r,i)=>{let n=e[t];Object.defineProperty(e,t,{get:()=>(s(t,r,i),n),set(e){n=e}})}},18225:(e,t,r)=>{"use strict";Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.prototype.hasOwnProperty},9124:(e,t,r)=>{"use strict";Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.prototype.hasOwnProperty},15989:(e,t,r)=>{"use strict";r.d(t,{isomorphicAtob:()=>i});var i=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e},7436:(e,t,r)=>{"use strict";function i(e){let t;if(!e)return"";if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}let r=e.replace(t,"");return`clerk.${r}`}r.d(t,{addClerkPrefix:()=>i,getClerkJsMajorVersionOrTag:()=>n,getScriptUrl:()=>a});var n=(e,t)=>!t&&function(e){return e.endsWith(".lclstage.dev")||e.endsWith(".stgstage.dev")||e.endsWith(".clerkstage.dev")||e.endsWith(".accountsstage.dev")}(e)?"canary":t&&t.split(".")[0]||"latest",a=(e,{pkgVersion:t="4.71.2",clerkJSVersion:r})=>{let i=e.replace(/http(s)?:\/\//,""),a=n(e,t);return`https://${i}/npm/@clerk/clerk-js@${r||a}/dist/clerk.browser.js`}},27922:(e,t,r)=>{"use strict";r.d(t,{deprecated:()=>i.deprecated,deprecatedObjectProperty:()=>i.deprecatedObjectProperty,deprecatedProperty:()=>i.deprecatedProperty});var i=r(24139);r(18225)},83614:(e,t,r)=>{"use strict";r.d(t,{Mr:()=>i.Mr,x6:()=>i.x6,x9:()=>i.x9});var i=r(94127);r(9124)},96540:(e,t,r)=>{"use strict";r.d(t,{ClerkAPIResponseError:()=>i.ClerkAPIResponseError,buildErrorThrower:()=>i.buildErrorThrower});var i=r(62405);r(24139),r(18225)},2933:(e,t,r)=>{"use strict";r(18225)},92305:(e,t,r)=>{"use strict";r.d(t,{isomorphicAtob:()=>i.isomorphicAtob});var i=r(15989);r(18225)},83228:(e,t,r)=>{"use strict";r.d(t,{createDevOrStagingUrlCache:()=>i.createDevOrStagingUrlCache,isDevelopmentFromApiKey:()=>i.isDevelopmentFromApiKey,isProductionFromApiKey:()=>i.isProductionFromApiKey,parsePublishableKey:()=>i.parsePublishableKey});var i=r(90646);r(18225)},43389:(e,t,r)=>{"use strict";r(24139),r(18225)},36977:(e,t,r)=>{"use strict";r.d(t,{addClerkPrefix:()=>i.addClerkPrefix,getClerkJsMajorVersionOrTag:()=>i.getClerkJsMajorVersionOrTag,getScriptUrl:()=>i.getScriptUrl});var i=r(7436);r(18225)},67280:(e,t,r)=>{"use strict";function i(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>i,_interop_require_default:()=>i})},46783:(e,t,r)=>{"use strict";function i(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>i,_interop_require_default:()=>i})},32771:(e,t,r)=>{"use strict";function i(e,t,r,i){var n,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,r,s):n(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}r.d(t,{__decorate:()=>i}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},40572:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},5594:e=>{"use strict";e.exports={version:"14.1.2"}}};